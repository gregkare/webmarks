function createDeprecatedModule(t){define(t,["exports","ember-resolver/resolver","ember"],function(e,n,i){i.default.deprecate("Usage of `"+t+"` module is deprecated, please update to `ember-resolver`.",!1,{id:"ember-resolver.legacy-shims",until:"3.0.0"}),e.default=n.default})}window.EmberENV={FEATURES:{},EXTEND_PROTOTYPES:{Date:!1}};var runningTests=!1,loader,define,requireModule,require,requirejs;!function(t){"use strict";function e(){var t=Object.create(null);return t.__=void 0,delete t.__,t}function n(t){throw new Error("an unsupported module was defined, expected `define(id, deps, module)` instead got: `"+t+"` arguments to define`")}function i(t,e,n,i){this.uuid=B++,this.id=t,this.deps=!e.length&&n.length?I:e,this.module={exports:{}},this.callback=n,this.hasExportsAsDep=!1,this.isAlias=i,this.reified=new Array(e.length),this.state="new"}function r(){}function s(t){this.id=t}function o(t,e){throw new Error("Could not find module `"+t+"` imported from `"+e+"`")}function a(t,e,n){for(var i=u[t]||u[t+"/index"];i&&i.isAlias;)i=u[i.id];return i||o(t,e),n&&"pending"!==i.state&&"finalized"!==i.state&&(i.findDeps(n),n.push(i)),i}function l(t,e){if("."!==t.charAt(0))return t;for(var n=t.split("/"),i=e.split("/"),r=i.slice(0,-1),s=0,o=n.length;s<o;s++){var a=n[s];if(".."===a){if(0===r.length)throw new Error("Cannot access parent module of root");r.pop()}else{if("."===a)continue;r.push(a)}}return r.join("/")}function c(t){return!(!u[t]&&!u[t+"/index"])}var g={loader:loader,define:define,requireModule:requireModule,require:require,requirejs:requirejs};requirejs=require=requireModule=function(t){for(var e=[],n=a(t,"(require)",e),i=e.length-1;i>=0;i--)e[i].exports();return n.module.exports},loader={noConflict:function(e){var n,i;for(n in e)e.hasOwnProperty(n)&&g.hasOwnProperty(n)&&(i=e[n],t[i]=t[n],t[n]=g[n])},makeDefaultExport:!0};var u=e(),Q=e(),B=0,I=["require","exports","module"];i.prototype.makeDefaultExport=function(){var t=this.module.exports;null===t||"object"!=typeof t&&"function"!=typeof t||void 0!==t.default||!Object.isExtensible(t)||(t.default=t)},i.prototype.exports=function(){if("finalized"===this.state||"reifying"===this.state)return this.module.exports;loader.wrapModules&&(this.callback=loader.wrapModules(this.id,this.callback)),this.reify();var t=this.callback.apply(this,this.reified);return this.reified.length=0,this.state="finalized",this.hasExportsAsDep&&void 0===t||(this.module.exports=t),loader.makeDefaultExport&&this.makeDefaultExport(),this.module.exports},i.prototype.unsee=function(){this.state="new",this.module={exports:{}}},i.prototype.reify=function(){if("reified"!==this.state){this.state="reifying";try{this.reified=this._reify(),this.state="reified"}finally{"reifying"===this.state&&(this.state="errored")}}},i.prototype._reify=function(){for(var t=this.reified.slice(),e=0;e<t.length;e++){var n=t[e];t[e]=n.exports?n.exports:n.module.exports()}return t},i.prototype.findDeps=function(t){if("new"===this.state){this.state="pending";for(var e=this.deps,n=0;n<e.length;n++){var i=e[n],r=this.reified[n]={exports:void 0,module:void 0};"exports"===i?(this.hasExportsAsDep=!0,r.exports=this.module.exports):"require"===i?r.exports=this.makeRequire():"module"===i?r.exports=this.module:r.module=a(l(i,this.id),this.id,t)}}},i.prototype.makeRequire=function(){var t=this.id,e=function(e){return require(l(e,t))};return e.default=e,e.moduleId=t,e.has=function(e){return c(l(e,t))},e},define=function(t,e,r){var o=u[t];o&&"new"!==o.state||(arguments.length<2&&n(arguments.length),Array.isArray(e)||(r=e,e=[]),u[t]=r instanceof s?new i(r.id,e,r,!0):new i(t,e,r,!1))},define.exports=function(t,e){var n=u[t];if(!n||"new"===n.state)return n=new i(t,[],r,null),n.module.exports=e,n.state="finalized",u[t]=n,n},define.alias=function(t,e){return 2===arguments.length?define(e,new s(t)):new s(t)},requirejs.entries=requirejs._eak_seen=u,requirejs.has=c,requirejs.unsee=function(t){a(t,"(unsee)",!1).unsee()},requirejs.clear=function(){requirejs.entries=requirejs._eak_seen=u=e(),Q=e()},define("foo",function(){}),define("foo/bar",[],function(){}),define("foo/asdf",["module","exports","require"],function(t,e,n){n.has("foo/bar")&&n("foo/bar")}),define("foo/baz",[],define.alias("foo")),define("foo/quz",define.alias("foo")),define.alias("foo","foo/qux"),define("foo/bar",["foo","./quz","./baz","./asdf","./bar","../foo"],function(){}),define("foo/main",["foo/bar"],function(){}),define.exports("foo/exports",{}),require("foo/exports"),require("foo/main"),require.unsee("foo/bar"),requirejs.clear(),"object"==typeof exports&&"object"==typeof module&&module.exports&&(module.exports={require:require,define:define})}(this),function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";function n(t,e){e=e||et;var n=e.createElement("script");n.text=t,e.head.appendChild(n).parentNode.removeChild(n)}function i(t){var e=!!t&&"length"in t&&t.length,n=Bt.type(t);return"function"!==n&&!Bt.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function r(t,e,n){return Bt.isFunction(e)?Bt.grep(t,function(t,i){return!!e.call(t,i,t)!==n}):e.nodeType?Bt.grep(t,function(t){return t===e!==n}):"string"!=typeof e?Bt.grep(t,function(t){return ot.call(e,t)>-1!==n}):At.test(e)?Bt.filter(e,t,n):(e=Bt.filter(e,t),Bt.grep(t,function(t){return ot.call(e,t)>-1!==n&&1===t.nodeType}))}function s(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e={};return Bt.each(t.match(Vt)||[],function(t,n){e[n]=!0}),e}function a(t){return t}function l(t){throw t}function c(t,e,n){var i;try{t&&Bt.isFunction(i=t.promise)?i.call(t).done(e).fail(n):t&&Bt.isFunction(i=t.then)?i.call(t,e,n):e.call(void 0,t)}catch(t){n.call(void 0,t)}}function g(){et.removeEventListener("DOMContentLoaded",g),t.removeEventListener("load",g),Bt.ready()}function u(){this.expando=Bt.expando+u.uid++}function Q(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:St.test(t)?JSON.parse(t):t)}function B(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(Wt,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=Q(n)}catch(t){}vt.set(t,e,n)}else n=void 0;return n}function I(t,e,n,i){var r,s=1,o=20,a=i?function(){return i.cur()}:function(){return Bt.css(t,e,"")},l=a(),c=n&&n[3]||(Bt.cssNumber[e]?"":"px"),g=(Bt.cssNumber[e]||"px"!==c&&+l)&&Jt.exec(Bt.css(t,e));if(g&&g[3]!==c){c=c||g[3],n=n||[],g=+l||1;do{s=s||".5",g/=s,Bt.style(t,e,g+c)}while(s!==(s=a()/l)&&1!==s&&--o)}return n&&(g=+g||+l||0,r=n[1]?g+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=g,i.end=r)),r}function d(t){var e,n=t.ownerDocument,i=t.nodeName,r=Tt[i];return r||(e=n.body.appendChild(n.createElement(i)),r=Bt.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),Tt[i]=r,r)}function F(t,e){for(var n,i,r=[],s=0,o=t.length;s<o;s++)i=t[s],i.style&&(n=i.style.display,e?("none"===n&&(r[s]=Et.get(i,"display")||null,r[s]||(i.style.display="")),""===i.style.display&&Ht(i)&&(r[s]=d(i))):"none"!==n&&(r[s]="none",Et.set(i,"display",n)));for(s=0;s<o;s++)null!=r[s]&&(t[s].style.display=r[s]);return t}function C(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&Bt.nodeName(t,e)?Bt.merge([t],n):n}function U(t,e){for(var n=0,i=t.length;n<i;n++)Et.set(t[n],"globalEval",!e||Et.get(e[n],"globalEval"))}function h(t,e,n,i,r){for(var s,o,a,l,c,g,u=e.createDocumentFragment(),Q=[],B=0,I=t.length;B<I;B++)if((s=t[B])||0===s)if("object"===Bt.type(s))Bt.merge(Q,s.nodeType?[s]:s);else if(Mt.test(s)){for(o=o||u.appendChild(e.createElement("div")),a=(wt.exec(s)||["",""])[1].toLowerCase(),l=zt[a]||zt._default,o.innerHTML=l[1]+Bt.htmlPrefilter(s)+l[2],g=l[0];g--;)o=o.lastChild;Bt.merge(Q,o.childNodes),o=u.firstChild,o.textContent=""}else Q.push(e.createTextNode(s));for(u.textContent="",B=0;s=Q[B++];)if(i&&Bt.inArray(s,i)>-1)r&&r.push(s);else if(c=Bt.contains(s.ownerDocument,s),o=C(u.appendChild(s),"script"),c&&U(o),n)for(g=0;s=o[g++];)Ot.test(s.type||"")&&n.push(s);return u}function m(){return!0}function b(){return!1}function p(){try{return et.activeElement}catch(t){}}function A(t,e,n,i,r,s){var o,a;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=void 0);for(a in e)A(t,a,n,i,e[a],s);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=b;else if(!r)return t;return 1===s&&(o=r,r=function(t){return Bt().off(t),o.apply(this,arguments)},r.guid=o.guid||(o.guid=Bt.guid++)),t.each(function(){Bt.event.add(this,e,r,i,n)})}function y(t,e){return Bt.nodeName(t,"table")&&Bt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t:t}function f(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function G(t){var e=ee.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function x(t,e){var n,i,r,s,o,a,l,c;if(1===e.nodeType){if(Et.hasData(t)&&(s=Et.access(t),o=Et.set(e,s),c=s.events)){delete o.handle,o.events={};for(r in c)for(n=0,i=c[r].length;n<i;n++)Bt.event.add(e,r,c[r][n])}vt.hasData(t)&&(a=vt.access(t),l=Bt.extend({},a),vt.set(e,l))}}function V(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Dt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function Z(t,e,i,r){e=rt.apply([],e);var s,o,a,l,c,g,u=0,Q=t.length,B=Q-1,I=e[0],d=Bt.isFunction(I);if(d||Q>1&&"string"==typeof I&&!Qt.checkClone&&te.test(I))return t.each(function(n){var s=t.eq(n);d&&(e[0]=I.call(this,n,s.html())),Z(s,e,i,r)});if(Q&&(s=h(e,t[0].ownerDocument,!1,t,r),o=s.firstChild,1===s.childNodes.length&&(s=o),o||r)){for(a=Bt.map(C(s,"script"),f),l=a.length;u<Q;u++)c=s,u!==B&&(c=Bt.clone(c,!0,!0),l&&Bt.merge(a,C(c,"script"))),i.call(t[u],c,u);if(l)for(g=a[a.length-1].ownerDocument,Bt.map(a,G),u=0;u<l;u++)c=a[u],Ot.test(c.type||"")&&!Et.access(c,"globalEval")&&Bt.contains(g,c)&&(c.src?Bt._evalUrl&&Bt._evalUrl(c.src):n(c.textContent.replace(ne,""),g))}return t}function R(t,e,n){for(var i,r=e?Bt.filter(e,t):t,s=0;null!=(i=r[s]);s++)n||1!==i.nodeType||Bt.cleanData(C(i)),i.parentNode&&(n&&Bt.contains(i.ownerDocument,i)&&U(C(i,"script")),i.parentNode.removeChild(i));return t}function X(t,e,n){var i,r,s,o,a=t.style;return n=n||se(t),n&&(o=n.getPropertyValue(e)||n[e],""!==o||Bt.contains(t.ownerDocument,t)||(o=Bt.style(t,e)),!Qt.pixelMarginRight()&&re.test(o)&&ie.test(e)&&(i=a.width,r=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=n.width,a.width=i,a.minWidth=r,a.maxWidth=s)),void 0!==o?o+"":o}function L(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function E(t){if(t in ge)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=ce.length;n--;)if((t=ce[n]+e)in ge)return t}function v(t,e,n){var i=Jt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function S(t,e,n,i,r){var s,o=0;for(s=n===(i?"border":"content")?4:"width"===e?1:0;s<4;s+=2)"margin"===n&&(o+=Bt.css(t,n+Yt[s],!0,r)),i?("content"===n&&(o-=Bt.css(t,"padding"+Yt[s],!0,r)),"margin"!==n&&(o-=Bt.css(t,"border"+Yt[s]+"Width",!0,r))):(o+=Bt.css(t,"padding"+Yt[s],!0,r),"padding"!==n&&(o+=Bt.css(t,"border"+Yt[s]+"Width",!0,r)));return o}function W(t,e,n){var i,r=!0,s=se(t),o="border-box"===Bt.css(t,"boxSizing",!1,s);if(t.getClientRects().length&&(i=t.getBoundingClientRect()[e]),i<=0||null==i){if(i=X(t,e,s),(i<0||null==i)&&(i=t.style[e]),re.test(i))return i;r=o&&(Qt.boxSizingReliable()||i===t.style[e]),i=parseFloat(i)||0}return i+S(t,e,n||(o?"border":"content"),r,s)+"px"}function N(t,e,n,i,r){return new N.prototype.init(t,e,n,i,r)}function J(){Qe&&(t.requestAnimationFrame(J),Bt.fx.tick())}function Y(){return t.setTimeout(function(){ue=void 0}),ue=Bt.now()}function H(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)n=Yt[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function k(t,e,n){for(var i,r=(w.tweeners[e]||[]).concat(w.tweeners["*"]),s=0,o=r.length;s<o;s++)if(i=r[s].call(n,e,t))return i}function T(t,e,n){var i,r,s,o,a,l,c,g,u="width"in e||"height"in e,Q=this,B={},I=t.style,d=t.nodeType&&Ht(t),C=Et.get(t,"fxshow");n.queue||(o=Bt._queueHooks(t,"fx"),null==o.unqueued&&(o.unqueued=0,a=o.empty.fire,o.empty.fire=function(){o.unqueued||a()}),o.unqueued++,Q.always(function(){Q.always(function(){o.unqueued--,Bt.queue(t,"fx").length||o.empty.fire()})}));for(i in e)if(r=e[i],Be.test(r)){if(delete e[i],s=s||"toggle"===r,r===(d?"hide":"show")){if("show"!==r||!C||void 0===C[i])continue;d=!0}B[i]=C&&C[i]||Bt.style(t,i)}if((l=!Bt.isEmptyObject(e))||!Bt.isEmptyObject(B)){u&&1===t.nodeType&&(n.overflow=[I.overflow,I.overflowX,I.overflowY],c=C&&C.display,null==c&&(c=Et.get(t,"display")),g=Bt.css(t,"display"),"none"===g&&(c?g=c:(F([t],!0),c=t.style.display||c,g=Bt.css(t,"display"),F([t]))),("inline"===g||"inline-block"===g&&null!=c)&&"none"===Bt.css(t,"float")&&(l||(Q.done(function(){I.display=c}),null==c&&(g=I.display,c="none"===g?"":g)),I.display="inline-block")),n.overflow&&(I.overflow="hidden",Q.always(function(){I.overflow=n.overflow[0],I.overflowX=n.overflow[1],I.overflowY=n.overflow[2]})),l=!1;for(i in B)l||(C?"hidden"in C&&(d=C.hidden):C=Et.access(t,"fxshow",{display:c}),s&&(C.hidden=!d),d&&F([t],!0),Q.done(function(){d||F([t]),Et.remove(t,"fxshow");for(i in B)Bt.style(t,i,B[i])})),l=k(d?C[i]:0,i,Q),i in C||(C[i]=l.start,d&&(l.end=l.start,l.start=0))}}function D(t,e){var n,i,r,s,o;for(n in t)if(i=Bt.camelCase(n),r=e[i],s=t[n],Bt.isArray(s)&&(r=s[1],s=t[n]=s[0]),n!==i&&(t[i]=s,delete t[n]),(o=Bt.cssHooks[i])&&"expand"in o){s=o.expand(s),delete t[i];for(n in s)n in t||(t[n]=s[n],e[n]=r)}else e[i]=r}function w(t,e,n){var i,r,s=0,o=w.prefilters.length,a=Bt.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=ue||Y(),n=Math.max(0,c.startTime+c.duration-e),i=n/c.duration||0,s=1-i,o=0,l=c.tweens.length;o<l;o++)c.tweens[o].run(s);return a.notifyWith(t,[c,s,n]),s<1&&l?n:(a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:Bt.extend({},e),opts:Bt.extend(!0,{specialEasing:{},easing:Bt.easing._default},n),originalProperties:e,originalOptions:n,startTime:ue||Y(),duration:n.duration,tweens:[],createTween:function(e,n){var i=Bt.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return e?(a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c,e])):a.rejectWith(t,[c,e]),this}}),g=c.props;for(D(g,c.opts.specialEasing);s<o;s++)if(i=w.prefilters[s].call(c,t,g,c.opts))return Bt.isFunction(i.stop)&&(Bt._queueHooks(c.elem,c.opts.queue).stop=Bt.proxy(i.stop,i)),i;return Bt.map(g,k,c),Bt.isFunction(c.opts.start)&&c.opts.start.call(t,c),Bt.fx.timer(Bt.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function O(t){return(t.match(Vt)||[]).join(" ")}function z(t){return t.getAttribute&&t.getAttribute("class")||""}function M(t,e,n,i){var r;if(Bt.isArray(e))Bt.each(e,function(e,r){n||ye.test(t)?i(t,r):M(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==Bt.type(e))i(t,e);else for(r in e)M(t+"["+r+"]",e[r],n,i)}function j(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,s=e.toLowerCase().match(Vt)||[];if(Bt.isFunction(n))for(;i=s[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function P(t,e,n,i){function r(a){var l;return s[a]=!0,Bt.each(t[a]||[],function(t,a){var c=a(e,n,i);return"string"!=typeof c||o||s[c]?o?!(l=c):void 0:(e.dataTypes.unshift(c),r(c),!1)}),l}var s={},o=t===We;return r(e.dataTypes[0])||!s["*"]&&r("*")}function K(t,e){var n,i,r=Bt.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&Bt.extend(!0,t,i),t}function _(t,e,n){for(var i,r,s,o,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)s=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){s=r;break}o||(o=r)}s=s||o}if(s)return s!==l[0]&&l.unshift(s),n[s]}function q(t,e,n,i){var r,s,o,a,l,c={},g=t.dataTypes.slice();if(g[1])for(o in t.converters)c[o.toLowerCase()]=t.converters[o];for(s=g.shift();s;)if(t.responseFields[s]&&(n[t.responseFields[s]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=s,s=g.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(!(o=c[l+" "+s]||c["* "+s]))for(r in c)if(a=r.split(" "),a[1]===s&&(o=c[l+" "+a[0]]||c["* "+a[0]])){!0===o?o=c[r]:!0!==c[r]&&(s=a[0],g.unshift(a[1]));break}if(!0!==o)if(o&&t.throws)e=o(e);else try{e=o(e)}catch(t){return{state:"parsererror",error:o?t:"No conversion from "+l+" to "+s}}}return{state:"success",data:e}}function $(t){return Bt.isWindow(t)?t:9===t.nodeType&&t.defaultView}var tt=[],et=t.document,nt=Object.getPrototypeOf,it=tt.slice,rt=tt.concat,st=tt.push,ot=tt.indexOf,at={},lt=at.toString,ct=at.hasOwnProperty,gt=ct.toString,ut=gt.call(Object),Qt={},Bt=function(t,e){return new Bt.fn.init(t,e)},It=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,dt=/^-ms-/,Ft=/-([a-z])/g,Ct=function(t,e){return e.toUpperCase()};Bt.fn=Bt.prototype={jquery:"3.1.1",constructor:Bt,length:0,toArray:function(){return it.call(this)},get:function(t){return null==t?it.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=Bt.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return Bt.each(this,t)},map:function(t){return this.pushStack(Bt.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(it.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:st,sort:tt.sort,splice:tt.splice},Bt.extend=Bt.fn.extend=function(){var t,e,n,i,r,s,o=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[a]||{},a++),"object"==typeof o||Bt.isFunction(o)||(o={}),a===l&&(o=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)n=o[e],i=t[e],o!==i&&(c&&i&&(Bt.isPlainObject(i)||(r=Bt.isArray(i)))?(r?(r=!1,s=n&&Bt.isArray(n)?n:[]):s=n&&Bt.isPlainObject(n)?n:{},o[e]=Bt.extend(c,s,i)):void 0!==i&&(o[e]=i));return o},Bt.extend({expando:"jQuery"+("3.1.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===Bt.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=Bt.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==lt.call(t))&&(!(e=nt(t))||"function"==typeof(n=ct.call(e,"constructor")&&e.constructor)&&gt.call(n)===ut)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?at[lt.call(t)]||"object":typeof t},globalEval:function(t){n(t)},camelCase:function(t){return t.replace(dt,"ms-").replace(Ft,Ct)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,r=0;if(i(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},trim:function(t){return null==t?"":(t+"").replace(It,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?Bt.merge(n,"string"==typeof t?[t]:t):st.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:ot.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,s=t.length,o=!n;r<s;r++)!e(t[r],r)!==o&&i.push(t[r]);return i},map:function(t,e,n){var r,s,o=0,a=[];if(i(t))for(r=t.length;o<r;o++)null!=(s=e(t[o],o,n))&&a.push(s);else for(o in t)null!=(s=e(t[o],o,n))&&a.push(s);return rt.apply([],a)},guid:1,proxy:function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),Bt.isFunction(t))return i=it.call(arguments,2),r=function(){return t.apply(e||this,i.concat(it.call(arguments)))},r.guid=t.guid=t.guid||Bt.guid++,r},now:Date.now,support:Qt}),"function"==typeof Symbol&&(Bt.fn[Symbol.iterator]=tt[Symbol.iterator]),Bt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){at["[object "+e+"]"]=e.toLowerCase()});var Ut=function(t){function e(t,e,n,i){var r,s,o,a,l,g,Q,B=e&&e.ownerDocument,I=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==I&&9!==I&&11!==I)return n;if(!i&&((e?e.ownerDocument||e:Y)!==X&&R(e),e=e||X,E)){if(11!==I&&(l=dt.exec(t)))if(r=l[1]){if(9===I){if(!(o=e.getElementById(r)))return n;if(o.id===r)return n.push(o),n}else if(B&&(o=B.getElementById(r))&&N(e,o)&&o.id===r)return n.push(o),n}else{if(l[2])return K.apply(n,e.getElementsByTagName(t)),n;if((r=l[3])&&m.getElementsByClassName&&e.getElementsByClassName)return K.apply(n,e.getElementsByClassName(r)),n}if(m.qsa&&!w[t+" "]&&(!v||!v.test(t))){if(1!==I)B=e,Q=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(ht,mt):e.setAttribute("id",a=J),g=y(t),s=g.length;s--;)g[s]="#"+a+" "+u(g[s]);Q=g.join(","),B=Ft.test(t)&&c(e.parentNode)||e}if(Q)try{return K.apply(n,B.querySelectorAll(Q)),n}catch(t){}finally{a===J&&e.removeAttribute("id")}}}return G(t.replace(st,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>b.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[J]=!0,t}function r(t){var e=X.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function s(t,e){for(var n=t.split("|"),i=n.length;i--;)b.attrHandle[n[i]]=e}function o(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&pt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function l(t){return i(function(e){return e=+e,i(function(n,i){for(var r,s=t([],n.length,e),o=s.length;o--;)n[r=s[o]]&&(n[r]=!(i[r]=n[r]))})})}function c(t){return t&&void 0!==t.getElementsByTagName&&t}function g(){}function u(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function Q(t,e,n){var i=e.dir,r=e.next,s=r||i,o=n&&"parentNode"===s,a=k++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||o)return t(e,n,r);return!1}:function(e,n,l){var c,g,u,Q=[H,a];if(l){for(;e=e[i];)if((1===e.nodeType||o)&&t(e,n,l))return!0}else for(;e=e[i];)if(1===e.nodeType||o)if(u=e[J]||(e[J]={}),g=u[e.uniqueID]||(u[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((c=g[s])&&c[0]===H&&c[1]===a)return Q[2]=c[2];if(g[s]=Q,Q[2]=t(e,n,l))return!0}return!1}}function B(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function I(t,n,i){for(var r=0,s=n.length;r<s;r++)e(t,n[r],i);return i}function d(t,e,n,i,r){for(var s,o=[],a=0,l=t.length,c=null!=e;a<l;a++)(s=t[a])&&(n&&!n(s,i,r)||(o.push(s),c&&e.push(a)));return o}function F(t,e,n,r,s,o){return r&&!r[J]&&(r=F(r)),s&&!s[J]&&(s=F(s,o)),i(function(i,o,a,l){var c,g,u,Q=[],B=[],F=o.length,C=i||I(e||"*",a.nodeType?[a]:a,[]),U=!t||!i&&e?C:d(C,Q,t,a,l),h=n?s||(i?t:F||r)?[]:o:U;if(n&&n(U,h,a,l),r)for(c=d(h,B),r(c,[],a,l),g=c.length;g--;)(u=c[g])&&(h[B[g]]=!(U[B[g]]=u));if(i){if(s||t){if(s){for(c=[],g=h.length;g--;)(u=h[g])&&c.push(U[g]=u);s(null,h=[],c,l)}for(g=h.length;g--;)(u=h[g])&&(c=s?q(i,u):Q[g])>-1&&(i[c]=!(o[c]=u))}}else h=d(h===o?h.splice(F,h.length):h),s?s(null,o,h,l):K.apply(o,h)})}function C(t){for(var e,n,i,r=t.length,s=b.relative[t[0].type],o=s||b.relative[" "],a=s?1:0,l=Q(function(t){return t===e},o,!0),c=Q(function(t){return q(e,t)>-1},o,!0),g=[function(t,n,i){var r=!s&&(i||n!==x)||((e=n).nodeType?l(t,n,i):c(t,n,i));return e=null,r}];a<r;a++)if(n=b.relative[t[a].type])g=[Q(B(g),n)];else{if(n=b.filter[t[a].type].apply(null,t[a].matches),n[J]){for(i=++a;i<r&&!b.relative[t[i].type];i++);return F(a>1&&B(g),a>1&&u(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(st,"$1"),n,a<i&&C(t.slice(a,i)),i<r&&C(t=t.slice(i)),i<r&&u(t))}g.push(n)}return B(g)}function U(t,n){var r=n.length>0,s=t.length>0,o=function(i,o,a,l,c){var g,u,Q,B=0,I="0",F=i&&[],C=[],U=x,h=i||s&&b.find.TAG("*",c),m=H+=null==U?1:Math.random()||.1,p=h.length;for(c&&(x=o===X||o||c);I!==p&&null!=(g=h[I]);I++){if(s&&g){for(u=0,o||g.ownerDocument===X||(R(g),a=!E);Q=t[u++];)if(Q(g,o||X,a)){l.push(g);break}c&&(H=m)}r&&((g=!Q&&g)&&B--,i&&F.push(g))}if(B+=I,r&&I!==B){for(u=0;Q=n[u++];)Q(F,C,o,a);if(i){if(B>0)for(;I--;)F[I]||C[I]||(C[I]=j.call(l));C=d(C)}K.apply(l,C),c&&!i&&C.length>0&&B+n.length>1&&e.uniqueSort(l)}return c&&(H=m,x=U),F};return r?i(o):o}var h,m,b,p,A,y,f,G,x,V,Z,R,X,L,E,v,S,W,N,J="sizzle"+1*new Date,Y=t.document,H=0,k=0,T=n(),D=n(),w=n(),O=function(t,e){return t===e&&(Z=!0),0},z={}.hasOwnProperty,M=[],j=M.pop,P=M.push,K=M.push,_=M.slice,q=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},$="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",tt="[\\x20\\t\\r\\n\\f]",et="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",nt="\\["+tt+"*("+et+")(?:"+tt+"*([*^$|!~]?=)"+tt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+et+"))|)"+tt+"*\\]",it=":("+et+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+nt+")*)|.*)\\)|)",rt=new RegExp(tt+"+","g"),st=new RegExp("^"+tt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+tt+"+$","g"),ot=new RegExp("^"+tt+"*,"+tt+"*"),at=new RegExp("^"+tt+"*([>+~]|"+tt+")"+tt+"*"),lt=new RegExp("="+tt+"*([^\\]'\"]*?)"+tt+"*\\]","g"),ct=new RegExp(it),gt=new RegExp("^"+et+"$"),ut={ID:new RegExp("^#("+et+")"),CLASS:new RegExp("^\\.("+et+")"),TAG:new RegExp("^("+et+"|[*])"),ATTR:new RegExp("^"+nt),PSEUDO:new RegExp("^"+it),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+tt+"*(even|odd|(([+-]|)(\\d*)n|)"+tt+"*(?:([+-]|)"+tt+"*(\\d+)|))"+tt+"*\\)|)","i"),bool:new RegExp("^(?:"+$+")$","i"),needsContext:new RegExp("^"+tt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+tt+"*((?:-\\d)?\\d*)"+tt+"*\\)|)(?=[^-]|$)","i")},Qt=/^(?:input|select|textarea|button)$/i,Bt=/^h\d$/i,It=/^[^{]+\{\s*\[native \w/,dt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ft=/[+~]/,Ct=new RegExp("\\\\([\\da-f]{1,6}"+tt+"?|("+tt+")|.)","ig"),Ut=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},ht=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,mt=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},bt=function(){R()},pt=Q(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{K.apply(M=_.call(Y.childNodes),Y.childNodes),M[Y.childNodes.length].nodeType}catch(t){K={apply:M.length?function(t,e){P.apply(t,_.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}m=e.support={},A=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},R=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:Y;return i!==X&&9===i.nodeType&&i.documentElement?(X=i,L=X.documentElement,E=!A(X),Y!==X&&(n=X.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",bt,!1):n.attachEvent&&n.attachEvent("onunload",bt)),m.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),m.getElementsByTagName=r(function(t){return t.appendChild(X.createComment("")),!t.getElementsByTagName("*").length}),m.getElementsByClassName=It.test(X.getElementsByClassName),m.getById=r(function(t){return L.appendChild(t).id=J,!X.getElementsByName||!X.getElementsByName(J).length}),m.getById?(b.filter.ID=function(t){var e=t.replace(Ct,Ut);return function(t){return t.getAttribute("id")===e}},b.find.ID=function(t,e){if(void 0!==e.getElementById&&E){var n=e.getElementById(t);return n?[n]:[]}}):(b.filter.ID=function(t){var e=t.replace(Ct,Ut);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},b.find.ID=function(t,e){if(void 0!==e.getElementById&&E){var n,i,r,s=e.getElementById(t);if(s){if((n=s.getAttributeNode("id"))&&n.value===t)return[s];for(r=e.getElementsByName(t),i=0;s=r[i++];)if((n=s.getAttributeNode("id"))&&n.value===t)return[s]}return[]}}),b.find.TAG=m.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):m.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,s=e.getElementsByTagName(t);if("*"===t){for(;n=s[r++];)1===n.nodeType&&i.push(n);return i}return s},b.find.CLASS=m.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&E)return e.getElementsByClassName(t)},S=[],v=[],(m.qsa=It.test(X.querySelectorAll))&&(r(function(t){L.appendChild(t).innerHTML="<a id='"+J+"'></a><select id='"+J+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+tt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||v.push("\\["+tt+"*(?:value|"+$+")"),t.querySelectorAll("[id~="+J+"-]").length||v.push("~="),t.querySelectorAll(":checked").length||v.push(":checked"),t.querySelectorAll("a#"+J+"+*").length||v.push(".#.+[+~]")}),r(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=X.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&v.push("name"+tt+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),L.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),v.push(",.*:")})),(m.matchesSelector=It.test(W=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&r(function(t){m.disconnectedMatch=W.call(t,"*"),W.call(t,"[s!='']:x"),S.push("!=",it)}),v=v.length&&new RegExp(v.join("|")),S=S.length&&new RegExp(S.join("|")),e=It.test(L.compareDocumentPosition),N=e||It.test(L.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},O=e?function(t,e){if(t===e)return Z=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!m.sortDetached&&e.compareDocumentPosition(t)===n?t===X||t.ownerDocument===Y&&N(Y,t)?-1:e===X||e.ownerDocument===Y&&N(Y,e)?1:V?q(V,t)-q(V,e):0:4&n?-1:1)}:function(t,e){if(t===e)return Z=!0,0;var n,i=0,r=t.parentNode,s=e.parentNode,a=[t],l=[e];if(!r||!s)return t===X?-1:e===X?1:r?-1:s?1:V?q(V,t)-q(V,e):0;if(r===s)return o(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;a[i]===l[i];)i++;return i?o(a[i],l[i]):a[i]===Y?-1:l[i]===Y?1:0},X):X},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==X&&R(t),n=n.replace(lt,"='$1']"),m.matchesSelector&&E&&!w[n+" "]&&(!S||!S.test(n))&&(!v||!v.test(n)))try{var i=W.call(t,n);if(i||m.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return e(n,X,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==X&&R(t),
N(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==X&&R(t);var n=b.attrHandle[e.toLowerCase()],i=n&&z.call(b.attrHandle,e.toLowerCase())?n(t,e,!E):void 0;return void 0!==i?i:m.attributes||!E?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.escape=function(t){return(t+"").replace(ht,mt)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(Z=!m.detectDuplicates,V=!m.sortStable&&t.slice(0),t.sort(O),Z){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return V=null,t},p=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=p(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=p(e);return n},b=e.selectors={cacheLength:50,createPseudo:i,match:ut,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Ct,Ut),t[3]=(t[3]||t[4]||t[5]||"").replace(Ct,Ut),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ut.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ct.test(n)&&(e=y(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Ct,Ut).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=T[t+" "];return e||(e=new RegExp("(^|"+tt+")"+t+"("+tt+"|$)"))&&T(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var s=e.attr(r,t);return null==s?"!="===n:!n||(s+="","="===n?s===i:"!="===n?s!==i:"^="===n?i&&0===s.indexOf(i):"*="===n?i&&s.indexOf(i)>-1:"$="===n?i&&s.slice(-i.length)===i:"~="===n?(" "+s.replace(rt," ")+" ").indexOf(i)>-1:"|="===n&&(s===i||s.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,r){var s="nth"!==t.slice(0,3),o="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var c,g,u,Q,B,I,d=s!==o?"nextSibling":"previousSibling",F=e.parentNode,C=a&&e.nodeName.toLowerCase(),U=!l&&!a,h=!1;if(F){if(s){for(;d;){for(Q=e;Q=Q[d];)if(a?Q.nodeName.toLowerCase()===C:1===Q.nodeType)return!1;I=d="only"===t&&!I&&"nextSibling"}return!0}if(I=[o?F.firstChild:F.lastChild],o&&U){for(Q=F,u=Q[J]||(Q[J]={}),g=u[Q.uniqueID]||(u[Q.uniqueID]={}),c=g[t]||[],B=c[0]===H&&c[1],h=B&&c[2],Q=B&&F.childNodes[B];Q=++B&&Q&&Q[d]||(h=B=0)||I.pop();)if(1===Q.nodeType&&++h&&Q===e){g[t]=[H,B,h];break}}else if(U&&(Q=e,u=Q[J]||(Q[J]={}),g=u[Q.uniqueID]||(u[Q.uniqueID]={}),c=g[t]||[],B=c[0]===H&&c[1],h=B),!1===h)for(;(Q=++B&&Q&&Q[d]||(h=B=0)||I.pop())&&((a?Q.nodeName.toLowerCase()!==C:1!==Q.nodeType)||!++h||(U&&(u=Q[J]||(Q[J]={}),g=u[Q.uniqueID]||(u[Q.uniqueID]={}),g[t]=[H,h]),Q!==e)););return(h-=r)===i||h%i==0&&h/i>=0}}},PSEUDO:function(t,n){var r,s=b.pseudos[t]||b.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return s[J]?s(n):s.length>1?(r=[t,t,"",n],b.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=s(t,n),o=r.length;o--;)i=q(t,r[o]),t[i]=!(e[i]=r[o])}):function(t){return s(t,0,r)}):s}},pseudos:{not:i(function(t){var e=[],n=[],r=f(t.replace(st,"$1"));return r[J]?i(function(t,e,n,i){for(var s,o=r(t,null,i,[]),a=t.length;a--;)(s=o[a])&&(t[a]=!(e[a]=s))}):function(t,i,s){return e[0]=t,r(e,null,s,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(Ct,Ut),function(e){return(e.textContent||e.innerText||p(e)).indexOf(t)>-1}}),lang:i(function(t){return gt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(Ct,Ut).toLowerCase(),function(e){var n;do{if(n=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===L},focus:function(t){return t===X.activeElement&&(!X.hasFocus||X.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:a(!1),disabled:a(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!b.pseudos.empty(t)},header:function(t){return Bt.test(t.nodeName)},input:function(t){return Qt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,n){return[n<0?n+e:n]}),even:l(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:l(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:l(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:l(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}},b.pseudos.nth=b.pseudos.eq;for(h in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[h]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(h);for(h in{submit:!0,reset:!0})b.pseudos[h]=function(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}(h);return g.prototype=b.filters=b.pseudos,b.setFilters=new g,y=e.tokenize=function(t,n){var i,r,s,o,a,l,c,g=D[t+" "];if(g)return n?0:g.slice(0);for(a=t,l=[],c=b.preFilter;a;){i&&!(r=ot.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(s=[])),i=!1,(r=at.exec(a))&&(i=r.shift(),s.push({value:i,type:r[0].replace(st," ")}),a=a.slice(i.length));for(o in b.filter)!(r=ut[o].exec(a))||c[o]&&!(r=c[o](r))||(i=r.shift(),s.push({value:i,type:o,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?e.error(t):D(t,l).slice(0)},f=e.compile=function(t,e){var n,i=[],r=[],s=w[t+" "];if(!s){for(e||(e=y(t)),n=e.length;n--;)s=C(e[n]),s[J]?i.push(s):r.push(s);s=w(t,U(r,i)),s.selector=t}return s},G=e.select=function(t,e,n,i){var r,s,o,a,l,g="function"==typeof t&&t,Q=!i&&y(t=g.selector||t);if(n=n||[],1===Q.length){if(s=Q[0]=Q[0].slice(0),s.length>2&&"ID"===(o=s[0]).type&&9===e.nodeType&&E&&b.relative[s[1].type]){if(!(e=(b.find.ID(o.matches[0].replace(Ct,Ut),e)||[])[0]))return n;g&&(e=e.parentNode),t=t.slice(s.shift().value.length)}for(r=ut.needsContext.test(t)?0:s.length;r--&&(o=s[r],!b.relative[a=o.type]);)if((l=b.find[a])&&(i=l(o.matches[0].replace(Ct,Ut),Ft.test(s[0].type)&&c(e.parentNode)||e))){if(s.splice(r,1),!(t=i.length&&u(s)))return K.apply(n,i),n;break}}return(g||f(t,Q))(i,e,!E,n,!e||Ft.test(t)&&c(e.parentNode)||e),n},m.sortStable=J.split("").sort(O).join("")===J,m.detectDuplicates=!!Z,R(),m.sortDetached=r(function(t){return 1&t.compareDocumentPosition(X.createElement("fieldset"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||s("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),m.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||s("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||s($,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);Bt.find=Ut,Bt.expr=Ut.selectors,Bt.expr[":"]=Bt.expr.pseudos,Bt.uniqueSort=Bt.unique=Ut.uniqueSort,Bt.text=Ut.getText,Bt.isXMLDoc=Ut.isXML,Bt.contains=Ut.contains,Bt.escapeSelector=Ut.escape;var ht=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&Bt(t).is(n))break;i.push(t)}return i},mt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},bt=Bt.expr.match.needsContext,pt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,At=/^.[^:#\[\.,]*$/;Bt.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?Bt.find.matchesSelector(i,t)?[i]:[]:Bt.find.matches(t,Bt.grep(e,function(t){return 1===t.nodeType}))},Bt.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(Bt(t).filter(function(){for(e=0;e<i;e++)if(Bt.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)Bt.find(t,r[e],n);return i>1?Bt.uniqueSort(n):n},filter:function(t){return this.pushStack(r(this,t||[],!1))},not:function(t){return this.pushStack(r(this,t||[],!0))},is:function(t){return!!r(this,"string"==typeof t&&bt.test(t)?Bt(t):t||[],!1).length}});var yt,ft=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(Bt.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||yt,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:ft.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof Bt?e[0]:e,Bt.merge(this,Bt.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:et,!0)),pt.test(i[1])&&Bt.isPlainObject(e))for(i in e)Bt.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return r=et.getElementById(i[2]),r&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):Bt.isFunction(t)?void 0!==n.ready?n.ready(t):t(Bt):Bt.makeArray(t,this)}).prototype=Bt.fn,yt=Bt(et);var Gt=/^(?:parents|prev(?:Until|All))/,xt={children:!0,contents:!0,next:!0,prev:!0};Bt.fn.extend({has:function(t){var e=Bt(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(Bt.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,s=[],o="string"!=typeof t&&Bt(t);if(!bt.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&Bt.find.matchesSelector(n,t))){s.push(n);break}return this.pushStack(s.length>1?Bt.uniqueSort(s):s)},index:function(t){return t?"string"==typeof t?ot.call(Bt(t),this[0]):ot.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(Bt.uniqueSort(Bt.merge(this.get(),Bt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),Bt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return ht(t,"parentNode")},parentsUntil:function(t,e,n){return ht(t,"parentNode",n)},next:function(t){return s(t,"nextSibling")},prev:function(t){return s(t,"previousSibling")},nextAll:function(t){return ht(t,"nextSibling")},prevAll:function(t){return ht(t,"previousSibling")},nextUntil:function(t,e,n){return ht(t,"nextSibling",n)},prevUntil:function(t,e,n){return ht(t,"previousSibling",n)},siblings:function(t){return mt((t.parentNode||{}).firstChild,t)},children:function(t){return mt(t.firstChild)},contents:function(t){return t.contentDocument||Bt.merge([],t.childNodes)}},function(t,e){Bt.fn[t]=function(n,i){var r=Bt.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=Bt.filter(i,r)),this.length>1&&(xt[t]||Bt.uniqueSort(r),Gt.test(t)&&r.reverse()),this.pushStack(r)}});var Vt=/[^\x20\t\r\n\f]+/g;Bt.Callbacks=function(t){t="string"==typeof t?o(t):Bt.extend({},t);var e,n,i,r,s=[],a=[],l=-1,c=function(){for(r=t.once,i=e=!0;a.length;l=-1)for(n=a.shift();++l<s.length;)!1===s[l].apply(n[0],n[1])&&t.stopOnFalse&&(l=s.length,n=!1);t.memory||(n=!1),e=!1,r&&(s=n?[]:"")},g={add:function(){return s&&(n&&!e&&(l=s.length-1,a.push(n)),function e(n){Bt.each(n,function(n,i){Bt.isFunction(i)?t.unique&&g.has(i)||s.push(i):i&&i.length&&"string"!==Bt.type(i)&&e(i)})}(arguments),n&&!e&&c()),this},remove:function(){return Bt.each(arguments,function(t,e){for(var n;(n=Bt.inArray(e,s,n))>-1;)s.splice(n,1),n<=l&&l--}),this},has:function(t){return t?Bt.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return r=a=[],s=n="",this},disabled:function(){return!s},lock:function(){return r=a=[],n||e||(s=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=n||[],n=[t,n.slice?n.slice():n],a.push(n),e||c()),this},fire:function(){return g.fireWith(this,arguments),this},fired:function(){return!!i}};return g},Bt.extend({Deferred:function(e){var n=[["notify","progress",Bt.Callbacks("memory"),Bt.Callbacks("memory"),2],["resolve","done",Bt.Callbacks("once memory"),Bt.Callbacks("once memory"),0,"resolved"],["reject","fail",Bt.Callbacks("once memory"),Bt.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return Bt.Deferred(function(e){Bt.each(n,function(n,i){var r=Bt.isFunction(t[i[4]])&&t[i[4]];s[i[1]](function(){var t=r&&r.apply(this,arguments);t&&Bt.isFunction(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[i[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(e,i,r){function s(e,n,i,r){return function(){var c=this,g=arguments,u=function(){var t,u;if(!(e<o)){if((t=i.apply(c,g))===n.promise())throw new TypeError("Thenable self-resolution");u=t&&("object"==typeof t||"function"==typeof t)&&t.then,Bt.isFunction(u)?r?u.call(t,s(o,n,a,r),s(o,n,l,r)):(o++,u.call(t,s(o,n,a,r),s(o,n,l,r),s(o,n,a,n.notifyWith))):(i!==a&&(c=void 0,g=[t]),(r||n.resolveWith)(c,g))}},Q=r?u:function(){try{u()}catch(t){Bt.Deferred.exceptionHook&&Bt.Deferred.exceptionHook(t,Q.stackTrace),e+1>=o&&(i!==l&&(c=void 0,g=[t]),n.rejectWith(c,g))}};e?Q():(Bt.Deferred.getStackHook&&(Q.stackTrace=Bt.Deferred.getStackHook()),t.setTimeout(Q))}}var o=0;return Bt.Deferred(function(t){n[0][3].add(s(0,t,Bt.isFunction(r)?r:a,t.notifyWith)),n[1][3].add(s(0,t,Bt.isFunction(e)?e:a)),n[2][3].add(s(0,t,Bt.isFunction(i)?i:l))}).promise()},promise:function(t){return null!=t?Bt.extend(t,r):r}},s={};return Bt.each(n,function(t,e){var o=e[2],a=e[5];r[e[1]]=o.add,a&&o.add(function(){i=a},n[3-t][2].disable,n[0][2].lock),o.add(e[3].fire),s[e[0]]=function(){return s[e[0]+"With"](this===s?void 0:this,arguments),this},s[e[0]+"With"]=o.fireWith}),r.promise(s),e&&e.call(s,s),s},when:function(t){var e=arguments.length,n=e,i=Array(n),r=it.call(arguments),s=Bt.Deferred(),o=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?it.call(arguments):n,--e||s.resolveWith(i,r)}};if(e<=1&&(c(t,s.done(o(n)).resolve,s.reject),"pending"===s.state()||Bt.isFunction(r[n]&&r[n].then)))return s.then();for(;n--;)c(r[n],o(n),s.reject);return s.promise()}});var Zt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;Bt.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&Zt.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,n)},Bt.readyException=function(e){t.setTimeout(function(){throw e})};var Rt=Bt.Deferred();Bt.fn.ready=function(t){return Rt.then(t).catch(function(t){Bt.readyException(t)}),this},Bt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?Bt.readyWait++:Bt.ready(!0)},ready:function(t){(!0===t?--Bt.readyWait:Bt.isReady)||(Bt.isReady=!0,!0!==t&&--Bt.readyWait>0||Rt.resolveWith(et,[Bt]))}}),Bt.ready.then=Rt.then,"complete"===et.readyState||"loading"!==et.readyState&&!et.documentElement.doScroll?t.setTimeout(Bt.ready):(et.addEventListener("DOMContentLoaded",g),t.addEventListener("load",g));var Xt=function(t,e,n,i,r,s,o){var a=0,l=t.length,c=null==n;if("object"===Bt.type(n)){r=!0;for(a in n)Xt(t,e,a,n[a],!0,s,o)}else if(void 0!==i&&(r=!0,Bt.isFunction(i)||(o=!0),c&&(o?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(Bt(t),n)})),e))for(;a<l;a++)e(t[a],n,o?i:i.call(t[a],a,e(t[a],n)));return r?t:c?e.call(t):l?e(t[0],n):s},Lt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};u.uid=1,u.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Lt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[Bt.camelCase(e)]=n;else for(i in e)r[Bt.camelCase(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][Bt.camelCase(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){Bt.isArray(e)?e=e.map(Bt.camelCase):(e=Bt.camelCase(e),e=e in i?[e]:e.match(Vt)||[]),n=e.length;for(;n--;)delete i[e[n]]}(void 0===e||Bt.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!Bt.isEmptyObject(e)}};var Et=new u,vt=new u,St=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Wt=/[A-Z]/g;Bt.extend({hasData:function(t){return vt.hasData(t)||Et.hasData(t)},data:function(t,e,n){return vt.access(t,e,n)},removeData:function(t,e){vt.remove(t,e)},_data:function(t,e,n){return Et.access(t,e,n)},_removeData:function(t,e){Et.remove(t,e)}}),Bt.fn.extend({data:function(t,e){var n,i,r,s=this[0],o=s&&s.attributes;if(void 0===t){if(this.length&&(r=vt.get(s),1===s.nodeType&&!Et.get(s,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&(i=o[n].name,0===i.indexOf("data-")&&(i=Bt.camelCase(i.slice(5)),B(s,i,r[i])));Et.set(s,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){vt.set(this,t)}):Xt(this,function(e){var n;if(s&&void 0===e){if(void 0!==(n=vt.get(s,t)))return n;if(void 0!==(n=B(s,t)))return n}else this.each(function(){vt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){vt.remove(this,t)})}}),Bt.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=Et.get(t,e),n&&(!i||Bt.isArray(n)?i=Et.access(t,e,Bt.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=Bt.queue(t,e),i=n.length,r=n.shift(),s=Bt._queueHooks(t,e),o=function(){Bt.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete s.stop,r.call(t,o,s)),!i&&s&&s.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Et.get(t,n)||Et.access(t,n,{empty:Bt.Callbacks("once memory").add(function(){Et.remove(t,[e+"queue",n])})})}}),Bt.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?Bt.queue(this[0],t):void 0===e?this:this.each(function(){var n=Bt.queue(this,t,e);Bt._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&Bt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){Bt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=Bt.Deferred(),s=this,o=this.length,a=function(){--i||r.resolveWith(s,[s])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)(n=Et.get(s[o],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var Nt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Jt=new RegExp("^(?:([+-])=|)("+Nt+")([a-z%]*)$","i"),Yt=["Top","Right","Bottom","Left"],Ht=function(t,e){return t=e||t,"none"===t.style.display||""===t.style.display&&Bt.contains(t.ownerDocument,t)&&"none"===Bt.css(t,"display")},kt=function(t,e,n,i){var r,s,o={};for(s in e)o[s]=t.style[s],t.style[s]=e[s];r=n.apply(t,i||[]);for(s in e)t.style[s]=o[s];return r},Tt={};Bt.fn.extend({show:function(){return F(this,!0)},hide:function(){return F(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ht(this)?Bt(this).show():Bt(this).hide()})}});var Dt=/^(?:checkbox|radio)$/i,wt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ot=/^$|\/(?:java|ecma)script/i,zt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};zt.optgroup=zt.option,zt.tbody=zt.tfoot=zt.colgroup=zt.caption=zt.thead,zt.th=zt.td;var Mt=/<|&#?\w+;/;!function(){var t=et.createDocumentFragment(),e=t.appendChild(et.createElement("div")),n=et.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),Qt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",Qt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var jt=et.documentElement,Pt=/^key/,Kt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,_t=/^([^.]*)(?:\.(.+)|)/;Bt.event={global:{},add:function(t,e,n,i,r){var s,o,a,l,c,g,u,Q,B,I,d,F=Et.get(t);if(F)for(n.handler&&(s=n,n=s.handler,r=s.selector),r&&Bt.find.matchesSelector(jt,r),n.guid||(n.guid=Bt.guid++),(l=F.events)||(l=F.events={}),(o=F.handle)||(o=F.handle=function(e){return void 0!==Bt&&Bt.event.triggered!==e.type?Bt.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(Vt)||[""],c=e.length;c--;)a=_t.exec(e[c])||[],B=d=a[1],I=(a[2]||"").split(".").sort(),B&&(u=Bt.event.special[B]||{},B=(r?u.delegateType:u.bindType)||B,u=Bt.event.special[B]||{},g=Bt.extend({type:B,origType:d,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&Bt.expr.match.needsContext.test(r),namespace:I.join(".")},s),(Q=l[B])||(Q=l[B]=[],Q.delegateCount=0,u.setup&&!1!==u.setup.call(t,i,I,o)||t.addEventListener&&t.addEventListener(B,o)),u.add&&(u.add.call(t,g),g.handler.guid||(g.handler.guid=n.guid)),r?Q.splice(Q.delegateCount++,0,g):Q.push(g),Bt.event.global[B]=!0)},remove:function(t,e,n,i,r){var s,o,a,l,c,g,u,Q,B,I,d,F=Et.hasData(t)&&Et.get(t);if(F&&(l=F.events)){for(e=(e||"").match(Vt)||[""],c=e.length;c--;)if(a=_t.exec(e[c])||[],B=d=a[1],I=(a[2]||"").split(".").sort(),B){for(u=Bt.event.special[B]||{},B=(i?u.delegateType:u.bindType)||B,Q=l[B]||[],a=a[2]&&new RegExp("(^|\\.)"+I.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=Q.length;s--;)g=Q[s],!r&&d!==g.origType||n&&n.guid!==g.guid||a&&!a.test(g.namespace)||i&&i!==g.selector&&("**"!==i||!g.selector)||(Q.splice(s,1),g.selector&&Q.delegateCount--,u.remove&&u.remove.call(t,g));o&&!Q.length&&(u.teardown&&!1!==u.teardown.call(t,I,F.handle)||Bt.removeEvent(t,B,F.handle),delete l[B])}else for(B in l)Bt.event.remove(t,B+e[c],n,i,!0);Bt.isEmptyObject(l)&&Et.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,s,o,a=Bt.event.fix(t),l=new Array(arguments.length),c=(Et.get(this,"events")||{})[a.type]||[],g=Bt.event.special[a.type]||{};for(l[0]=a,e=1;e<arguments.length;e++)l[e]=arguments[e];if(a.delegateTarget=this,!g.preDispatch||!1!==g.preDispatch.call(this,a)){for(o=Bt.event.handlers.call(this,a,c),e=0;(r=o[e++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(s=r.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(s.namespace)||(a.handleObj=s,a.data=s.data,void 0!==(i=((Bt.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,l))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return g.postDispatch&&g.postDispatch.call(this,a),a.result}},handlers:function(t,e){var n,i,r,s,o,a=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(s=[],o={},n=0;n<l;n++)i=e[n],r=i.selector+" ",void 0===o[r]&&(o[r]=i.needsContext?Bt(r,this).index(c)>-1:Bt.find(r,this,null,[c]).length),o[r]&&s.push(i);s.length&&a.push({elem:c,handlers:s})}return c=this,l<e.length&&a.push({elem:c,handlers:e.slice(l)}),a},addProp:function(t,e){Object.defineProperty(Bt.Event.prototype,t,{enumerable:!0,configurable:!0,get:Bt.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[Bt.expando]?t:new Bt.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===p()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&Bt.nodeName(this,"input"))return this.click(),!1},_default:function(t){return Bt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},Bt.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},Bt.Event=function(t,e){if(!(this instanceof Bt.Event))return new Bt.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?m:b,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&Bt.extend(this,e),this.timeStamp=t&&t.timeStamp||Bt.now(),this[Bt.expando]=!0},Bt.Event.prototype={constructor:Bt.Event,isDefaultPrevented:b,isPropagationStopped:b,isImmediatePropagationStopped:b,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=m,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=m,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=m,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},Bt.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Pt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Kt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},Bt.event.addProp),Bt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){Bt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,s=t.handleObj;return r&&(r===i||Bt.contains(i,r))||(t.type=s.origType,n=s.handler.apply(this,arguments),t.type=e),n}}}),Bt.fn.extend({on:function(t,e,n,i){return A(this,t,e,n,i)},one:function(t,e,n,i){return A(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,Bt(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=b),this.each(function(){Bt.event.remove(this,t,n,e)})}});var qt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,$t=/<script|<style|<link/i,te=/checked\s*(?:[^=]|=\s*.checked.)/i,ee=/^true\/(.*)/,ne=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;Bt.extend({htmlPrefilter:function(t){return t.replace(qt,"<$1></$2>")},clone:function(t,e,n){var i,r,s,o,a=t.cloneNode(!0),l=Bt.contains(t.ownerDocument,t);if(!(Qt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||Bt.isXMLDoc(t)))for(o=C(a),s=C(t),i=0,r=s.length;i<r;i++)V(s[i],o[i]);if(e)if(n)for(s=s||C(t),o=o||C(a),i=0,r=s.length;i<r;i++)x(s[i],o[i]);else x(t,a);return o=C(a,"script"),o.length>0&&U(o,!l&&C(t,"script")),a},cleanData:function(t){for(var e,n,i,r=Bt.event.special,s=0;void 0!==(n=t[s]);s++)if(Lt(n)){if(e=n[Et.expando]){if(e.events)for(i in e.events)r[i]?Bt.event.remove(n,i):Bt.removeEvent(n,i,e.handle);n[Et.expando]=void 0}n[vt.expando]&&(n[vt.expando]=void 0)}}}),Bt.fn.extend({detach:function(t){return R(this,t,!0)},remove:function(t){return R(this,t)},text:function(t){return Xt(this,function(t){return void 0===t?Bt.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Z(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){y(this,t).appendChild(t)}})},prepend:function(){return Z(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=y(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Z(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Z(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(Bt.cleanData(C(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return Bt.clone(this,t,e)})},html:function(t){return Xt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!$t.test(t)&&!zt[(wt.exec(t)||["",""])[1].toLowerCase()]){t=Bt.htmlPrefilter(t);try{for(;n<i;n++)e=this[n]||{},1===e.nodeType&&(Bt.cleanData(C(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return Z(this,arguments,function(e){var n=this.parentNode;Bt.inArray(this,t)<0&&(Bt.cleanData(C(this)),n&&n.replaceChild(e,this))},t)}}),Bt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){Bt.fn[t]=function(t){for(var n,i=[],r=Bt(t),s=r.length-1,o=0;o<=s;o++)n=o===s?this:this.clone(!0),Bt(r[o])[e](n),st.apply(i,n.get());return this.pushStack(i)}});var ie=/^margin/,re=new RegExp("^("+Nt+")(?!px)[a-z%]+$","i"),se=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)};!function(){function e(){if(a){a.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",jt.appendChild(o);var e=t.getComputedStyle(a);n="1%"!==e.top,s="2px"===e.marginLeft,i="4px"===e.width,a.style.marginRight="50%",r="4px"===e.marginRight,jt.removeChild(o),a=null}}var n,i,r,s,o=et.createElement("div"),a=et.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",Qt.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",o.appendChild(a),Bt.extend(Qt,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return e(),i},pixelMarginRight:function(){return e(),r},reliableMarginLeft:function(){return e(),s}}))}();var oe=/^(none|table(?!-c[ea]).+)/,ae={position:"absolute",visibility:"hidden",display:"block"},le={letterSpacing:"0",fontWeight:"400"},ce=["Webkit","Moz","ms"],ge=et.createElement("div").style;Bt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=X(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,s,o,a=Bt.camelCase(e),l=t.style;if(e=Bt.cssProps[a]||(Bt.cssProps[a]=E(a)||a),o=Bt.cssHooks[e]||Bt.cssHooks[a],void 0===n)return o&&"get"in o&&void 0!==(r=o.get(t,!1,i))?r:l[e]
;s=typeof n,"string"===s&&(r=Jt.exec(n))&&r[1]&&(n=I(t,e,r),s="number"),null!=n&&n===n&&("number"===s&&(n+=r&&r[3]||(Bt.cssNumber[a]?"":"px")),Qt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),o&&"set"in o&&void 0===(n=o.set(t,n,i))||(l[e]=n))}},css:function(t,e,n,i){var r,s,o,a=Bt.camelCase(e);return e=Bt.cssProps[a]||(Bt.cssProps[a]=E(a)||a),o=Bt.cssHooks[e]||Bt.cssHooks[a],o&&"get"in o&&(r=o.get(t,!0,n)),void 0===r&&(r=X(t,e,i)),"normal"===r&&e in le&&(r=le[e]),""===n||n?(s=parseFloat(r),!0===n||isFinite(s)?s||0:r):r}}),Bt.each(["height","width"],function(t,e){Bt.cssHooks[e]={get:function(t,n,i){if(n)return!oe.test(Bt.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?W(t,e,i):kt(t,ae,function(){return W(t,e,i)})},set:function(t,n,i){var r,s=i&&se(t),o=i&&S(t,e,i,"border-box"===Bt.css(t,"boxSizing",!1,s),s);return o&&(r=Jt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=Bt.css(t,e)),v(t,n,o)}}}),Bt.cssHooks.marginLeft=L(Qt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(X(t,"marginLeft"))||t.getBoundingClientRect().left-kt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),Bt.each({margin:"",padding:"",border:"Width"},function(t,e){Bt.cssHooks[t+e]={expand:function(n){for(var i=0,r={},s="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+Yt[i]+e]=s[i]||s[i-2]||s[0];return r}},ie.test(t)||(Bt.cssHooks[t+e].set=v)}),Bt.fn.extend({css:function(t,e){return Xt(this,function(t,e,n){var i,r,s={},o=0;if(Bt.isArray(e)){for(i=se(t),r=e.length;o<r;o++)s[e[o]]=Bt.css(t,e[o],!1,i);return s}return void 0!==n?Bt.style(t,e,n):Bt.css(t,e)},t,e,arguments.length>1)}}),Bt.Tween=N,N.prototype={constructor:N,init:function(t,e,n,i,r,s){this.elem=t,this.prop=n,this.easing=r||Bt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=s||(Bt.cssNumber[n]?"":"px")},cur:function(){var t=N.propHooks[this.prop];return t&&t.get?t.get(this):N.propHooks._default.get(this)},run:function(t){var e,n=N.propHooks[this.prop];return this.options.duration?this.pos=e=Bt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):N.propHooks._default.set(this),this}},N.prototype.init.prototype=N.prototype,N.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=Bt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){Bt.fx.step[t.prop]?Bt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[Bt.cssProps[t.prop]]&&!Bt.cssHooks[t.prop]?t.elem[t.prop]=t.now:Bt.style(t.elem,t.prop,t.now+t.unit)}}},N.propHooks.scrollTop=N.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},Bt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},Bt.fx=N.prototype.init,Bt.fx.step={};var ue,Qe,Be=/^(?:toggle|show|hide)$/,Ie=/queueHooks$/;Bt.Animation=Bt.extend(w,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return I(n.elem,t,Jt.exec(e),n),n}]},tweener:function(t,e){Bt.isFunction(t)?(e=t,t=["*"]):t=t.match(Vt);for(var n,i=0,r=t.length;i<r;i++)n=t[i],w.tweeners[n]=w.tweeners[n]||[],w.tweeners[n].unshift(e)},prefilters:[T],prefilter:function(t,e){e?w.prefilters.unshift(t):w.prefilters.push(t)}}),Bt.speed=function(t,e,n){var i=t&&"object"==typeof t?Bt.extend({},t):{complete:n||!n&&e||Bt.isFunction(t)&&t,duration:t,easing:n&&e||e&&!Bt.isFunction(e)&&e};return Bt.fx.off||et.hidden?i.duration=0:"number"!=typeof i.duration&&(i.duration in Bt.fx.speeds?i.duration=Bt.fx.speeds[i.duration]:i.duration=Bt.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){Bt.isFunction(i.old)&&i.old.call(this),i.queue&&Bt.dequeue(this,i.queue)},i},Bt.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Ht).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=Bt.isEmptyObject(t),s=Bt.speed(e,n,i),o=function(){var e=w(this,Bt.extend({},t),s);(r||Et.get(this,"finish"))&&e.stop(!0)};return o.finish=o,r||!1===s.queue?this.each(o):this.queue(s.queue,o)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",s=Bt.timers,o=Et.get(this);if(r)o[r]&&o[r].stop&&i(o[r]);else for(r in o)o[r]&&o[r].stop&&Ie.test(r)&&i(o[r]);for(r=s.length;r--;)s[r].elem!==this||null!=t&&s[r].queue!==t||(s[r].anim.stop(n),e=!1,s.splice(r,1));!e&&n||Bt.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=Et.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],s=Bt.timers,o=i?i.length:0;for(n.finish=!0,Bt.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;e<o;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),Bt.each(["toggle","show","hide"],function(t,e){var n=Bt.fn[e];Bt.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(H(e,!0),t,i,r)}}),Bt.each({slideDown:H("show"),slideUp:H("hide"),slideToggle:H("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){Bt.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),Bt.timers=[],Bt.fx.tick=function(){var t,e=0,n=Bt.timers;for(ue=Bt.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||Bt.fx.stop(),ue=void 0},Bt.fx.timer=function(t){Bt.timers.push(t),t()?Bt.fx.start():Bt.timers.pop()},Bt.fx.interval=13,Bt.fx.start=function(){Qe||(Qe=t.requestAnimationFrame?t.requestAnimationFrame(J):t.setInterval(Bt.fx.tick,Bt.fx.interval))},Bt.fx.stop=function(){t.cancelAnimationFrame?t.cancelAnimationFrame(Qe):t.clearInterval(Qe),Qe=null},Bt.fx.speeds={slow:600,fast:200,_default:400},Bt.fn.delay=function(e,n){return e=Bt.fx?Bt.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,i){var r=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(r)}})},function(){var t=et.createElement("input"),e=et.createElement("select"),n=e.appendChild(et.createElement("option"));t.type="checkbox",Qt.checkOn=""!==t.value,Qt.optSelected=n.selected,t=et.createElement("input"),t.value="t",t.type="radio",Qt.radioValue="t"===t.value}();var de,Fe=Bt.expr.attrHandle;Bt.fn.extend({attr:function(t,e){return Xt(this,Bt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){Bt.removeAttr(this,t)})}}),Bt.extend({attr:function(t,e,n){var i,r,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===t.getAttribute?Bt.prop(t,e,n):(1===s&&Bt.isXMLDoc(t)||(r=Bt.attrHooks[e.toLowerCase()]||(Bt.expr.match.bool.test(e)?de:void 0)),void 0!==n?null===n?void Bt.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=Bt.find.attr(t,e),null==i?void 0:i))},attrHooks:{type:{set:function(t,e){if(!Qt.radioValue&&"radio"===e&&Bt.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(Vt);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),de={set:function(t,e,n){return!1===e?Bt.removeAttr(t,n):t.setAttribute(n,n),n}},Bt.each(Bt.expr.match.bool.source.match(/\w+/g),function(t,e){var n=Fe[e]||Bt.find.attr;Fe[e]=function(t,e,i){var r,s,o=e.toLowerCase();return i||(s=Fe[o],Fe[o]=r,r=null!=n(t,e,i)?o:null,Fe[o]=s),r}});var Ce=/^(?:input|select|textarea|button)$/i,Ue=/^(?:a|area)$/i;Bt.fn.extend({prop:function(t,e){return Xt(this,Bt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[Bt.propFix[t]||t]})}}),Bt.extend({prop:function(t,e,n){var i,r,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&Bt.isXMLDoc(t)||(e=Bt.propFix[e]||e,r=Bt.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=Bt.find.attr(t,"tabindex");return e?parseInt(e,10):Ce.test(t.nodeName)||Ue.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),Qt.optSelected||(Bt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),Bt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Bt.propFix[this.toLowerCase()]=this}),Bt.fn.extend({addClass:function(t){var e,n,i,r,s,o,a,l=0;if(Bt.isFunction(t))return this.each(function(e){Bt(this).addClass(t.call(this,e,z(this)))});if("string"==typeof t&&t)for(e=t.match(Vt)||[];n=this[l++];)if(r=z(n),i=1===n.nodeType&&" "+O(r)+" "){for(o=0;s=e[o++];)i.indexOf(" "+s+" ")<0&&(i+=s+" ");a=O(i),r!==a&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,s,o,a,l=0;if(Bt.isFunction(t))return this.each(function(e){Bt(this).removeClass(t.call(this,e,z(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Vt)||[];n=this[l++];)if(r=z(n),i=1===n.nodeType&&" "+O(r)+" "){for(o=0;s=e[o++];)for(;i.indexOf(" "+s+" ")>-1;)i=i.replace(" "+s+" "," ");a=O(i),r!==a&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):Bt.isFunction(t)?this.each(function(n){Bt(this).toggleClass(t.call(this,n,z(this),e),e)}):this.each(function(){var e,i,r,s;if("string"===n)for(i=0,r=Bt(this),s=t.match(Vt)||[];e=s[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==n||(e=z(this),e&&Et.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Et.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+O(z(n))+" ").indexOf(e)>-1)return!0;return!1}});var he=/\r/g;Bt.fn.extend({val:function(t){var e,n,i,r=this[0];{if(arguments.length)return i=Bt.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,Bt(this).val()):t,null==r?r="":"number"==typeof r?r+="":Bt.isArray(r)&&(r=Bt.map(r,function(t){return null==t?"":t+""})),(e=Bt.valHooks[this.type]||Bt.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return(e=Bt.valHooks[r.type]||Bt.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(he,""):null==n?"":n)}}}),Bt.extend({valHooks:{option:{get:function(t){var e=Bt.find.attr(t,"value");return null!=e?e:O(Bt.text(t))}},select:{get:function(t){var e,n,i,r=t.options,s=t.selectedIndex,o="select-one"===t.type,a=o?null:[],l=o?s+1:r.length;for(i=s<0?l:o?s:0;i<l;i++)if(n=r[i],(n.selected||i===s)&&!n.disabled&&(!n.parentNode.disabled||!Bt.nodeName(n.parentNode,"optgroup"))){if(e=Bt(n).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,s=Bt.makeArray(e),o=r.length;o--;)i=r[o],(i.selected=Bt.inArray(Bt.valHooks.option.get(i),s)>-1)&&(n=!0);return n||(t.selectedIndex=-1),s}}}}),Bt.each(["radio","checkbox"],function(){Bt.valHooks[this]={set:function(t,e){if(Bt.isArray(e))return t.checked=Bt.inArray(Bt(t).val(),e)>-1}},Qt.checkOn||(Bt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var me=/^(?:focusinfocus|focusoutblur)$/;Bt.extend(Bt.event,{trigger:function(e,n,i,r){var s,o,a,l,c,g,u,Q=[i||et],B=ct.call(e,"type")?e.type:e,I=ct.call(e,"namespace")?e.namespace.split("."):[];if(o=a=i=i||et,3!==i.nodeType&&8!==i.nodeType&&!me.test(B+Bt.event.triggered)&&(B.indexOf(".")>-1&&(I=B.split("."),B=I.shift(),I.sort()),c=B.indexOf(":")<0&&"on"+B,e=e[Bt.expando]?e:new Bt.Event(B,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=I.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+I.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:Bt.makeArray(n,[e]),u=Bt.event.special[B]||{},r||!u.trigger||!1!==u.trigger.apply(i,n))){if(!r&&!u.noBubble&&!Bt.isWindow(i)){for(l=u.delegateType||B,me.test(l+B)||(o=o.parentNode);o;o=o.parentNode)Q.push(o),a=o;a===(i.ownerDocument||et)&&Q.push(a.defaultView||a.parentWindow||t)}for(s=0;(o=Q[s++])&&!e.isPropagationStopped();)e.type=s>1?l:u.bindType||B,g=(Et.get(o,"events")||{})[e.type]&&Et.get(o,"handle"),g&&g.apply(o,n),(g=c&&o[c])&&g.apply&&Lt(o)&&(e.result=g.apply(o,n),!1===e.result&&e.preventDefault());return e.type=B,r||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(Q.pop(),n)||!Lt(i)||c&&Bt.isFunction(i[B])&&!Bt.isWindow(i)&&(a=i[c],a&&(i[c]=null),Bt.event.triggered=B,i[B](),Bt.event.triggered=void 0,a&&(i[c]=a)),e.result}},simulate:function(t,e,n){var i=Bt.extend(new Bt.Event,n,{type:t,isSimulated:!0});Bt.event.trigger(i,null,e)}}),Bt.fn.extend({trigger:function(t,e){return this.each(function(){Bt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return Bt.event.trigger(t,e,n,!0)}}),Bt.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){Bt.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),Bt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),Qt.focusin="onfocusin"in t,Qt.focusin||Bt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){Bt.event.simulate(e,t.target,Bt.event.fix(t))};Bt.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=Et.access(i,e);r||i.addEventListener(t,n,!0),Et.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=Et.access(i,e)-1;r?Et.access(i,e,r):(i.removeEventListener(t,n,!0),Et.remove(i,e))}}});var be=t.location,pe=Bt.now(),Ae=/\?/;Bt.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(t){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||Bt.error("Invalid XML: "+e),n};var ye=/\[\]$/,fe=/\r?\n/g,Ge=/^(?:submit|button|image|reset|file)$/i,xe=/^(?:input|select|textarea|keygen)/i;Bt.param=function(t,e){var n,i=[],r=function(t,e){var n=Bt.isFunction(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Bt.isArray(t)||t.jquery&&!Bt.isPlainObject(t))Bt.each(t,function(){r(this.name,this.value)});else for(n in t)M(n,t[n],e,r);return i.join("&")},Bt.fn.extend({serialize:function(){return Bt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=Bt.prop(this,"elements");return t?Bt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!Bt(this).is(":disabled")&&xe.test(this.nodeName)&&!Ge.test(t)&&(this.checked||!Dt.test(t))}).map(function(t,e){var n=Bt(this).val();return null==n?null:Bt.isArray(n)?Bt.map(n,function(t){return{name:e.name,value:t.replace(fe,"\r\n")}}):{name:e.name,value:n.replace(fe,"\r\n")}}).get()}});var Ve=/%20/g,Ze=/#.*$/,Re=/([?&])_=[^&]*/,Xe=/^(.*?):[ \t]*([^\r\n]*)$/gm,Le=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ee=/^(?:GET|HEAD)$/,ve=/^\/\//,Se={},We={},Ne="*/".concat("*"),Je=et.createElement("a");Je.href=be.href,Bt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:be.href,type:"GET",isLocal:Le.test(be.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ne,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":Bt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?K(K(t,Bt.ajaxSettings),e):K(Bt.ajaxSettings,t)},ajaxPrefilter:j(Se),ajaxTransport:j(We),ajax:function(e,n){function i(e,n,i,a){var c,Q,B,m,b,p=n;g||(g=!0,l&&t.clearTimeout(l),r=void 0,o=a||"",A.readyState=e>0?4:0,c=e>=200&&e<300||304===e,i&&(m=_(I,A,i)),m=q(I,m,A,c),c?(I.ifModified&&(b=A.getResponseHeader("Last-Modified"),b&&(Bt.lastModified[s]=b),(b=A.getResponseHeader("etag"))&&(Bt.etag[s]=b)),204===e||"HEAD"===I.type?p="nocontent":304===e?p="notmodified":(p=m.state,Q=m.data,B=m.error,c=!B)):(B=p,!e&&p||(p="error",e<0&&(e=0))),A.status=e,A.statusText=(n||p)+"",c?C.resolveWith(d,[Q,p,A]):C.rejectWith(d,[A,p,B]),A.statusCode(h),h=void 0,u&&F.trigger(c?"ajaxSuccess":"ajaxError",[A,I,c?Q:B]),U.fireWith(d,[A,p]),u&&(F.trigger("ajaxComplete",[A,I]),--Bt.active||Bt.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var r,s,o,a,l,c,g,u,Q,B,I=Bt.ajaxSetup({},n),d=I.context||I,F=I.context&&(d.nodeType||d.jquery)?Bt(d):Bt.event,C=Bt.Deferred(),U=Bt.Callbacks("once memory"),h=I.statusCode||{},m={},b={},p="canceled",A={readyState:0,getResponseHeader:function(t){var e;if(g){if(!a)for(a={};e=Xe.exec(o);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return g?o:null},setRequestHeader:function(t,e){return null==g&&(t=b[t.toLowerCase()]=b[t.toLowerCase()]||t,m[t]=e),this},overrideMimeType:function(t){return null==g&&(I.mimeType=t),this},statusCode:function(t){var e;if(t)if(g)A.always(t[A.status]);else for(e in t)h[e]=[h[e],t[e]];return this},abort:function(t){var e=t||p;return r&&r.abort(e),i(0,e),this}};if(C.promise(A),I.url=((e||I.url||be.href)+"").replace(ve,be.protocol+"//"),I.type=n.method||n.type||I.method||I.type,I.dataTypes=(I.dataType||"*").toLowerCase().match(Vt)||[""],null==I.crossDomain){c=et.createElement("a");try{c.href=I.url,c.href=c.href,I.crossDomain=Je.protocol+"//"+Je.host!=c.protocol+"//"+c.host}catch(t){I.crossDomain=!0}}if(I.data&&I.processData&&"string"!=typeof I.data&&(I.data=Bt.param(I.data,I.traditional)),P(Se,I,n,A),g)return A;u=Bt.event&&I.global,u&&0==Bt.active++&&Bt.event.trigger("ajaxStart"),I.type=I.type.toUpperCase(),I.hasContent=!Ee.test(I.type),s=I.url.replace(Ze,""),I.hasContent?I.data&&I.processData&&0===(I.contentType||"").indexOf("application/x-www-form-urlencoded")&&(I.data=I.data.replace(Ve,"+")):(B=I.url.slice(s.length),I.data&&(s+=(Ae.test(s)?"&":"?")+I.data,delete I.data),!1===I.cache&&(s=s.replace(Re,"$1"),B=(Ae.test(s)?"&":"?")+"_="+pe+++B),I.url=s+B),I.ifModified&&(Bt.lastModified[s]&&A.setRequestHeader("If-Modified-Since",Bt.lastModified[s]),Bt.etag[s]&&A.setRequestHeader("If-None-Match",Bt.etag[s])),(I.data&&I.hasContent&&!1!==I.contentType||n.contentType)&&A.setRequestHeader("Content-Type",I.contentType),A.setRequestHeader("Accept",I.dataTypes[0]&&I.accepts[I.dataTypes[0]]?I.accepts[I.dataTypes[0]]+("*"!==I.dataTypes[0]?", "+Ne+"; q=0.01":""):I.accepts["*"]);for(Q in I.headers)A.setRequestHeader(Q,I.headers[Q]);if(I.beforeSend&&(!1===I.beforeSend.call(d,A,I)||g))return A.abort();if(p="abort",U.add(I.complete),A.done(I.success),A.fail(I.error),r=P(We,I,n,A)){if(A.readyState=1,u&&F.trigger("ajaxSend",[A,I]),g)return A;I.async&&I.timeout>0&&(l=t.setTimeout(function(){A.abort("timeout")},I.timeout));try{g=!1,r.send(m,i)}catch(t){if(g)throw t;i(-1,t)}}else i(-1,"No Transport");return A},getJSON:function(t,e,n){return Bt.get(t,e,n,"json")},getScript:function(t,e){return Bt.get(t,void 0,e,"script")}}),Bt.each(["get","post"],function(t,e){Bt[e]=function(t,n,i,r){return Bt.isFunction(n)&&(r=r||i,i=n,n=void 0),Bt.ajax(Bt.extend({url:t,type:e,dataType:r,data:n,success:i},Bt.isPlainObject(t)&&t))}}),Bt._evalUrl=function(t){return Bt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},Bt.fn.extend({wrapAll:function(t){var e;return this[0]&&(Bt.isFunction(t)&&(t=t.call(this[0])),e=Bt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return Bt.isFunction(t)?this.each(function(e){Bt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=Bt(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=Bt.isFunction(t);return this.each(function(n){Bt(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){Bt(this).replaceWith(this.childNodes)}),this}}),Bt.expr.pseudos.hidden=function(t){return!Bt.expr.pseudos.visible(t)},Bt.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},Bt.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var Ye={0:200,1223:204},He=Bt.ajaxSettings.xhr();Qt.cors=!!He&&"withCredentials"in He,Qt.ajax=He=!!He,Bt.ajaxTransport(function(e){var n,i;if(Qt.cors||He&&!e.crossDomain)return{send:function(r,s){var o,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)a[o]=e.xhrFields[o];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(o in r)a.setRequestHeader(o,r[o]);n=function(t){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?s(0,"error"):s(a.status,a.statusText):s(Ye[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=n("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){n&&i()})},n=n("abort");try{a.send(e.hasContent&&e.data||null)}catch(t){if(n)throw t}},abort:function(){n&&n()}}}),Bt.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),Bt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return Bt.globalEval(t),t}}}),Bt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),Bt.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,r){e=Bt("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),et.head.appendChild(e[0])},abort:function(){n&&n()}}}});var ke=[],Te=/(=)\?(?=&|$)|\?\?/;Bt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=ke.pop()||Bt.expando+"_"+pe++;return this[t]=!0,t}}),Bt.ajaxPrefilter("json jsonp",function(e,n,i){var r,s,o,a=!1!==e.jsonp&&(Te.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Te.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=Bt.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Te,"$1"+r):!1!==e.jsonp&&(e.url+=(Ae.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||Bt.error(r+" was not called"),o[0]},e.dataTypes[0]="json",s=t[r],t[r]=function(){o=arguments},i.always(function(){void 0===s?Bt(t).removeProp(r):t[r]=s,e[r]&&(e.jsonpCallback=n.jsonpCallback,ke.push(r)),o&&Bt.isFunction(s)&&s(o[0]),o=s=void 0}),"script"}),Qt.createHTMLDocument=function(){var t=et.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),Bt.parseHTML=function(t,e,n){if("string"!=typeof t)return[];"boolean"==typeof e&&(n=e,e=!1);var i,r,s;return e||(Qt.createHTMLDocument?(e=et.implementation.createHTMLDocument(""),i=e.createElement("base"),i.href=et.location.href,e.head.appendChild(i)):e=et),r=pt.exec(t),s=!n&&[],r?[e.createElement(r[1])]:(r=h([t],e,s),s&&s.length&&Bt(s).remove(),Bt.merge([],r.childNodes))},Bt.fn.load=function(t,e,n){var i,r,s,o=this,a=t.indexOf(" ");return a>-1&&(i=O(t.slice(a)),t=t.slice(0,a)),Bt.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),o.length>0&&Bt.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){s=arguments,o.html(i?Bt("<div>").append(Bt.parseHTML(t)).find(i):t)}).always(n&&function(t,e){o.each(function(){n.apply(this,s||[t.responseText,e,t])})}),this},Bt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){Bt.fn[e]=function(t){return this.on(e,t)}}),Bt.expr.pseudos.animated=function(t){return Bt.grep(Bt.timers,function(e){return t===e.elem}).length},Bt.offset={setOffset:function(t,e,n){var i,r,s,o,a,l,c,g=Bt.css(t,"position"),u=Bt(t),Q={};"static"===g&&(t.style.position="relative"),a=u.offset(),s=Bt.css(t,"top"),l=Bt.css(t,"left"),c=("absolute"===g||"fixed"===g)&&(s+l).indexOf("auto")>-1,c?(i=u.position(),o=i.top,r=i.left):(o=parseFloat(s)||0,r=parseFloat(l)||0),Bt.isFunction(e)&&(e=e.call(t,n,Bt.extend({},a))),null!=e.top&&(Q.top=e.top-a.top+o),null!=e.left&&(Q.left=e.left-a.left+r),"using"in e?e.using.call(t,Q):u.css(Q)}},Bt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){Bt.offset.setOffset(this,t,e)});var e,n,i,r,s=this[0];if(s)return s.getClientRects().length?(i=s.getBoundingClientRect(),i.width||i.height?(r=s.ownerDocument,n=$(r),e=r.documentElement,{top:i.top+n.pageYOffset-e.clientTop,left:i.left+n.pageXOffset-e.clientLeft}):i):{top:0,left:0}},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===Bt.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),Bt.nodeName(t[0],"html")||(i=t.offset()),i={top:i.top+Bt.css(t[0],"borderTopWidth",!0),left:i.left+Bt.css(t[0],"borderLeftWidth",!0)}),{top:e.top-i.top-Bt.css(n,"marginTop",!0),left:e.left-i.left-Bt.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===Bt.css(t,"position");)t=t.offsetParent;return t||jt})}}),Bt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;Bt.fn[t]=function(i){return Xt(this,function(t,i,r){var s=$(t);if(void 0===r)return s?s[e]:t[i];s?s.scrollTo(n?s.pageXOffset:r,n?r:s.pageYOffset):t[i]=r},t,i,arguments.length)}}),Bt.each(["top","left"],function(t,e){Bt.cssHooks[e]=L(Qt.pixelPosition,function(t,n){if(n)return n=X(t,e),re.test(n)?Bt(t).position()[e]+"px":n})}),Bt.each({Height:"height",Width:"width"},function(t,e){Bt.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){Bt.fn[i]=function(r,s){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===s?"margin":"border");return Xt(this,function(e,n,r){var s;return Bt.isWindow(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body["scroll"+t],s["scroll"+t],e.body["offset"+t],s["offset"+t],s["client"+t])):void 0===r?Bt.css(e,n,a):Bt.style(e,n,r,a)},e,o?r:void 0,o)}})}),Bt.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),Bt.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Bt});var De=t.jQuery,we=t.$;return Bt.noConflict=function(e){return t.$===Bt&&(t.$=we),e&&t.jQuery===Bt&&(t.jQuery=De),Bt},e||(t.jQuery=t.$=Bt),Bt}),function(){function t(t,e){t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):s(t,e))}function e(t,e){return t.raw=e,t}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function r(t,e){var n=e({},t);return delete n.default,n}function s(t,e){for(var n=Object.getOwnPropertyNames(e),i=0;i<n.length;i++){var r=n[i],s=Object.getOwnPropertyDescriptor(e,r);s&&s.configurable&&void 0===t[r]&&Object.defineProperty(t,r,s)}return t}var o,a,l,c=this;!function(){function t(t,e){throw e?new Error("Could not find module "+t+" required by: "+e):new Error("Could not find module "+t)}function e(r,s){var o=r,l=n[o];l||(o+="/index",l=n[o]);var c=i[o];if(void 0!==c)return c;c=i[o]={},l||t(r,s);for(var g=l.deps,u=l.callback,Q=new Array(g.length),B=0;B<g.length;B++)"exports"===g[B]?Q[B]=c:"require"===g[B]?Q[B]=a:Q[B]=e(g[B],o);return u.apply(this,Q),c}if("undefined"==typeof window&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)||(l=this.Ember=this.Ember||{}),void 0===l&&(l={}),void 0===l.__loader){var n={},i={};o=function(t,e,i){var r={};i?(r.deps=e,r.callback=i):(r.deps=[],r.callback=e),n[t]=r},a=function(t){return e(t,null)},a.default=a,a.has=function(t){return!!n[t]||!!n[t+"/index"]},a._eak_seen=n,l.__loader={define:o,require:a,registry:n}}else o=l.__loader.define,a=l.__loader.require}();var g;g={inherits:t,taggedTemplateLiteralLoose:e,slice:Array.prototype.slice,createClass:i,interopExportWildcard:r,defaults:s},o("backburner",["exports"],function(t){"use strict";function e(t,e){for(var n=0;n<t.length;n++)e(t[n])}function n(t){return"string"==typeof t}function i(t){return"function"==typeof t}function r(t){return"number"==typeof t}function s(t){return r(t)||U.test(t)}function o(t,e){for(var n,i,r=0,s=e.length-2;r<s;)i=(s-r)/2,n=r+i-i%2,t>=e[n]?r=n+2:s=n;return t>=e[r]?r+2:r}function a(t,e,n){this.name=t,this.globalOptions=n||{},this.options=e,this._queue=[],this.targetQueues={},this._queueBeingFlushed=void 0}function l(t,n){var i=this.queues={};this.queueNames=t=t||[],this.options=n,e(t,function(t){i[t]=new a(t,n[t],n)})}function c(t){throw new Error("You attempted to schedule an action in a queue ("+t+") that doesn't exist")}function g(t){throw new Error("You attempted to schedule an action in a queue ("+t+") for a method that doesn't exist")}function u(t,e){this.queueNames=t,this.options=e||{},this.options.defaultQueue||(this.options.defaultQueue=t[0]),this.instanceStack=[],this._debouncees=[],this._throttlers=[],this._eventCallbacks={end:[],begin:[]};var n=this;this._boundClearItems=function(){C()},this._timerTimeoutId=void 0,this._timers=[],this._platform=this.options._platform||{setTimeout:function(t,e){return setTimeout(t,e)},clearTimeout:function(t){clearTimeout(t)}},this._boundRunExpiredTimers=function(){n._runExpiredTimers()}}function Q(t){return t.onError||t.onErrorTarget&&t.onErrorTarget[t.onErrorMethod]}function B(t){var e=t._platform.setTimeout;t.begin(),t._autorun=e(function(){t._autorun=null,t.end()},0)}function I(t,e,n){return F(t,e,n)}function d(t,e,n){return F(t,e,n)}function F(t,e,n){for(var i,r=-1,s=0,o=n.length;s<o;s++)if(i=n[s],i[0]===t&&i[1]===e){r=s;break}return r}function C(t){this._platform.clearTimeout(t[2])}var U=/\d+/;a.prototype={push:function(t,e,n,i){return this._queue.push(t,e,n,i),{queue:this,target:t,method:e}},pushUniqueWithoutGuid:function(t,e,n,i){for(var r=this._queue,s=0,o=r.length;s<o;s+=4){var a=r[s],l=r[s+1];if(a===t&&l===e)return r[s+2]=n,void(r[s+3]=i)}r.push(t,e,n,i)},targetQueue:function(t,e,n,i,r){for(var s=this._queue,o=0,a=t.length;o<a;o+=2){var l=t[o],c=t[o+1];if(l===n)return s[c+2]=i,void(s[c+3]=r)}t.push(n,s.push(e,n,i,r)-4)},pushUniqueWithGuid:function(t,e,n,i,r){var s=this.targetQueues[t];return s?this.targetQueue(s,e,n,i,r):this.targetQueues[t]=[n,this._queue.push(e,n,i,r)-4],{queue:this,target:e,method:n}},pushUnique:function(t,e,n,i){var r=this.globalOptions.GUID_KEY;if(t&&r){var s=t[r];if(s)return this.pushUniqueWithGuid(s,t,e,n,i)}return this.pushUniqueWithoutGuid(t,e,n,i),{queue:this,target:t,method:e}},
invoke:function(t,e,n){n&&n.length>0?e.apply(t,n):e.call(t)},invokeWithOnError:function(t,e,n,i,r){try{n&&n.length>0?e.apply(t,n):e.call(t)}catch(t){i(t,r)}},flush:function(t){var e=this._queue,i=e.length;if(0!==i){var r,s,o,a,l=this.globalOptions,c=this.options,g=c&&c.before,u=c&&c.after,Q=l.onError||l.onErrorTarget&&l.onErrorTarget[l.onErrorMethod],B=Q?this.invokeWithOnError:this.invoke;this.targetQueues=Object.create(null);var I=this._queueBeingFlushed=this._queue.slice();this._queue=[],g&&g();for(var d=0;d<i;d+=4)r=I[d],s=I[d+1],o=I[d+2],a=I[d+3],n(s)&&(s=r[s]),s&&B(r,s,o,Q,a);u&&u(),this._queueBeingFlushed=void 0,!1!==t&&this._queue.length>0&&this.flush(!0)}},cancel:function(t){var e,n,i,r,s=this._queue,o=t.target,a=t.method,l=this.globalOptions.GUID_KEY;if(l&&this.targetQueues&&o){var c=this.targetQueues[o[l]];if(c)for(i=0,r=c.length;i<r;i++)c[i]===a&&c.splice(i,1)}for(i=0,r=s.length;i<r;i+=4)if(e=s[i],n=s[i+1],e===o&&n===a)return s.splice(i,4),!0;if(s=this._queueBeingFlushed)for(i=0,r=s.length;i<r;i+=4)if(e=s[i],n=s[i+1],e===o&&n===a)return s[i+1]=null,!0}},l.prototype={schedule:function(t,e,n,i,r,s){var o=this.queues,a=o[t];return a||c(t),n||g(t),r?a.pushUnique(e,n,i,s):a.push(e,n,i,s)},flush:function(){for(var t,e,n=this.queues,i=this.queueNames,r=0,s=i.length;r<s;){t=i[r],e=n[t];0===e._queue.length?r++:(e.flush(!1),r=0)}}},u.prototype={begin:function(){var t=this.options,e=t&&t.onBegin,n=this.currentInstance;n&&this.instanceStack.push(n),this.currentInstance=new l(this.queueNames,t),this._trigger("begin",this.currentInstance,n),e&&e(this.currentInstance,n)},end:function(){var t=this.options,e=t&&t.onEnd,n=this.currentInstance,i=null,r=!1;try{n.flush()}finally{r||(r=!0,this.currentInstance=null,this.instanceStack.length&&(i=this.instanceStack.pop(),this.currentInstance=i),this._trigger("end",n,i),e&&e(n,i))}},_trigger:function(t,e,n){var i=this._eventCallbacks[t];if(i)for(var r=0;r<i.length;r++)i[r](e,n)},on:function(t,e){if("function"!=typeof e)throw new TypeError("Callback must be a function");var n=this._eventCallbacks[t];if(!n)throw new TypeError('Cannot on() event "'+t+'" because it does not exist');n.push(e)},off:function(t,e){if(!t)throw new TypeError('Cannot off() event "'+t+'" because it does not exist');var n=this._eventCallbacks[t],i=!1;if(n){if(e)for(var r=0;r<n.length;r++)n[r]===e&&(i=!0,n.splice(r,1),r--);if(!i)throw new TypeError("Cannot off() callback that does not exist")}},run:function(){var t,e,i,r=arguments.length;if(1===r?(t=arguments[0],e=null):(e=arguments[0],t=arguments[1]),n(t)&&(t=e[t]),r>2){i=new Array(r-2);for(var s=0,o=r-2;s<o;s++)i[s]=arguments[s+2]}else i=[];var a=Q(this.options);this.begin();var l=!1;if(a)try{return t.apply(e,i)}catch(t){a(t)}finally{l||(l=!0,this.end())}else try{return t.apply(e,i)}finally{l||(l=!0,this.end())}},join:function(){if(!this.currentInstance)return this.run.apply(this,arguments);var t,e,i=arguments.length;if(1===i?(t=arguments[0],e=null):(e=arguments[0],t=arguments[1]),n(t)&&(t=e[t]),1===i)return t();if(2===i)return t.call(e);for(var r=new Array(i-2),s=0,o=i-2;s<o;s++)r[s]=arguments[s+2];return t.apply(e,r)},defer:function(t){var e,i,r,s=arguments.length;2===s?(e=arguments[1],i=null):(i=arguments[1],e=arguments[2]),n(e)&&(e=i[e]);var o=this.DEBUG?new Error:void 0;if(s>3){r=new Array(s-3);for(var a=3;a<s;a++)r[a-3]=arguments[a]}else r=void 0;return this.currentInstance||B(this),this.currentInstance.schedule(t,i,e,r,!1,o)},deferOnce:function(t){var e,i,r,s=arguments.length;2===s?(e=arguments[1],i=null):(i=arguments[1],e=arguments[2]),n(e)&&(e=i[e]);var o=this.DEBUG?new Error:void 0;if(s>3){r=new Array(s-3);for(var a=3;a<s;a++)r[a-3]=arguments[a]}else r=void 0;return this.currentInstance||B(this),this.currentInstance.schedule(t,i,e,r,!0,o)},setTimeout:function(){function t(){if(C)try{a.apply(c,r)}catch(t){C(t)}else a.apply(c,r)}for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];var a,l,c,g,u,B,I=r.length;if(0!==I){if(1===I)a=r.shift(),l=0;else if(2===I)g=r[0],u=r[1],i(u)||i(g[u])?(c=r.shift(),a=r.shift(),l=0):s(u)?(a=r.shift(),l=r.shift()):(a=r.shift(),l=0);else{var d=r[r.length-1];l=s(d)?r.pop():0,g=r[0],B=r[1],i(B)||n(B)&&null!==g&&B in g?(c=r.shift(),a=r.shift()):a=r.shift()}var F=Date.now()+parseInt(l!==l?0:l,10);n(a)&&(a=c[a]);var C=Q(this.options);return this._setTimeout(t,F)}},_setTimeout:function(t,e){if(0===this._timers.length)return this._timers.push(e,t),this._installTimerTimeout(),t;var n=o(e,this._timers);return this._timers.splice(n,0,e,t),0===n&&this._reinstallTimerTimeout(),t},throttle:function(t,e){for(var i=this,s=new Array(arguments.length),o=0;o<arguments.length;o++)s[o]=arguments[o];var a,l,c,g,u=s.pop();return r(u)||n(u)?(a=u,u=!0):a=s.pop(),a=parseInt(a,10),(c=d(t,e,this._throttlers))>-1?this._throttlers[c]:(g=this._platform.setTimeout(function(){u||i.run.apply(i,s);var n=d(t,e,i._throttlers);n>-1&&i._throttlers.splice(n,1)},a),u&&this.run.apply(this,s),l=[t,e,g],this._throttlers.push(l),l)},debounce:function(t,e){for(var i=this,s=new Array(arguments.length),o=0;o<arguments.length;o++)s[o]=arguments[o];var a,l,c,g,u=s.pop();return r(u)||n(u)?(a=u,u=!1):a=s.pop(),a=parseInt(a,10),l=I(t,e,this._debouncees),l>-1&&(c=this._debouncees[l],this._debouncees.splice(l,1),this._platform.clearTimeout(c[2])),g=this._platform.setTimeout(function(){u||i.run.apply(i,s);var n=I(t,e,i._debouncees);n>-1&&i._debouncees.splice(n,1)},a),u&&-1===l&&i.run.apply(i,s),c=[t,e,g],i._debouncees.push(c),c},cancelTimers:function(){e(this._throttlers,this._boundClearItems),this._throttlers=[],e(this._debouncees,this._boundClearItems),this._debouncees=[],this._clearTimerTimeout(),this._timers=[],this._autorun&&(this._platform.clearTimeout(this._autorun),this._autorun=null)},hasTimers:function(){return!!this._timers.length||!!this._debouncees.length||!!this._throttlers.length||this._autorun},cancel:function(t){var e=typeof t;if(t&&"object"===e&&t.queue&&t.method)return t.queue.cancel(t);if("function"!==e)return"[object Array]"===Object.prototype.toString.call(t)?this._cancelItem(d,this._throttlers,t)||this._cancelItem(I,this._debouncees,t):void 0;for(var n=0,i=this._timers.length;n<i;n+=2)if(this._timers[n+1]===t)return this._timers.splice(n,2),0===n&&this._reinstallTimerTimeout(),!0},_cancelItem:function(t,e,n){var i,r;return!(n.length<3)&&((r=t(n[0],n[1],e))>-1&&(i=e[r],i[2]===n[2])&&(e.splice(r,1),this._platform.clearTimeout(n[2]),!0))},_runExpiredTimers:function(){this._timerTimeoutId=void 0,this.run(this,this._scheduleExpiredTimers)},_scheduleExpiredTimers:function(){for(var t=Date.now(),e=this._timers,n=0,i=e.length;n<i;n+=2){var r=e[n],s=e[n+1];if(!(r<=t))break;this.schedule(this.options.defaultQueue,null,s)}e.splice(0,n),this._installTimerTimeout()},_reinstallTimerTimeout:function(){this._clearTimerTimeout(),this._installTimerTimeout()},_clearTimerTimeout:function(){this._timerTimeoutId&&(this._platform.clearTimeout(this._timerTimeoutId),this._timerTimeoutId=void 0)},_installTimerTimeout:function(){if(this._timers.length){var t=this._timers[0],e=Date.now(),n=Math.max(0,t-e);this._timerTimeoutId=this._platform.setTimeout(this._boundRunExpiredTimers,n)}}},u.prototype.schedule=u.prototype.defer,u.prototype.scheduleOnce=u.prototype.deferOnce,u.prototype.later=u.prototype.setTimeout,t.default=u,Object.defineProperty(t,"__esModule",{value:!0})}),o("container/container",["exports","ember-utils","ember-environment","ember-metal"],function(t,e,n,i){"use strict";function r(t,n){this.registry=t,this.owner=n&&n.owner?n.owner:null,this.cache=e.dictionary(n&&n.cache?n.cache:null),this.factoryCache=e.dictionary(n&&n.factoryCache?n.factoryCache:null),this.validationCache=e.dictionary(n&&n.validationCache?n.validationCache:null),this._fakeContainerToInject=U(this),this[m]=void 0,this.isDestroyed=!1}function s(t,e){return!1!==t.registry.getOption(e,"singleton")}function o(t,e){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];if(!n.source||(e=t.registry.expandLocalLookup(e,n))){if(void 0!==t.cache[e]&&!1!==n.singleton)return t.cache[e];var i=B(t,e);if(void 0!==i)return s(t,e)&&!1!==n.singleton&&(t.cache[e]=i),i}}function a(t){t._dynamic=!0}function l(t){return!!t._dynamic}function c(){var t={};if(arguments.length>1){for(var e=arguments[0],n=[],i=void 0,r=1;r<arguments.length;r++)arguments[r]&&(n=n.concat(arguments[r]));e.registry.validateInjections(n);for(var r=0;r<n.length;r++)i=n[r],t[i.property]=o(e,i.fullName),s(e,i.fullName)||a(t)}return t}function g(t,e){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=t.registry;if(!i.source||(e=r.expandLocalLookup(e,i))){var s=t.factoryCache;if(s[e])return s[e];var o=r.resolve(e);if(void 0!==o){var a=e.split(":")[0];if(!o||"function"!=typeof o.extend||!n.ENV.MODEL_FACTORY_INJECTIONS&&"model"===a)return o&&"function"==typeof o._onLookup&&o._onLookup(e),s[e]=o,o;var c=u(t,e),g=Q(t,e),B=!l(c)&&!l(g);g._toString=r.makeToString(o,e);var d=o.extend(c);return I(d.prototype,t),d.reopenClass(g),o&&"function"==typeof o._onLookup&&o._onLookup(e),B&&(s[e]=d),d}}}function u(t,n){var i=t.registry,r=n.split(":"),s=r[0],o=c(t,i.getTypeInjections(s),i.getInjections(n));return o._debugContainerKey=n,e.setOwner(o,t.owner),o}function Q(t,e){var n=t.registry,i=e.split(":"),r=i[0],s=c(t,n.getFactoryTypeInjections(r),n.getFactoryInjections(e));return s._debugContainerKey=e,s}function B(t,e){var n=g(t,e),i=void 0;if(!1===t.registry.getOption(e,"instantiate"))return n;if(n){if("function"!=typeof n.create)throw new Error("Failed to create an instance of '"+e+"'. Most likely an improperly defined class or an invalid module export.");i=t.validationCache,i[e]=!0;var r=void 0;if("function"==typeof n.extend)r=n.create();else{var s=u(t,e);s.container=t._fakeContainerToInject,r=n.create(s),!Object.isFrozen(r)&&"container"in r&&I(r,t)}return r}}function I(t,e){Object.defineProperty(t,"container",{configurable:!0,enumerable:!1,get:function(){return this[m]||e},set:function(t){return this[m]=t,t}})}function d(t,e){for(var n=t.cache,i=Object.keys(n),r=0;r<i.length;r++){var s=i[r],o=n[s];!1!==t.registry.getOption(s,"instantiate")&&e(o)}}function F(t){d(t,function(t){t.destroy&&t.destroy()}),t.cache.dict=e.dictionary(null)}function C(t,e){var n=t.cache[e];delete t.factoryCache[e],n&&(delete t.cache[e],n.destroy&&n.destroy())}function U(t){var e={},n={lookup:"lookup",lookupFactory:"_lookupFactory"};for(var i in n)e[i]=h(t,i,n[i]);return e}function h(t,e,n){return function(){return t[e].apply(t,arguments)}}t.default=r,t.buildFakeContainerWithDeprecations=U;var m=e.symbol("CONTAINER_OVERRIDE");r.prototype={owner:null,registry:null,cache:null,factoryCache:null,validationCache:null,lookup:function(t,e){return o(this,this.registry.normalize(t),e)},lookupFactory:function(t,e){return g(this,this.registry.normalize(t),e)},destroy:function(){d(this,function(t){t.destroy&&t.destroy()}),this.isDestroyed=!0},reset:function(t){arguments.length>0?C(this,this.registry.normalize(t)):F(this)},ownerInjection:function(){var t;return t={},t[e.OWNER]=this.owner,t}}}),o("container/index",["exports","container/registry","container/container"],function(t,e,n){"use strict";t.Registry=e.default,t.privatize=e.privatize,t.Container=n.default,t.buildFakeContainerWithDeprecations=n.buildFakeContainerWithDeprecations}),o("container/registry",["exports","ember-utils","ember-metal","container/container"],function(t,e,n,i){"use strict";function r(t){this.fallback=t&&t.fallback?t.fallback:null,t&&t.resolver&&(this.resolver=t.resolver,"function"==typeof this.resolver&&s(this)),this.registrations=e.dictionary(t&&t.registrations?t.registrations:null),this._typeInjections=e.dictionary(null),this._injections=e.dictionary(null),this._factoryTypeInjections=e.dictionary(null),this._factoryInjections=e.dictionary(null),this._localLookupCache=new e.EmptyObject,this._normalizeCache=e.dictionary(null),this._resolveCache=e.dictionary(null),this._failCache=e.dictionary(null),this._options=e.dictionary(null),this._typeOptions=e.dictionary(null)}function s(t){t.resolver={resolve:t.resolver}}function o(t,n,i){var r=t._localLookupCache,s=r[n];s||(s=r[n]=new e.EmptyObject);var o=s[i];if(void 0!==o)return o;var a=t.resolver.expandLocalLookup(n,i);return s[i]=a}function a(t,e,n){if(!n||!n.source||(e=t.expandLocalLookup(e,n))){var i=t._resolveCache[e];if(void 0!==i)return i;if(!t._failCache[e]){var r=void 0;return t.resolver&&(r=t.resolver.resolve(e)),void 0===r&&(r=t.registrations[e]),void 0===r?t._failCache[e]=!0:t._resolveCache[e]=r,r}}}function l(t,e,n){return void 0!==t.resolve(e,{source:n})}function c(t){var n=t[0],i=u[n];if(i)return i;var r=n.split(":"),s=r[0],o=r[1];return u[n]=e.intern(s+":"+o+"-"+Q)}t.default=r,t.privatize=c;var g=/^[^:]+:[^:]+$/;r.prototype={fallback:null,resolver:null,registrations:null,_typeInjections:null,_injections:null,_factoryTypeInjections:null,_factoryInjections:null,_normalizeCache:null,_resolveCache:null,_options:null,_typeOptions:null,container:function(t){return new i.default(this,t)},register:function(t,e){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];if(void 0===e)throw new TypeError("Attempting to register an unknown factory: '"+t+"'");var i=this.normalize(t);if(this._resolveCache[i])throw new Error("Cannot re-register: '"+t+"', as it has already been resolved.");delete this._failCache[i],this.registrations[i]=e,this._options[i]=n},unregister:function(t){var n=this.normalize(t);this._localLookupCache=new e.EmptyObject,delete this.registrations[n],delete this._resolveCache[n],delete this._failCache[n],delete this._options[n]},resolve:function(t,e){var n=a(this,this.normalize(t),e);if(void 0===n&&this.fallback){var i;n=(i=this.fallback).resolve.apply(i,arguments)}return n},describe:function(t){return this.resolver&&this.resolver.lookupDescription?this.resolver.lookupDescription(t):this.fallback?this.fallback.describe(t):t},normalizeFullName:function(t){return this.resolver&&this.resolver.normalize?this.resolver.normalize(t):this.fallback?this.fallback.normalizeFullName(t):t},normalize:function(t){return this._normalizeCache[t]||(this._normalizeCache[t]=this.normalizeFullName(t))},makeToString:function(t,e){return this.resolver&&this.resolver.makeToString?this.resolver.makeToString(t,e):this.fallback?this.fallback.makeToString(t,e):t.toString()},has:function(t,e){if(!this.isValidFullName(t))return!1;var n=e&&e.source&&this.normalize(e.source);return l(this,this.normalize(t),n)},optionsForType:function(t,e){this._typeOptions[t]=e},getOptionsForType:function(t){var e=this._typeOptions[t];return void 0===e&&this.fallback&&(e=this.fallback.getOptionsForType(t)),e},options:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=this.normalize(t);this._options[n]=e},getOptions:function(t){var e=this.normalize(t),n=this._options[e];return void 0===n&&this.fallback&&(n=this.fallback.getOptions(t)),n},getOption:function(t,e){var n=this._options[t];if(n&&void 0!==n[e])return n[e];var i=t.split(":")[0];return n=this._typeOptions[i],n&&void 0!==n[e]?n[e]:this.fallback?this.fallback.getOption(t,e):void 0},typeInjection:function(t,e,n){if(n.split(":")[0]===t)throw new Error("Cannot inject a '"+n+"' on other "+t+"(s).");(this._typeInjections[t]||(this._typeInjections[t]=[])).push({property:e,fullName:n})},injection:function(t,e,n){this.validateFullName(n);var i=this.normalize(n);if(-1===t.indexOf(":"))return this.typeInjection(t,e,i);var r=this.normalize(t);(this._injections[r]||(this._injections[r]=[])).push({property:e,fullName:i})},factoryTypeInjection:function(t,e,n){(this._factoryTypeInjections[t]||(this._factoryTypeInjections[t]=[])).push({property:e,fullName:this.normalize(n)})},factoryInjection:function(t,e,n){var i=this.normalize(t),r=this.normalize(n);if(this.validateFullName(n),-1===t.indexOf(":"))return this.factoryTypeInjection(i,e,r);(this._factoryInjections[i]||(this._factoryInjections[i]=[])).push({property:e,fullName:r})},knownForType:function(t){for(var n=void 0,i=void 0,r=e.dictionary(null),s=Object.keys(this.registrations),o=0;o<s.length;o++){var a=s[o];a.split(":")[0]===t&&(r[a]=!0)}return this.fallback&&(n=this.fallback.knownForType(t)),this.resolver&&this.resolver.knownForType&&(i=this.resolver.knownForType(t)),e.assign({},n,r,i)},validateFullName:function(t){if(!this.isValidFullName(t))throw new TypeError("Invalid Fullname, expected: 'type:name' got: "+t);return!0},isValidFullName:function(t){return!!g.test(t)},validateInjections:function(t){if(t)for(var e=void 0,n=0;n<t.length;n++)if(e=t[n].fullName,!this.has(e))throw new Error("Attempting to inject an unknown injection: '"+e+"'")},normalizeInjectionsHash:function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({property:n,fullName:t[n]});return e},getInjections:function(t){var e=this._injections[t]||[];return this.fallback&&(e=e.concat(this.fallback.getInjections(t))),e},getTypeInjections:function(t){var e=this._typeInjections[t]||[];return this.fallback&&(e=e.concat(this.fallback.getTypeInjections(t))),e},getFactoryInjections:function(t){var e=this._factoryInjections[t]||[];return this.fallback&&(e=e.concat(this.fallback.getFactoryInjections(t))),e},getFactoryTypeInjections:function(t){var e=this._factoryTypeInjections[t]||[];return this.fallback&&(e=e.concat(this.fallback.getFactoryTypeInjections(t))),e}},r.prototype.expandLocalLookup=function(t,e){if(this.resolver&&this.resolver.expandLocalLookup){return o(this,this.normalize(t),this.normalize(e.source))}return this.fallback?this.fallback.expandLocalLookup(t,e):null};var u=e.dictionary(null),Q=""+Math.random()+Date.now()}),o("dag-map",["exports"],function(t){"use strict";var e=function(){function t(){this._vertices=new n}return t.prototype.add=function(t,e,n,i){var r=this._vertices,s=r.add(t);if(s.val=e,n)if("string"==typeof n)r.addEdge(s,r.add(n));else for(var o=0;o<n.length;o++)r.addEdge(s,r.add(n[o]));if(i)if("string"==typeof i)r.addEdge(r.add(i),s);else for(var o=0;o<i.length;o++)r.addEdge(r.add(i[o]),s)},t.prototype.topsort=function(t){this._vertices.topsort(t)},t}(),n=function(){function t(){this.stack=new i,this.result=new i,this.vertices=[]}return t.prototype.add=function(t){if(!t)throw new Error("missing key");for(var e,n=this.vertices,i=0;i<n.length;i++)if(e=n[i],e.key===t)return e;return n[i]={id:i,key:t,val:null,inc:null,out:!1,mark:!1}},t.prototype.addEdge=function(t,e){this.check(t,e.key);var n=e.inc;if(n){for(var i=0;i<n.length;i++)if(n[i]===t.id)return;n[i]=t.id}else e.inc=[t.id];t.out=!0},t.prototype.topsort=function(t){this.reset();for(var e=this.vertices,n=0;n<e.length;n++){var i=e[n];i.out||this.visit(i,void 0)}this.each(t)},t.prototype.check=function(t,e){if(t.key===e)throw new Error("cycle detected: "+e+" <- "+e);var n=t.inc;if(n&&0!==n.length){for(var i=this.vertices,r=0;r<n.length;r++){if(i[n[r]].key===e)throw new Error("cycle detected: "+e+" <- "+t.key+" <- "+e)}if(this.reset(),this.visit(t,e),this.result.len>0){var s="cycle detected: "+e;throw this.each(function(t){s+=" <- "+t}),new Error(s)}}},t.prototype.each=function(t){for(var e=this,n=e.result,i=e.vertices,r=0;r<n.len;r++){var s=i[n.stack[r]];t(s.key,s.val)}},t.prototype.reset=function(){this.stack.len=0,this.result.len=0;for(var t=this.vertices,e=0;e<t.length;e++)t[e].mark=!1},t.prototype.visit=function(t,e){var n=this,i=n.stack,r=n.result,s=n.vertices;for(i.push(t.id);i.len;){var o=i.pop();if(o<0)o=~o,e?r.pop():r.push(o);else{var a=s[o];if(a.mark)continue;if(e&&(r.push(o),e===a.key))return;a.mark=!0,i.push(~o);var l=a.inc;if(l)for(var c=l.length;c--;)o=l[c],s[o].mark||i.push(o)}}},t}(),i=function(){function t(){this.stack=[0,0,0,0,0,0],this.len=0}return t.prototype.push=function(t){this.stack[this.len++]=t},t.prototype.pop=function(){return this.stack[--this.len]},t}();t.default=e,Object.defineProperty(t,"__esModule",{value:!0})}),o("ember-application/index",["exports","ember-application/initializers/dom-templates","ember-application/system/application","ember-application/system/application-instance","ember-application/system/resolver","ember-application/system/engine","ember-application/system/engine-instance","ember-application/system/engine-parent"],function(t,e,n,i,r,s,o,a){"use strict";t.Application=n.default,t.ApplicationInstance=i.default,t.Resolver=r.default,t.Engine=s.default,t.EngineInstance=o.default,t.getEngineParent=a.getEngineParent,t.setEngineParent=a.setEngineParent}),o("ember-application/initializers/dom-templates",["exports","require","ember-glimmer","ember-environment","ember-application/system/application"],function(t,e,n,i,r){"use strict";var s=function(){};r.default.initializer({name:"domTemplates",initialize:function(){var t=void 0;i.environment.hasDOM&&e.has("ember-template-compiler/system/bootstrap")&&(s=e.default("ember-template-compiler/system/bootstrap").default,t=document),s({context:t,hasTemplate:n.hasTemplate,setTemplate:n.setTemplate})}})}),o("ember-application/system/application-instance",["exports","ember-utils","ember-metal","ember-runtime","ember-environment","ember-views","ember-application/system/engine-instance"],function(t,e,n,i,r,s,o){"use strict";var a=void 0,l=o.default.extend({application:null,customEvents:null,rootElement:null,init:function(){this._super.apply(this,arguments),this.register("-application-instance:main",this,{instantiate:!1})},_bootSync:function(t){if(this._booted)return this;if(t=new a(t),this.setupRegistry(t),t.rootElement?this.rootElement=t.rootElement:this.rootElement=this.application.rootElement,t.location){var e=n.get(this,"router");n.set(e,"location",t.location)}return this.application.runInstanceInitializers(this),t.isInteractive&&this.setupEventDispatcher(),this._booted=!0,this},setupRegistry:function(t){this.constructor.setupRegistry(this.__registry__,t)},router:n.computed(function(){return this.lookup("router:main")}).readOnly(),didCreateRootView:function(t){t.appendTo(this.rootElement)},startRouting:function(){n.get(this,"router").startRouting(),this._didSetupRouter=!0},setupRouter:function(){if(!this._didSetupRouter){this._didSetupRouter=!0;n.get(this,"router").setupRouter()}},handleURL:function(t){var e=n.get(this,"router");return this.setupRouter(),e.handleURL(t)},setupEventDispatcher:function(){var t=this.lookup("event_dispatcher:main"),i=n.get(this.application,"customEvents"),r=n.get(this,"customEvents"),s=e.assign({},i,r);return t.setup(s,this.rootElement),t},getURL:function(){var t=n.get(this,"router");return n.get(t,"url")},visit:function(t){var e=this;this.setupRouter();var r=this.__container__.lookup("-environment:main"),s=n.get(this,"router"),o=function(){return r.options.shouldRender?new i.RSVP.Promise(function(t){n.run.schedule("afterRender",null,t,e)}):e},a=function(t){if(t.error)throw t.error;if("TransitionAborted"===t.name&&s.router.activeTransition)return s.router.activeTransition.then(o,a);throw"TransitionAborted"===t.name?new Error(t.message):t},l=n.get(s,"location");return l.setURL(t),s.handleURL(l.getURL()).then(o,a)}});l.reopenClass({setupRegistry:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];e.toEnvironment||(e=new a(e)),t.register("-environment:main",e.toEnvironment(),{instantiate:!1}),t.register("service:-document",e.document,{instantiate:!1}),this._super(t,e)}}),a=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.jQuery=s.jQuery,this.isInteractive=r.environment.hasDOM,void 0!==t.isBrowser?this.isBrowser=!!t.isBrowser:this.isBrowser=r.environment.hasDOM,this.isBrowser||(this.jQuery=null,this.isInteractive=!1,this.location="none"),void 0!==t.shouldRender?this.shouldRender=!!t.shouldRender:this.shouldRender=!0,this.shouldRender||(this.jQuery=null,this.isInteractive=!1),t.document?this.document=t.document:this.document="undefined"!=typeof document?document:null,t.rootElement&&(this.rootElement=t.rootElement),void 0!==t.location&&(this.location=t.location),void 0!==t.jQuery&&(this.jQuery=t.jQuery),void 0!==t.isInteractive&&(this.isInteractive=!!t.isInteractive)},a.prototype.toEnvironment=function(){var t=e.assign({},r.environment);return t.hasDOM=this.isBrowser,t.isInteractive=this.isInteractive,t.options=this,t},Object.defineProperty(l.prototype,"container",{configurable:!0,enumerable:!1,get:function(){var t=this;return{lookup:function(){return t.lookup.apply(t,arguments)}}}}),Object.defineProperty(l.prototype,"registry",{configurable:!0,enumerable:!1,get:function(){return i.buildFakeRegistryWithDeprecations(this,"ApplicationInstance")}}),t.default=l}),o("ember-application/system/application",["exports","ember-utils","ember-environment","ember-metal","ember-runtime","ember-views","ember-routing","ember-application/system/application-instance","container","ember-application/system/engine","ember-glimmer"],function(t,e,n,i,r,s,o,a,l,c,u){"use strict";function Q(){U=!1,h=!1}function B(t){t.register("-view-registry:main",{create:function(){return e.dictionary(null)}}),t.register("route:basic",o.Route),t.register("event_dispatcher:main",s.EventDispatcher),t.injection("router:main","namespace","application:main"),t.register("location:auto",o.AutoLocation),t.register("location:hash",o.HashLocation),t.register("location:history",o.HistoryLocation),t.register("location:none",o.NoneLocation),t.register(l.privatize(F),o.BucketCache)}function I(){C||(C=!0,n.environment.hasDOM&&"function"==typeof s.jQuery&&i.libraries.registerCoreLibrary("jQuery",s.jQuery().jquery))}function d(){if(n.ENV.LOG_VERSION){n.ENV.LOG_VERSION=!1;for(var t=i.libraries._registry,e=t.map(function(t){return i.get(t,"name.length")}),r=Math.max.apply(this,e),s=0;s<t.length;s++){var o=t[s];new Array(r-o.name.length+1).join(" ")}}}t._resetLegacyAddonWarnings=Q;var F=g.taggedTemplateLiteralLoose(["-bucket-cache:main"],["-bucket-cache:main"]),C=!1,U=!1,h=!1,m=c.default.extend({_suppressDeferredDeprecation:!0,rootElement:"body",eventDispatcher:null,customEvents:null,autoboot:!0,_globalsMode:!0,init:function(t){this._super.apply(this,arguments),this.$||(this.$=s.jQuery),I(),d(),this._readinessDeferrals=1,this._booted=!1,this.autoboot=this._globalsMode=!!this.autoboot,this._globalsMode&&this._prepareForGlobalsMode(),this.autoboot&&this.waitForDOMReady()},buildInstance:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return t.base=this,t.application=this,a.default.create(t)},_prepareForGlobalsMode:function(){this.Router=(this.Router||o.Router).extend(),this._buildDeprecatedInstance()},_buildDeprecatedInstance:function(){var t=this.buildInstance();this.__deprecatedInstance__=t,this.__container__=t.__container__},waitForDOMReady:function(){!this.$||this.$.isReady?i.run.schedule("actions",this,"domReady"):this.$().ready(i.run.bind(this,"domReady"))},domReady:function(){this.isDestroyed||this._bootSync()},deferReadiness:function(){this._readinessDeferrals++},advanceReadiness:function(){0===--this._readinessDeferrals&&i.run.once(this,this.didBecomeReady)},boot:function(){if(this._bootPromise)return this._bootPromise;try{this._bootSync()}catch(t){}return this._bootPromise},_bootSync:function(){if(!this._booted){var t=this._bootResolver=new r.RSVP.defer;this._bootPromise=t.promise;try{this.runInitializers(),r.runLoadHooks("application",this),this.advanceReadiness()}catch(e){throw t.reject(e),e}}},reset:function(){function t(){i.run(e,"destroy"),this._buildDeprecatedInstance(),i.run.schedule("actions",this,"_bootSync")}var e=this.__deprecatedInstance__;this._readinessDeferrals=1,this._bootPromise=null,this._bootResolver=null,this._booted=!1,i.run.join(this,t)},didBecomeReady:function(){try{if(i.isTesting()||(r.Namespace.processAll(),r.setNamespaceSearchDisabled(!0)),this.autoboot){var t=void 0;t=this._globalsMode?this.__deprecatedInstance__:this.buildInstance(),t._bootSync(),this.ready(),t.startRouting()}this._bootResolver.resolve(this),this._booted=!0}catch(t){throw this._bootResolver.reject(t),t}},ready:function(){return this},willDestroy:function(){this._super.apply(this,arguments),r.setNamespaceSearchDisabled(!1),this._booted=!1,this._bootPromise=null,this._bootResolver=null,r._loaded.application===this&&(r._loaded.application=void 0),this._globalsMode&&this.__deprecatedInstance__&&this.__deprecatedInstance__.destroy()},visit:function(t,e){var n=this;return this.boot().then(function(){var r=n.buildInstance();return r.boot(e).then(function(){return r.visit(t)}).catch(function(t){throw i.run(r,"destroy"),t})})}});Object.defineProperty(m.prototype,"registry",{configurable:!0,enumerable:!1,get:function(){return r.buildFakeRegistryWithDeprecations(this,"Application")}}),m.reopenClass({buildRegistry:function(t){var e=(arguments.length<=1||void 0===arguments[1]||arguments[1],this._super.apply(this,arguments));return B(e),u.setupApplicationRegistry(e),e}}),t.default=m}),o("ember-application/system/engine-instance",["exports","ember-utils","ember-runtime","ember-metal","container","ember-application/system/engine-parent"],function(t,e,n,i,r,s){"use strict";var o=g.taggedTemplateLiteralLoose(["-bucket-cache:main"],["-bucket-cache:main"]),a=n.Object.extend(n.RegistryProxyMixin,n.ContainerProxyMixin,{base:null,init:function(){this._super.apply(this,arguments),e.guidFor(this);var t=this.base;t||(t=this.application,this.base=t);var n=this.__registry__=new r.Registry({fallback:t.__registry__});this.__container__=n.container({owner:this}),this._booted=!1},boot:function(t){var e=this;return this._bootPromise?this._bootPromise:(this._bootPromise=new n.RSVP.Promise(function(n){return n(e._bootSync(t))}),this._bootPromise)},_bootSync:function(t){return this._booted?this:(this.cloneParentDependencies(),this.setupRegistry(t),this.base.runInstanceInitializers(this),this._booted=!0,this)},setupRegistry:function(){var t=arguments.length<=0||void 0===arguments[0]?this.__container__.lookup("-environment:main"):arguments[0];this.constructor.setupRegistry(this.__registry__,t)},unregister:function(t){this.__container__.reset(t),this._super.apply(this,arguments)},willDestroy:function(){this._super.apply(this,arguments),i.run(this.__container__,"destroy")},buildChildEngineInstance:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=this.lookup("engine:"+t);if(!n)throw new i.Error("You attempted to mount the engine '"+t+"', but it is not registered with its parent.");var r=n.buildInstance(e);return s.setEngineParent(r,this),r},cloneParentDependencies:function(){var t=this,e=s.getEngineParent(this);["route:basic","event_dispatcher:main","service:-routing","service:-glimmer-environment"].forEach(function(n){return t.register(n,e.resolveRegistration(n))});var n=e.lookup("-environment:main");this.register("-environment:main",n,{instantiate:!1}),["router:main",r.privatize(o),"-view-registry:main","renderer:-"+(n.isInteractive?"dom":"inert")].forEach(function(n){return t.register(n,e.lookup(n),{instantiate:!1})}),this.inject("view","_environment","-environment:main"),this.inject("route","_environment","-environment:main")}});a.reopenClass({setupRegistry:function(t,e){e&&(t.injection("view","_environment","-environment:main"),t.injection("route","_environment","-environment:main"),e.isInteractive?(t.injection("view","renderer","renderer:-dom"),t.injection("component","renderer","renderer:-dom")):(t.injection("view","renderer","renderer:-inert"),t.injection("component","renderer","renderer:-inert")))}}),t.default=a}),o("ember-application/system/engine-parent",["exports","ember-utils"],function(t,e){"use strict";function n(t){return t[r]}function i(t,e){t[r]=e}t.getEngineParent=n,t.setEngineParent=i;var r=e.symbol("ENGINE_PARENT");t.ENGINE_PARENT=r}),o("ember-application/system/engine",["exports","ember-utils","ember-runtime","container","dag-map","ember-metal","ember-application/system/resolver","ember-application/system/engine-instance","ember-routing","ember-extension-support","ember-views","ember-glimmer"],function(t,e,n,i,r,s,o,a,l,c,u,Q){"use strict";function B(t){var e=[];for(var n in t)e.push(n);return e}function I(t){
return(t.get("Resolver")||o.default).create({namespace:t})}function d(t,e){return function(e){if(void 0!==this.superclass[t]&&this.superclass[t]===this[t]){var n={};n[t]=Object.create(this[t]),this.reopenClass(n)}this[t][e.name]=e}}function F(t){t.optionsForType("component",{singleton:!1}),t.optionsForType("view",{singleton:!1}),t.register("controller:basic",n.Controller,{instantiate:!1}),t.injection("view","_viewRegistry","-view-registry:main"),t.injection("renderer","_viewRegistry","-view-registry:main"),t.injection("event_dispatcher:main","_viewRegistry","-view-registry:main"),t.injection("route","_topLevelViewTemplate","template:-outlet"),t.injection("view:-outlet","namespace","application:main"),t.injection("controller","target","router:main"),t.injection("controller","namespace","application:main"),t.injection("router","_bucketCache",i.privatize(C)),t.injection("route","_bucketCache",i.privatize(C)),t.injection("route","router","router:main"),t.register("service:-routing",l.RoutingService),t.injection("service:-routing","router","router:main"),t.register("resolver-for-debugging:main",t.resolver,{instantiate:!1}),t.injection("container-debug-adapter:main","resolver","resolver-for-debugging:main"),t.injection("data-adapter:main","containerDebugAdapter","container-debug-adapter:main"),t.register("container-debug-adapter:main",c.ContainerDebugAdapter),t.register("component-lookup:main",u.ComponentLookup)}var C=g.taggedTemplateLiteralLoose(["-bucket-cache:main"],["-bucket-cache:main"]),U=n.Namespace.extend(n.RegistryProxyMixin,{init:function(){this._super.apply(this,arguments),this.buildRegistry()},_initializersRan:!1,ensureInitializers:function(){this._initializersRan||(this.runInitializers(),this._initializersRan=!0)},buildInstance:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return this.ensureInitializers(),t.base=this,a.default.create(t)},buildRegistry:function(){return this.__registry__=this.constructor.buildRegistry(this)},initializer:function(t){this.constructor.initializer(t)},instanceInitializer:function(t){this.constructor.instanceInitializer(t)},runInitializers:function(){var t=this;this._runInitializer("initializers",function(e,n){2===n.initialize.length?n.initialize(t.__registry__,t):n.initialize(t)})},runInstanceInitializers:function(t){this._runInitializer("instanceInitializers",function(e,n){n.initialize(t)})},_runInitializer:function(t,e){for(var n=s.get(this.constructor,t),i=B(n),o=new r.default,a=void 0,l=0;l<i.length;l++)a=n[i[l]],o.add(a.name,a,a.before,a.after);o.topsort(e)}});U.reopenClass({initializers:new e.EmptyObject,instanceInitializers:new e.EmptyObject,initializer:d("initializers","initializer"),instanceInitializer:d("instanceInitializers","instance initializer"),buildRegistry:function(t){var e=(arguments.length<=1||void 0===arguments[1]||arguments[1],new i.Registry({resolver:I(t)}));return e.set=s.set,e.register("application:main",t,{instantiate:!1}),F(e),Q.setupEngineRegistry(e),e},resolver:null,Resolver:null}),t.default=U}),o("ember-application/system/resolver",["exports","ember-utils","ember-metal","ember-runtime","ember-application/utils/validate-type","ember-glimmer"],function(t,e,n,i,r,s){"use strict";var o=i.Object.extend({namespace:null,normalize:null,resolve:null,parseName:null,lookupDescription:null,makeToString:null,resolveOther:null,_logLookup:null});t.Resolver=o,t.default=i.Object.extend({namespace:null,init:function(){this._parseNameCache=e.dictionary(null)},normalize:function(t){var e=t.split(":",2),n=e[0],i=e[1];if("template"!==n){var r=i;return r.indexOf(".")>-1&&(r=r.replace(/\.(.)/g,function(t){return t.charAt(1).toUpperCase()})),i.indexOf("_")>-1&&(r=r.replace(/_(.)/g,function(t){return t.charAt(1).toUpperCase()})),i.indexOf("-")>-1&&(r=r.replace(/-(.)/g,function(t){return t.charAt(1).toUpperCase()})),n+":"+r}return t},resolve:function(t){var e,n=this.parseName(t),i=n.resolveMethodName;return this[i]&&(e=this[i](n)),e=e||this.resolveOther(n),n.root&&n.root.LOG_RESOLVER&&this._logLookup(e,n),e&&r.default(e,n),e},parseName:function(t){return this._parseNameCache[t]||(this._parseNameCache[t]=this._parseName(t))},_parseName:function(t){var e=t.split(":"),r=e[0],s=e[1],o=s,a=n.get(this,"namespace"),l=a,c=o.lastIndexOf("/"),g=-1!==c?o.slice(0,c):null;if("template"!==r&&-1!==c){var u=o.split("/");o=u[u.length-1];var Q=i.String.capitalize(u.slice(0,-1).join("."));l=i.Namespace.byName(Q)}var B="main"===s?"Main":i.String.classify(r);if(!o||!r)throw new TypeError("Invalid fullName: `"+t+"`, must be of the form `type:name` ");return{fullName:t,type:r,fullNameWithoutType:s,dirname:g,name:o,root:l,resolveMethodName:"resolve"+B}},lookupDescription:function(t){var e=this.parseName(t),n=void 0;return"template"===e.type?"template at "+e.fullNameWithoutType.replace(/\./g,"/"):(n=e.root+"."+i.String.classify(e.name).replace(/\./g,""),"model"!==e.type&&(n+=i.String.classify(e.type)),n)},makeToString:function(t,e){return t.toString()},useRouterNaming:function(t){t.name=t.name.replace(/\./g,"_"),"basic"===t.name&&(t.name="")},resolveTemplate:function(t){var e=t.fullNameWithoutType.replace(/\./g,"/");return s.getTemplate(e)||s.getTemplate(i.String.decamelize(e))},resolveView:function(t){return this.useRouterNaming(t),this.resolveOther(t)},resolveController:function(t){return this.useRouterNaming(t),this.resolveOther(t)},resolveRoute:function(t){return this.useRouterNaming(t),this.resolveOther(t)},resolveModel:function(t){var e=i.String.classify(t.name);return n.get(t.root,e)},resolveHelper:function(t){return this.resolveOther(t)},resolveOther:function(t){var e=i.String.classify(t.name)+i.String.classify(t.type);return n.get(t.root,e)},resolveMain:function(t){var e=i.String.classify(t.type);return n.get(t.root,e)},_logLookup:function(t,e){e.fullName.length>60||new Array(60-e.fullName.length).join(".")},knownForType:function(t){for(var r=n.get(this,"namespace"),s=i.String.classify(t),o=new RegExp(s+"$"),a=e.dictionary(null),l=Object.keys(r),c=0;c<l.length;c++){var g=l[c];if(o.test(g)){a[this.translateToContainerFullname(t,g)]=!0}}return a},translateToContainerFullname:function(t,e){var n=i.String.classify(t),r=e.slice(0,-1*n.length);return t+":"+i.String.dasherize(r)}})}),o("ember-application/utils/validate-type",["exports","ember-metal"],function(t,e){"use strict";function n(t,e){var n=i[e.type];if(n){n[0],n[1],n[2]}}t.default=n;var i={route:["assert","isRouteFactory","Ember.Route"],component:["deprecate","isComponentFactory","Ember.Component"],view:["deprecate","isViewFactory","Ember.View"],service:["deprecate","isServiceFactory","Ember.Service"]}}),o("ember-console/index",["exports","ember-environment"],function(t,e){"use strict";function n(){}function i(t){var n=void 0;e.context.imports.console?n=e.context.imports.console:"undefined"!=typeof console&&(n=console);var i="object"==typeof n?n[t]:null;if("function"==typeof i)return"function"==typeof i.bind?i.bind(n):function(){i.apply(n,arguments)}}function r(t,e){if(!t)try{throw new Error("assertion failed: "+e)}catch(t){setTimeout(function(){throw t},0)}}t.default={log:i("log")||n,warn:i("warn")||n,error:i("error")||n,info:i("info")||n,debug:i("debug")||i("info")||n,assert:i("assert")||r}}),o("ember-environment/global",["exports"],function(t){"use strict";function e(t){return t&&t.Object===Object?t:void 0}t.default=e(function(t){return t&&void 0===t.nodeType?t:void 0}("object"==typeof global&&global))||e("object"==typeof self&&self)||e("object"==typeof window&&window)||c||new Function("return this")()}),o("ember-environment/index",["exports","ember-environment/global","ember-environment/utils"],function(t,e,n){"use strict";var i="object"==typeof e.default.EmberENV&&e.default.EmberENV||"object"==typeof e.default.ENV&&e.default.ENV||{};t.ENV=i,i.ENABLE_ALL_FEATURES&&(i.ENABLE_OPTIONAL_FEATURES=!0),i.EXTEND_PROTOTYPES=n.normalizeExtendPrototypes(i.EXTEND_PROTOTYPES),i.LOG_STACKTRACE_ON_DEPRECATION=n.defaultTrue(i.LOG_STACKTRACE_ON_DEPRECATION),i.LOG_VERSION=n.defaultTrue(i.LOG_VERSION),i.MODEL_FACTORY_INJECTIONS=n.defaultFalse(i.MODEL_FACTORY_INJECTIONS),i.LOG_BINDINGS=n.defaultFalse(i.LOG_BINDINGS),i.RAISE_ON_DEPRECATION=n.defaultFalse(i.RAISE_ON_DEPRECATION);var r="undefined"!=typeof window&&window===e.default&&window.document&&window.document.createElement&&!i.disableBrowserEnvironment,s=e.default.Ember||{},o={imports:s.imports||e.default,exports:s.exports||e.default,lookup:s.lookup||e.default};t.context=o;var a=r?{hasDOM:!0,isChrome:!!window.chrome&&!window.opera,isFirefox:"undefined"!=typeof InstallTrigger,isPhantom:!!window.callPhantom,location:window.location,history:window.history,userAgent:window.navigator.userAgent,window:window}:{hasDOM:!1,isChrome:!1,isFirefox:!1,isPhantom:!1,location:null,history:null,userAgent:"Lynx (textmode)",window:null};t.environment=a}),o("ember-environment/utils",["exports"],function(t){"use strict";function e(t){return!1!==t}function n(t){return!0===t}function i(t){return!1===t?{String:!1,Array:!1,Function:!1}:t&&!0!==t?{String:e(t.String),Array:e(t.Array),Function:e(t.Function)}:{String:!0,Array:!0,Function:!0}}t.defaultTrue=e,t.defaultFalse=n,t.normalizeExtendPrototypes=i}),o("ember-extension-support/container_debug_adapter",["exports","ember-metal","ember-runtime"],function(t,e,n){"use strict";t.default=n.Object.extend({resolver:null,canCatalogEntriesByType:function(t){return"model"!==t&&"template"!==t},catalogEntriesByType:function(t){var i=n.A(n.Namespace.NAMESPACES),r=n.A(),s=new RegExp(n.String.classify(t)+"$");return i.forEach(function(t){if(t!==e.default)for(var i in t)if(t.hasOwnProperty(i)&&s.test(i)){var o=t[i];"class"===n.typeOf(o)&&r.push(n.String.dasherize(i.replace(s,"")))}}),r}})}),o("ember-extension-support/data_adapter",["exports","ember-utils","ember-metal","ember-runtime","ember-application"],function(t,e,n,i,r){"use strict";t.default=i.Object.extend({init:function(){this._super.apply(this,arguments),this.releaseMethods=i.A()},containerDebugAdapter:void 0,attributeLimit:3,acceptsModelName:!0,releaseMethods:i.A(),getFilters:function(){return i.A()},watchModelTypes:function(t,e){var n=this,r=this.getModelTypes(),s=i.A(),o=void 0;o=r.map(function(t){var i=t.klass,r=n.wrapModelType(i,t.name);return s.push(n.observeModelType(t.name,e)),r}),t(o);var a=function(){s.forEach(function(t){return t()}),n.releaseMethods.removeObject(a)};return this.releaseMethods.pushObject(a),a},_nameToClass:function(t){return"string"==typeof t&&(t=e.getOwner(this)._lookupFactory("model:"+t)),t},watchRecords:function(t,e,n,r){function s(t){n([t])}var o=this,a=i.A(),l=this._nameToClass(t),c=this.getRecords(l,t),g=void 0,u=c.map(function(t){return a.push(o.observeRecord(t,s)),o.wrapRecord(t)}),Q=function(t,n,l,c){for(var g=n;g<n+c;g++){var u=i.objectAt(t,g),Q=o.wrapRecord(u);a.push(o.observeRecord(u,s)),e([Q])}l&&r(n,l)},B={didChange:Q,willChange:function(){return this}};return i.addArrayObserver(c,this,B),g=function(){a.forEach(function(t){return t()}),i.removeArrayObserver(c,o,B),o.releaseMethods.removeObject(g)},e(u),this.releaseMethods.pushObject(g),g},willDestroy:function(){this._super.apply(this,arguments),this.releaseMethods.forEach(function(t){return t()})},detect:function(t){return!1},columnsForType:function(t){return i.A()},observeModelType:function(t,e){function r(){e([this.wrapModelType(o,t)])}var s=this,o=this._nameToClass(t),a=this.getRecords(o,t),l={didChange:function(){n.run.scheduleOnce("actions",this,r)},willChange:function(){return this}};return i.addArrayObserver(a,this,l),function(){return i.removeArrayObserver(a,s,l)}},wrapModelType:function(t,e){var i=this.getRecords(t,e);return{name:e,count:n.get(i,"length"),columns:this.columnsForType(t),object:t}},getModelTypes:function(){var t=this,e=this.get("containerDebugAdapter"),n=void 0;return n=e.canCatalogEntriesByType("model")?e.catalogEntriesByType("model"):this._getObjectsOnNamespaces(),n=i.A(n).map(function(e){return{klass:t._nameToClass(e),name:e}}),n=i.A(n).filter(function(e){return t.detect(e.klass)}),i.A(n)},_getObjectsOnNamespaces:function(){var t=this,e=i.A(i.Namespace.NAMESPACES),n=i.A();return e.forEach(function(e){for(var s in e)if(e.hasOwnProperty(s)&&t.detect(e[s])){var o=i.String.dasherize(s);e instanceof r.Application||!e.toString()||(o=e+"/"+o),n.push(o)}}),n},getRecords:function(t){return i.A()},wrapRecord:function(t){var e={object:t};return e.columnValues=this.getRecordColumnValues(t),e.searchKeywords=this.getRecordKeywords(t),e.filterValues=this.getRecordFilterValues(t),e.color=this.getRecordColor(t),e},getRecordColumnValues:function(t){return{}},getRecordKeywords:function(t){return i.A()},getRecordFilterValues:function(t){return{}},getRecordColor:function(t){return null},observeRecord:function(t,e){return function(){}}})}),o("ember-extension-support/index",["exports","ember-extension-support/data_adapter","ember-extension-support/container_debug_adapter"],function(t,e,n){"use strict";t.DataAdapter=e.default,t.ContainerDebugAdapter=n.default}),o("ember-glimmer/component",["exports","ember-utils","ember-views","ember-runtime","ember-metal","ember-glimmer/utils/references","glimmer-reference","glimmer-runtime"],function(t,e,n,i,r,s,o,a){"use strict";var l,c=e.symbol("DIRTY_TAG");t.DIRTY_TAG=c;var g=e.symbol("ARGS");t.ARGS=g;var u=e.symbol("ROOT_REF");t.ROOT_REF=u;var Q=e.symbol("IS_DISPATCHING_ATTRS");t.IS_DISPATCHING_ATTRS=Q;var B=e.symbol("HAS_BLOCK");t.HAS_BLOCK=B;var I=e.symbol("BOUNDS");t.BOUNDS=I;var d=n.CoreView.extend(n.ChildViewsSupport,n.ViewStateSupport,n.ClassNamesSupport,i.TargetActionSupport,n.ActionSupport,n.ViewMixin,(l={isComponent:!0,init:function(){this._super.apply(this,arguments),this[Q]=!1,this[c]=new o.DirtyableTag,this[u]=new s.RootReference(this),this[I]=null,this.defaultLayout&&!this.layout&&(this.layout=this.defaultLayout)},rerender:function(){this[c].dirty(),this._super()},__defineNonEnumerable:function(t){this[t.name]=t.descriptor.value}},l[r.PROPERTY_DID_CHANGE]=function(t){if(!this[Q]){var e=void 0,n=void 0;(e=this[g])&&(n=e[t])&&n[s.UPDATE]&&n[s.UPDATE](r.get(this,t))}},l.getAttr=function(t){return this.get(t)},l.readDOMAttr=function(t){var e=n.getViewElement(this);return a.readDOMAttr(e,t)},l));d[r.NAME_KEY]="Ember.Component",d.reopenClass({isComponentFactory:!0,positionalParams:[]}),t.default=d}),o("ember-glimmer/components/checkbox",["exports","ember-metal","ember-glimmer/component","ember-glimmer/templates/empty"],function(t,e,n,i){"use strict";t.default=n.default.extend({layout:i.default,classNames:["ember-checkbox"],tagName:"input",attributeBindings:["type","checked","indeterminate","disabled","tabindex","name","autofocus","required","form"],type:"checkbox",checked:!1,disabled:!1,indeterminate:!1,didInsertElement:function(){this._super.apply(this,arguments),e.get(this,"element").indeterminate=!!e.get(this,"indeterminate")},change:function(){e.set(this,"checked",this.$().prop("checked"))}})}),o("ember-glimmer/components/link-to",["exports","ember-console","ember-metal","ember-runtime","ember-views","ember-glimmer/templates/link-to","ember-glimmer/component"],function(t,e,n,i,r,s,o){"use strict";var a=o.default.extend({layout:s.default,tagName:"a",currentWhen:i.deprecatingAlias("current-when",{id:"ember-routing-view.deprecated-current-when",until:"3.0.0"}),"current-when":null,title:null,rel:null,tabindex:null,target:null,activeClass:"active",loadingClass:"loading",disabledClass:"disabled",_isDisabled:!1,replace:!1,attributeBindings:["href","title","rel","tabindex","target"],classNameBindings:["active","loading","disabled","transitioningIn","transitioningOut"],eventName:"click",init:function(){this._super.apply(this,arguments);var t=n.get(this,"eventName");this.on(t,this,this._invoke)},_routing:i.inject.service("-routing"),disabled:n.computed({get:function(t,e){return!1},set:function(t,e){return void 0!==e&&this.set("_isDisabled",e),!!e&&n.get(this,"disabledClass")}}),_computeActive:function(t){if(n.get(this,"loading"))return!1;var e=n.get(this,"_routing"),i=n.get(this,"models"),r=n.get(this,"resolvedQueryParams"),s=n.get(this,"current-when"),o=!!s;s=s||n.get(this,"qualifiedRouteName"),s=s.split(" ");for(var a=0;a<s.length;a++)if(e.isActiveForRoute(i,r,s[a],t,o))return n.get(this,"activeClass");return!1},active:n.computed("attrs.params","_routing.currentState",function(){var t=n.get(this,"_routing.currentState");return!!t&&this._computeActive(t)}),willBeActive:n.computed("_routing.targetState",function(){var t=n.get(this,"_routing"),e=n.get(t,"targetState");if(n.get(t,"currentState")!==e)return!!this._computeActive(e)}),transitioningIn:n.computed("active","willBeActive",function(){var t=n.get(this,"willBeActive");return void 0!==t&&(!n.get(this,"active")&&t&&"ember-transitioning-in")}),transitioningOut:n.computed("active","willBeActive",function(){var t=n.get(this,"willBeActive");return void 0!==t&&(n.get(this,"active")&&!t&&"ember-transitioning-out")}),_invoke:function(t){if(!r.isSimpleClick(t))return!0;var i=n.get(this,"preventDefault"),s=n.get(this,"target");if(!1!==i&&(s&&"_self"!==s||t.preventDefault()),!1===n.get(this,"bubbles")&&t.stopPropagation(),n.get(this,"_isDisabled"))return!1;if(n.get(this,"loading"))return e.default.warn("This link-to is in an inactive loading state because at least one of its parameters presently has a null/undefined value, or the provided route name is invalid."),!1;if(s&&"_self"!==s)return!1;var o=n.get(this,"qualifiedRouteName"),a=n.get(this,"models"),l=n.get(this,"queryParams.values"),c=n.get(this,"replace"),g={queryParams:l,routeName:o};n.flaggedInstrument("interaction.link-to",g,this._generateTransition(g,o,a,l,c))},_generateTransition:function(t,e,i,r,s){var o=n.get(this,"_routing");return function(){t.transition=o.transitionTo(e,i,r,s)}},queryParams:null,qualifiedRouteName:n.computed("targetRouteName","_routing.currentState",function(){var t=n.get(this,"params").slice(),e=t[t.length-1];return e&&e.isQueryParams&&t.pop(),(this[o.HAS_BLOCK]?0===t.length:1===t.length)?n.get(this,"_routing.currentRouteName"):n.get(this,"targetRouteName")}),resolvedQueryParams:n.computed("queryParams",function(){var t={},e=n.get(this,"queryParams");if(!e)return t;var i=e.values;for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r]);return t}),href:n.computed("models","qualifiedRouteName",function(){if("a"===n.get(this,"tagName")){var t=n.get(this,"qualifiedRouteName"),e=n.get(this,"models");if(n.get(this,"loading"))return n.get(this,"loadingHref");var i=n.get(this,"_routing"),r=n.get(this,"queryParams.values");return i.generateURL(t,e,r)}}),loading:n.computed("_modelsAreLoaded","qualifiedRouteName",function(){var t=n.get(this,"qualifiedRouteName");if(!n.get(this,"_modelsAreLoaded")||null==t)return n.get(this,"loadingClass")}),_modelsAreLoaded:n.computed("models",function(){for(var t=n.get(this,"models"),e=0;e<t.length;e++)if(null==t[e])return!1;return!0}),_getModels:function(t){for(var e=t.length-1,n=new Array(e),r=0;r<e;r++){for(var s=t[r+1];i.ControllerMixin.detect(s);)s=s.get("model");n[r]=s}return n},loadingHref:"#",didReceiveAttrs:function(){var t=void 0,e=n.get(this,"params");e&&(e=e.slice());var i=n.get(this,"disabledWhen");void 0!==i&&this.set("disabled",i),this[o.HAS_BLOCK]||this.set("linkTitle",e.shift()),this.set("targetRouteName",e[0]);var r=e[e.length-1];t=r&&r.isQueryParams?e.pop():{values:{}},this.set("queryParams",t),e.length>1?this.set("models",this._getModels(e)):this.set("models",[])}});a.toString=function(){return"LinkComponent"},a.reopenClass({positionalParams:"params"}),t.default=a}),o("ember-glimmer/components/text_area",["exports","ember-glimmer/component","ember-views","ember-glimmer/templates/empty"],function(t,e,n,i){"use strict";t.default=e.default.extend(n.TextSupport,{classNames:["ember-text-area"],layout:i.default,tagName:"textarea",attributeBindings:["rows","cols","name","selectionEnd","selectionStart","wrap","lang","dir","value"],rows:null,cols:null})}),o("ember-glimmer/components/text_field",["exports","ember-utils","ember-metal","ember-environment","ember-glimmer/component","ember-glimmer/templates/empty","ember-views"],function(t,e,n,i,r,s,o){"use strict";function a(t){if(t in c)return c[t];if(!i.environment.hasDOM)return c[t]=t,t;l||(l=document.createElement("input"));try{l.type=t}catch(t){}return c[t]=l.type===t}var l=void 0,c=new e.EmptyObject;t.default=r.default.extend(o.TextSupport,{layout:s.default,classNames:["ember-text-field"],tagName:"input",attributeBindings:["accept","autocomplete","autosave","dir","formaction","formenctype","formmethod","formnovalidate","formtarget","height","inputmode","lang","list","max","min","multiple","name","pattern","size","step","type","value","width"],value:"",type:n.computed({get:function(){return"text"},set:function(t,e){var n="text";return a(e)&&(n=e),n}}),size:null,pattern:null,min:null,max:null})}),o("ember-glimmer/dom",["exports","glimmer-runtime","glimmer-node"],function(t,e,n){"use strict";t.DOMChanges=e.DOMChanges,t.DOMTreeConstruction=e.DOMTreeConstruction,t.NodeDOMTreeConstruction=n.NodeDOMTreeConstruction}),o("ember-glimmer/environment",["exports","ember-utils","ember-metal","ember-views","glimmer-runtime","ember-glimmer/syntax/curly-component","ember-glimmer/syntax","ember-glimmer/syntax/dynamic-component","ember-glimmer/utils/iterable","ember-glimmer/utils/references","ember-glimmer/helpers/if-unless","ember-glimmer/utils/bindings","ember-glimmer/helpers/action","ember-glimmer/helpers/component","ember-glimmer/helpers/concat","ember-glimmer/helpers/debugger","ember-glimmer/helpers/get","ember-glimmer/helpers/hash","ember-glimmer/helpers/loc","ember-glimmer/helpers/log","ember-glimmer/helpers/mut","ember-glimmer/helpers/readonly","ember-glimmer/helpers/unbound","ember-glimmer/helpers/-class","ember-glimmer/helpers/-input-type","ember-glimmer/helpers/query-param","ember-glimmer/helpers/each-in","ember-glimmer/helpers/-normalize-class","ember-glimmer/helpers/-html-safe","ember-glimmer/protocol-for-url","ember-glimmer/modifiers/action"],function(t,e,n,i,r,s,o,a,l,c,u,Q,B,I,d,F,C,U,h,m,b,p,A,y,f,G,x,V,Z,R,X){"use strict";var L={textarea:"-text-area"},E=function(t){function E(o){var a=this,l=o[e.OWNER];t.apply(this,arguments),this.owner=l,this.isInteractive=l.lookup("-environment:main").isInteractive,this.destroyedComponents=void 0,R.default(this),this._definitionCache=new n.Cache(2e3,function(t){var e=t.name,n=t.source,r=t.owner,o=i.lookupComponent(r,e,{source:n}),a=o.component,l=o.layout;if(a||l)return new s.CurlyComponentDefinition(e,a,l)},function(t){var n=t.name,i=t.source,r=t.owner,s=i&&r._resolveLocalLookupName(n,i)||n;return e.guidFor(r)+"|"+s}),this._templateCache=new n.Cache(1e3,function(t){var n=t.Template,i=t.owner;if(n.create){var r;return n.create((r={env:a},r[e.OWNER]=i,r))}return n},function(t){var n=t.Template,i=t.owner;return e.guidFor(i)+"|"+n.id}),this._compilerCache=new n.Cache(10,function(t){return new n.Cache(2e3,function(e){var n=new t(e);return r.compileLayout(n,a)},function(t){var n=t.meta.owner;return e.guidFor(n)+"|"+t.id})},function(t){return t.id}),this.builtInModifiers={action:new X.default},this.builtInHelpers={if:u.inlineIf,action:B.default,component:I.default,concat:d.default,debugger:F.default,get:C.default,hash:U.default,loc:h.default,log:m.default,mut:b.default,"query-params":G.default,readonly:p.default,unbound:A.default,unless:u.inlineUnless,"-class":y.default,"-each-in":x.default,"-input-type":f.default,"-normalize-class":V.default,"-html-safe":Z.default,"-get-dynamic-var":r.getDynamicVar}}return g.inherits(E,t),E.create=function(t){return new E(t)},E.prototype.refineStatement=function(e,n){var i=t.prototype.refineStatement.call(this,e,n);if(i)return i;var r=e.appendType,l=e.isSimple,c=e.isInline,g=e.isBlock,u=(e.isModifier,e.key),B=e.path,I=e.args;if(l&&(c||g)&&"get"!==r){var d=o.findSyntaxBuilder(u);if(d)return d.create(this,I,n);var F=L[u],C=null;if(F?C=this.getComponentDefinition([F],n):u.indexOf("-")>=0&&(C=this.getComponentDefinition(B,n)),C)return Q.wrapComponentClassAttribute(I),new s.CurlyComponentSyntax(I,C,n)}return c&&!l&&"helper"!==r?e.original.deopt():!l&&B?a.DynamicComponentSyntax.fromPath(this,B,I,n):void 0},E.prototype.hasComponentDefinition=function(){return!1},E.prototype.getComponentDefinition=function(t,e){var n=t[0],i=e.getMeta(),r=i.owner,s=i.moduleName&&"template:"+i.moduleName;return this._definitionCache.get({name:n,source:s,owner:r})},E.prototype.getTemplate=function(t,e){return this._templateCache.get({Template:t,owner:e})},E.prototype.getCompiledBlock=function(t,e){return this._compilerCache.get(t).get(e)},E.prototype.hasPartial=function(t,e){var n=e.getMeta(),r=n.owner;return i.hasPartial(t,r)},E.prototype.lookupPartial=function(t,e){var n=e.getMeta(),r=n.owner,s={template:i.lookupPartial(t,r)};if(s.template)return s;throw new Error(t+" is not a partial")},E.prototype.hasHelper=function(t,e){if(t.length>1)return!1;var n=t[0];if(this.builtInHelpers[n])return!0;var i=e.getMeta(),r=i.owner,s={source:"template:"+i.moduleName};return r.hasRegistration("helper:"+n,s)||r.hasRegistration("helper:"+n)},E.prototype.lookupHelper=function(t,e){var n=t[0],i=this.builtInHelpers[n];if(i)return i;var r=e.getMeta(),s=r.owner,o=r.moduleName&&{source:"template:"+r.moduleName}||{};if(i=s.lookup("helper:"+n,o)||s.lookup("helper:"+n),i.isHelperInstance)return function(t,e){return c.SimpleHelperReference.create(i.compute,e)};if(i.isHelperFactory)return function(t,e){return c.ClassBasedHelperReference.create(i,t,e)};throw new Error(t+" is not a helper")},E.prototype.hasModifier=function(t){return!(t.length>1)&&!!this.builtInModifiers[t[0]]},E.prototype.lookupModifier=function(t){var e=this.builtInModifiers[t[0]];if(e)return e;throw new Error(t+" is not a modifier")},E.prototype.toConditionalReference=function(t){return c.ConditionalReference.create(t)},E.prototype.iterableFor=function(t,e){var n=e.named.get("key").value();return l.default(t,n)},E.prototype.scheduleInstallModifier=function(){if(this.isInteractive){var e;(e=t.prototype.scheduleInstallModifier).call.apply(e,[this].concat(g.slice.call(arguments)))}},E.prototype.scheduleUpdateModifier=function(){if(this.isInteractive){var e;(e=t.prototype.scheduleUpdateModifier).call.apply(e,[this].concat(g.slice.call(arguments)))}},E.prototype.didDestroy=function(t){t.destroy()},E.prototype.begin=function(){this.inTransaction=!0,t.prototype.begin.call(this),this.destroyedComponents=[]},E.prototype.commit=function(){for(var e=0;e<this.destroyedComponents.length;e++)this.destroyedComponents[e].destroy();t.prototype.commit.call(this),this.inTransaction=!1},E}(r.Environment);t.default=E}),o("ember-glimmer/helper",["exports","ember-utils","ember-runtime","glimmer-reference"],function(t,e,n,i){"use strict";function r(t){return{isHelperInstance:!0,compute:t}}t.helper=r;var s=e.symbol("RECOMPUTE_TAG");t.RECOMPUTE_TAG=s;var o=n.FrameworkObject.extend({isHelperInstance:!0,init:function(){this._super.apply(this,arguments),this[s]=new i.DirtyableTag},recompute:function(){this[s].dirty()}});o.reopenClass({isHelperFactory:!0}),t.default=o}),o("ember-glimmer/helpers/-class",["exports","ember-glimmer/utils/references","ember-runtime"],function(t,e,n){"use strict";function i(t){var e=t.positional,i=e.at(0),r=e.length,s=i.value();return!0===s?r>1?n.String.dasherize(e.at(1).value()):null:!1===s?r>2?n.String.dasherize(e.at(2).value()):null:s}t.default=function(t,n){return new e.InternalHelperReference(i,n)}}),o("ember-glimmer/helpers/-html-safe",["exports","ember-glimmer/utils/references","ember-glimmer/utils/string"],function(t,e,n){"use strict";function i(t){var e=t.positional,i=e.at(0);return new n.SafeString(i.value())}t.default=function(t,n){return new e.InternalHelperReference(i,n)}}),o("ember-glimmer/helpers/-input-type",["exports","ember-glimmer/utils/references"],function(t,e){"use strict";function n(t){var e=t.positional;t.named;return"checkbox"===e.at(0).value()?"-checkbox":"-text-field"}t.default=function(t,i){return new e.InternalHelperReference(n,i)}}),o("ember-glimmer/helpers/-normalize-class",["exports","ember-glimmer/utils/references","ember-runtime"],function(t,e,n){"use strict";function i(t){var e=t.positional,i=(t.named,e.at(0).value().split(".")),r=i[i.length-1],s=e.at(1).value();return!0===s?n.String.dasherize(r):s||0===s?String(s):""}t.default=function(t,n){return new e.InternalHelperReference(i,n)}}),o("ember-glimmer/helpers/action",["exports","ember-utils","ember-metal","ember-glimmer/utils/references","glimmer-runtime","glimmer-reference"],function(t,e,n,i,r,s){"use strict";function o(t){return t}function a(t,e){var i=null;e.length>0&&(i=function(t){return e.value().concat(t)});var r=null;return t&&(r=function(e){var i=t.value();return i&&e.length>0&&(e[0]=n.get(e[0],i)),e}),i&&r?function(t){return r(i(t))}:i||r||o}function l(t,e,n,i,r){return function(){return c(t,e.value(),n.value(),i,r).apply(void 0,arguments)}}function c(t,e,i,r,s){var o=void 0,a=void 0;if("function"==typeof i[g])o=i,a=i[g];else{var l=typeof i;"string"===l?(o=e,a=e.actions&&e.actions[i]):"function"===l&&(o=t,a=i)}return function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];var s={target:o,args:e,label:"glimmer-closure-action"};return n.flaggedInstrument("interaction.ember-action",s,function(){return n.run.join.apply(n.run,[o,a].concat(r(e)))})}}var g=e.symbol("INVOKE");t.INVOKE=g;var u=e.symbol("ACTION");t.ACTION=u,t.default=function(t,e){var n=e.named,o=e.positional,Q=o.at(0),B=o.at(1),I=B._propertyKey,d=void 0;d=2===o.length?r.EvaluatedPositionalArgs.empty():r.EvaluatedPositionalArgs.create(o.values.slice(2));var F=n.has("target")?n.get("target"):Q,C=a(n.has("value")&&n.get("value"),d),U=void 0;return U="function"==typeof B[g]?c(B,B,B[g],C,I):s.isConst(F)&&s.isConst(B)?c(Q.value(),F.value(),B.value(),C,I):l(Q.value(),F,B,C,I),U[u]=!0,new i.UnboundReference(U)}}),o("ember-glimmer/helpers/component",["exports","ember-utils","ember-glimmer/utils/references","ember-glimmer/syntax/curly-component","glimmer-runtime","ember-metal"],function(t,e,n,i,r,s){"use strict";function o(t,e){var n=a(t,e);return new i.CurlyComponentDefinition(t.name,t.ComponentClass,t.template,n)}function a(t,n){var s=t.args,o=t.ComponentClass,a=o.positionalParams,l=n.positional.values,c=l.slice(1);a&&c.length&&i.validatePositionalParameters(n.named,c,a);var g="string"==typeof a,u={};if(!g&&a&&a.length>0){for(var Q=Math.min(a.length,c.length),B=0;B<Q;B++){u[a[B]]=c[B]}c.length=0}var I=s&&s.named&&s.named.map||{},d=s&&s.positional&&s.positional.values||[],F=new Array(Math.max(d.length,c.length));F.splice.apply(F,[0,d.length].concat(d)),F.splice.apply(F,[0,c.length].concat(c));var C=e.assign({},I,u,n.named.map);return r.EvaluatedArgs.create(r.EvaluatedPositionalArgs.create(F),r.EvaluatedNamedArgs.create(C),r.Blocks.empty())}var l=function(t){function e(e,n,i){t.call(this),this.defRef=e.positional.at(0),this.env=i,this.tag=e.positional.at(0).tag,this.symbolTable=n,this.args=e,this.lastDefinition=void 0,this.lastName=void 0}return g.inherits(e,t),e.create=function(t,n,i){return new e(t,n,i)},e.prototype.compute=function(){var t=this.args,e=this.defRef,n=this.env,i=this.symbolTable,s=this.lastDefinition,a=this.lastName,l=e.value(),c=null;if(l&&l===a)return s;if(this.lastName=l,"string"==typeof l)c=n.getComponentDefinition([l],i);else{if(!r.isComponentDefinition(l))return null;c=l}var g=o(c,t);return this.lastDefinition=g,g},e}(n.CachedReference);t.ClosureComponentReference=l,t.default=function(t,e,n){return l.create(e,n,t.env)}}),o("ember-glimmer/helpers/concat",["exports","ember-glimmer/utils/references","glimmer-runtime"],function(t,e,n){"use strict";function i(t){return t.positional.value().map(n.normalizeTextValue).join("")}t.default=function(t,n){return new e.InternalHelperReference(i,n)}}),o("ember-glimmer/helpers/debugger",["exports","ember-metal/debug","glimmer-runtime"],function(t,e,n){"use strict";function i(t,e){}function r(t,e,i){function r(e){
return n.GetSyntax.build(e).compile(o).evaluate(t).value()}var s=t.getSelf().value(),o=new n.CompileIntoList(t.env,i);return a(s,r),n.UNDEFINED_REFERENCE}function s(t){a=t}function o(){a=i}t.default=r,t.setDebuggerCallback=s,t.resetDebuggerCallback=o;var a=i}),o("ember-glimmer/helpers/each-in",["exports","ember-utils"],function(t,e){"use strict";function n(t){return t&&t[i]}t.isEachIn=n;var i=e.symbol("EACH_IN");t.default=function(t,e){var n=Object.create(e.positional.at(0));return n[i]=!0,n}}),o("ember-glimmer/helpers/get",["exports","ember-metal","ember-glimmer/utils/references","glimmer-reference"],function(t,e,n,i){"use strict";t.default=function(t,e){return r.create(e.positional.at(0),e.positional.at(1))};var r=function(t){function r(e,n){t.call(this),this.sourceReference=e,this.pathReference=n,this.lastPath=null,this.innerReference=null;var r=this.innerTag=new i.UpdatableTag(i.CONSTANT_TAG);this.tag=i.combine([e.tag,n.tag,r])}return g.inherits(r,t),r.create=function(t,e){if(i.isConst(e)){var n=e.value().split(".");return i.referenceFromParts(t,n)}return new r(t,e)},r.prototype.compute=function(){var t=this.lastPath,e=this.innerReference,n=this.innerTag,r=this.lastPath=this.pathReference.value();if(r!==t)if(r){var s=typeof r;"string"===s?e=this.innerReference=i.referenceFromParts(this.sourceReference,r.split(".")):"number"===s&&(e=this.innerReference=this.sourceReference.get(r)),n.update(e.tag)}else e=this.innerReference=null,n.update(i.CONSTANT_TAG);return e?e.value():null},r.prototype[n.UPDATE]=function(t){e.set(this.sourceReference.value(),this.pathReference.value(),t)},r}(n.CachedReference)}),o("ember-glimmer/helpers/hash",["exports"],function(t){"use strict";t.default=function(t,e){return e.named}}),o("ember-glimmer/helpers/if-unless",["exports","ember-metal","ember-glimmer/utils/references","glimmer-reference"],function(t,e,n,i){"use strict";function r(t,e){var n=e.positional;switch(n.length){case 2:return o.create(n.at(0),n.at(1),null);case 3:return o.create(n.at(0),n.at(1),n.at(2))}}function s(t,e){var n=e.positional;switch(n.length){case 2:return o.create(n.at(0),null,n.at(1));case 3:return o.create(n.at(0),n.at(2),n.at(1))}}t.inlineIf=r,t.inlineUnless=s;var o=function(t){function e(e,n,r){t.call(this),this.branchTag=new i.UpdatableTag(i.CONSTANT_TAG),this.tag=i.combine([e.tag,this.branchTag]),this.cond=e,this.truthy=n,this.falsy=r}return g.inherits(e,t),e.create=function(t,r,s){var o=n.ConditionalReference.create(t),a=r||n.UNDEFINED_REFERENCE,l=s||n.UNDEFINED_REFERENCE;return i.isConst(o)?o.value()?a:l:new e(o,a,l)},e.prototype.compute=function(){var t=this.cond,e=this.truthy,n=this.falsy,i=t.value()?e:n;return this.branchTag.update(i.tag),i.value()},e}(n.CachedReference)}),o("ember-glimmer/helpers/loc",["exports","ember-glimmer/utils/references","ember-runtime"],function(t,e,n){"use strict";function i(t){var e=t.positional;return n.String.loc.apply(null,e.value())}t.default=function(t,n){return new e.InternalHelperReference(i,n)}}),o("ember-glimmer/helpers/log",["exports","ember-glimmer/utils/references","ember-console"],function(t,e,n){"use strict";function i(t){var e=t.positional;n.default.log.apply(null,e.value())}t.default=function(t,n){return new e.InternalHelperReference(i,n)}}),o("ember-glimmer/helpers/mut",["exports","ember-utils","ember-metal","ember-glimmer/utils/references","ember-glimmer/helpers/action"],function(t,e,n,i,r){"use strict";function s(t){return t&&t[a]}function o(t){return t[l]||t}t.isMut=s,t.unMut=o;var a=e.symbol("MUT"),l=e.symbol("SOURCE");t.default=function(t,e){var n=e.positional.at(0);if(s(n))return n;var o=Object.create(n);return o[l]=n,o[r.INVOKE]=n[i.UPDATE],o[a]=!0,o}}),o("ember-glimmer/helpers/query-param",["exports","ember-utils","ember-glimmer/utils/references","ember-metal","ember-routing"],function(t,e,n,i,r){"use strict";function s(t){var n=(t.positional,t.named);return r.QueryParams.create({values:e.assign({},n.value())})}t.default=function(t,e){return new n.InternalHelperReference(s,e)}}),o("ember-glimmer/helpers/readonly",["exports","ember-glimmer/utils/references","ember-glimmer/helpers/mut"],function(t,e,n){"use strict";t.default=function(t,i){var r=n.unMut(i.positional.at(0)),s=Object.create(r);return s[e.UPDATE]=void 0,s}}),o("ember-glimmer/helpers/unbound",["exports","ember-metal","ember-glimmer/utils/references"],function(t,e,n){"use strict";t.default=function(t,e){return n.UnboundReference.create(e.positional.at(0).value())}}),o("ember-glimmer/index",["exports","ember-glimmer/helpers/action","ember-glimmer/templates/root","ember-glimmer/syntax","ember-glimmer/template","ember-glimmer/components/checkbox","ember-glimmer/components/text_field","ember-glimmer/components/text_area","ember-glimmer/components/link-to","ember-glimmer/component","ember-glimmer/helper","ember-glimmer/environment","ember-glimmer/make-bound-helper","ember-glimmer/utils/string","ember-glimmer/renderer","ember-glimmer/template_registry","ember-glimmer/setup-registry","ember-glimmer/dom"],function(t,e,n,i,r,s,o,a,l,c,g,u,Q,B,I,d,F,C){"use strict";t.INVOKE=e.INVOKE,t.RootTemplate=n.default,t.registerSyntax=i.registerSyntax,t.template=r.default,t.Checkbox=s.default,t.TextField=o.default,t.TextArea=a.default,t.LinkComponent=l.default,t.Component=c.default,t.Helper=g.default,t.helper=g.helper,t.Environment=u.default,t.makeBoundHelper=Q.default,t.SafeString=B.SafeString,t.escapeExpression=B.escapeExpression,t.htmlSafe=B.htmlSafe,t.isHTMLSafe=B.isHTMLSafe,t._getSafeString=B.getSafeString,t.Renderer=I.Renderer,t.InertRenderer=I.InertRenderer,t.InteractiveRenderer=I.InteractiveRenderer,t.getTemplate=d.getTemplate,t.setTemplate=d.setTemplate,t.hasTemplate=d.hasTemplate,t.getTemplates=d.getTemplates,t.setTemplates=d.setTemplates,t.setupEngineRegistry=F.setupEngineRegistry,t.setupApplicationRegistry=F.setupApplicationRegistry,t.DOMChanges=C.DOMChanges,t.NodeDOMTreeConstruction=C.NodeDOMTreeConstruction,t.DOMTreeConstruction=C.DOMTreeConstruction}),o("ember-glimmer/make-bound-helper",["exports","ember-metal","ember-glimmer/helper"],function(t,e,n){"use strict";function i(t){return n.helper(t)}t.default=i}),o("ember-glimmer/modifiers/action",["exports","ember-utils","ember-metal","ember-views","ember-glimmer/helpers/action"],function(t,e,n,i,r){"use strict";function s(t,e){if(null===e||void 0===e){if(a.test(t.type))return i.isSimpleClick(t);e=""}if(e.indexOf("any")>=0)return!0;for(var n=0;n<o.length;n++)if(t[o[n]+"Key"]&&-1===e.indexOf(o[n]))return!1;return!0}var o=["alt","shift","meta","ctrl"],a=/^click|mouse|touch/,l={registeredActions:i.ActionManager.registeredActions,registerAction:function(t){var e=t.actionId,n=i.ActionManager.registeredActions[e];return n||(n=i.ActionManager.registeredActions[e]=[]),n.push(t),e},unregisterAction:function(t){var e=t.actionId,n=i.ActionManager.registeredActions[e];if(n){var r=n.indexOf(t);-1!==r&&n.splice(r,1),0===n.length&&delete i.ActionManager.registeredActions[e]}}};t.ActionHelper=l;var c=function(){function t(t,e,n,i,r,s,o,a){this.element=t,this.actionId=e,this.actionName=n,this.actionArgs=i,this.namedArgs=r,this.positional=s,this.implicitTarget=o,this.dom=a,this.eventName=this.getEventName()}return t.prototype.getEventName=function(){return this.namedArgs.get("on").value()||"click"},t.prototype.getActionArgs=function(){for(var t=new Array(this.actionArgs.length),e=0;e<this.actionArgs.length;e++)t[e]=this.actionArgs[e].value();return t},t.prototype.getTarget=function(){var t=this.implicitTarget,e=this.namedArgs;return e.has("target")?e.get("target").value():t.value()},t.prototype.handler=function(t){var e=this,i=this.actionName,o=this.namedArgs,a=o.get("bubbles"),l=o.get("preventDefault"),c=o.get("allowedKeys"),g=this.getTarget();if(!s(t,c.value()))return!0;!1!==l.value()&&t.preventDefault(),!1===a.value()&&t.stopPropagation(),n.run(function(){var t=e.getActionArgs(),s={args:t,target:g};return"function"==typeof i[r.INVOKE]?void n.flaggedInstrument("interaction.ember-action",s,function(){i[r.INVOKE].apply(i,t)}):"function"==typeof i?void n.flaggedInstrument("interaction.ember-action",s,function(){i.apply(g,t)}):(s.name=i,void(g.send?n.flaggedInstrument("interaction.ember-action",s,function(){g.send.apply(g,[i].concat(t))}):n.flaggedInstrument("interaction.ember-action",s,function(){g[i].apply(g,t)})))})},t.prototype.destroy=function(){l.unregisterAction(this)},t}();t.ActionState=c;var g=function(){function t(){}return t.prototype.create=function(t,n,i,s){var o=n.named,a=n.positional,l=void 0,g=void 0,u=void 0;if(a.length>1)if(l=a.at(0),u=a.at(1),u[r.INVOKE])g=u;else{u._propertyKey;g=u.value()}for(var Q=[],B=2;B<a.length;B++)Q.push(a.at(B));var I=e.uuid();return new c(t,I,g,Q,o,a,l,s)},t.prototype.install=function(t){var e=t.dom,n=t.element,i=t.actionId;l.registerAction(t),e.setAttribute(n,"data-ember-action",""),e.setAttribute(n,"data-ember-action-"+i,i)},t.prototype.update=function(t){var e=t.positional,n=e.at(1);n[r.INVOKE]||(t.actionName=n.value()),t.eventName=t.getEventName(),l.unregisterAction(t),l.registerAction(t)},t.prototype.getDestructor=function(t){return t},t}();t.default=g}),o("ember-glimmer/protocol-for-url",["exports","ember-environment"],function(t,e){"use strict";function n(t){var n=void 0;if(e.environment.hasDOM&&(n=i.call(t,"foobar:baz")),"foobar:"===n)t.protocolForURL=i;else if("object"==typeof URL)s=URL,t.protocolForURL=r;else{if("object"!=typeof module||"function"!=typeof module.require)throw new Error("Could not find valid URL parsing mechanism for URL Sanitization");s=module.require("url"),t.protocolForURL=r}}function i(t){return o||(o=document.createElement("a")),o.href=t,o.protocol}function r(t){var e=null;return"string"==typeof t&&(e=s.parse(t).protocol),null===e?":":e}t.default=n;var s=void 0,o=void 0}),o("ember-glimmer/renderer",["exports","ember-glimmer/utils/references","ember-metal","glimmer-reference","ember-views","ember-glimmer/component","ember-glimmer/syntax/curly-component","ember-glimmer/syntax/outlet"],function(t,e,n,i,r,s,o,a){"use strict";function l(t){U.push(t)}function c(t){var e=U.indexOf(t);U.splice(e,1)}function u(){for(var t=0;t<U.length;t++)U[t]._scheduleRevalidate()}function Q(){}function B(t,e){for(var n=0;n<U.length;n++)if(!U[n]._isValid()){if(h>10)throw h=0,U[n].destroy(),new Error("infinite rendering invalidation detected");return h++,d.join(null,Q)}h=0}var I=void 0;I=function(t,e){return t[e](),!1};var d=n.run.backburner,F=function(){function t(t,e,n,i){this.view=t,this.outletState=e,this.rootOutletState=n}return t.prototype.child=function(){return new t(this.view,this.outletState,this.rootOutletState)},t.prototype.get=function(t){return this.outletState},t.prototype.set=function(t,e){return this.outletState=e,e},t}(),C=function(){function t(t,e,n,i,s,o){var a=this;this.id=r.getViewId(t),this.env=e,this.root=t,this.result=void 0,this.shouldReflush=!1,this.destroyed=!1,this._removing=!1;var l=this.options={alwaysRevalidate:!1};this.render=function(){var t=a.result=n.render(i,s,o);a.render=function(){t.rerender(l)}}}return t.prototype.isFor=function(t){return this.root===t},t.prototype.destroy=function(){var t=this.result,e=this.env;if(this.destroyed=!0,this.env=null,this.root=null,this.result=null,this.render=null,t){var n=!e.inTransaction;n&&e.begin(),t.destroy(),n&&e.commit()}},t}(),U=[];n.setHasViews(function(){return U.length>0});var h=0;d.on("begin",u),d.on("end",B);var m=function(){function t(t,e){var n=arguments.length<=2||void 0===arguments[2]?r.fallbackViewRegistry:arguments[2],i=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];this._env=t,this._rootTemplate=e,this._viewRegistry=n,this._destinedForDOM=i,this._destroyed=!1,this._roots=[],this._lastRevision=null,this._isRenderingRoots=!1,this._removedRoots=[]}return t.prototype.appendOutletView=function(t,e){var n=new a.TopLevelOutletComponentDefinition(t),i=t.toReference(),r=t.outletState.render.controller;this._appendDefinition(t,n,e,i,r)},t.prototype.appendTo=function(t,e){var n=new o.RootComponentDefinition(t);this._appendDefinition(t,n,e)},t.prototype._appendDefinition=function(t,n,r){var s=arguments.length<=3||void 0===arguments[3]?i.UNDEFINED_REFERENCE:arguments[3],o=arguments.length<=4||void 0===arguments[4]?null:arguments[4],a=new e.RootReference(n),l=new F(null,s,s,!0,o),c=new C(t,this._env,this._rootTemplate,a,r,l);this._renderRoot(c)},t.prototype.rerender=function(t){this._scheduleRevalidate()},t.prototype.register=function(t){var e=r.getViewId(t);this._viewRegistry[e]=t},t.prototype.unregister=function(t){delete this._viewRegistry[r.getViewId(t)]},t.prototype.remove=function(t){t._transitionTo("destroying"),this.cleanupRootFor(t),r.setViewElement(t,null),this._destinedForDOM&&t.trigger("didDestroyElement"),t.isDestroying||t.destroy()},t.prototype.cleanupRootFor=function(t){if(!this._destroyed)for(var e=this._roots,n=this._roots.length;n--;){var i=e[n];i.isFor(t)&&i.destroy()}},t.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this._clearAllRoots())},t.prototype.getElement=function(t){},t.prototype.getBounds=function(t){var e=t[s.BOUNDS];return{parentElement:e.parentElement(),firstNode:e.firstNode(),lastNode:e.lastNode()}},t.prototype.createElement=function(t){return this._env.getAppendOperations().createElement(t)},t.prototype._renderRoot=function(t){var e=this._roots;e.push(t),1===e.length&&l(this),this._renderRootsTransaction()},t.prototype._renderRoots=function(){var t=this._roots,e=this._env,n=this._removedRoots,r=void 0,s=void 0;do{e.begin(),s=t.length,r=!1;for(var o=0;o<t.length;o++){var a=t[o];if(a.destroyed)n.push(a);else{var l=a.shouldReflush;o>=s&&!l||(a.options.alwaysRevalidate=l,l=a.shouldReflush=I(a,"render"),r=r||l)}}this._lastRevision=i.CURRENT_TAG.value(),e.commit()}while(r||t.length>s);for(;n.length;){var a=n.pop(),g=t.indexOf(a);t.splice(g,1)}0===this._roots.length&&c(this)},t.prototype._renderRootsTransaction=function(){if(!this._isRenderingRoots){this._isRenderingRoots=!0;var t=!1;try{this._renderRoots(),t=!0}finally{t||(this._lastRevision=i.CURRENT_TAG.value()),this._isRenderingRoots=!1}}},t.prototype._clearAllRoots=function(){for(var t=this._roots,e=0;e<t.length;e++){t[e].destroy()}this._removedRoots.length=0,this._roots=null,t.length&&c(this)},t.prototype._scheduleRevalidate=function(){d.scheduleOnce("render",this,this._revalidate)},t.prototype._isValid=function(){return this._destroyed||0===this._roots.length||i.CURRENT_TAG.validate(this._lastRevision)},t.prototype._revalidate=function(){this._isValid()||this._renderRootsTransaction()},t}(),b=function(t){function e(){t.apply(this,arguments)}return g.inherits(e,t),e.create=function(t){return new this(t.env,t.rootTemplate,t._viewRegistry,!1)},e.prototype.getElement=function(t){throw new Error("Accessing `this.element` is not allowed in non-interactive environments (such as FastBoot).")},e}(m);t.InertRenderer=b;var p=function(t){function e(){t.apply(this,arguments)}return g.inherits(e,t),e.create=function(t){return new this(t.env,t.rootTemplate,t._viewRegistry,!0)},e.prototype.getElement=function(t){return r.getViewElement(t)},e}(m);t.InteractiveRenderer=p}),o("ember-glimmer/setup-registry",["exports","ember-environment","container","ember-glimmer/renderer","ember-glimmer/dom","ember-glimmer/views/outlet","ember-glimmer/components/text_field","ember-glimmer/components/text_area","ember-glimmer/components/checkbox","ember-glimmer/components/link-to","ember-glimmer/component","ember-glimmer/templates/component","ember-glimmer/templates/root","ember-glimmer/templates/outlet","ember-glimmer/environment"],function(t,e,n,i,r,s,o,a,l,c,u,Q,B,I,d){"use strict";function F(t){t.injection("service:-glimmer-environment","appendOperations","service:-dom-tree-construction"),t.injection("renderer","env","service:-glimmer-environment"),t.register(n.privatize(U),B.default),t.injection("renderer","rootTemplate",n.privatize(U)),t.register("renderer:-dom",i.InteractiveRenderer),t.register("renderer:-inert",i.InertRenderer),e.environment.hasDOM&&t.injection("service:-glimmer-environment","updateOperations","service:-dom-changes"),t.register("service:-dom-changes",{create:function(t){var e=t.document;return new r.DOMChanges(e)}}),t.register("service:-dom-tree-construction",{create:function(t){var n=t.document;return new(e.environment.hasDOM?r.DOMTreeConstruction:r.NodeDOMTreeConstruction)(n)}})}function C(t){t.register("view:-outlet",s.default),t.register("template:-outlet",I.default),t.injection("view:-outlet","template","template:-outlet"),t.injection("service:-dom-changes","document","service:-document"),t.injection("service:-dom-tree-construction","document","service:-document"),t.register(n.privatize(h),Q.default),t.register("service:-glimmer-environment",d.default),t.injection("template","env","service:-glimmer-environment"),t.optionsForType("helper",{instantiate:!1}),t.register("component:-text-field",o.default),t.register("component:-text-area",a.default),t.register("component:-checkbox",l.default),t.register("component:link-to",c.default),t.register(n.privatize(m),u.default)}t.setupApplicationRegistry=F,t.setupEngineRegistry=C;var U=g.taggedTemplateLiteralLoose(["template:-root"],["template:-root"]),h=g.taggedTemplateLiteralLoose(["template:components/-default"],["template:components/-default"]),m=g.taggedTemplateLiteralLoose(["component:-default"],["component:-default"])}),o("ember-glimmer/syntax",["exports","ember-glimmer/syntax/render","ember-glimmer/syntax/outlet","ember-glimmer/syntax/mount","ember-glimmer/syntax/dynamic-component","ember-glimmer/syntax/input","glimmer-runtime"],function(t,e,n,i,r,s,o){"use strict";function a(t,e){c.push(t),g.push(e)}function l(t){var e=c.indexOf(t);if(e>-1)return g[e]}t.registerSyntax=a,t.findSyntaxBuilder=l;var c=[],g=[];a("render",e.RenderSyntax),a("outlet",n.OutletSyntax),a("mount",i.MountSyntax),a("component",r.DynamicComponentSyntax),a("input",s.InputSyntax),a("-with-dynamic-vars",function(){function t(){}return t.create=function(t,e,n){return new o.WithDynamicVarsSyntax(e)},t}()),a("-in-element",function(){function t(){}return t.create=function(t,e,n){return new o.InElementSyntax(e)},t}())}),o("ember-glimmer/syntax/curly-component",["exports","ember-utils","glimmer-runtime","ember-glimmer/utils/bindings","ember-glimmer/component","ember-metal","ember-views","ember-glimmer/utils/process-args","container"],function(t,e,n,i,r,s,o,a,l){"use strict";function c(t,e,n){}function u(t,e){t.named.has("id")&&(e.elementId=e.id)}function Q(t,e,n,r){for(var s=[],o=e.length-1;-1!==o;){var a=e[o],l=i.AttributeBinding.parse(a),c=l[1];-1===s.indexOf(c)&&(s.push(c),i.AttributeBinding.install(t,n,l,r)),o--}-1===s.indexOf("id")&&r.addStaticAttribute(t,"id",n.elementId),-1===s.indexOf("style")&&i.IsVisibleBinding.install(t,n,r)}function B(){}function I(t){return t.instrumentDetails({initialRender:!0})}function d(t){return t.instrumentDetails({initialRender:!1})}function F(t){var e=t.dynamicScope().view.tagName;return n.PrimitiveReference.create(""===e?null:e||"div")}function C(t){return t.getSelf().get("ariaRole")}t.validatePositionalParameters=c;var U=g.taggedTemplateLiteralLoose(["template:components/-default"],["template:components/-default"]),h=l.privatize(U),m=function(t){function e(e,n,i){t.call(this),this.args=e,this.definition=n,this.symbolTable=i,this.shadow=null}return g.inherits(e,t),e.prototype.compile=function(t){t.component.static(this.definition,this.args,this.symbolTable,this.shadow)},e}(n.StatementSyntax);t.CurlyComponentSyntax=m;var b=function(){function t(t,e,n,i){this.environment=t,this.component=e,this.classRef=null,this.args=n,this.argsRevision=n.tag.value(),this.finalizer=i}return t.prototype.destroy=function(){var t=this.component,e=this.environment;e.isInteractive&&(t.trigger("willDestroyElement"),t.trigger("willClearRender")),e.destroyedComponents.push(t)},t.prototype.finalize=function(){(0,this.finalizer)(),this.finalizer=B},t}(),p=function(){function t(){}return t.prototype.prepareArgs=function(t,e){return e.named,e.positional.values,t.ComponentClass.positionalParams,a.gatherArgs(e,t)},t.prototype.create=function(t,e,n,i,o,l){var c=i.view,g=e.ComponentClass,Q=a.ComponentArgs.create(n),B=Q.value(),d=B.props;u(n,d),d.parentView=c,d[r.HAS_BLOCK]=l,d._targetObject=o.value();var F=g.create(d),C=s._instrumentStart("render.component",I,F);i.view=F,null!==c&&c.appendChild(F),""===F.tagName&&(t.isInteractive&&F.trigger("willRender"),F._transitionTo("hasElement"),t.isInteractive&&F.trigger("willInsertElement"));var U=new b(t,F,Q,C);return n.named.has("class")&&(U.classRef=n.named.get("class")),t.isInteractive&&""!==F.tagName&&F.trigger("willRender"),U},t.prototype.layoutFor=function(t,e,n){var i=t.template;if(!i){var r=e.component;i=this.templateFor(r,n)}return n.getCompiledBlock(V,i)},t.prototype.templateFor=function(t,n){var i=s.get(t,"layout"),r=t[e.OWNER];if(i)return n.getTemplate(i,r);var o=s.get(t,"layoutName");if(o){var a=r.lookup("template:"+o);if(a)return a}return r.lookup(h)},t.prototype.getSelf=function(t){return t.component[r.ROOT_REF]},t.prototype.didCreateElement=function(t,e,n){var r=t.component,s=t.classRef,a=t.environment;o.setViewElement(r,e);var l=r.attributeBindings,c=r.classNames,g=r.classNameBindings;l&&l.length?Q(e,l,r,n):(n.addStaticAttribute(e,"id",r.elementId),i.IsVisibleBinding.install(e,r,n)),s&&n.addDynamicAttribute(e,"class",s),c&&c.length&&c.forEach(function(t){n.addStaticAttribute(e,"class",t)}),g&&g.length&&g.forEach(function(t){i.ClassNameBinding.install(e,r,t,n)}),r._transitionTo("hasElement"),a.isInteractive&&r.trigger("willInsertElement")},t.prototype.didRenderLayout=function(t,e){t.component[r.BOUNDS]=e,t.finalize()},t.prototype.getTag=function(t){return t.component[r.DIRTY_TAG]},t.prototype.didCreate=function(t){var e=t.component;t.environment.isInteractive&&(e._transitionTo("inDOM"),e.trigger("didInsertElement"),e.trigger("didRender"))},t.prototype.update=function(t,e,n){var i=t.component,o=t.args,a=t.argsRevision,l=t.environment;if(t.finalizer=s._instrumentStart("render.component",d,i),!o.tag.validate(a)){var c=o.value(),g=c.attrs,u=c.props;t.argsRevision=o.tag.value();var Q=i.attrs,B=g;i[r.IS_DISPATCHING_ATTRS]=!0,i.setProperties(u),i[r.IS_DISPATCHING_ATTRS]=!1,i.trigger("didUpdateAttrs",{oldAttrs:Q,newAttrs:B}),i.trigger("didReceiveAttrs",{oldAttrs:Q,newAttrs:B})}l.isInteractive&&(i.trigger("willUpdate"),i.trigger("willRender"))},t.prototype.didUpdateLayout=function(t){t.finalize()},t.prototype.didUpdate=function(t){var e=t.component;t.environment.isInteractive&&(e.trigger("didUpdate"),e.trigger("didRender"))},t.prototype.getDestructor=function(t){return t},t}(),A=new p,y=function(t){function e(){t.apply(this,arguments)}return g.inherits(e,t),e.prototype.create=function(t,e,n,i,r,o){var a=e.ComponentClass,l=s._instrumentStart("render.component",I,a);return i.view=a,""===a.tagName&&(t.isInteractive&&a.trigger("willRender"),a._transitionTo("hasElement"),t.isInteractive&&a.trigger("willInsertElement")),new b(t,a,n,l)},e}(p),f=new y,G=function(t){function e(e,n,i,r){t.call(this,e,A,n),this.template=i,this.args=r}return g.inherits(e,t),e}(n.ComponentDefinition);t.CurlyComponentDefinition=G;var x=function(t){function e(e){t.call(this,"-root",f,e),this.template=void 0,this.args=void 0}return g.inherits(e,t),e}(n.ComponentDefinition);t.RootComponentDefinition=x;var V=function(){function t(t){this.template=t}return t.prototype.compile=function(t){t.wrapLayout(this.template.asLayout()),t.tag.dynamic(F),t.attrs.dynamic("role",C),t.attrs.static("class","ember-view")},t}();V.id="curly"}),o("ember-glimmer/syntax/dynamic-component",["exports","glimmer-runtime","glimmer-reference","ember-metal"],function(t,e,n,i){"use strict";function r(t,e){var n=t.env,i=t.getArgs(),r=i.positional.at(0);return new o({nameRef:r,env:n,symbolTable:e})}var s=function(t){function n(e,n,i){t.call(this),this.definition=r,this.definitionArgs=e,this.args=n,this.symbolTable=i,this.shadow=null}return g.inherits(n,t),n.create=function(t,n,i){return new this(e.ArgsSyntax.fromPositionalArgs(n.positional.slice(0,1)),e.ArgsSyntax.build(n.positional.slice(1),n.named,n.blocks),i)},n.fromPath=function(t,n,i,r){return new this(e.ArgsSyntax.fromPositionalArgs(e.PositionalArgsSyntax.build([e.GetSyntax.build(n.join("."))])),i,r)},n.prototype.compile=function(t){t.component.dynamic(this.definitionArgs,this.definition,this.args,this.symbolTable,this.shadow)},n}(e.StatementSyntax);t.DynamicComponentSyntax=s;var o=function(){function t(t){var e=t.nameRef,n=t.env,i=t.symbolTable,r=t.args;this.tag=e.tag,this.nameRef=e,this.env=n,this.symbolTable=i,this.args=r}return t.prototype.value=function(){var t=this.env,n=this.nameRef,i=this.symbolTable,r=n.value();if("string"==typeof r){return t.getComponentDefinition([r],i)}return e.isComponentDefinition(r)?r:null},t.prototype.get=function(){return n.UNDEFINED_REFERENCE},t}()}),o("ember-glimmer/syntax/input",["exports","ember-metal","ember-glimmer/syntax/curly-component","ember-glimmer/syntax/dynamic-component","ember-glimmer/utils/bindings"],function(t,e,n,i,r){"use strict";function s(t,e,i){var s=e("-text-field");return r.wrapComponentClassAttribute(t),new n.CurlyComponentSyntax(t,s,i)}var o={create:function(t,e,o){var a=function(e){return t.getComponentDefinition([e],o)};if(!e.named.has("type"))return s(e,a,o);var l=e.named.at("type");if("value"===l.type){if("checkbox"===l.value){r.wrapComponentClassAttribute(e);var c=a("-checkbox");return new n.CurlyComponentSyntax(e,c,o)}return s(e,a,o)}return i.DynamicComponentSyntax.create(t,e,o)}};t.InputSyntax=o}),o("ember-glimmer/syntax/mount",["exports","glimmer-runtime","glimmer-reference","ember-metal","ember-glimmer/utils/references","ember-routing","ember-glimmer/syntax/outlet"],function(t,e,n,i,r,s,o){"use strict";var a=function(t){function n(e,n){t.call(this),this.definition=e,this.symbolTable=n}return g.inherits(n,t),n.create=function(t,e,i){var r=e.positional.at(0).inner();return new n(new u(r,t),i)},n.prototype.compile=function(t){t.component.static(this.definition,e.ArgsSyntax.empty(),null,this.symbolTable,null)},n}(e.StatementSyntax);t.MountSyntax=a;var l=function(){function t(){}return t.prototype.prepareArgs=function(t,e){return e},t.prototype.create=function(t,e,i,r){var s=e.name,o=e.env;r.outletState=n.UNDEFINED_REFERENCE;var a=o.owner.buildChildEngineInstance(s);return a.boot(),{engine:a}},t.prototype.layoutFor=function(t,e,n){var i=e.engine,r=i.lookup("template:application");return n.getCompiledBlock(o.OutletLayoutCompiler,r)},t.prototype.getSelf=function(t){var e=t.engine,n=e._lookupFactory("controller:application")||s.generateControllerFactory(e,"application");return new r.RootReference(n.create())},t.prototype.getTag=function(){return null},t.prototype.getDestructor=function(t){return t.engine},t.prototype.didCreateElement=function(){},t.prototype.didRenderLayout=function(){},t.prototype.didCreate=function(t){},t.prototype.update=function(t,e,n){},t.prototype.didUpdateLayout=function(){},t.prototype.didUpdate=function(t){},t}(),c=new l,u=function(t){function e(e,n){t.call(this,e,c,null),this.env=n}return g.inherits(e,t),e}(e.ComponentDefinition)}),o("ember-glimmer/syntax/outlet",["exports","ember-utils","glimmer-runtime","ember-metal","ember-glimmer/utils/references","glimmer-reference"],function(t,e,n,i,r,s){"use strict";function o(t){var e=t.dynamicScope(),n=e.outletState,i=t.getArgs(),r=void 0;return r=0===i.positional.length?new s.ConstReference("main"):i.positional.at(0),new Q(r,n)}function a(t,e,n){return e||n?!e&&n||e&&!n?null:n.render.template===e.render.template&&n.render.controller===e.render.controller?t:null:t}function l(t){var e=t.render;return{object:e.name+":"+e.outlet}}function c(){}var u=function(t){function e(e,i,r){t.call(this),this.definitionArgs=i,this.definition=o,this.args=n.ArgsSyntax.empty(),this.symbolTable=r,this.shadow=null}return g.inherits(e,t),e.create=function(t,e,i){return new this(t,n.ArgsSyntax.fromPositionalArgs(e.positional.slice(0,1)),i)},e.prototype.compile=function(t){t.component.dynamic(this.definitionArgs,this.definition,this.args,this.symbolTable,this.shadow)},e}(n.StatementSyntax);t.OutletSyntax=u;var Q=function(){function t(t,e){this.outletNameRef=t,this.parentOutletStateRef=e,this.definition=null,this.lastState=null;var n=this.outletStateTag=new s.UpdatableTag(e.tag);this.tag=s.combine([n.tag,t.tag])}return t.prototype.value=function(){var t=this.outletNameRef,e=this.parentOutletStateRef,n=this.definition,i=this.lastState,r=t.value(),s=e.get("outlets").get(r),o=this.lastState=s.value();this.outletStateTag.update(s.tag),n=a(n,i,o);var l=o&&o.render.template;return n||(this.definition=l?new m(r,o.render.template):null)},t}(),B=function(){function t(t){this.outletState=t,this.instrument()}return t.prototype.instrument=function(){this.finalizer=i._instrumentStart("render.outlet",l,this.outletState)},t.prototype.finalize=function(){(0,this.finalizer)(),this.finalizer=c},t}(),I=function(){function t(){}return t.prototype.prepareArgs=function(t,e){return e},t.prototype.create=function(t,e,n,i){var r=i.outletState=i.outletState.get("outlets").get(e.outletName),s=r.value();return new B(s)},t.prototype.layoutFor=function(t,e,n){return n.getCompiledBlock(b,t.template)},t.prototype.getSelf=function(t){var e=t.outletState;return new r.RootReference(e.render.controller)},t.prototype.getTag=function(){return null},t.prototype.getDestructor=function(){return null},t.prototype.didRenderLayout=function(t){t.finalize()},t.prototype.didCreateElement=function(){},t.prototype.didCreate=function(t){},t.prototype.update=function(t){},t.prototype.didUpdateLayout=function(t){},t.prototype.didUpdate=function(t){},t}(),d=new I,F=function(t){function e(){t.apply(this,arguments)}return g.inherits(e,t),e.prototype.create=function(t,e,n,i){return new B(i.outletState.value())},e.prototype.layoutFor=function(t,e,n){return n.getCompiledBlock(h,t.template)},e}(I),C=new F,U=function(t){function n(n){t.call(this,"outlet",C,n),this.template=n.template,e.generateGuid(this)}return g.inherits(n,t),n}(n.ComponentDefinition);t.TopLevelOutletComponentDefinition=U;var h=function(){function t(t){this.template=t}return t.prototype.compile=function(t){t.wrapLayout(this.template.asLayout()),t.tag.static("div"),t.attrs.static("id",e.guidFor(this)),t.attrs.static("class","ember-view")},t}();h.id="top-level-outlet";var m=function(t){function n(n,i){t.call(this,"outlet",d,null),this.outletName=n,this.template=i,e.generateGuid(this)}return g.inherits(n,t),n}(n.ComponentDefinition),b=function(){function t(t){this.template=t}return t.prototype.compile=function(t){t.wrapLayout(this.template.asLayout())},t}();t.OutletLayoutCompiler=b,b.id="outlet"}),o("ember-glimmer/syntax/render",["exports","glimmer-runtime","glimmer-reference","ember-metal","ember-glimmer/utils/references","ember-routing","ember-glimmer/syntax/outlet"],function(t,e,n,i,r,s,o){"use strict";function a(t){var e=t.env,i=t.getArgs(),r=i.positional.at(0),s=r.value(),o=e.owner.lookup("template:"+s),a=void 0;if(i.named.has("controller")){a=i.named.get("controller").value()}else a=s;return 1===i.positional.length?new n.ConstReference(new d(a,o,e,Q)):new n.ConstReference(new d(a,o,e,I))}var l=function(t){function n(n,i,r){t.call(this),this.definitionArgs=i,this.definition=a,this.args=e.ArgsSyntax.fromPositionalArgs(i.positional.slice(1,2)),this.symbolTable=r,this.shadow=null}return g.inherits(n,t),n.create=function(t,e,n){return new this(t,e,n)},n.prototype.compile=function(t){t.component.dynamic(this.definitionArgs,this.definition,this.args,this.symbolTable,this.shadow)},n}(e.StatementSyntax);t.RenderSyntax=l;var c=function(){function t(){}return t.prototype.prepareArgs=function(t,e){return e},t.prototype.layoutFor=function(t,e,n){return n.getCompiledBlock(o.OutletLayoutCompiler,t.template)},t.prototype.getSelf=function(t){var e=t.controller;return new r.RootReference(e)},t.prototype.getTag=function(){return null},
t.prototype.getDestructor=function(){return null},t.prototype.didCreateElement=function(){},t.prototype.didRenderLayout=function(){},t.prototype.didCreate=function(){},t.prototype.update=function(){},t.prototype.didUpdateLayout=function(){},t.prototype.didUpdate=function(){},t}(),u=function(t){function e(){t.apply(this,arguments)}return g.inherits(e,t),e.prototype.create=function(t,e,n,i){var r=e.name,o=e.env,a=o.owner.lookup("controller:"+r)||s.generateController(o.owner,r);return i.rootOutletState&&(i.outletState=i.rootOutletState.getOrphan(r)),{controller:a}},e}(c),Q=new u,B=function(t){function e(){t.apply(this,arguments)}return g.inherits(e,t),e.prototype.create=function(t,e,n,i){var r=e.name,o=e.env,a=n.positional.at(0),l=o.owner._lookupFactory("controller:"+r)||s.generateControllerFactory(o.owner,r),c=l.create({model:a.value()});return i.rootOutletState&&(i.outletState=i.rootOutletState.getOrphan(r)),{controller:c}},e.prototype.update=function(t,e,n){t.controller.set("model",e.positional.at(0).value())},e.prototype.getDestructor=function(t){return t.controller},e}(c),I=new B,d=function(t){function e(e,n,i,r){t.call(this,"render",r,null),this.name=e,this.template=n,this.env=i}return g.inherits(e,t),e}(e.ComponentDefinition)}),o("ember-glimmer/template",["exports","ember-utils","glimmer-runtime"],function(t,e,n){"use strict";function i(t){var i=n.templateFactory(t);return{id:i.id,meta:i.meta,create:function(t){return i.create(t.env,{owner:t[e.OWNER]})}}}t.default=i}),o("ember-glimmer/template_registry",["exports"],function(t){"use strict";function e(t){o=t}function n(){return o}function i(t){if(o.hasOwnProperty(t))return o[t]}function r(t){return o.hasOwnProperty(t)}function s(t,e){return o[t]=e}t.setTemplates=e,t.getTemplates=n,t.getTemplate=i,t.hasTemplate=r,t.setTemplate=s;var o={}}),o("ember-glimmer/templates/component",["exports","ember-glimmer/template"],function(t,e){"use strict";t.default=e.default({id:"ZoGfVsSJ",block:'{"statements":[["yield","default"]],"locals":[],"named":[],"yields":["default"],"blocks":[],"hasPartials":false}',meta:{moduleName:"ember-glimmer/templates/component.hbs"}})}),o("ember-glimmer/templates/empty",["exports","ember-glimmer/template"],function(t,e){"use strict";t.default=e.default({id:"qEHL4OLi",block:'{"statements":[],"locals":[],"named":[],"yields":[],"blocks":[],"hasPartials":false}',meta:{moduleName:"ember-glimmer/templates/empty.hbs"}})}),o("ember-glimmer/templates/link-to",["exports","ember-glimmer/template"],function(t,e){"use strict";t.default=e.default({id:"Ca7iQMR7",block:'{"statements":[["block",["if"],[["get",["linkTitle"]]],null,1,0]],"locals":[],"named":[],"yields":["default"],"blocks":[{"statements":[["yield","default"]],"locals":[]},{"statements":[["append",["unknown",["linkTitle"]],false]],"locals":[]}],"hasPartials":false}',meta:{moduleName:"ember-glimmer/templates/link-to.hbs"}})}),o("ember-glimmer/templates/outlet",["exports","ember-glimmer/template"],function(t,e){"use strict";t.default=e.default({id:"sYQo9vi/",block:'{"statements":[["append",["unknown",["outlet"]],false]],"locals":[],"named":[],"yields":[],"blocks":[],"hasPartials":false}',meta:{moduleName:"ember-glimmer/templates/outlet.hbs"}})}),o("ember-glimmer/templates/root",["exports","ember-glimmer/template"],function(t,e){"use strict";t.default=e.default({id:"Eaf3RPY3",block:'{"statements":[["append",["helper",["component"],[["get",[null]]],null],false]],"locals":[],"named":[],"yields":[],"blocks":[],"hasPartials":false}',meta:{moduleName:"ember-glimmer/templates/root.hbs"}})}),o("ember-glimmer/utils/bindings",["exports","glimmer-reference","glimmer-runtime","ember-metal","ember-runtime","ember-glimmer/component","ember-glimmer/utils/string"],function(t,e,n,i,r,s,o){"use strict";function a(t,e){return t[s.ROOT_REF].get(e)}function l(t,n){return"attrs"===n[0]&&(n.shift(),1===n.length)?a(t,n[0]):e.referenceFromParts(t[s.ROOT_REF],n)}function c(t){var e=t.named,i=e.keys.indexOf("class");if(-1!==i){var r=e.values[i],s=r.ref;if("get"===r.type){var o=s.parts[s.parts.length-1];e.values[i]=n.HelperSyntax.fromSpec(["helper",["-class"],[["get",s.parts],o],null])}}return t}t.wrapComponentClassAttribute=c;var u={parse:function(t){var e=t.indexOf(":");return-1===e?[t,t,!0]:[t.substring(0,e),t.substring(e+1),!1]},install:function(t,e,n,r){var s=n[0],o=n[1];n[2];if("id"===o){var c=i.get(e,s);return void 0!==c&&null!==c||(c=e.elementId),void r.addStaticAttribute(t,"id",c)}var g=s.indexOf(".")>-1,u=g?l(e,s.split(".")):a(e,s);"style"===o&&(u=new B(u,a(e,"isVisible"))),r.addDynamicAttribute(t,o,u)}};t.AttributeBinding=u;var Q=o.htmlSafe("display: none;"),B=function(t){function n(n,i){t.call(this),this.tag=e.combine([n.tag,i.tag]),this.inner=n,this.isVisible=i}return g.inherits(n,t),n.prototype.compute=function(){var t=this.inner.value();if(!1!==this.isVisible.value())return t;if(t||0===t){var e=t+" display: none;";return o.isHTMLSafe(t)?o.htmlSafe(e):e}return Q},n}(e.CachedReference),I={install:function(t,n,i){i.addDynamicAttribute(t,"style",e.map(a(n,"isVisible"),this.mapStyleValue))},mapStyleValue:function(t){return!1===t?Q:null}};t.IsVisibleBinding=I;var d={install:function(t,e,n,i){var r=n.split(":"),s=r[0],o=r[1],c=r[2];if(""===s)i.addStaticAttribute(t,"class",o);else{var g=s.indexOf(".")>-1,u=g&&s.split("."),Q=g?l(e,u):a(e,s),B=void 0;B=void 0===o?new F(Q,g?u[u.length-1]:s):new C(Q,o,c),i.addDynamicAttribute(t,"class",B)}}};t.ClassNameBinding=d;var F=function(t){function e(e,n){t.call(this),this.tag=e.tag,this.inner=e,this.path=n,this.dasherizedPath=null}return g.inherits(e,t),e.prototype.compute=function(){var t=this.inner.value();if(!0===t){var e=this.path;return this.dasherizedPath||(this.dasherizedPath=r.String.dasherize(e))}return t||0===t?t:null},e}(e.CachedReference),C=function(t){function e(e,n,i){t.call(this),this.tag=e.tag,this.inner=e,this.truthy=n||null,this.falsy=i||null}return g.inherits(e,t),e.prototype.compute=function(){var t=this.inner,e=this.truthy,n=this.falsy;return t.value()?e:n},e}(e.CachedReference)}),o("ember-glimmer/utils/iterable",["exports","ember-utils","ember-metal","ember-runtime","ember-glimmer/utils/references","ember-glimmer/helpers/each-in","glimmer-reference"],function(t,e,n,i,r,s,o){"use strict";function a(t,e){return s.isEachIn(t)?new h(t,l(e)):new m(t,c(e))}function l(t){switch(t){case"@index":case void 0:case null:return g;case"@identity":return u;default:return function(e){return n.get(e,t)}}}function c(t){switch(t){case"@index":return g;case"@identity":case void 0:case null:return u;default:return function(e){return n.get(e,t)}}}function g(t,e){return String(e)}function u(t){switch(typeof t){case"string":case"number":return String(t);default:return e.guidFor(t)}}function Q(t,e){var n=t[e];return n?(t[e]++,""+e+B+n):(t[e]=1,e)}t.default=a;var B="be277757-bbbe-4620-9fcb-213ef433cca2",I=function(){function t(t,n){this.array=t,this.length=t.length,this.keyFor=n,this.position=0,this.seen=new e.EmptyObject}return t.prototype.isEmpty=function(){return!1},t.prototype.next=function(){var t=this.array,e=this.length,n=this.keyFor,i=this.position,r=this.seen;if(i>=e)return null;var s=t[i],o=i,a=Q(r,n(s,o));return this.position++,{key:a,value:s,memo:o}},t}(),d=function(){function t(t,i){this.array=t,this.length=n.get(t,"length"),this.keyFor=i,this.position=0,this.seen=new e.EmptyObject}return t.prototype.isEmpty=function(){return 0===this.length},t.prototype.next=function(){var t=this.array,e=this.length,n=this.keyFor,r=this.position,s=this.seen;if(r>=e)return null;var o=i.objectAt(t,r),a=r,l=Q(s,n(o,a));return this.position++,{key:l,value:o,memo:a}},t}(),F=function(){function t(t,n,i){this.keys=t,this.values=n,this.keyFor=i,this.position=0,this.seen=new e.EmptyObject}return t.prototype.isEmpty=function(){return 0===this.keys.length},t.prototype.next=function(){var t=this.keys,e=this.values,n=this.keyFor,i=this.position,r=this.seen;if(i>=t.length)return null;var s=e[i],o=t[i],a=Q(r,n(s,o));return this.position++,{key:a,value:s,memo:o}},t}(),C=function(){function t(){}return t.prototype.isEmpty=function(){return!0},t.prototype.next=function(){throw new Error("Cannot call next() on an empty iterator")},t}(),U=new C,h=function(){function t(t,e){this.ref=t,this.keyFor=e;var n=this.valueTag=new o.UpdatableTag(o.CONSTANT_TAG);this.tag=o.combine([t.tag,n])}return t.prototype.iterate=function(){var t=this.ref,e=this.keyFor,i=this.valueTag,r=t.value();i.update(n.tagFor(r)),n.isProxy(r)&&(r=n.get(r,"content"));var s=typeof r;if(!r||"object"!==s&&"function"!==s)return U;var o=Object.keys(r),a=o.map(function(t){return r[t]});return o.length>0?new F(o,a,e):U},t.prototype.valueReferenceFor=function(t){return new r.UpdatablePrimitiveReference(t.memo)},t.prototype.updateValueReference=function(t,e){t.update(e.memo)},t.prototype.memoReferenceFor=function(t){return new r.UpdatableReference(t.value)},t.prototype.updateMemoReference=function(t,e){t.update(e.value)},t}(),m=function(){function t(t,e){this.ref=t,this.keyFor=e;var n=this.valueTag=new o.UpdatableTag(o.CONSTANT_TAG);this.tag=o.combine([t.tag,n])}return t.prototype.iterate=function(){var t=this.ref,e=this.keyFor,r=this.valueTag,s=t.value();if(r.update(n.tagForProperty(s,"[]")),!s||"object"!=typeof s)return U;if(Array.isArray(s))return s.length>0?new I(s,e):U;if(i.isEmberArray(s))return n.get(s,"length")>0?new d(s,e):U;if("function"!=typeof s.forEach)return U;var o=function(){var t=[];return s.forEach(function(e){t.push(e)}),{v:t.length>0?new I(t,e):U}}();return"object"==typeof o?o.v:void 0},t.prototype.valueReferenceFor=function(t){return new r.UpdatableReference(t.value)},t.prototype.updateValueReference=function(t,e){t.update(e.value)},t.prototype.memoReferenceFor=function(t){return new r.UpdatablePrimitiveReference(t.memo)},t.prototype.updateMemoReference=function(t,e){t.update(e.memo)},t}()}),o("ember-glimmer/utils/process-args",["exports","ember-utils","glimmer-reference","ember-glimmer/component","ember-glimmer/utils/references","ember-views","ember-glimmer/helpers/action","glimmer-runtime"],function(t,e,n,i,r,s,o,a){"use strict";function l(t,e){return u(c(t,e),g(t,e),t.blocks,e.ComponentClass)}function c(t,n){var i=t.named.map;return n.args?e.assign({},n.args.named.map,i):i}function g(t,e){var n=t.positional.values;if(e.args){var i=e.args.positional.values,r=[];return r.push.apply(r,i),r.splice.apply(r,[0,n.length].concat(n)),r}return n}function u(t,e,n,i){var r=i.positionalParams;return r&&r.length>0&&e.length>0&&(t="string"==typeof r?Q(t,e,r):B(t,e,r)),a.EvaluatedArgs.named(t,n)}function Q(t,n,i){var r=e.assign({},t);return r[i]=a.EvaluatedPositionalArgs.create(n),r}function B(t,n,i){for(var r=e.assign({},t),s=Math.min(n.length,i.length),o=0;o<s;o++){r[i[o]]=n[o]}return r}t.gatherArgs=l;var I={tag:n.CONSTANT_TAG,value:function(){var t;return{attrs:{},props:(t={attrs:{}},t[i.ARGS]={},t)}}},d=function(){function t(t){this.tag=t.tag,this.namedArgs=t}return t.create=function(e){return 0===e.named.keys.length?I:new t(e.named)},t.prototype.value=function(){var t=this.namedArgs,n=t.keys,s=t.value(),a=new e.EmptyObject,l=new e.EmptyObject;a[i.ARGS]=l;for(var c=0,g=n.length;c<g;c++){var u=n[c],Q=t.get(u),B=s[u];"function"==typeof B&&B[o.ACTION]?s[u]=B:Q[r.UPDATE]&&(s[u]=new C(Q,B)),l[u]=Q,a[u]=B}return a.attrs=s,{attrs:s,props:a}},t}();t.ComponentArgs=d;var F=e.symbol("REF"),C=function(){function t(t,e){this[s.MUTABLE_CELL]=!0,this[F]=t,this.value=e}return t.prototype.update=function(t){this[F][r.UPDATE](t)},t}()}),o("ember-glimmer/utils/references",["exports","ember-utils","ember-metal","glimmer-reference","glimmer-runtime","ember-glimmer/utils/to-bool","ember-glimmer/helper"],function(t,e,n,i,r,s,o){"use strict";var a=e.symbol("UPDATE");t.UPDATE=a,t.NULL_REFERENCE=r.NULL_REFERENCE,t.UNDEFINED_REFERENCE=r.UNDEFINED_REFERENCE;var l=function(){function t(){}return t.prototype.get=function(t){return Q.create(this,t)},t}(),c=function(t){function e(){t.call(this),this._lastRevision=null,this._lastValue=null}return g.inherits(e,t),e.prototype.value=function(){var t=this.tag,e=this._lastRevision,n=this._lastValue;return e&&t.validate(e)||(n=this._lastValue=this.compute(),this._lastRevision=t.value()),n},e}(l);t.CachedReference=c;var u=function(t){function n(n){t.call(this,n),this.children=new e.EmptyObject}return g.inherits(n,t),n.prototype.get=function(t){var e=this.children[t];return e||(e=this.children[t]=new B(this.inner,t)),e},n}(i.ConstReference);t.RootReference=u;var Q=function(t){function e(){t.apply(this,arguments)}return g.inherits(e,t),e.create=function(t,e){return i.isConst(t)?new B(t.value(),e):new I(t,e)},e.prototype.get=function(t){return new I(this,t)},e}(c);t.PropertyReference=Q;var B=function(t){function e(e,i){t.call(this),this._parentValue=e,this._propertyKey=i,this.tag=n.tagForProperty(e,i)}return g.inherits(e,t),e.prototype.compute=function(){var t=this._parentValue,e=this._propertyKey;return n.get(t,e)},e.prototype[a]=function(t){n.set(this._parentValue,this._propertyKey,t)},e}(Q);t.RootPropertyReference=B;var I=function(t){function e(e,n){t.call(this);var r=e.tag,s=new i.UpdatableTag(i.CONSTANT_TAG);this._parentReference=e,this._parentObjectTag=s,this._propertyKey=n;this.tag=i.combine([r,s])}return g.inherits(e,t),e.prototype.compute=function(){var t=this._parentReference,e=this._parentObjectTag,i=this._propertyKey,r=t.value();return e.update(n.tagForProperty(r,i)),"string"==typeof r&&"length"===i?r.length:"object"==typeof r&&r?n.get(r,i):void 0},e.prototype[a]=function(t){var e=this._parentReference.value();n.set(e,this._propertyKey,t)},e}(Q);t.NestedPropertyReference=I;var d=function(t){function e(e){t.call(this),this.tag=new i.DirtyableTag,this._value=e}return g.inherits(e,t),e.prototype.value=function(){return this._value},e.prototype.update=function(t){t!==this._value&&(this.tag.dirty(),this._value=t)},e}(l);t.UpdatableReference=d;var F=function(t){function e(){t.apply(this,arguments)}return g.inherits(e,t),e.prototype.get=function(){return r.UNDEFINED_REFERENCE},e}(d);t.UpdatablePrimitiveReference=F;var C=function(t){function e(e){t.call(this,e),this.objectTag=new i.UpdatableTag(i.CONSTANT_TAG),this.tag=i.combine([e.tag,this.objectTag])}return g.inherits(e,t),e.create=function(t){if(i.isConst(t)){var o=t.value();return n.isProxy(o)?new B(o,"isTruthy"):r.PrimitiveReference.create(s.default(o))}return new e(t)},e.prototype.toBool=function(t){return n.isProxy(t)?(this.objectTag.update(n.tagForProperty(t,"isTruthy")),n.get(t,"isTruthy")):(this.objectTag.update(n.tagFor(t)),s.default(t))},e}(r.ConditionalReference);t.ConditionalReference=C;var U=function(t){function e(e,n){t.call(this),this.tag=n.tag,this.helper=e,this.args=n}return g.inherits(e,t),e.create=function(t,n){if(i.isConst(n)){var s=n.positional,o=n.named,a=s.value(),l=o.value(),c=t(a,l);return null===c?r.NULL_REFERENCE:void 0===c?r.UNDEFINED_REFERENCE:"object"==typeof c?new u(c):r.PrimitiveReference.create(c)}return new e(t,n)},e.prototype.compute=function(){var t=this.helper,e=this.args,n=e.positional,i=e.named;return t(n.value(),i.value())},e}(c);t.SimpleHelperReference=U;var h=function(t){function e(e,n){t.call(this),this.tag=i.combine([e[o.RECOMPUTE_TAG],n.tag]),this.instance=e,this.args=n}return g.inherits(e,t),e.create=function(t,n,i){var r=t.create();return n.newDestroyable(r),new e(r,i)},e.prototype.compute=function(){var t=this.instance,e=this.args,n=e.positional,i=e.named,r=n.value(),s=i.value();return t.compute(r,s)},e}(c);t.ClassBasedHelperReference=h;var m=function(t){function e(e,n){t.call(this),this.tag=n.tag,this.helper=e,this.args=n}return g.inherits(e,t),e.prototype.compute=function(){return(0,this.helper)(this.args)},e}(c);t.InternalHelperReference=m;var b=function(t){function e(){t.apply(this,arguments)}return g.inherits(e,t),e.create=function(t){return null===t?r.NULL_REFERENCE:void 0===t?r.UNDEFINED_REFERENCE:"object"==typeof t?new e(t):r.PrimitiveReference.create(t)},e.prototype.get=function(t){return new e(n.get(this.inner,t))},e}(i.ConstReference);t.UnboundReference=b}),o("ember-glimmer/utils/string",["exports","ember-metal"],function(t,e){"use strict";function n(){return a}function i(t){return l[t]}function r(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return c.test(t)?t.replace(g,i):t}function s(t){return null===t||void 0===t?t="":"string"!=typeof t&&(t=""+t),new a(t)}function o(t){return t&&"function"==typeof t.toHTML}t.getSafeString=n,t.escapeExpression=r,t.htmlSafe=s,t.isHTMLSafe=o;var a=function(){function t(t){this.string=t}return t.prototype.toString=function(){return""+this.string},t.prototype.toHTML=function(){return this.toString()},t}();t.SafeString=a;var l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},c=/[&<>"'`=]/,g=/[&<>"'`=]/g}),o("ember-glimmer/utils/to-bool",["exports","ember-runtime","ember-metal"],function(t,e,n){"use strict";function i(t){return!!t&&(!0===t||(!e.isArray(t)||0!==n.get(t,"length")))}t.default=i}),o("ember-glimmer/views/outlet",["exports","ember-utils","glimmer-reference","ember-environment","ember-metal"],function(t,e,n,i,r){"use strict";var s=function(){function t(t){this.outletView=t,this.tag=t._tag}return t.prototype.get=function(t){return new a(this,t)},t.prototype.value=function(){return this.outletView.outletState},t.prototype.getOrphan=function(t){return new o(this,t)},t.prototype.update=function(t){this.outletView.setOutletState(t)},t}(),o=function(t){function n(e,n){t.call(this,e.outletView),this.root=e,this.name=n}return g.inherits(n,t),n.prototype.value=function(){var t=this.root.value(),n=t.outlets.main.outlets.__ember_orphans__;if(!n)return null;var i=n.outlets[this.name];if(!i)return null;var r=new e.EmptyObject;return r[i.render.outlet]=i,i.wasUsed=!0,{outlets:r}},n}(s),a=function(){function t(t,e){this.parent=t,this.key=e,this.tag=t.tag}return t.prototype.get=function(e){return new t(this,e)},t.prototype.value=function(){return this.parent.value()[this.key]},t}(),l=function(){function t(t,e,i,r){this._environment=t,this.renderer=e,this.owner=i,this.template=r,this.outletState=null,this._tag=new n.DirtyableTag}return t.extend=function(n){return function(t){function i(){t.apply(this,arguments)}return g.inherits(i,t),i.create=function(i){return i?t.create.call(this,e.assign({},n,i)):t.create.call(this,n)},i}(t)},t.reopenClass=function(t){e.assign(this,t)},t.create=function(n){var i=n._environment,r=n.renderer,s=n.template;return new t(i,r,n[e.OWNER],s)},t.prototype.appendTo=function(t){var e=this._environment||i.environment,n=void 0;n=e.hasDOM&&"string"==typeof t?document.querySelector(t):t,r.run.schedule("render",this.renderer,"appendOutletView",this,n)},t.prototype.rerender=function(){},t.prototype.setOutletState=function(t){this.outletState={outlets:{main:t},render:{owner:void 0,into:void 0,outlet:"main",name:"-top-level",controller:void 0,ViewClass:void 0,template:void 0}},this._tag.dirty()},t.prototype.toReference=function(){return new s(this)},t.prototype.destroy=function(){},t}();t.default=l}),o("ember-metal/alias",["exports","ember-utils","ember-metal/debug","ember-metal/property_get","ember-metal/property_set","ember-metal/error","ember-metal/properties","ember-metal/computed","ember-metal/meta","ember-metal/dependent_keys"],function(t,e,n,i,r,s,o,a,l,c){"use strict";function g(t){return new u(t)}function u(t){this.isDescriptor=!0,this.altKey=t,this._dependentKeys=[t]}function Q(t,n,i){throw new s.default("Cannot set read-only property '"+n+"' on object: "+e.inspect(t))}function B(t,e,n){return o.defineProperty(t,e,null),r.set(t,e,n)}t.default=g,t.AliasedProperty=u;var I={};u.prototype=Object.create(o.Descriptor.prototype),u.prototype.setup=function(t,e){var n=l.meta(t);n.peekWatching(e)&&c.addDependentKeys(this,t,e,n)},u.prototype.teardown=function(t,e){var n=l.meta(t);n.peekWatching(e)&&c.removeDependentKeys(this,t,e,n)},u.prototype.willWatch=function(t,e){c.addDependentKeys(this,t,e,l.meta(t))},u.prototype.didUnwatch=function(t,e){c.removeDependentKeys(this,t,e,l.meta(t))},u.prototype.get=function(t,e){var n=i.get(t,this.altKey),r=l.meta(t),s=r.writableCache();return s[e]!==I&&(s[e]=I,c.addDependentKeys(this,t,e,r)),n},u.prototype.set=function(t,e,n){return r.set(t,this.altKey,n)},u.prototype.readOnly=function(){return this.set=Q,this},u.prototype.oneWay=function(){return this.set=B,this},u.prototype._meta=void 0,u.prototype.meta=a.ComputedProperty.prototype.meta}),o("ember-metal/binding",["exports","ember-utils","ember-console","ember-environment","ember-metal/run_loop","ember-metal/debug","ember-metal/property_get","ember-metal/property_set","ember-metal/events","ember-metal/observer","ember-metal/path_cache"],function(t,e,n,i,r,s,o,a,l,c,g){"use strict";function u(t,e){this._from=e,this._to=t,this._oneWay=void 0,this._direction=void 0,this._readyToSync=void 0,this._fromObj=void 0,this._fromPath=void 0,this._toObj=void 0}function Q(t,e,n){return new u(e,n).connect(t)}t.bind=Q,u.prototype={copy:function(){var t=new u(this._to,this._from);return this._oneWay&&(t._oneWay=!0),t},from:function(t){return this._from=t,this},to:function(t){return this._to=t,this},oneWay:function(){return this._oneWay=!0,this},toString:function(){var t=this._oneWay?"[oneWay]":"";return"Ember.Binding<"+e.guidFor(this)+">("+this._from+" -> "+this._to+")"+t},connect:function(t){var e=void 0,n=void 0,r=void 0;if(g.isGlobalPath(this._from)){var s=g.getFirstKey(this._from);r=i.context.lookup[s],r&&(e=r,n=g.getTailPath(this._from))}return void 0===e&&(e=t,n=this._from),a.trySet(t,this._to,o.get(e,n)),c.addObserver(e,n,this,"fromDidChange"),this._oneWay||c.addObserver(t,this._to,this,"toDidChange"),l.addListener(t,"willDestroy",this,"disconnect"),this._to,this._from,this._oneWay,!r&&this._oneWay,this._readyToSync=!0,this._fromObj=e,this._fromPath=n,this._toObj=t,this},disconnect:function(){return c.removeObserver(this._fromObj,this._fromPath,this,"fromDidChange"),this._oneWay||c.removeObserver(this._toObj,this._to,this,"toDidChange"),this._readyToSync=!1,this},fromDidChange:function(t){this._scheduleSync("fwd")},toDidChange:function(t){this._scheduleSync("back")},_scheduleSync:function(t){var e=this._direction;void 0===e&&(r.default.schedule("sync",this,"_sync"),this._direction=t),"back"===e&&"fwd"===t&&(this._direction="fwd")},_sync:function(){var t=i.ENV.LOG_BINDINGS,e=this._toObj;if(!e.isDestroyed&&this._readyToSync){var r=this._direction,s=this._fromObj,l=this._fromPath;if(this._direction=void 0,"fwd"===r){var g=o.get(s,l);t&&n.default.log(" ",this.toString(),"->",g,s),this._oneWay?a.trySet(e,this._to,g):c._suspendObserver(e,this._to,this,"toDidChange",function(){a.trySet(e,this._to,g)})}else if("back"===r){var u=o.get(e,this._to);t&&n.default.log(" ",this.toString(),"<-",u,e),c._suspendObserver(s,l,this,"fromDidChange",function(){a.trySet(s,l,u)})}}}},function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}(u,{from:function(t){return new this(void 0,t)},to:function(t){return new this(t,void 0)}}),t.Binding=u}),o("ember-metal/cache",["exports","ember-utils","ember-metal/meta"],function(t,e,n){"use strict";var i=function(){function t(t,e,n,i){this.size=0,this.misses=0,this.hits=0,this.limit=t,this.func=e,this.key=n,this.store=i||new r}return t.prototype.get=function(t){var e=void 0===this.key?t:this.key(t),i=this.store.get(e);return void 0===i?(this.misses++,i=this._set(e,this.func(t))):i===n.UNDEFINED?(this.hits++,i=void 0):this.hits++,i},t.prototype.set=function(t,e){var n=void 0===this.key?t:this.key(t);return this._set(n,e)},t.prototype._set=function(t,e){return this.limit>this.size&&(this.size++,void 0===e?this.store.set(t,n.UNDEFINED):this.store.set(t,e)),e},t.prototype.purge=function(){this.store.clear(),this.size=0,this.hits=0,this.misses=0},t}();t.default=i;var r=function(){function t(){this.data=new e.EmptyObject}return t.prototype.get=function(t){return this.data[t]},t.prototype.set=function(t,e){this.data[t]=e},t.prototype.clear=function(){this.data=new e.EmptyObject},t}()}),o("ember-metal/chains",["exports","ember-utils","ember-metal/property_get","ember-metal/meta","ember-metal/watch_key","ember-metal/watch_path"],function(t,e,n,i,r,s){"use strict";function o(t){return t.match(F)[0]}function a(t){return"object"==typeof t&&t}function l(t){return!(a(t)&&t.isDescriptor&&!1===t._volatile)}function c(){this.chains=new e.EmptyObject}function g(){return new c}function u(t,e,n){var s=i.meta(t);s.writableChainWatchers(g).add(e,n),r.watchKey(t,e,s)}function Q(t,e,n,s){if(a(t)){var o=s||i.peekMeta(t);o&&o.readableChainWatchers()&&(o=i.meta(t),o.readableChainWatchers().remove(e,n),r.unwatchKey(t,e,o))}}function B(t,e,n){if(this._parent=t,this._key=e,this._watching=void 0===n,this._chains=void 0,this._object=void 0,this.count=0,this._value=n,this._paths={},this._watching){var i=t.value();if(!a(i))return;this._object=i,u(this._object,this._key,this)}}function I(t,e){if(a(t)){var r=i.peekMeta(t);if(!r||r.proto!==t){if(l(t[e]))return n.get(t,e);var s=r.readableCache();return s&&e in s?s[e]:void 0}}}function d(t){var e=i.peekMeta(t);if(e){e=i.meta(t);var n=e.readableChainWatchers();n&&n.revalidateAll(),e.readableChains()&&e.writableChains(s.makeChainNode)}}t.finishChains=d;var F=/^([^\.]+)/;c.prototype={add:function(t,e){var n=this.chains[t];void 0===n?this.chains[t]=[e]:n.push(e)},remove:function(t,e){var n=this.chains[t];if(n)for(var i=0;i<n.length;i++)if(n[i]===e){n.splice(i,1);break}},has:function(t,e){var n=this.chains[t];if(n)for(var i=0;i<n.length;i++)if(n[i]===e)return!0;return!1},revalidateAll:function(){for(var t in this.chains)this.notify(t,!0,void 0)},revalidate:function(t){this.notify(t,!0,void 0)},notify:function(t,e,n){var i=this.chains[t];if(void 0!==i&&0!==i.length){var r=void 0;n&&(r=[]);for(var s=0;s<i.length;s++)i[s].notify(e,r);if(void 0!==n)for(var s=0;s<r.length;s+=2){var o=r[s],a=r[s+1];n(o,a)}}}},B.prototype={value:function(){if(void 0===this._value&&this._watching){var t=this._parent.value();this._value=I(t,this._key)}return this._value},destroy:function(){if(this._watching){var t=this._object;t&&Q(t,this._key,this),this._watching=!1}},copy:function(t){var e=new B(null,null,t),n=this._paths,i=void 0;for(i in n)n[i]<=0||e.add(i);return e},add:function(t){var e=this._paths;e[t]=(e[t]||0)+1;var n=o(t),i=t.slice(n.length+1);this.chain(n,i)},remove:function(t){var e=this._paths;e[t]>0&&e[t]--;var n=o(t),i=t.slice(n.length+1);this.unchain(n,i)},chain:function(t,n){var i=this._chains,r=void 0;void 0===i?i=this._chains=new e.EmptyObject:r=i[t],void 0===r&&(r=i[t]=new B(this,t,void 0)),r.count++,n&&(t=o(n),n=n.slice(t.length+1),r.chain(t,n))},unchain:function(t,e){var n=this._chains,i=n[t];if(e&&e.length>1){var r=o(e),s=e.slice(r.length+1);i.unchain(r,s)}--i.count<=0&&(n[i._key]=void 0,i.destroy())},notify:function(t,e){if(t&&this._watching){var n=this._parent.value();n!==this._object&&(this._object&&Q(this._object,this._key,this),a(n)?(this._object=n,u(n,this._key,this)):this._object=void 0),this._value=void 0}var i=this._chains,r=void 0;if(i)for(var s in i)void 0!==(r=i[s])&&r.notify(t,e);e&&this._parent&&this._parent.populateAffected(this._key,1,e)},populateAffected:function(t,e,n){this._key&&(t=this._key+"."+t),this._parent?this._parent.populateAffected(t,e+1,n):e>1&&n.push(this.value(),t)}},t.removeChainWatcher=Q,t.ChainNode=B}),o("ember-metal/computed",["exports","ember-utils","ember-metal/debug","ember-metal/property_set","ember-metal/meta","ember-metal/expand_properties","ember-metal/error","ember-metal/properties","ember-metal/property_events","ember-metal/dependent_keys"],function(t,e,n,i,r,s,o,a,l,c){"use strict";function g(t,e){this.isDescriptor=!0,"function"==typeof t?this._getter=t:(this._getter=t.get,this._setter=t.set),this._dependentKeys=void 0,this._suspended=void 0,this._meta=void 0,this._volatile=!1,this._dependentKeys=e&&e.dependentKeys,this._readOnly=!1}function u(t){var e=void 0;arguments.length>1&&(e=[].slice.call(arguments),t=e.pop());var n=new g(t);return e&&n.property.apply(n,e),n}function Q(t,e){var n=r.peekMeta(t),i=n&&n.source===t&&n.readableCache(),s=i&&i[e];if(s!==r.UNDEFINED)return s}t.default=u;g.prototype=new a.Descriptor,g.prototype.constructor=g;var B=g.prototype;B.volatile=function(){return this._volatile=!0,this},B.readOnly=function(){return this._readOnly=!0,this},B.property=function(){function t(t){e.push(t)}for(var e=[],n=0;n<arguments.length;n++)s.default(arguments[n],t);return this._dependentKeys=e,this},B.meta=function(t){return 0===arguments.length?this._meta||{}:(this._meta=t,this)},B.didChange=function(t,e){if(!this._volatile&&this._suspended!==t){var n=r.peekMeta(t);if(n&&n.source===t){var i=n.readableCache();i&&void 0!==i[e]&&(i[e]=void 0,c.removeDependentKeys(this,t,e,n))}}},B.get=function(t,e){if(this._volatile)return this._getter.call(t,e);var n=r.meta(t),i=n.writableCache(),s=i[e];if(s!==r.UNDEFINED){if(void 0!==s)return s;var o=this._getter.call(t,e);i[e]=void 0===o?r.UNDEFINED:o;var a=n.readableChainWatchers();return a&&a.revalidate(e),c.addDependentKeys(this,t,e,n),o}},B.set=function(t,e,n){return this._readOnly&&this._throwReadOnlyError(t,e),this._setter?this._volatile?this.volatileSet(t,e,n):this.setWithSuspend(t,e,n):this.clobberSet(t,e,n)},B._throwReadOnlyError=function(t,n){throw new o.default('Cannot set read-only property "'+n+'" on object: '+e.inspect(t))},B.clobberSet=function(t,e,n){var r=Q(t,e);return a.defineProperty(t,e,null,r),i.set(t,e,n),n},B.volatileSet=function(t,e,n){return this._setter.call(t,e,n)},B.setWithSuspend=function(t,e,n){var i=this._suspended;this._suspended=t;try{return this._set(t,e,n)}finally{this._suspended=i}},B._set=function(t,e,n){var i=r.meta(t),s=i.writableCache(),o=!1,a=void 0;void 0!==s[e]&&(s[e]!==r.UNDEFINED&&(a=s[e]),o=!0);var g=this._setter.call(t,e,n,a);return o&&a===g?g:(l.propertyWillChange(t,e),o&&(s[e]=void 0),o||c.addDependentKeys(this,t,e,i),s[e]=void 0===g?r.UNDEFINED:g,l.propertyDidChange(t,e),g)},B.teardown=function(t,e){if(!this._volatile){var n=r.meta(t),i=n.readableCache();i&&void 0!==i[e]&&(c.removeDependentKeys(this,t,e,n),i[e]=void 0)}},Q.set=function(t,e,n){t[e]=void 0===n?r.UNDEFINED:n},Q.get=function(t,e){var n=t[e];if(n!==r.UNDEFINED)return n},Q.remove=function(t,e){t[e]=void 0},t.ComputedProperty=g,t.computed=u,t.cacheFor=Q}),o("ember-metal/core",["exports","ember-environment"],function(t,e){"use strict";var n="object"==typeof e.context.imports.Ember&&e.context.imports.Ember||{};n.isNamespace=!0,n.toString=function(){return"Ember"},t.default=n}),o("ember-metal/debug",["exports"],function(t){"use strict";function e(t){return Q[t]}function n(t,e){Q[t]=e}function i(){return Q.assert.apply(void 0,arguments)}function r(){return Q.info.apply(void 0,arguments)}function s(){return Q.warn.apply(void 0,arguments)}function o(){return Q.debug.apply(void 0,arguments)}function a(){return Q.deprecate.apply(void 0,arguments)}function l(){return Q.deprecateFunc.apply(void 0,arguments)}function c(){return Q.runInDebug.apply(void 0,arguments)}function g(){return Q.debugSeal.apply(void 0,arguments)}function u(){return Q.debugFreeze.apply(void 0,arguments)}t.getDebugFunction=e,t.setDebugFunction=n,t.assert=i,t.info=r,t.warn=s,t.debug=o,t.deprecate=a,t.deprecateFunc=l,t.runInDebug=c,t.debugSeal=g,t.debugFreeze=u;var Q={assert:function(){},info:function(){},warn:function(){},debug:function(){},deprecate:function(){},deprecateFunc:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e[e.length-1]},runInDebug:function(){},debugSeal:function(){},debugFreeze:function(){}};t.debugFunctions=Q}),o("ember-metal/dependent_keys",["exports","ember-metal/watching"],function(t,e){"no use strict";function n(t,n,i,r){var s=void 0,o=void 0,a=t._dependentKeys;if(a)for(s=0;s<a.length;s++)o=a[s],r.writeDeps(o,i,(r.peekDeps(o,i)||0)+1),e.watch(n,o,r)}function i(t,n,i,r){var s=t._dependentKeys;if(s)for(var o=0;o<s.length;o++){var a=s[o]
;r.writeDeps(a,i,(r.peekDeps(a,i)||0)-1),e.unwatch(n,a,r)}}t.addDependentKeys=n,t.removeDependentKeys=i}),o("ember-metal/deprecate_property",["exports","ember-metal/debug","ember-metal/property_get","ember-metal/property_set"],function(t,e,n,i){"use strict";function r(t,e,r,s){Object.defineProperty(t,e,{configurable:!0,enumerable:!1,set:function(t){i.set(this,r,t)},get:function(){return n.get(this,r)}})}t.deprecateProperty=r}),o("ember-metal/descriptor",["exports","ember-metal/properties"],function(t,e){"use strict";function n(t){return new i(t)}t.default=n;var i=function(t){function e(e){t.call(this),this.desc=e}return g.inherits(e,t),e.prototype.setup=function(t,e){Object.defineProperty(t,e,this.desc)},e.prototype.teardown=function(t,e){},e}(e.Descriptor)}),o("ember-metal/error",["exports"],function(t){"use strict";function e(t){if(!(this instanceof e))return new e(t);var n=Error.call(this,t);Error.captureStackTrace?Error.captureStackTrace(this,e):this.stack=n.stack,this.description=n.description,this.fileName=n.fileName,this.lineNumber=n.lineNumber,this.message=n.message,this.name=n.name,this.number=n.number,this.code=n.code}t.default=e,e.prototype=Object.create(Error.prototype)}),o("ember-metal/error_handler",["exports","ember-console","ember-metal/testing"],function(t,e,n){"use strict";function i(){return c}function r(t){c=t}function s(t){g?g(t):a(t)}function o(t){g=t}function a(t){if(n.isTesting())throw t;c?c(t):e.default.error(l(t))}t.getOnerror=i,t.setOnerror=r,t.dispatchError=s,t.setDispatchOverride=o;var l=function(t){var e=t.stack,n=t.message;return e&&-1===e.indexOf(n)&&(e=n+"\n"+e),e},c=void 0,g=void 0}),o("ember-metal/events",["exports","ember-utils","ember-metal/debug","ember-metal/meta","ember-metal/meta_listeners"],function(t,e,n,i,r){"no use strict";function s(t,e,n){for(var i=-1,r=t.length-3;r>=0;r-=3)if(e===t[r]&&n===t[r+1]){i=r;break}return i}function o(t,e,n){var r=i.peekMeta(t);if(r){for(var o=r.matchingListeners(e),a=[],l=o.length-3;l>=0;l-=3){var c=o[l],g=o[l+1],u=o[l+2];-1===s(n,c,g)&&(n.push(c,g,u),a.push(c,g,u))}return a}}function a(t,e,n,s,o){s||"function"!=typeof n||(s=n,n=null);var a=0;o&&(a|=r.ONCE),i.meta(t).addToListeners(e,n,s,a),"function"==typeof t.didAddListener&&t.didAddListener(e,n,s)}function l(t,e,n,r){r||"function"!=typeof n||(r=n,n=null),i.meta(t).removeFromListeners(e,n,r,function(){"function"==typeof t.didRemoveListener&&t.didRemoveListener.apply(t,arguments)})}function c(t,e,n,i,r){return g(t,[e],n,i,r)}function g(t,e,n,r,s){return r||"function"!=typeof n||(r=n,n=null),i.meta(t).suspendListeners(e,n,r,s)}function u(t){return i.meta(t).watchedEvents()}function Q(t,n,s,o){if(!o){var a=i.peekMeta(t);o=a&&a.matchingListeners(n)}if(o&&0!==o.length){for(var c=o.length-3;c>=0;c-=3){var g=o[c],u=o[c+1],Q=o[c+2];u&&(Q&r.SUSPENDED||(Q&r.ONCE&&l(t,n,g,u),g||(g=t),"string"==typeof u?s?e.applyStr(g,u,s):g[u]():s?u.apply(g,s):u.call(g)))}return!0}}function B(t,e){var n=i.peekMeta(t);return!!n&&n.matchingListeners(e).length>0}function I(t,e){var n=[],r=i.peekMeta(t),s=r&&r.matchingListeners(e);if(!s)return n;for(var o=0;o<s.length;o+=3){var a=s[o],l=s[o+1];n.push([a,l])}return n}function d(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=e.pop(),r=e;return i.__ember_listens__=r,i}t.accumulateListeners=o,t.addListener=a,t.removeListener=l,t.suspendListener=c,t.suspendListeners=g,t.watchedEvents=u,t.sendEvent=Q,t.hasListeners=B,t.listenersFor=I,t.on=d}),o("ember-metal/expand_properties",["exports","ember-metal/debug"],function(t,e){"use strict";function n(t,e){for(var n=t.split(r),o=[n],a=0;a<n.length;a++){var l=n[a];l.indexOf(",")>=0&&(o=i(o,l.split(","),a))}for(var a=0;a<o.length;a++)e(o[a].join("").replace(s,".[]"))}function i(t,e,n){var i=[];return t.forEach(function(t){e.forEach(function(e){var r=t.slice(0);r[n]=e,i.push(r)})}),i}t.default=n;var r=/\{|\}/,s=/\.@each$/}),o("ember-metal/features",["exports","ember-utils","ember-environment","ember/features"],function(t,e,n,i){"use strict";function r(t){var e=s[t];return!0===e||!1===e||void 0===e?e:!!n.ENV.ENABLE_OPTIONAL_FEATURES}t.default=r;var s=e.assign(i.default,n.ENV.FEATURES);t.FEATURES=s,t.DEFAULT_FEATURES=i.default}),o("ember-metal/get_properties",["exports","ember-metal/property_get"],function(t,e){"use strict";function n(t){var n={},i=arguments,r=1;for(2===arguments.length&&Array.isArray(arguments[1])&&(r=0,i=arguments[1]);r<i.length;r++)n[i[r]]=e.get(t,i[r]);return n}t.default=n}),o("ember-metal/index",["exports","require","ember-metal/core","ember-metal/computed","ember-metal/alias","ember-metal/merge","ember-metal/debug","ember-metal/instrumentation","ember-metal/testing","ember-metal/error_handler","ember-metal/meta","ember-metal/error","ember-metal/cache","ember-metal/features","ember-metal/property_get","ember-metal/property_set","ember-metal/weak_map","ember-metal/events","ember-metal/is_none","ember-metal/is_empty","ember-metal/is_blank","ember-metal/is_present","ember-metal/run_loop","ember-metal/observer_set","ember-metal/property_events","ember-metal/properties","ember-metal/watch_key","ember-metal/chains","ember-metal/watch_path","ember-metal/watching","ember-metal/libraries","ember-metal/map","ember-metal/get_properties","ember-metal/set_properties","ember-metal/expand_properties","ember-metal/observer","ember-metal/mixin","ember-metal/binding","ember-metal/path_cache","ember-metal/injected_property","ember-metal/tags","ember-metal/replace","ember-metal/transaction","ember-metal/is_proxy","ember-metal/descriptor"],function(t,e,n,i,r,s,o,a,l,c,g,u,Q,B,I,d,F,C,U,h,m,b,p,A,y,f,G,x,V,Z,R,X,L,E,v,S,W,N,J,Y,H,k,T,D,w){"use strict";t.default=n.default,t.computed=i.default,t.cacheFor=i.cacheFor,t.ComputedProperty=i.ComputedProperty,t.alias=r.default,t.merge=s.default,t.assert=o.assert,t.info=o.info,t.warn=o.warn,t.debug=o.debug,t.deprecate=o.deprecate,t.deprecateFunc=o.deprecateFunc,t.runInDebug=o.runInDebug,t.setDebugFunction=o.setDebugFunction,t.getDebugFunction=o.getDebugFunction,t.debugSeal=o.debugSeal,t.debugFreeze=o.debugFreeze,t.instrument=a.instrument,t.flaggedInstrument=a.flaggedInstrument,t._instrumentStart=a._instrumentStart,t.instrumentationReset=a.reset,t.instrumentationSubscribe=a.subscribe,t.instrumentationUnsubscribe=a.unsubscribe,t.isTesting=l.isTesting,t.setTesting=l.setTesting,t.getOnerror=c.getOnerror,t.setOnerror=c.setOnerror,t.dispatchError=c.dispatchError,t.setDispatchOverride=c.setDispatchOverride,t.META_DESC=g.META_DESC,t.meta=g.meta,t.peekMeta=g.peekMeta,t.Error=u.default,t.Cache=Q.default,t.isFeatureEnabled=B.default,t.FEATURES=B.FEATURES,t.DEFAULT_FEATURES=B.DEFAULT_FEATURES,t._getPath=I._getPath,t.get=I.get,t.getWithDefault=I.getWithDefault,t.set=d.set,t.trySet=d.trySet,t.WeakMap=F.default,t.accumulateListeners=C.accumulateListeners,t.addListener=C.addListener,t.hasListeners=C.hasListeners,t.listenersFor=C.listenersFor,t.on=C.on,t.removeListener=C.removeListener,t.sendEvent=C.sendEvent,t.suspendListener=C.suspendListener,t.suspendListeners=C.suspendListeners,t.watchedEvents=C.watchedEvents,t.isNone=U.default,t.isEmpty=h.default,t.isBlank=m.default,t.isPresent=b.default,t.run=p.default,t.ObserverSet=A.default,t.beginPropertyChanges=y.beginPropertyChanges,t.changeProperties=y.changeProperties,t.endPropertyChanges=y.endPropertyChanges,t.overrideChains=y.overrideChains,t.propertyDidChange=y.propertyDidChange,t.propertyWillChange=y.propertyWillChange,t.PROPERTY_DID_CHANGE=y.PROPERTY_DID_CHANGE,t.defineProperty=f.defineProperty,t.Descriptor=f.Descriptor,t.watchKey=G.watchKey,t.unwatchKey=G.unwatchKey,t.ChainNode=x.ChainNode,t.finishChains=x.finishChains,t.removeChainWatcher=x.removeChainWatcher,t.watchPath=V.watchPath,t.unwatchPath=V.unwatchPath,t.destroy=Z.destroy,t.isWatching=Z.isWatching,t.unwatch=Z.unwatch,t.watch=Z.watch,t.watcherCount=Z.watcherCount,t.libraries=R.default,t.Map=X.Map,t.MapWithDefault=X.MapWithDefault,t.OrderedSet=X.OrderedSet,t.getProperties=L.default,t.setProperties=E.default,t.expandProperties=v.default,t._suspendObserver=S._suspendObserver,t._suspendObservers=S._suspendObservers,t.addObserver=S.addObserver,t.observersFor=S.observersFor,t.removeObserver=S.removeObserver,t._addBeforeObserver=S._addBeforeObserver,t._removeBeforeObserver=S._removeBeforeObserver,t.NAME_KEY=W.NAME_KEY,t.Mixin=W.Mixin,t.aliasMethod=W.aliasMethod,t._immediateObserver=W._immediateObserver,t._beforeObserver=W._beforeObserver,t.mixin=W.mixin,t.observer=W.observer,t.required=W.required,t.REQUIRED=W.REQUIRED,t.hasUnprocessedMixins=W.hasUnprocessedMixins,t.clearUnprocessedMixins=W.clearUnprocessedMixins,t.detectBinding=W.detectBinding,t.Binding=N.Binding,t.bind=N.bind,t.isGlobalPath=J.isGlobalPath,t.InjectedProperty=Y.default,t.setHasViews=H.setHasViews,t.tagForProperty=H.tagForProperty,t.tagFor=H.tagFor,t.markObjectAsDirty=H.markObjectAsDirty,t.replace=k.default,t.runInTransaction=T.default,t.didRender=T.didRender,t.assertNotRendered=T.assertNotRendered,t.isProxy=D.isProxy,t.descriptor=w.default,e.has("ember-debug")&&e.default("ember-debug")}),o("ember-metal/injected_property",["exports","ember-utils","ember-metal/debug","ember-metal/computed","ember-metal/alias","ember-metal/properties"],function(t,e,n,i,r,s){"use strict";function o(t,e){this.type=t,this.name=e,this._super$Constructor(a),g.oneWay.call(this)}function a(t){var n=this[t];return(e.getOwner(this)||this.container).lookup(n.type+":"+(n.name||t))}t.default=o,o.prototype=Object.create(s.Descriptor.prototype);var l=o.prototype,c=i.ComputedProperty.prototype,g=r.AliasedProperty.prototype;l._super$Constructor=i.ComputedProperty,l.get=c.get,l.readOnly=c.readOnly,l.teardown=c.teardown}),o("ember-metal/instrumentation",["exports","ember-environment","ember-metal/features"],function(t,e,n){"use strict";function i(t){for(var e=[],n=void 0,i=0;i<u.length;i++)n=u[i],n.regex.test(t)&&e.push(n.object);return Q[t]=e,e}function r(t,e,n,i){if(arguments.length<=3&&"function"==typeof e&&(i=n,n=e,e=void 0),0===u.length)return n.call(i);var r=e||{},o=a(t,function(){return r});return o?s(n,o,r,i):n.call(i)}function s(t,e,n,i){var r=void 0;try{r=t.call(i)}catch(t){n.exception=t,r=n}finally{return e(),r}}function o(){}function a(t,n,r){if(0===u.length)return o;var s=Q[t];if(s||(s=i(t)),0===s.length)return o;var a=n(r),l=e.ENV.STRUCTURED_PROFILE,c=void 0;l&&(c=t+": "+a.object,console.time(c));var g=new Array(s.length),I=void 0,d=void 0,F=B();for(I=0;I<s.length;I++)d=s[I],g[I]=d.before(t,F,a);return function(){var e=void 0,n=void 0,i=B();for(e=0;e<s.length;e++)n=s[e],"function"==typeof n.after&&n.after(t,i,a,g[e]);l&&console.timeEnd(c)}}function l(t,e){for(var n=t.split("."),i=void 0,r=[],s=0;s<n.length;s++)i=n[s],"*"===i?r.push("[^\\.]*"):r.push(i);r=r.join("\\."),r+="(\\..*)?";var o={pattern:t,regex:new RegExp("^"+r+"$"),object:e};return u.push(o),Q={},o}function c(t){for(var e=void 0,n=0;n<u.length;n++)u[n]===t&&(e=n);u.splice(e,1),Q={}}function g(){u.length=0,Q={}}t.instrument=r,t._instrumentStart=a,t.subscribe=l,t.unsubscribe=c,t.reset=g;var u=[];t.subscribers=u;var Q={},B=function(){var t="undefined"!=typeof window?window.performance||{}:{},e=t.now||t.mozNow||t.webkitNow||t.msNow||t.oNow;return e?e.bind(t):function(){return+new Date}}(),I=void 0;t.flaggedInstrument=I=function(t,e,n){return n()},t.flaggedInstrument=I}),o("ember-metal/is_blank",["exports","ember-metal/is_empty"],function(t,e){"use strict";function n(t){return e.default(t)||"string"==typeof t&&null===t.match(/\S/)}t.default=n}),o("ember-metal/is_empty",["exports","ember-metal/property_get","ember-metal/is_none"],function(t,e,n){"use strict";function i(t){var i=n.default(t);if(i)return i;if("number"==typeof t.size)return!t.size;var r=typeof t;if("object"===r){var s=e.get(t,"size");if("number"==typeof s)return!s}if("number"==typeof t.length&&"function"!==r)return!t.length;if("object"===r){var o=e.get(t,"length");if("number"==typeof o)return!o}return!1}t.default=i}),o("ember-metal/is_none",["exports"],function(t){"use strict";function e(t){return null===t||void 0===t}t.default=e}),o("ember-metal/is_present",["exports","ember-metal/is_blank"],function(t,e){"use strict";function n(t){return!e.default(t)}t.default=n}),o("ember-metal/is_proxy",["exports","ember-metal/meta"],function(t,e){"use strict";function n(t){if("object"==typeof t&&t){var n=e.peekMeta(t);return n&&n.isProxy()}return!1}t.isProxy=n}),o("ember-metal/libraries",["exports","ember-metal/debug","ember-metal/features"],function(t,e,n){"use strict";function i(){this._registry=[],this._coreLibIndex=0}t.Libraries=i,i.prototype={constructor:i,_getLibraryByName:function(t){for(var e=this._registry,n=e.length,i=0;i<n;i++)if(e[i].name===t)return e[i]},register:function(t,e,n){var i=this._registry.length;this._getLibraryByName(t)||(n&&(i=this._coreLibIndex++),this._registry.splice(i,0,{name:t,version:e}))},registerCoreLibrary:function(t,e){this.register(t,e,!0)},deRegister:function(t){var e=this._getLibraryByName(t),n=void 0;e&&(n=this._registry.indexOf(e),this._registry.splice(n,1))}},t.default=new i}),o("ember-metal/map",["exports","ember-utils"],function(t,e){"use strict";function n(t){throw new TypeError(Object.prototype.toString.call(t)+" is not a function")}function i(t){throw new TypeError("Constructor "+t+" requires 'new'")}function r(t){var n=new e.EmptyObject;for(var i in t)n[i]=t[i];return n}function s(t,e){var n=t._keys.copy(),i=r(t._values);return e._keys=n,e._values=i,e.size=t.size,e}function o(){this instanceof o?(this.clear(),this._silenceRemoveDeprecation=!1):i("OrderedSet")}function a(){this instanceof a?(this._keys=o.create(),this._keys._silenceRemoveDeprecation=!0,this._values=new e.EmptyObject,this.size=0):i("Map")}function l(t){this._super$constructor(),this.defaultValue=t.defaultValue}o.create=function(){return new this},o.prototype={constructor:o,clear:function(){this.presenceSet=new e.EmptyObject,this.list=[],this.size=0},add:function(t,n){var i=n||e.guidFor(t),r=this.presenceSet,s=this.list;return!0!==r[i]&&(r[i]=!0,this.size=s.push(t)),this},delete:function(t,n){var i=n||e.guidFor(t),r=this.presenceSet,s=this.list;if(!0===r[i]){delete r[i];var o=s.indexOf(t);return o>-1&&s.splice(o,1),this.size=s.length,!0}return!1},isEmpty:function(){return 0===this.size},has:function(t){if(0===this.size)return!1;var n=e.guidFor(t);return!0===this.presenceSet[n]},forEach:function(t){if("function"!=typeof t&&n(t),0!==this.size){var e=this.list;if(2===arguments.length)for(var i=0;i<e.length;i++)t.call(arguments[1],e[i]);else for(var i=0;i<e.length;i++)t(e[i])}},toArray:function(){return this.list.slice()},copy:function(){var t=this.constructor,e=new t;return e._silenceRemoveDeprecation=this._silenceRemoveDeprecation,e.presenceSet=r(this.presenceSet),e.list=this.toArray(),e.size=this.size,e}},a.create=function(){return new this},a.prototype={constructor:a,size:0,get:function(t){if(0!==this.size){return this._values[e.guidFor(t)]}},set:function(t,n){var i=this._keys,r=this._values,s=e.guidFor(t),o=-0===t?0:t;return i.add(o,s),r[s]=n,this.size=i.size,this},delete:function(t){if(0===this.size)return!1;var n=this._keys,i=this._values,r=e.guidFor(t);return!!n.delete(t,r)&&(delete i[r],this.size=n.size,!0)},has:function(t){return this._keys.has(t)},forEach:function(t){if("function"!=typeof t&&n(t),0!==this.size){var e=this,i=void 0,r=void 0;2===arguments.length?(r=arguments[1],i=function(n){return t.call(r,e.get(n),n,e)}):i=function(n){return t(e.get(n),n,e)},this._keys.forEach(i)}},clear:function(){this._keys.clear(),this._values=new e.EmptyObject,this.size=0},copy:function(){return s(this,new a)}},l.create=function(t){return t?new l(t):new a},l.prototype=Object.create(a.prototype),l.prototype.constructor=l,l.prototype._super$constructor=a,l.prototype._super$get=a.prototype.get,l.prototype.get=function(t){if(this.has(t))return this._super$get(t);var e=this.defaultValue(t);return this.set(t,e),e},l.prototype.copy=function(){return s(this,new(0,this.constructor)({defaultValue:this.defaultValue}))},t.default=a,t.OrderedSet=o,t.Map=a,t.MapWithDefault=l}),o("ember-metal/merge",["exports"],function(t){"use strict";function e(t,e){if(!e||"object"!=typeof e)return t;for(var n=Object.keys(e),i=void 0,r=0;r<n.length;r++)i=n[r],t[i]=e[i];return t}t.default=e}),o("ember-metal/meta",["exports","ember-utils","ember-metal/features","ember-metal/meta_listeners","ember-metal/debug","ember-metal/chains"],function(t,e,n,i,r,s){"no use strict";function o(t,e){this._cache=void 0,this._weak=void 0,this._watching=void 0,this._mixins=void 0,this._bindings=void 0,this._values=void 0,this._deps=void 0,this._chainWatchers=void 0,this._chains=void 0,this._tag=void 0,this._tags=void 0,this._flags=0,this.source=t,this.proto=void 0,this.parent=e,this._initializeListeners()}function a(t,e){var n=u(t),i=Q(t);e.prototype["writable"+i]=function(){return this._getOrCreateOwnMap(n)},e.prototype["readable"+i]=function(){return this[n]}}function l(t,n){var i=u(t),r=Q(t);n.prototype["write"+r]=function(t,e){this._getOrCreateOwnMap(i)[t]=e},n.prototype["peek"+r]=function(t){return this._findInherited(i,t)},n.prototype["forEach"+r]=function(t){for(var n=this,r=new e.EmptyObject;void 0!==n;){var s=n[i];if(s)for(var o in s)r[o]||(r[o]=!0,t(o,s[o]));n=n.parent}},n.prototype["clear"+r]=function(){this[i]=void 0},n.prototype["deleteFrom"+r]=function(t){delete this._getOrCreateOwnMap(i)[t]},n.prototype["hasIn"+r]=function(t){return void 0!==this._findInherited(i,t)}}function c(t,e){var n=u(t),i=Q(t);e.prototype["writable"+i]=function(t){var e=this[n];return e||(e=this[n]=t(this.source)),e},e.prototype["readable"+i]=function(){return this[n]}}function g(t,e){var n=u(t),i=Q(t);e.prototype["writable"+i]=function(t){var e=this[n];return e||(e=this.parent?this[n]=this.parent["writable"+i](t).copy(this.source):this[n]=t(this.source)),e},e.prototype["readable"+i]=function(){return this._getInherited(n)}}function u(t){return"_"+t}function Q(t){return t.replace(/^\w/,function(t){return t.toUpperCase()})}function B(t){var e=G(t);e&&e.destroy()}function I(t){var e=G(t),n=void 0;if(e){if(e.source===t)return e;n=e}var i=new o(t,n);return f(t,i),i}t.Meta=o,t.deleteMeta=B,t.meta=I;var d={peekCalls:0,peekParentCalls:0,peekPrototypeWalks:0,setCalls:0,deleteCalls:0,metaCalls:0,metaInstantiated:0},F={cache:a,weak:a,watching:l,mixins:l,bindings:l,values:l,chainWatchers:c,chains:g,tag:c,tags:a},C=Object.keys(F),U="__ember_meta__";o.prototype.isInitialized=function(t){return this.proto!==t};var h=[];o.prototype.destroy=function(){if(!this.isMetaDestroyed()){var t=void 0,e=void 0,n=void 0,i=void 0;if(t=this.readableChains())for(h.push(t);h.length>0;){if(t=h.pop(),e=t._chains)for(n in e)void 0!==e[n]&&h.push(e[n]);if(t._watching&&(i=t._object)){var r=G(i);r&&!r.isSourceDestroying()&&s.removeChainWatcher(i,t._key,t,r)}}this.setMetaDestroyed()}};for(var m in i.protoMethods)o.prototype[m]=i.protoMethods[m];C.forEach(function(t){return F[t](t,o)}),o.prototype.isSourceDestroying=function(){return 0!=(2&this._flags)},o.prototype.setSourceDestroying=function(){this._flags|=2},o.prototype.isSourceDestroyed=function(){return 0!=(4&this._flags)},o.prototype.setSourceDestroyed=function(){this._flags|=4},o.prototype.isMetaDestroyed=function(){return 0!=(8&this._flags)},o.prototype.setMetaDestroyed=function(){this._flags|=8},o.prototype.isProxy=function(){return 0!=(16&this._flags)},o.prototype.setProxy=function(){this._flags|=16},o.prototype._getOrCreateOwnMap=function(t){var n=this[t];return n||(n=this[t]=new e.EmptyObject),n},o.prototype._getInherited=function(t){for(var e=this;void 0!==e;){if(e[t])return e[t];e=e.parent}},o.prototype._findInherited=function(t,e){for(var n=this;void 0!==n;){var i=n[t];if(i){var r=i[e];if(void 0!==r)return r}n=n.parent}};var b=e.symbol("undefined");t.UNDEFINED=b,o.prototype.writeDeps=function(t,n,i){var r=this._getOrCreateOwnMap("_deps"),s=r[t];s||(s=r[t]=new e.EmptyObject),s[n]=i},o.prototype.peekDeps=function(t,e){for(var n=this;void 0!==n;){var i=n._deps;if(i){var r=i[t];if(r&&void 0!==r[e])return r[e]}n=n.parent}},o.prototype.hasDeps=function(t){for(var e=this;void 0!==e;){if(e._deps&&e._deps[t])return!0;e=e.parent}return!1},o.prototype.forEachInDeps=function(t,e){return this._forEachIn("_deps",t,e)},o.prototype._forEachIn=function(t,n,i){for(var r=this,s=new e.EmptyObject,o=[];void 0!==r;){var a=r[t];if(a){var l=a[n];if(l)for(var c in l)s[c]||(s[c]=!0,o.push([c,l[c]]))}r=r.parent}for(var g=0;g<o.length;g++){var u=o[g],c=u[0];i(c,u[1])}};var p={writable:!0,configurable:!0,enumerable:!1,value:null};t.META_DESC=p;var A={name:U,descriptor:p},y=function(){if("function"!=typeof WeakMap)return!1;var t=new WeakMap;return"[object WeakMap]"===Object.prototype.toString.call(t)}(),f=void 0,G=void 0;y?function(){var e=Object.getPrototypeOf,n=new WeakMap;t.setMeta=f=function(t,e){n.set(t,e)},t.peekMeta=G=function(t){return n.get(t)},t.peekMeta=G=function(t){for(var i=t,r=void 0;i;){if(null===(r=n.get(i))||r)return r;i=e(i)}}}():(t.setMeta=f=function(t,e){null!==t[U]&&(t.__defineNonEnumerable?t.__defineNonEnumerable(A):Object.defineProperty(t,U,p)),t[U]=e},t.peekMeta=G=function(t){return t[U]}),t.peekMeta=G,t.setMeta=f,t.counters=d}),o("ember-metal/meta_listeners",["exports"],function(t){"use strict";function e(t,e,n){for(var i=e[n+1],r=e[n+2],s=0;s<t.length-2;s+=3)if(t[s]===i&&t[s+1]===r)return;t.push(i,r,e[n+3])}t.ONCE=1;t.SUSPENDED=2;var n={addToListeners:function(t,e,n,i){this._listeners||(this._listeners=[]),this._listeners.push(t,e,n,i)},_finalizeListeners:function(){if(!this._listenersFinalized){this._listeners||(this._listeners=[]);for(var t=this.parent;t;){var e=t._listeners;if(e&&(this._listeners=this._listeners.concat(e)),t._listenersFinalized)break;t=t.parent}this._listenersFinalized=!0}},removeFromListeners:function(t,e,n,i){for(var r=this;r;){var s=r._listeners;if(s)for(var o=s.length-4;o>=0;o-=4)if(s[o]===t&&(!n||s[o+1]===e&&s[o+2]===n)){if(r!==this)return this._finalizeListeners(),this.removeFromListeners(t,e,n);"function"==typeof i&&i(t,e,s[o+2]),s.splice(o,4)}if(r._listenersFinalized)break;r=r.parent}},matchingListeners:function(t){for(var n=this,i=[];n;){var r=n._listeners;if(r)for(var s=0;s<r.length-3;s+=4)r[s]===t&&e(i,r,s);if(n._listenersFinalized)break;n=n.parent}var o=this._suspendedListeners;if(o)for(var a=0;a<o.length-2;a+=3)if(t===o[a])for(var l=0;l<i.length-2;l+=3)i[l]===o[a+1]&&i[l+1]===o[a+2]&&(i[l+2]|=2);return i},suspendListeners:function(t,e,n,i){var r=this._suspendedListeners;r||(r=this._suspendedListeners=[]);for(var s=0;s<t.length;s++)r.push(t[s],e,n);try{return i.call(e)}finally{if(r.length===t.length)this._suspendedListeners=void 0;else for(var s=r.length-3;s>=0;s-=3)r[s+1]===e&&r[s+2]===n&&-1!==t.indexOf(r[s])&&r.splice(s,3)}},watchedEvents:function(){for(var t=this,e={};t;){var n=t._listeners;if(n)for(var i=0;i<n.length-3;i+=4)e[n[i]]=!0;if(t._listenersFinalized)break;t=t.parent}return Object.keys(e)},_initializeListeners:function(){this._listeners=void 0,this._listenersFinalized=void 0,this._suspendedListeners=void 0}};t.protoMethods=n}),o("ember-metal/mixin",["exports","ember-utils","ember-metal/error","ember-metal/debug","ember-metal/meta","ember-metal/expand_properties","ember-metal/properties","ember-metal/computed","ember-metal/binding","ember-metal/observer","ember-metal/events"],function(t,e,n,i,r,s,o,a,l,c,g){"no use strict";function u(){}function Q(t){return"function"==typeof t&&!1!==t.isMethod&&t!==Boolean&&t!==Object&&t!==Number&&t!==Array&&t!==Date&&t!==String}function B(t,n){var i=void 0;return n instanceof Z?(i=e.guidFor(n),t.peekMixins(i)?k:(t.writeMixins(i,n),n.properties)):n}function I(t,e,n,i){var r=void 0;return r=n[t]||i[t],e[t]&&(r=r?r.concat(e[t]):e[t]),r}function d(t,n,i,r,s,o){var l=void 0;if(void 0===r[n]&&(l=s[n]),!l){var c=o[n];l=null!==c&&"object"==typeof c&&c.isDescriptor?c:void 0}return void 0!==l&&l instanceof a.ComputedProperty?(i=Object.create(i),i._getter=e.wrap(i._getter,l._getter),l._setter&&(i._setter?i._setter=e.wrap(i._setter,l._setter):i._setter=l._setter),i):i}function F(t,n,i,r,s){var o=void 0;return void 0===s[n]&&(o=r[n]),o=o||t[n],void 0===o||"function"!=typeof o?i:e.wrap(i,o)}function C(t,n,i,r){var s=r[n]||t[n];return s?"function"==typeof s.concat?null===i||void 0===i?s:s.concat(i):e.makeArray(s).concat(i):e.makeArray(i)}function U(t,n,i,r){var s=r[n]||t[n];if(!s)return i;var o=e.assign({},s),a=!1;for(var l in i)if(i.hasOwnProperty(l)){var c=i[l];Q(c)?(a=!0,o[l]=F(t,l,c,s,{})):o[l]=c}return a&&(o._super=u),o}function h(t,e,n,i,r,s,a,l){if(n instanceof o.Descriptor){if(n===O&&r[e])return k;n._getter&&(n=d(i,e,n,s,r,t)),r[e]=n,s[e]=void 0}else a&&a.indexOf(e)>=0||"concatenatedProperties"===e||"mergedProperties"===e?n=C(t,e,n,s):l&&l.indexOf(e)>=0?n=U(t,e,n,s):Q(n)&&(n=F(t,e,n,s,r)),r[e]=void 0,s[e]=n}function m(t,e,n,i,r,s){function o(t){delete n[t],delete i[t]}for(var a=void 0,l=void 0,c=void 0,g=void 0,u=void 0,Q=0;Q<t.length;Q++)if(a=t[Q],(l=B(e,a))!==k)if(l){r.willMergeMixin&&r.willMergeMixin(l),g=I("concatenatedProperties",l,i,r),u=I("mergedProperties",l,i,r);for(c in l)l.hasOwnProperty(c)&&(s.push(c),h(r,c,l[c],e,n,i,g,u));l.hasOwnProperty("toString")&&(r.toString=l.toString)}else a.mixins&&(m(a.mixins,e,n,i,r,s),a._without&&a._without.forEach(o))}function b(t){var e=t.length;return e>7&&66===t.charCodeAt(e-7)&&-1!==t.indexOf("inding",e-6)}function p(t,e){e.forEachBindings(function(e,n){if(n){var i=e.slice(0,-7);n instanceof l.Binding?(n=n.copy(),n.to(i)):n=new l.Binding(i,n),n.connect(t),t[e]=n}}),e.clearBindings()}function A(t,e){return p(t,e||r.meta(t)),t}function y(t,e,n,i,r){var s=e.methodName,o=void 0,a=void 0;return i[s]||r[s]?(o=r[s],e=i[s]):(a=t[s])&&null!==a&&"object"==typeof a&&a.isDescriptor?(e=a,o=void 0):(e=void 0,o=t[s]),{desc:e,value:o}}function f(t,e,n,i,r){var s=n[i];if(s)for(var o=0;o<s.length;o++)r(t,s[o],null,e)}function G(t,e,n){var i=t[e];"function"==typeof i&&(f(t,e,i,"__ember_observesBefore__",c._removeBeforeObserver),f(t,e,i,"__ember_observes__",c.removeObserver),f(t,e,i,"__ember_listens__",g.removeListener)),"function"==typeof n&&(f(t,e,n,"__ember_observesBefore__",c._addBeforeObserver),f(t,e,n,"__ember_observes__",c.addObserver),f(t,e,n,"__ember_listens__",g.addListener))}function x(t,e,n){var i={},s={},a=r.meta(t),l=[],c=void 0,g=void 0,Q=void 0;t._super=u,m(e,a,i,s,t,l);for(var B=0;B<l.length;B++)if("constructor"!==(c=l[B])&&s.hasOwnProperty(c)&&(Q=i[c],g=s[c],Q!==O)){for(;Q&&Q instanceof S;){var I=y(t,Q,a,i,s);Q=I.desc,g=I.value}void 0===Q&&void 0===g||(G(t,c,g),b(c)&&a.writeBindings(c,g),o.defineProperty(t,c,Q,g,a))}return n||A(t,a),t}function V(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return x(t,n,!1),t}function Z(t,n){this.properties=n;var i=t&&t.length;if(i>0){for(var r=new Array(i),s=0;s<i;s++){var o=t[s];r[s]=o instanceof Z?o:new Z(void 0,o)}this.mixins=r}else this.mixins=void 0;this.ownerConstructor=void 0,this._without=void 0,this[e.GUID_KEY]=null,this[T]=null}function R(){return D}function X(){D=!1}function L(t,n,i){var r=e.guidFor(t);if(i[r])return!1;if(i[r]=!0,t===n)return!0;for(var s=t.mixins,o=s?s.length:0;--o>=0;)if(L(s[o],n,i))return!0;return!1}function E(t,n,i){if(!i[e.guidFor(n)])if(i[e.guidFor(n)]=!0,n.properties)for(var r=Object.keys(n.properties),s=0;s<r.length;s++){var o=r[s];t[o]=!0}else n.mixins&&n.mixins.forEach(function(e){return E(t,e,i)})}function v(){return O}function S(t){this.isDescriptor=!0,this.methodName=t}function W(t){return new S(t)}function N(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];var r=e.slice(-1)[0],o=void 0,a=function(t){o.push(t)},l=e.slice(0,-1);"function"!=typeof r&&(r=e[0],l=e.slice(1)),o=[];for(var c=0;c<l.length;++c)s.default(l[c],a);if("function"!=typeof r)throw new n.default("Ember.observer called without a function");return r.__ember_observes__=o,r}function J(){for(var t=0;t<arguments.length;t++){arguments[t]}return N.apply(this,arguments)}function Y(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];var r=e.slice(-1)[0],o=void 0,a=function(t){o.push(t)},l=e.slice(0,-1);"function"!=typeof r&&(r=e[0],l=e.slice(1)),o=[];for(var c=0;c<l.length;++c)s.default(l[c],a);if("function"!=typeof r)throw new n.default("_beforeObserver called without a function");return r.__ember_observesBefore__=o,r}t.detectBinding=b,t.mixin=V,t.default=Z,t.hasUnprocessedMixins=R,t.clearUnprocessedMixins=X,t.required=v,t.aliasMethod=W,t.observer=N,t._immediateObserver=J,t._beforeObserver=Y,u.__hasSuper=!1;var H=[].slice,k={};b("notbound"),b("fooBinding");var T=e.GUID_KEY+"_name";t.NAME_KEY=T,Z._apply=x,Z.applyPartial=function(t){return x(t,H.call(arguments,1),!0)},Z.finishPartial=A;var D=!1;Z.create=function(){D=!0;for(var t=this,e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return new t(n,void 0)};var w=Z.prototype;w.reopen=function(){var t=void 0;this.properties?(t=new Z(void 0,this.properties),this.properties=void 0,this.mixins=[t]):this.mixins||(this.mixins=[]);var e=this.mixins,n=void 0;for(n=0;n<arguments.length;n++)t=arguments[n],t instanceof Z?e.push(t):e.push(new Z(void 0,t));return this},w.apply=function(t){return x(t,[this],!1)},w.applyPartial=function(t){return x(t,[this],!0)},w.toString=Object.toString,w.detect=function(t){if("object"!=typeof t||null===t)return!1;if(t instanceof Z)return L(t,this,{});var n=r.peekMeta(t);return!!n&&!!n.peekMixins(e.guidFor(this))},w.without=function(){for(var t=new Z([this]),e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return t._without=n,t},w.keys=function(){var t={};return E(t,this,{}),Object.keys(t)},Z.mixins=function(t){var e=r.peekMeta(t),n=[];return e?(e.forEachMixins(function(t,e){e.properties||n.push(e)}),n):n};var O=new o.Descriptor;O.toString=function(){return"(Required Property)"},S.prototype=new o.Descriptor,t.Mixin=Z,t.required=v,t.REQUIRED=O}),o("ember-metal/observer",["exports","ember-metal/watching","ember-metal/events"],function(t,e,n){"use strict";function i(t){return t+Q}function r(t){return t+B}function s(t,r,s,o){return n.addListener(t,i(r),s,o),e.watch(t,r),this}function o(t,e){return n.listenersFor(t,i(e))}function a(t,r,s,o){return e.unwatch(t,r),n.removeListener(t,i(r),s,o),this}function l(t,i,s,o){return n.addListener(t,r(i),s,o),e.watch(t,i),this}function c(t,e,r,s,o){return n.suspendListener(t,i(e),r,s,o)}function g(t,e,r,s,o){var a=e.map(i);return n.suspendListeners(t,a,r,s,o)}function u(t,i,s,o){return e.unwatch(t,i),n.removeListener(t,r(i),s,o),this}t.addObserver=s,t.observersFor=o,t.removeObserver=a,t._addBeforeObserver=l,t._suspendObserver=c,t._suspendObservers=g,t._removeBeforeObserver=u;var Q=":change",B=":before"}),o("ember-metal/observer_set",["exports","ember-utils","ember-metal/events"],function(t,e,n){"use strict";function i(){this.clear()}t.default=i,i.prototype.add=function(t,n,i){var r=this.observerSet,s=this.observers,o=e.guidFor(t),a=r[o],l=void 0;return a||(r[o]=a={}),l=a[n],void 0===l&&(l=s.push({sender:t,keyName:n,eventName:i,listeners:[]})-1,a[n]=l),s[l].listeners},i.prototype.flush=function(){var t=this.observers,e=void 0,i=void 0,r=void 0;for(this.clear(),e=0;e<t.length;++e)i=t[e],r=i.sender,r.isDestroying||r.isDestroyed||n.sendEvent(r,i.eventName,[r,i.keyName],i.listeners)},i.prototype.clear=function(){this.observerSet={},this.observers=[]}}),o("ember-metal/path_cache",["exports","ember-metal/cache"],function(t,e){"use strict";function n(t){return g.get(t)}function i(t){return u.get(t)}function r(t){return Q.get(t)}function s(t){return-1!==B.get(t)}function o(t){return I.get(t)}function a(t){return d.get(t)}t.isGlobal=n,t.isGlobalPath=i,t.hasThis=r,t.isPath=s,t.getFirstKey=o,t.getTailPath=a;var l=/^[A-Z$]/,c=/^[A-Z$].*[\.]/,g=new e.default(1e3,function(t){return l.test(t)}),u=new e.default(1e3,function(t){return c.test(t)}),Q=new e.default(1e3,function(t){return 0===t.lastIndexOf("this.",0)}),B=new e.default(1e3,function(t){return t.indexOf(".")}),I=new e.default(1e3,function(t){
var e=B.get(t);return-1===e?t:t.slice(0,e)}),d=new e.default(1e3,function(t){var e=B.get(t);if(-1!==e)return t.slice(e+1)}),F={isGlobalCache:g,isGlobalPathCache:u,hasThisCache:Q,firstDotIndexCache:B,firstKeyCache:I,tailPathCache:d};t.caches=F}),o("ember-metal/properties",["exports","ember-metal/debug","ember-metal/features","ember-metal/meta","ember-metal/property_events"],function(t,e,n,i,r){"use strict";function s(){this.isDescriptor=!0}function o(t){function e(e){var n=i.peekMeta(this);n.isInitialized(this)||n.writeValues(t,e)}return e.isMandatorySetter=!0,e}function a(t){return function(){var e=i.peekMeta(this);return e&&e.peekValues(t)}}function l(t){function e(){var e=i.peekMeta(this),n=e&&e.readInheritedValue("values",t);if(n===i.UNDEFINED){var r=Object.getPrototypeOf(this);return r&&r[t]}return n}return e.isInheritingGetter=!0,e}function c(t,e,n,o,a){var l=void 0,c=void 0,g=void 0,u=void 0;a||(a=i.meta(t));var Q=a.peekWatching(e);if(l=t[e],c=null!==l&&"object"==typeof l&&l.isDescriptor?l:void 0,g=void 0!==Q&&Q>0,c&&c.teardown(t,e),n instanceof s)u=n,t[e]=u,n.setup&&n.setup(t,e);else if(null==n){u=o;t[e]=o}else u=n,Object.defineProperty(t,e,n);return g&&r.overrideChains(t,e,a),t.didDefineProperty&&t.didDefineProperty(t,e,u),this}t.Descriptor=s,t.MANDATORY_SETTER_FUNCTION=o,t.DEFAULT_GETTER_FUNCTION=a,t.INHERITING_GETTER_FUNCTION=l,t.defineProperty=c;!function(){var t=Object.create(Object.prototype,{prop:{configurable:!0,value:1}});Object.defineProperty(t,"prop",{configurable:!0,value:2}),t.prop}()}),o("ember-metal/property_events",["exports","ember-utils","ember-metal/meta","ember-metal/events","ember-metal/tags","ember-metal/observer_set","ember-metal/features","ember-metal/transaction"],function(t,e,n,i,r,s,o,a){"use strict";function l(t,e,i){var r=i||n.peekMeta(t);if(!r||r.isInitialized(t)){var s=r&&r.peekWatching(e)>0,o=t[e],a=null!==o&&"object"==typeof o&&o.isDescriptor?o:void 0;a&&a.willChange&&a.willChange(t,e),s&&(g(t,e,r),B(t,e,r),h(t,e,r))}}function c(t,e,i){var s=i||n.peekMeta(t);if(!s||s.isInitialized(t)){var o=s&&s.peekWatching(e)>0,a=t[e],l=null!==a&&"object"==typeof a&&a.isDescriptor?a:void 0;l&&l.didChange&&l.didChange(t,e),o&&(s.hasDeps(e)&&u(t,e,s),I(t,e,s),m(t,e,s)),t[b]&&t[b](e),s&&s.isSourceDestroying()||r.markObjectAsDirty(s,e)}}function g(t,e,n){if((!n||!n.isSourceDestroying())&&n&&n.hasDeps(e)){var i=f,r=!i;r&&(i=f={}),Q(l,t,e,i,n),r&&(f=null)}}function u(t,e,n){if((!n||!n.isSourceDestroying())&&n&&n.hasDeps(e)){var i=G,r=!i;r&&(i=G={}),Q(c,t,e,i,n),r&&(G=null)}}function Q(t,n,i,r,s){var o=void 0,a=void 0,l=e.guidFor(n),c=r[l];c||(c=r[l]={}),c[i]||(c[i]=!0,s.forEachInDeps(i,function(e,i){i&&(o=n[e],(a=null!==o&&"object"==typeof o&&o.isDescriptor?o:void 0)&&a._suspended===n||t(n,e,s))}))}function B(t,e,n){var i=n.readableChainWatchers();i&&i.notify(e,!1,l)}function I(t,e,n){var i=n.readableChainWatchers();i&&i.notify(e,!0,c)}function d(t,e,n){var i=n.readableChainWatchers();i&&i.revalidate(e)}function F(){y++}function C(){--y<=0&&(p.clear(),A.flush())}function U(t,e){F();try{t.call(e)}finally{C.call(e)}}function h(t,e,n){if(!n||!n.isSourceDestroying()){var r=e+":before",s=void 0,o=void 0;y?(s=p.add(t,e,r),o=i.accumulateListeners(t,r,s),i.sendEvent(t,r,[t,e],o)):i.sendEvent(t,r,[t,e])}}function m(t,e,n){if(!n||!n.isSourceDestroying()){var r=e+":change",s=void 0;y?(s=A.add(t,e,r),i.accumulateListeners(t,r,s)):i.sendEvent(t,r,[t,e])}}var b=e.symbol("PROPERTY_DID_CHANGE");t.PROPERTY_DID_CHANGE=b;var p=new s.default,A=new s.default,y=0,f=void 0,G=void 0;t.propertyWillChange=l,t.propertyDidChange=c,t.overrideChains=d,t.beginPropertyChanges=F,t.endPropertyChanges=C,t.changeProperties=U}),o("ember-metal/property_get",["exports","ember-metal/debug","ember-metal/path_cache"],function(t,e,n){"use strict";function i(t,e){var i=t[e],s=null!==i&&"object"==typeof i&&i.isDescriptor?i:void 0,o=void 0;return void 0===s&&n.isPath(e)?r(t,e):s?s.get(t,e):(o=i,void 0!==o||"object"!=typeof t||e in t||"function"!=typeof t.unknownProperty?o:t.unknownProperty(e))}function r(t,e){for(var n=t,r=e.split("."),o=0;o<r.length;o++){if(!s(n))return;if((n=i(n,r[o]))&&n.isDestroyed)return}return n}function s(t){return null!=t&&a[typeof t]}function o(t,e,n){var r=i(t,e);return void 0===r?n:r}t.get=i,t._getPath=r,t.getWithDefault=o;var a={object:!0,function:!0,string:!0};t.default=i}),o("ember-metal/property_set",["exports","ember-utils","ember-metal/debug","ember-metal/features","ember-metal/property_get","ember-metal/property_events","ember-metal/error","ember-metal/path_cache","ember-metal/meta"],function(t,e,n,i,r,s,o,a,l){"use strict";function c(t,e,n,i){if(a.isPath(e))return g(t,e,n,i);var r=(l.peekMeta(t),t[e]),o=void 0,c=void 0;if(null!==r&&"object"==typeof r&&r.isDescriptor?o=r:c=r,o)o.set(t,e,n);else if(!t.setUnknownProperty||void 0!==c||e in t){if(c===n)return n;s.propertyWillChange(t,e),t[e]=n,s.propertyDidChange(t,e)}else t.setUnknownProperty(e,n);return n}function g(t,e,n,i){var s=e.slice(e.lastIndexOf(".")+1);if(e=e===s?s:e.slice(0,e.length-(s.length+1)),"this"!==e&&(t=r._getPath(t,e)),!s||0===s.length)throw new o.default("Property set failed: You passed an empty path");if(!t){if(i)return;throw new o.default('Property set failed: object in path "'+e+'" could not be found or was destroyed.')}return c(t,s,n)}function u(t,e,n){return c(t,e,n,!0)}t.set=c,t.trySet=u}),o("ember-metal/replace",["exports"],function(t){"use strict";function e(t,e,i,r){for(var s=[].concat(r),o=[],a=e,l=i,c=void 0,g=void 0;s.length;)c=l>6e4?6e4:l,c<=0&&(c=0),g=s.splice(0,6e4),g=[a,c].concat(g),a+=6e4,l-=c,o=o.concat(n.apply(t,g));return o}t.default=e;var n=Array.prototype.splice}),o("ember-metal/run_loop",["exports","ember-utils","ember-metal/debug","ember-metal/testing","ember-metal/error_handler","ember-metal/property_events","backburner"],function(t,e,n,i,r,s,o){"use strict";function a(t){c.currentRunLoop=t}function l(t,e){c.currentRunLoop=e}function c(){return u.run.apply(u,arguments)}t.default=c;var g={get onerror(){return r.getOnerror()},set onerror(t){return r.setOnerror(t)}},u=new o.default(["sync","actions","destroy"],{GUID_KEY:e.GUID_KEY,sync:{before:s.beginPropertyChanges,after:s.endPropertyChanges},defaultQueue:"actions",onBegin:a,onEnd:l,onErrorTarget:g,onErrorMethod:"onerror"});c.join=function(){return u.join.apply(u,arguments)},c.bind=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return c.join.apply(c,e.concat(n))}},c.backburner=u,c.currentRunLoop=null,c.queues=u.queueNames,c.begin=function(){u.begin()},c.end=function(){u.end()},c.schedule=function(){return u.schedule.apply(u,arguments)},c.hasScheduledTimers=function(){return u.hasTimers()},c.cancelTimers=function(){u.cancelTimers()},c.sync=function(){u.currentInstance&&u.currentInstance.queues.sync.flush()},c.later=function(){return u.later.apply(u,arguments)},c.once=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.unshift("actions"),u.scheduleOnce.apply(u,e)},c.scheduleOnce=function(){return u.scheduleOnce.apply(u,arguments)},c.next=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.push(1),u.later.apply(u,e)},c.cancel=function(t){return u.cancel(t)},c.debounce=function(){return u.debounce.apply(u,arguments)},c.throttle=function(){return u.throttle.apply(u,arguments)},c._addQueue=function(t,e){-1===c.queues.indexOf(t)&&c.queues.splice(c.queues.indexOf(e)+1,0,t)}}),o("ember-metal/set_properties",["exports","ember-metal/property_events","ember-metal/property_set"],function(t,e,n){"use strict";function i(t,i){return i&&"object"==typeof i?(e.changeProperties(function(){for(var e=Object.keys(i),r=void 0,s=0;s<e.length;s++)r=e[s],n.set(t,r,i[r])}),i):i}t.default=i}),o("ember-metal/tags",["exports","glimmer-reference","ember-metal/meta","require","ember-metal/is_proxy"],function(t,e,n,i,r){"use strict";function s(t){Q=t}function o(){return new e.DirtyableTag}function a(t,i,s){if(r.isProxy(t))return l(t,s);if("object"==typeof t&&t){var a=s||n.meta(t),c=a.writableTags(),g=c[i];return g||(c[i]=o())}return e.CONSTANT_TAG}function l(t,i){if("object"==typeof t&&t){return(i||n.meta(t)).writableTag(o)}return e.CONSTANT_TAG}function c(t,e){var n=t&&t.readableTag();n&&n.dirty();var i=t&&t.readableTags(),r=i&&i[e];r&&r.dirty(),(n||r)&&u()}function g(){}function u(){B||(B=i.default("ember-metal/run_loop").default),Q()&&!B.backburner.currentInstance&&B.schedule("actions",g)}t.setHasViews=s,t.tagForProperty=a,t.tagFor=l,t.markObjectAsDirty=c;var Q=function(){return!1},B=void 0}),o("ember-metal/testing",["exports"],function(t){"use strict";function e(){return i}function n(t){i=!!t}t.isTesting=e,t.setTesting=n;var i=!1}),o("ember-metal/transaction",["exports","ember-metal/meta","ember-metal/debug","ember-metal/features"],function(t,e,n,i){"use strict";var r=void 0,s=void 0,o=void 0;n.assert;t.default=r=function(){throw new Error("Cannot call runInTransaction without Glimmer")},t.didRender=s=function(){throw new Error("Cannot call didRender without Glimmer")},t.assertNotRendered=o=function(){throw new Error("Cannot call assertNotRendered without Glimmer")},t.default=r,t.didRender=s,t.assertNotRendered=o}),o("ember-metal/watch_key",["exports","ember-utils","ember-metal/features","ember-metal/meta","ember-metal/properties"],function(t,e,n,i,r){"use strict";function s(t,e,n){if("object"==typeof t&&null!==t){var r=n||i.meta(t);if(r.peekWatching(e))r.writeWatching(e,(r.peekWatching(e)||0)+1);else{r.writeWatching(e,1);var s=t[e],o=null!==s&&"object"==typeof s&&s.isDescriptor?s:void 0;o&&o.willWatch&&o.willWatch(t,e),"function"==typeof t.willWatchProperty&&t.willWatchProperty(e)}}}function o(t,e,n){if("object"==typeof t&&null!==t){var r=n||i.meta(t);if(!r.isSourceDestroyed()){var s=r.peekWatching(e);if(1===s){r.writeWatching(e,0);var o=t[e],a=null!==o&&"object"==typeof o&&o.isDescriptor?o:void 0;a&&a.didUnwatch&&a.didUnwatch(t,e),"function"==typeof t.didUnwatchProperty&&t.didUnwatchProperty(e)}else s>1&&r.writeWatching(e,s-1)}}}t.watchKey=s,t.unwatchKey=o}),o("ember-metal/watch_path",["exports","ember-metal/meta","ember-metal/chains"],function(t,e,n){"use strict";function i(t,n){return(n||e.meta(t)).writableChains(r)}function r(t){return new n.ChainNode(null,null,t)}function s(t,n,r){if("object"==typeof t&&null!==t){var s=r||e.meta(t),o=s.peekWatching(n)||0;o?s.writeWatching(n,o+1):(s.writeWatching(n,1),i(t,s).add(n))}}function o(t,n,r){if("object"==typeof t&&null!==t){var s=r||e.meta(t),o=s.peekWatching(n)||0;1===o?(s.writeWatching(n,0),i(t,s).remove(n)):o>1&&s.writeWatching(n,o-1)}}t.makeChainNode=r,t.watchPath=s,t.unwatchPath=o}),o("ember-metal/watching",["exports","ember-metal/watch_key","ember-metal/watch_path","ember-metal/path_cache","ember-metal/meta"],function(t,e,n,i,r){"use strict";function s(t,r,s){i.isPath(r)?n.watchPath(t,r,s):e.watchKey(t,r,s)}function o(t,e){if("object"!=typeof t||null===t)return!1;var n=r.peekMeta(t);return(n&&n.peekWatching(e))>0}function a(t,e){var n=r.peekMeta(t);return n&&n.peekWatching(e)||0}function l(t,r,s){i.isPath(r)?n.unwatchPath(t,r,s):e.unwatchKey(t,r,s)}function c(t){r.deleteMeta(t)}t.isWatching=o,t.watcherCount=a,t.unwatch=l,t.destroy=c,t.watch=s}),o("ember-metal/weak_map",["exports","ember-utils","ember-metal/meta"],function(t,e,n){"use strict";function i(t){return"object"==typeof t&&null!==t||"function"==typeof t}function r(t){if(!(this instanceof r))throw new TypeError("Constructor WeakMap requires 'new'");if(this._id=e.GUID_KEY+s++,null!==t&&void 0!==t){if(!Array.isArray(t))throw new TypeError("The weak map constructor polyfill only supports an array argument");for(var n=0;n<t.length;n++){var i=t[n],o=i[0],a=i[1];this.set(o,a)}}}t.default=r;var s=0;r.prototype.get=function(t){if(i(t)){var e=n.peekMeta(t);if(e){var r=e.readableWeak();if(r){if(r[this._id]===n.UNDEFINED)return;return r[this._id]}}}},r.prototype.set=function(t,e){if(!i(t))throw new TypeError("Invalid value used as weak map key");return void 0===e&&(e=n.UNDEFINED),n.meta(t).writableWeak()[this._id]=e,this},r.prototype.has=function(t){if(!i(t))return!1;var e=n.peekMeta(t);if(e){var r=e.readableWeak();if(r)return void 0!==r[this._id]}return!1},r.prototype.delete=function(t){return!!this.has(t)&&(delete n.meta(t).writableWeak()[this._id],!0)},r.prototype.toString=function(){return"[object WeakMap]"}}),o("ember-routing/ext/controller",["exports","ember-metal","ember-runtime","ember-routing/utils"],function(t,e,n,i){"use strict";n.ControllerMixin.reopen({concatenatedProperties:["queryParams"],queryParams:null,_qpDelegate:null,_qpChanged:function(t,n){var i=n.substr(0,n.length-3);(0,t._qpDelegate)(i,e.get(t,i))},transitionToRoute:function(){for(var t=e.get(this,"target"),n=t.transitionToRoute||t.transitionTo,r=arguments.length,s=Array(r),o=0;o<r;o++)s[o]=arguments[o];return n.apply(t,i.prefixRouteNameArg(this,s))},replaceRoute:function(){for(var t=e.get(this,"target"),n=t.replaceRoute||t.replaceWith,r=arguments.length,s=Array(r),o=0;o<r;o++)s[o]=arguments[o];return n.apply(t,i.prefixRouteNameArg(t,s))}}),t.default=n.ControllerMixin}),o("ember-routing/ext/run_loop",["exports","ember-metal"],function(t,e){"use strict";e.run._addQueue("routerTransitions","actions")}),o("ember-routing/index",["exports","ember-routing/ext/run_loop","ember-routing/ext/controller","ember-routing/location/api","ember-routing/location/none_location","ember-routing/location/hash_location","ember-routing/location/history_location","ember-routing/location/auto_location","ember-routing/system/generate_controller","ember-routing/system/controller_for","ember-routing/system/dsl","ember-routing/system/router","ember-routing/system/route","ember-routing/system/query_params","ember-routing/services/routing","ember-routing/system/cache"],function(t,e,n,i,r,s,o,a,l,c,g,u,Q,B,I,d){"use strict";t.Location=i.default,t.NoneLocation=r.default,t.HashLocation=s.default,t.HistoryLocation=o.default,t.AutoLocation=a.default,t.generateController=l.default,t.generateControllerFactory=l.generateControllerFactory,t.controllerFor=c.default,t.RouterDSL=g.default,t.Router=u.default,t.Route=Q.default,t.QueryParams=B.default,t.RoutingService=I.default,t.BucketCache=d.default}),o("ember-routing/location/api",["exports","ember-metal","ember-environment","ember-routing/location/util"],function(t,e,n,i){"use strict";t.default={create:function(t){var e=t&&t.implementation,n=this.implementations[e];return n.create.apply(n,arguments)},implementations:{},_location:n.environment.location,_getHash:function(){return i.getHash(this.location)}}}),o("ember-routing/location/auto_location",["exports","ember-utils","ember-metal","ember-runtime","ember-environment","ember-routing/location/util"],function(t,e,n,i,r,s){"use strict";function o(t){return function(){for(var i=n.get(this,"concreteImplementation"),r=arguments.length,s=Array(r),o=0;o<r;o++)s[o]=arguments[o];return e.tryInvoke(i,t,s)}}function a(t){var e=t.location,n=t.userAgent,i=t.history,r=t.documentMode,o=t.global,a=t.rootURL,g="none",u=!1,Q=s.getFullPath(e);if(s.supportsHistory(n,i)){var B=l(a,e);if(Q===B)return"history";"/#"===Q.substr(0,2)?(i.replaceState({path:B},null,B),g="history"):(u=!0,s.replacePath(e,B))}else if(s.supportsHashChange(r,o)){var I=c(a,e);Q===I||"/"===Q&&"/#/"===I?g="hash":(u=!0,s.replacePath(e,I))}return!u&&g}function l(t,e){var n=s.getPath(e),i=s.getHash(e),r=s.getQuery(e),o=(n.indexOf(t),void 0),a=void 0;return"#/"===i.substr(0,2)?(a=i.substr(1).split("#"),o=a.shift(),"/"===n.slice(-1)&&(o=o.substr(1)),n=n+o+r,a.length&&(n+="#"+a.join("#"))):n=n+r+i,n}function c(t,e){var n=t,i=l(t,e),r=i.substr(t.length);return""!==r&&("/"!==r.charAt(0)&&(r="/"+r),n+="#"+r),n}t.getHistoryPath=l,t.getHashPath=c,t.default=i.Object.extend({location:r.environment.location,history:r.environment.history,global:r.environment.window,userAgent:r.environment.userAgent,cancelRouterSetup:!1,rootURL:"/",detect:function(){var t=this.rootURL,i=a({location:this.location,history:this.history,userAgent:this.userAgent,rootURL:t,documentMode:this.documentMode,global:this.global});!1===i&&(n.set(this,"cancelRouterSetup",!0),i="none");var r=e.getOwner(this).lookup("location:"+i);n.set(r,"rootURL",t),n.set(this,"concreteImplementation",r)},initState:o("initState"),getURL:o("getURL"),setURL:o("setURL"),replaceURL:o("replaceURL"),onUpdateURL:o("onUpdateURL"),formatURL:o("formatURL"),willDestroy:function(){var t=n.get(this,"concreteImplementation");t&&t.destroy()}})}),o("ember-routing/location/hash_location",["exports","ember-metal","ember-runtime","ember-routing/location/api"],function(t,e,n,i){"use strict";t.default=n.Object.extend({implementation:"hash",init:function(){e.set(this,"location",e.get(this,"_location")||window.location),this._hashchangeHandler=void 0},getHash:i.default._getHash,getURL:function(){var t=this.getHash().substr(1),e=t;return"/"!==e.charAt(0)&&(e="/",t&&(e+="#"+t)),e},setURL:function(t){e.get(this,"location").hash=t,e.set(this,"lastSetURL",t)},replaceURL:function(t){e.get(this,"location").replace("#"+t),e.set(this,"lastSetURL",t)},onUpdateURL:function(t){var n=this;this._removeEventListener(),this._hashchangeHandler=function(){e.run(function(){var i=n.getURL();e.get(n,"lastSetURL")!==i&&(e.set(n,"lastSetURL",null),t(i))})},window.addEventListener("hashchange",this._hashchangeHandler)},formatURL:function(t){return"#"+t},willDestroy:function(){this._removeEventListener()},_removeEventListener:function(){this._hashchangeHandler&&window.removeEventListener("hashchange",this._hashchangeHandler)}})}),o("ember-routing/location/history_location",["exports","ember-metal","ember-runtime","ember-routing/location/api"],function(t,e,n,i){"use strict";var r=!1;t.default=n.Object.extend({implementation:"history",init:function(){this._super.apply(this,arguments);var t=document.querySelector("base"),n=t?t.getAttribute("href"):"";e.set(this,"baseURL",n),e.set(this,"location",e.get(this,"location")||window.location),this._popstateHandler=void 0},initState:function(){var t=e.get(this,"history")||window.history;e.set(this,"history",t),t&&"state"in t&&(this.supportsHistory=!0),this.replaceState(this.formatURL(this.getURL()))},rootURL:"/",getURL:function(){var t=e.get(this,"location"),n=t.pathname,i=e.get(this,"rootURL"),r=e.get(this,"baseURL");i=i.replace(/\/$/,""),r=r.replace(/\/$/,"");var s=n.replace(new RegExp("^"+r+"(?=/|$)"),"").replace(new RegExp("^"+i+"(?=/|$)"),"");return s+=t.search||"",s+=this.getHash()},setURL:function(t){var e=this.getState();t=this.formatURL(t),e&&e.path===t||this.pushState(t)},replaceURL:function(t){var e=this.getState();t=this.formatURL(t),e&&e.path===t||this.replaceState(t)},getState:function(){return this.supportsHistory?e.get(this,"history").state:this._historyState},pushState:function(t){var n={path:t};e.get(this,"history").pushState(n,null,t),this._historyState=n,this._previousURL=this.getURL()},replaceState:function(t){var n={path:t};e.get(this,"history").replaceState(n,null,t),this._historyState=n,this._previousURL=this.getURL()},onUpdateURL:function(t){var e=this;this._removeEventListener(),this._popstateHandler=function(){(r||(r=!0,e.getURL()!==e._previousURL))&&t(e.getURL())},window.addEventListener("popstate",this._popstateHandler)},formatURL:function(t){var n=e.get(this,"rootURL"),i=e.get(this,"baseURL");return""!==t?(n=n.replace(/\/$/,""),i=i.replace(/\/$/,"")):i.match(/^\//)&&n.match(/^\//)&&(i=i.replace(/\/$/,"")),i+n+t},willDestroy:function(){this._removeEventListener()},getHash:i.default._getHash,_removeEventListener:function(){this._popstateHandler&&window.removeEventListener("popstate",this._popstateHandler)}})}),o("ember-routing/location/none_location",["exports","ember-metal","ember-runtime"],function(t,e,n){"use strict";t.default=n.Object.extend({implementation:"none",path:"",detect:function(){this.rootURL},rootURL:"/",getURL:function(){var t=e.get(this,"path"),n=e.get(this,"rootURL");return n=n.replace(/\/$/,""),t.replace(new RegExp("^"+n+"(?=/|$)"),"")},setURL:function(t){e.set(this,"path",t)},onUpdateURL:function(t){this.updateCallback=t},handleURL:function(t){e.set(this,"path",t),this.updateCallback(t)},formatURL:function(t){var n=e.get(this,"rootURL");return""!==t&&(n=n.replace(/\/$/,"")),n+t}})}),o("ember-routing/location/util",["exports"],function(t){"use strict";function e(t){var e=t.pathname;return"/"!==e.charAt(0)&&(e="/"+e),e}function n(t){return t.search}function i(t){var e=t.href,n=e.indexOf("#");return-1===n?"":e.substr(n)}function r(t){return e(t)+n(t)+i(t)}function s(t){var e=t.origin;return e||(e=t.protocol+"//"+t.hostname,t.port&&(e+=":"+t.port)),e}function o(t,e){return"onhashchange"in e&&(void 0===t||t>7)}function a(t,e){return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&!!(e&&"pushState"in e)}function l(t,e){t.replace(s(t)+e)}t.getPath=e,t.getQuery=n,t.getHash=i,t.getFullPath=r,t.getOrigin=s,t.supportsHashChange=o,t.supportsHistory=a,t.replacePath=l}),o("ember-routing/services/routing",["exports","ember-utils","ember-runtime","ember-metal","ember-routing/utils"],function(t,e,n,i,r){"use strict";function s(t,e){for(var n=0,i=0;i<e.length&&(n+=e[i].names.length,e[i].handler!==t);i++);return n}t.default=n.Service.extend({router:null,targetState:n.readOnly("router.targetState"),currentState:n.readOnly("router.currentState"),currentRouteName:n.readOnly("router.currentRouteName"),currentPath:n.readOnly("router.currentPath"),availableRoutes:function(){return Object.keys(i.get(this,"router").router.recognizer.names)},hasRoute:function(t){return i.get(this,"router").hasRoute(t)},transitionTo:function(t,e,n,r){var s=i.get(this,"router"),o=s._doTransition(t,e,n);return r&&o.method("replace"),o},normalizeQueryParams:function(t,e,n){i.get(this,"router")._prepareQueryParams(t,e,n)},generateURL:function(t,n,s){var o=i.get(this,"router");if(o.router){var a={};e.assign(a,s),this.normalizeQueryParams(t,n,a);var l=r.routeArgs(t,n,a);return o.generate.apply(o,l)}},isActiveForRoute:function(t,e,n,r,o){var a=i.get(this,"router"),l=a.router.recognizer.handlersFor(n),c=l[l.length-1].handler,g=s(n,l);return t.length>g&&(n=c),r.isActiveIntent(n,t,e,!o)}})}),o("ember-routing/system/cache",["exports","ember-utils","ember-runtime"],function(t,e,n){"use strict";t.default=n.Object.extend({init:function(){this.cache=new e.EmptyObject},has:function(t){return!!this.cache[t]},stash:function(t,n,i){var r=this.cache[t];r||(r=this.cache[t]=new e.EmptyObject),r[n]=i},lookup:function(t,e,n){var i=this.cache;if(!this.has(t))return n;var r=i[t];return e in r&&void 0!==r[e]?r[e]:n}})}),o("ember-routing/system/controller_for",["exports"],function(t){"use strict";function e(t,e,n){return t.lookup("controller:"+e,n)}t.default=e}),o("ember-routing/system/dsl",["exports","ember-utils","ember-metal"],function(t,e,n){"use strict";function i(t,e){this.parent=t,this.enableLoadingSubstates=e&&e.enableLoadingSubstates,this.matches=[],this.explicitIndex=void 0,this.options=e}function r(t){return t.parent&&"application"!==t.parent}function s(t,e,n){return r(t)&&!0!==n?t.parent+"."+e:e}function o(t,e,n,i){n=n||{};var r=s(t,e,n.resetNamespace);"string"!=typeof n.path&&(n.path="/"+e),t.push(n.path,r,i,n.serialize)}t.default=i,i.prototype={route:function(t,e,n){var r="/_unused_dummy_error_path_route_"+t+"/:error";if(2===arguments.length&&"function"==typeof e&&(n=e,e={}),1===arguments.length&&(e={}),this.enableLoadingSubstates&&(o(this,t+"_loading",{resetNamespace:e.resetNamespace}),o(this,t+"_error",{resetNamespace:e.resetNamespace,path:r})),n){var a=s(this,t,e.resetNamespace),l=new i(a,this.options);o(l,"loading"),o(l,"error",{path:r}),n.call(l),o(this,t,e,l.generate())}else o(this,t,e)},push:function(t,n,i,r){var s=n.split(".");if(this.options.engineInfo){var o=n.slice(this.options.engineInfo.fullName.length+1),a=e.assign({localFullName:o},this.options.engineInfo);r&&(a.serializeMethod=r),this.options.addRouteForEngine(n,a)}else if(r)throw new Error("Defining a route serializer on route '"+n+"' outside an Engine is not allowed.");""!==t&&"/"!==t&&"index"!==s[s.length-1]||(this.explicitIndex=!0),this.matches.push([t,n,i])},resource:function(t,e,n){2===arguments.length&&"function"==typeof e&&(n=e,e={}),1===arguments.length&&(e={}),e.resetNamespace=!0,this.route(t,e,n)},generate:function(){var t=this.matches;return this.explicitIndex||this.route("index",{path:"/"}),function(e){for(var n=0;n<t.length;n++){var i=t[n];e(i[0]).to(i[1],i[2])}}}},i.map=function(t){var e=new i;return t.call(e),e};var a=0;i.prototype.mount=function(t,n){var r=n||{},l=this.options.resolveRouteMap(t),c=t;r.as&&(c=r.as);var g=s(this,c,r.resetNamespace),u={name:t,instanceId:a++,mountPoint:g,fullName:g},Q=r.path;"string"!=typeof Q&&(Q="/"+c);var B=void 0,I="/_unused_dummy_error_path_route_"+c+"/:error";if(l){var d=!1,F=this.options.engineInfo;F&&(d=!0,this.options.engineInfo=u);var C=e.assign({engineInfo:u},this.options),U=new i(g,C);o(U,"loading"),o(U,"error",{path:I}),l.call(U),B=U.generate(),d&&(this.options.engineInfo=F)}var h=e.assign({localFullName:"application"},u);if(this.enableLoadingSubstates){var m=c+"_loading",b="application_loading",p=e.assign({localFullName:b},u);o(this,m,{resetNamespace:r.resetNamespace}),this.options.addRouteForEngine(m,p),m=c+"_error",b="application_error",p=e.assign({localFullName:b},u),o(this,m,{resetNamespace:r.resetNamespace,path:I}),this.options.addRouteForEngine(m,p)}this.options.addRouteForEngine(g,h),this.push(Q,g,B)}}),o("ember-routing/system/generate_controller",["exports","ember-metal"],function(t,e){"use strict";function n(t,e){var n=t._lookupFactory("controller:basic").extend({isGenerated:!0,toString:function(){return"(generated "+e+" controller)"}}),i="controller:"+e;return t.register(i,n),n}function i(t,i){n(t,i);var r="controller:"+i,s=t.lookup(r);return e.get(s,"namespace.LOG_ACTIVE_GENERATION"),s}t.generateControllerFactory=n,t.default=i}),o("ember-routing/system/query_params",["exports","ember-runtime"],function(t,e){"use strict";t.default=e.Object.extend({isQueryParams:!0,values:null})}),o("ember-routing/system/route",["exports","ember-utils","ember-metal","ember-runtime","ember-routing/system/generate_controller","ember-routing/utils"],function(t,e,n,i,r,s){"use strict";function o(){return this}function a(t,e){if(!(e.length<1)&&t){var i=e[0],r={};return 1===e.length?i in t?r[i]=n.get(t,i):/_id$/.test(i)&&(r[i]=n.get(t,"id")):r=n.getProperties(t,e),r}}function l(t){return!!t.serialize[h]}function c(t){var e=g(t,t.router.router.state.handlerInfos,-1);return e&&e.handler}function g(t,e,n){if(e)for(var i=n||0,r=0;r<e.length;r++)if(e[r].handler===t)return e[r+i]}function u(t,i,r,s,o){var a=o&&o.into&&o.into.replace(/\//g,"."),l=o&&o.outlet||"main",g=void 0,u=void 0;s?(g=s.replace(/\//g,"."),u=g):(g=t.routeName,u=t.templateName||g);var Q=e.getOwner(t),B=o&&o.controller;if(B||(B=i?Q.lookup("controller:"+g)||t.controllerName||t.routeName:t.controllerName||Q.lookup("controller:"+g)),"string"==typeof B){var I=B;if(!(B=Q.lookup("controller:"+I)))throw new n.Error("You passed `controller: '"+I+"'` into the `render` method, but no such controller could be found.")}if(o&&-1!==Object.keys(o).indexOf("outlet")&&void 0===o.outlet)throw new n.Error("You passed undefined as the outlet name.");o&&o.model&&B.set("model",o.model);var d=Q.lookup("template:"+u);a&&c(t)&&a===c(t).routeName&&(a=void 0);var F={owner:Q,into:a,outlet:l,name:g,controller:B,template:d||t._topLevelViewTemplate,ViewClass:void 0};n.get(t.router,"namespace.LOG_VIEW_LOOKUPS");return F}function Q(t,n){return n.fullQueryParams?n.fullQueryParams:(n.fullQueryParams={},e.assign(n.fullQueryParams,n.queryParams),t._deserializeQueryParams(n.handlerInfos,n.fullQueryParams),n.fullQueryParams)}function B(t,e){e.queryParamsFor=e.queryParamsFor||{};var i=t.fullRouteName;if(e.queryParamsFor[i])return e.queryParamsFor[i];for(var r=Q(t.router,e),s=e.queryParamsFor[i]={},o=n.get(t,"_qp"),a=o.qps,l=0;l<a.length;++l){var c=a[l],g=c.prop in r;s[c.prop]=g?r[c.prop]:I(c.defaultValue)}return s}function I(t){return Array.isArray(t)?i.A(t.slice()):t}function d(t,n){var i=void 0,r={};i={defaultValue:!0,type:!0,scope:!0,as:!0};for(var s in t)if(t.hasOwnProperty(s)){var o={};e.assign(o,t[s]),e.assign(o,n[s]),r[s]=o,i[s]=!0}for(var a in n)if(n.hasOwnProperty(a)&&!i[a]){var l={};e.assign(l,n[a],t[a]),r[a]=l}return r}function F(t,e){e.forEach(function(e){t.addObserver(e+".[]",t,t._qpChanged)})}function C(t,e){if(t.routable){var n=t.mountPoint;return"application"===e?n:n+"."+e}return e}t.defaultSerialize=a,t.hasDefaultSerialize=l;var U=Array.prototype.slice,h=e.symbol("DEFAULT_SERIALIZE");a[h]=!0;var m=i.Object.extend(i.ActionHandler,i.Evented,{queryParams:{},_setRouteName:function(t){this.routeName=t,this.fullRouteName=C(e.getOwner(this),t)},_populateQPMeta:function(){this._bucketCache.stash("route-meta",this.fullRouteName,this.get("_qp"))},_qp:n.computed(function(){var t=this,o=void 0,a=void 0,l=this.controllerName||this.routeName,c=e.getOwner(this)._lookupFactory("controller:"+l),g=n.get(this,"queryParams"),u=!!Object.keys(g).length;if(c){o=c.proto();var Q=n.get(o,"queryParams");a=d(s.normalizeControllerQueryParams(Q),g)}else if(u){var B=r.generateControllerFactory(e.getOwner(this),l);o=B.proto(),a=g}var I=[],F={},C=[];for(var U in a)if(a.hasOwnProperty(U)&&"unknownProperty"!==U&&"_super"!==U){var h=a[U],m=h.scope||"model",b=void 0;"controller"===m&&(b=[]);var p=h.as||this.serializeQueryParamKey(U),A=n.get(o,U);Array.isArray(A)&&(A=i.A(A.slice()));var y=h.type||i.typeOf(A),f=this.serializeQueryParam(A,p,y),G=l+":"+U,x={undecoratedDefaultValue:n.get(o,U),defaultValue:A,serializedDefaultValue:f,serializedValue:f,type:y,urlKey:p,prop:U,scopedPropertyName:G,controllerName:l,route:this,parts:b,values:null,scope:m};F[U]=F[p]=F[G]=x,I.push(x),C.push(U)}return{qps:I,map:F,propertyNames:C,states:{inactive:function(e,n){var i=F[e];t._qpChanged(e,n,i)},active:function(e,n){var i=F[e];return t._qpChanged(e,n,i),t._activeQPChanged(F[e],n)},allowOverrides:function(e,n){var i=F[e];return t._qpChanged(e,n,i),t._updatingQPChanged(F[e])}}}}),_names:null,_stashNames:function(t,e){var i=t;if(!this._names){var r=this._names=i._names;r.length||(i=e,r=i&&i._names||[]);for(var s=n.get(this,"_qp.qps"),o=new Array(r.length),a=0;a<r.length;++a)o[a]=i.name+"."+r[a];for(var l=0;l<s.length;++l){var c=s[l];"model"===c.scope&&(c.parts=o)}}},_activeQPChanged:function(t,e){this.router._activeQPChanged(t.scopedPropertyName,e)},_updatingQPChanged:function(t){this.router._updatingQPChanged(t.urlKey)},mergedProperties:["queryParams"],paramsFor:function(t){var n=e.getOwner(this).lookup("route:"+t);if(!n)return{};var i=this.router.router.activeTransition,r=i?i.state:this.router.router.state,s=n.fullRouteName,o=e.assign({},r.params[s]),a=B(n,r);return Object.keys(a).reduce(function(t,e){return t[e]=a[e],t},o)},serializeQueryParamKey:function(t){return t},serializeQueryParam:function(t,e,n){return this.router._serializeQueryParam(t,n)},deserializeQueryParam:function(t,e,n){return this.router._deserializeQueryParam(t,n)},_optionsForQueryParam:function(t){return n.get(this,"queryParams."+t.urlKey)||n.get(this,"queryParams."+t.prop)||{}},resetController:o,exit:function(){this.deactivate(),this.trigger("deactivate"),this.teardownViews()},_reset:function(t,e){var i=this.controller;i._qpDelegate=n.get(this,"_qp.states.inactive"),this.resetController(i,t,e)},enter:function(){this.connections=[],this.activate(),this.trigger("activate")},templateName:null,controllerName:null,actions:{queryParamsDidChange:function(t,e,i){for(var r=n.get(this,"_qp").map,s=Object.keys(t).concat(Object.keys(i)),o=0;o<s.length;++o){var a=r[s[o]];a&&n.get(this._optionsForQueryParam(a),"refreshModel")&&this.router.currentState&&this.refresh()}return!0},finalizeQueryParamChange:function(t,e,i){
if("application"!==this.fullRouteName)return!0;if(i){var r=i.state.handlerInfos,o=this.router,a=o._queryParamsFor(r),l=o._qpUpdates,c=void 0;s.stashParamNames(o,r);for(var g=0;g<a.qps.length;++g){var u=a.qps[g],Q=u.route,B=Q.controller,d=u.urlKey in t&&u.urlKey,F=void 0,C=void 0;l&&u.urlKey in l?(F=n.get(B,u.prop),C=Q.serializeQueryParam(F,u.urlKey,u.type)):d?(C=t[d],F=Q.deserializeQueryParam(C,u.urlKey,u.type)):(C=u.serializedDefaultValue,F=I(u.defaultValue)),B._qpDelegate=n.get(Q,"_qp.states.inactive");if(C!==u.serializedValue){if(i.queryParamsOnly&&!1!==c){var U=Q._optionsForQueryParam(u),h=n.get(U,"replace");h?c=!0:!1===h&&(c=!1)}n.set(B,u.prop,F)}u.serializedValue=C;u.serializedDefaultValue===C||e.push({value:C,visible:!0,key:d||u.urlKey})}c&&i.method("replace"),a.qps.forEach(function(t){var e=n.get(t.route,"_qp");t.route.controller._qpDelegate=n.get(e,"states.active")}),o._qpUpdates=null}}},deactivate:o,activate:o,transitionTo:function(t,e){var n=this.router;return n.transitionTo.apply(n,s.prefixRouteNameArg(this,arguments))},intermediateTransitionTo:function(){var t=this.router;t.intermediateTransitionTo.apply(t,s.prefixRouteNameArg(this,arguments))},refresh:function(){return this.router.router.refresh(this)},replaceWith:function(){var t=this.router;return t.replaceWith.apply(t,s.prefixRouteNameArg(this,arguments))},send:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];if(this.router&&this.router.router||!n.isTesting()){var r;(r=this.router).send.apply(r,e)}else{var s=e[0];e=U.call(e,1);if(this.actions[s])return this.actions[s].apply(this,e)}},setup:function(t,e){var i=this,r=void 0,o=this.controllerName||this.routeName,a=this.controllerFor(o,!0);if(r=a||this.generateController(o),!this.controller){var l=n.get(this,"_qp.propertyNames");F(r,l),this.controller=r}var c=n.get(this,"_qp"),g=c.states;if(r._qpDelegate=g.allowOverrides,e&&function(){s.stashParamNames(i.router,e.state.handlerInfos);var t=e.params,o=c.propertyNames,a=i._bucketCache;o.forEach(function(e){var i=c.map[e];i.values=t;var o=s.calculateCacheKey(i.controllerName,i.parts,i.values);if(a){var l=a.lookup(o,e,i.undecoratedDefaultValue);n.set(r,e,l)}})}(),e){var u=B(this,e.state);r.setProperties(u)}this.setupController(r,t,e),this._environment.options.shouldRender&&this.renderTemplate(r,t)},_qpChanged:function(t,e,n){if(n){var i=s.calculateCacheKey(n.controllerName,n.parts,n.values),r=this._bucketCache;r&&r.stash(i,t,e)}},beforeModel:o,afterModel:o,redirect:o,contextDidChange:function(){this.currentModel=this.context},model:function(t,e){var r=void 0,s=void 0,o=void 0,a=void 0,l=n.get(this,"_qp.map");for(var c in t)"queryParams"===c||l&&c in l||((r=c.match(/^(.*)_id$/))&&(s=r[1],a=t[c]),o=!0);if(!s&&o)return i.copy(t);if(!s){if(e.resolveIndex<1)return;return e.state.handlerInfos[e.resolveIndex-1].context}return this.findModel(s,a)},deserialize:function(t,e){return this.model(this.paramsFor(this.routeName),e)},findModel:function(){var t=n.get(this,"store");return t.find.apply(t,arguments)},store:n.computed(function(){var t=e.getOwner(this);this.routeName,n.get(this,"router.namespace");return{find:function(e,n){var i=t._lookupFactory("model:"+e);if(i)return i.find(n)}}}),serialize:a,setupController:function(t,e,i){t&&void 0!==e&&n.set(t,"model",e)},controllerFor:function(t,n){var i=e.getOwner(this),r=i.lookup("route:"+t);return r&&r.controllerName&&(t=r.controllerName),i.lookup("controller:"+t)},generateController:function(t){var n=e.getOwner(this);return r.default(n,t)},modelFor:function(t){var n=void 0,i=e.getOwner(this);n=i.routable&&this.router&&this.router.router.activeTransition?C(i,t):t;var r=e.getOwner(this).lookup("route:"+n),s=this.router?this.router.router.activeTransition:null;if(s){var o=r&&r.routeName||n;if(s.resolvedModels.hasOwnProperty(o))return s.resolvedModels[o]}return r&&r.currentModel},renderTemplate:function(t,e){this.render()},render:function(t,e){var i="string"==typeof t&&!!t,r=0===arguments.length||n.isEmpty(arguments[0]),s=void 0;"object"!=typeof t||e?s=t:(s=this.templateName||this.routeName,e=t);var o=u(this,i,r,s,e);this.connections.push(o),n.run.once(this.router,"_setOutlets")},disconnectOutlet:function(t){var e=void 0,i=void 0;if(t&&"string"!=typeof t){if(e=t.outlet,i=t.parentView,t&&-1!==Object.keys(t).indexOf("outlet")&&void 0===t.outlet)throw new n.Error("You passed undefined as the outlet name.")}else e=t;i=i&&i.replace(/\//g,"."),e=e||"main",this._disconnectOutlet(e,i);for(var r=0;r<this.router.router.currentHandlerInfos.length;r++)this.router.router.currentHandlerInfos[r].handler._disconnectOutlet(e,i)},_disconnectOutlet:function(t,e){var i=c(this);i&&e===i.routeName&&(e=void 0);for(var r=0;r<this.connections.length;r++){var s=this.connections[r];s.outlet===t&&s.into===e&&(this.connections[r]={owner:s.owner,into:s.into,outlet:s.outlet,name:s.name,controller:void 0,template:void 0,ViewClass:void 0},n.run.once(this.router,"_setOutlets"))}},willDestroy:function(){this.teardownViews()},teardownViews:function(){this.connections&&this.connections.length>0&&(this.connections=[],n.run.once(this.router,"_setOutlets"))}});i.deprecateUnderscoreActions(m),m.reopenClass({isRouteFactory:!0}),t.default=m}),o("ember-routing/system/router",["exports","ember-utils","ember-console","ember-metal","ember-runtime","ember-routing/system/route","ember-routing/system/dsl","ember-routing/location/api","ember-routing/utils","ember-routing/system/router_state","router"],function(t,e,n,i,r,s,o,a,l,c,g){"use strict";function u(){return this}function Q(t,e,n){for(var i=!1,r=e.length-1;r>=0;--r){var s=e[r],o=s.handler;if(t===o&&(i=!0),i&&!0!==n(o))return}}function B(t,e){var i=[],r=void 0;r=t&&"object"==typeof t&&"object"==typeof t.errorThrown?t.errorThrown:t,e&&i.push(e),r&&(r.message&&i.push(r.message),r.stack&&i.push(r.stack),"string"==typeof r&&i.push(r)),n.default.error.apply(this,i)}function I(t,n){var i=t.router,r=e.getOwner(t),s=t.routeName,o=s+"_"+n,a=t.fullRouteName,l=a+"_"+n;return F(r,i,o,l)?l:""}function d(t,n){var i=t.router,r=e.getOwner(t),s=t.routeName,o="application"===s?n:s+"."+n,a=t.fullRouteName,l="application"===a?n:a+"."+n;return F(r,i,o,l)?l:""}function F(t,e,n,i){var r=e.hasRoute(i),s=t.hasRegistration("template:"+n)||t.hasRegistration("route:"+n);return r&&s}function C(t,n,r){var s=r.shift();if(!t){if(n)return;throw new i.Error("Can't trigger action '"+s+"' because your app hasn't finished transitioning into its first route. To trigger an action on destination routes during a transition, you can call `.send()` on the `Transition` object passed to the `model/beforeModel/afterModel` hooks.")}for(var o=!1,a=void 0,l=void 0,c=t.length-1;c>=0;c--)if(a=t[c],(l=a.handler)&&l.actions&&l.actions[s]){if(!0!==l.actions[s].apply(l,r)){if("error"===s){var g=e.guidFor(r[0]);l.router._markErrorAsHandled(g)}return}o=!0}if(Z[s])return void Z[s].apply(null,r);if(!o&&!n)throw new i.Error("Nothing handled the action '"+s+"'. If you did handle the action, this error can be caused by returning true from an action handler in a controller, causing the action to bubble.")}function U(t,e,n){for(var i=t.router,r=i.applyIntent(e,n),s=r.handlerInfos,o=r.params,a=0;a<s.length;++a){var l=s[a];l.isResolved?o[l.name]=l.params:o[l.name]=l.serialize(l.context)}return r}function h(t){var n=t.router.currentHandlerInfos;if(0!==n.length){var r=V._routePath(n),s=n[n.length-1].name;i.set(t,"currentPath",r),i.set(t,"currentRouteName",s);var o=e.getOwner(t).lookup("controller:application");o&&("currentPath"in o||i.defineProperty(o,"currentPath"),i.set(o,"currentPath",r),"currentRouteName"in o||i.defineProperty(o,"currentRouteName"),i.set(o,"currentRouteName",s))}}function m(t,n){var i=c.default.create({emberRouter:n,routerJs:n.router,routerJsState:t.state});n.currentState||n.set("currentState",i),n.set("targetState",i),t.promise=t.catch(function(t){var i=e.guidFor(t);if(!n._isErrorHandled(i))throw t;n._clearHandledError(i)})}function b(t){return"string"==typeof t&&(""===t||"/"===t.charAt(0))}function p(t,e,n,i){var r=t._queryParamsFor(e);for(var s in n)if(n.hasOwnProperty(s)){var o=n[s],a=r.map[s];i(s,o,a)}}function A(t,e){if(t)for(var n=[t];n.length>0;){var i=n.shift();if(i.render.name===e)return i;var r=i.outlets;for(var s in r)n.push(r[s])}}function y(t,n,r){var s=void 0,o={render:r,outlets:new e.EmptyObject,wasUsed:!1};return s=r.into?A(t,r.into):n,s?i.set(s.outlets,r.outlet,o):r.into?f(t,r.into,o):t=o,{liveRoutes:t,ownState:o}}function f(t,n,r){t.outlets.__ember_orphans__||(t.outlets.__ember_orphans__={render:{name:"__ember_orphans__"},outlets:new e.EmptyObject}),t.outlets.__ember_orphans__.outlets[n]=r,i.run.schedule("afterRender",function(){})}function G(t,e,n){var i=A(t,n.routeName);return i||(e.outlets.main={render:{name:n.routeName,outlet:"main"},outlets:{}},e)}t.triggerEvent=C;var x=Array.prototype.slice,V=r.Object.extend(r.Evented,{location:"hash",rootURL:"/",_initRouterJs:function(){var t=this.router=new g.default;t.triggerEvent=C,t._triggerWillChangeContext=u,t._triggerWillLeave=u;var e=this.constructor.dslCallbacks||[u],r=this._buildDSL();r.route("application",{path:"/",resetNamespace:!0,overrideNameAssertion:!0},function(){for(var t=0;t<e.length;t++)e[t].call(this)}),i.get(this,"namespace.LOG_TRANSITIONS_INTERNAL")&&(t.log=n.default.debug),t.map(r.generate())},_buildDSL:function(){var t=this._hasModuleBasedResolver(),n={enableLoadingSubstates:!!t},i=e.getOwner(this),r=this;return n.resolveRouteMap=function(t){return i._lookupFactory("route-map:"+t)},n.addRouteForEngine=function(t,e){r._engineInfoByRoute[t]||(r._engineInfoByRoute[t]=e)},new o.default(null,n)},init:function(){this._super.apply(this,arguments),this._qpCache=new e.EmptyObject,this._resetQueuedQueryParameterChanges(),this._handledErrors=e.dictionary(null),this._engineInstances=new e.EmptyObject,this._engineInfoByRoute=new e.EmptyObject},_resetQueuedQueryParameterChanges:function(){this._queuedQPChanges={}},url:i.computed(function(){return i.get(this,"location").getURL()}),_hasModuleBasedResolver:function(){var t=e.getOwner(this);if(!t)return!1;var n=t.application&&t.application.__registry__&&t.application.__registry__.resolver;return!!n&&!!n.moduleBasedResolver},startRouting:function(){var t=i.get(this,"initialURL");if(this.setupRouter()){void 0===t&&(t=i.get(this,"location").getURL());var e=this.handleURL(t);if(e&&e.error)throw e.error}},setupRouter:function(){var t=this;this._initRouterJs(),this._setupLocation();var e=this.router,n=i.get(this,"location");return!i.get(n,"cancelRouterSetup")&&(this._setupRouter(e,n),n.onUpdateURL(function(e){t.handleURL(e)}),!0)},didTransition:function(t){h(this),this._cancelSlowTransitionTimer(),this.notifyPropertyChange("url"),this.set("currentState",this.targetState),i.run.once(this,this.trigger,"didTransition"),i.get(this,"namespace").LOG_TRANSITIONS&&n.default.log("Transitioned into '"+V._routePath(t)+"'")},_setOutlets:function(){if(!this.isDestroying&&!this.isDestroyed){var t=this.router.currentHandlerInfos,n=void 0,i=void 0,r=null;if(t){for(var s=0;s<t.length;s++){n=t[s].handler;for(var o=n.connections,a=void 0,l=0;l<o.length;l++){var c=y(r,i,o[l]);r=c.liveRoutes,c.ownState.render.name!==n.routeName&&"main"!==c.ownState.render.outlet||(a=c.ownState)}0===o.length&&(a=G(r,i,n)),i=a}if(r)if(this._toplevelView)this._toplevelView.setOutletState(r);else{var g=e.getOwner(this),u=g._lookupFactory("view:-outlet");this._toplevelView=u.create(),this._toplevelView.setOutletState(r);var Q=g.lookup("-application-instance:main");Q.didCreateRootView(this._toplevelView)}}}},willTransition:function(t,e,r){i.run.once(this,this.trigger,"willTransition",r),i.get(this,"namespace").LOG_TRANSITIONS&&n.default.log("Preparing to transition from '"+V._routePath(t)+"' to '"+V._routePath(e)+"'")},handleURL:function(t){return t=t.split(/#(.+)?/)[0],this._doURLTransition("handleURL",t)},_doURLTransition:function(t,e){var n=this.router[t](e||"/");return m(n,this),n},transitionTo:function(){for(var t=void 0,e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];if(b(n[0]))return this._doURLTransition("transitionTo",n[0]);var r=n[n.length-1];t=r&&r.hasOwnProperty("queryParams")?n.pop().queryParams:{};var s=n.shift();return this._doTransition(s,n,t)},intermediateTransitionTo:function(){var t;(t=this.router).intermediateTransitionTo.apply(t,arguments),h(this);var e=this.router.currentHandlerInfos;i.get(this,"namespace").LOG_TRANSITIONS&&n.default.log("Intermediate-transitioned into '"+V._routePath(e)+"'")},replaceWith:function(){return this.transitionTo.apply(this,arguments).method("replace")},generate:function(){var t,e=(t=this.router).generate.apply(t,arguments);return this.location.formatURL(e)},isActive:function(t){var e=this.router;return e.isActive.apply(e,arguments)},isActiveIntent:function(t,e,n){return this.currentState.isActiveIntent(t,e,n)},send:function(t,e){var n;(n=this.router).trigger.apply(n,arguments)},hasRoute:function(t){return this.router.hasRoute(t)},reset:function(){this.router&&this.router.reset()},willDestroy:function(){this._toplevelView&&(this._toplevelView.destroy(),this._toplevelView=null),this._super.apply(this,arguments),this.reset();var t=this._engineInstances;for(var e in t)for(var n in t[e])i.run(t[e][n],"destroy")},_activeQPChanged:function(t,e){this._queuedQPChanges[t]=e,i.run.once(this,this._fireQueryParamTransition)},_updatingQPChanged:function(t){this._qpUpdates||(this._qpUpdates={}),this._qpUpdates[t]=!0},_fireQueryParamTransition:function(){this.transitionTo({queryParams:this._queuedQPChanges}),this._resetQueuedQueryParameterChanges()},_setupLocation:function(){var t=i.get(this,"location"),n=i.get(this,"rootURL"),r=e.getOwner(this);if("string"==typeof t&&r){var s=r.lookup("location:"+t);if(void 0!==s)t=i.set(this,"location",s);else{var o={implementation:t};t=i.set(this,"location",a.default.create(o))}}null!==t&&"object"==typeof t&&(n&&i.set(t,"rootURL",n),"function"==typeof t.detect&&t.detect(),"function"==typeof t.initState&&t.initState())},_getHandlerFunction:function(){var t=this,n=new e.EmptyObject,r=e.getOwner(this);return function(e){var o=e,a=r,l=t._engineInfoByRoute[o];if(l){a=t._getEngineInstance(l),o=l.localFullName}var c="route:"+o,g=a.lookup(c);if(n[e])return g;if(n[e]=!0,!g){var u=a._lookupFactory("route:basic");a.register(c,u.extend()),g=a.lookup(c),i.get(t,"namespace.LOG_ACTIVE_GENERATION")}if(g._setRouteName(o),g._populateQPMeta(),l&&!s.hasDefaultSerialize(g))throw new Error("Defining a custom serialize method on an Engine route is not supported.");return g}},_getSerializerFunction:function(){var t=this;return function(e){var n=t._engineInfoByRoute[e];if(n)return n.serializeMethod||s.defaultSerialize}},_setupRouter:function(t,e){var n=void 0,r=this;t.getHandler=this._getHandlerFunction(),t.getSerializer=this._getSerializerFunction();var s=function(){e.setURL(n)};t.updateURL=function(t){n=t,i.run.once(s)},e.replaceURL&&function(){var r=function(){e.replaceURL(n)};t.replaceURL=function(t){n=t,i.run.once(r)}}(),t.didTransition=function(t){r.didTransition(t)},t.willTransition=function(t,e,n){r.willTransition(t,e,n)}},_serializeQueryParams:function(t,e){var n=this;p(this,t,e,function(t,i,s){if(s)delete e[t],e[s.urlKey]=s.route.serializeQueryParam(i,s.urlKey,s.type);else{if(void 0===i)return;e[t]=n._serializeQueryParam(i,r.typeOf(i))}})},_serializeQueryParam:function(t,e){return"array"===e?JSON.stringify(t):""+t},_deserializeQueryParams:function(t,e){p(this,t,e,function(t,n,i){i&&(delete e[t],e[i.prop]=i.route.deserializeQueryParam(n,i.urlKey,i.type))})},_deserializeQueryParam:function(t,e){return"boolean"===e?"true"===t:"number"===e?Number(t).valueOf():"array"===e?r.A(JSON.parse(t)):t},_pruneDefaultQueryParamValues:function(t,e){var n=this._queryParamsFor(t);for(var i in e){var r=n.map[i];r&&r.serializedDefaultValue===e[i]&&delete e[i]}},_doTransition:function(t,n,i){var r=t||l.getActiveTargetName(this.router),s={};this._processActiveTransitionQueryParams(r,n,s,i),e.assign(s,i),this._prepareQueryParams(r,n,s);var o=l.routeArgs(r,n,s),a=this.router.transitionTo.apply(this.router,o);return m(a,this),a},_processActiveTransitionQueryParams:function(t,n,i,r){if(this.router.activeTransition){var s={},o=this._qpUpdates||{};for(var a in this.router.activeTransition.queryParams)o[a]||(s[a]=this.router.activeTransition.queryParams[a]);this._fullyScopeQueryParams(t,n,r),this._fullyScopeQueryParams(t,n,s),e.assign(i,s)}},_prepareQueryParams:function(t,e,n){var i=U(this,t,e);this._hydrateUnsuppliedQueryParams(i,n),this._serializeQueryParams(i.handlerInfos,n),this._pruneDefaultQueryParamValues(i.handlerInfos,n)},_getQPMeta:function(t){var e=t.handler;return e&&i.get(e,"_qp")},_queryParamsFor:function(t){var n=t[t.length-1].name;if(this._qpCache[n])return this._qpCache[n];for(var i=!0,r={},s={},o=[],a=0;a<t.length;++a){var l=this._getQPMeta(t[a]);if(l){for(var c=0;c<l.qps.length;c++){var g=l.qps[c],u=g.urlKey;if(r[u]){r[u]}r[u]=g,o.push(g)}e.assign(s,l.map)}else i=!1}var Q={qps:o,map:s};return i&&(this._qpCache[n]=Q),Q},_fullyScopeQueryParams:function(t,e,n){for(var i=U(this,t,e),r=i.handlerInfos,s=0,o=r.length;s<o;++s){var a=this._getQPMeta(r[s]);if(a)for(var l=0,c=a.qps.length;l<c;++l){var g=a.qps[l],u=g.prop in n&&g.prop||g.scopedPropertyName in n&&g.scopedPropertyName||g.urlKey in n&&g.urlKey;u&&u!==g.scopedPropertyName&&(n[g.scopedPropertyName]=n[u],delete n[u])}}},_hydrateUnsuppliedQueryParams:function(t,e){for(var n=t.handlerInfos,i=this._bucketCache,r=0;r<n.length;++r){var s=this._getQPMeta(n[r]);if(s)for(var o=0,a=s.qps.length;o<a;++o){var c=s.qps[o],g=c.prop in e&&c.prop||c.scopedPropertyName in e&&c.scopedPropertyName||c.urlKey in e&&c.urlKey;if(g)g!==c.scopedPropertyName&&(e[c.scopedPropertyName]=e[g],delete e[g]);else{var u=l.calculateCacheKey(c.controllerName,c.parts,t.params);e[c.scopedPropertyName]=i.lookup(u,c.prop,c.defaultValue)}}}},_scheduleLoadingEvent:function(t,e){this._cancelSlowTransitionTimer(),this._slowTransitionTimer=i.run.scheduleOnce("routerTransitions",this,"_handleSlowTransition",t,e)},currentState:null,targetState:null,_handleSlowTransition:function(t,e){this.router.activeTransition&&(this.set("targetState",c.default.create({emberRouter:this,routerJs:this.router,routerJsState:this.router.activeTransition.state})),t.trigger(!0,"loading",t,e))},_cancelSlowTransitionTimer:function(){this._slowTransitionTimer&&i.run.cancel(this._slowTransitionTimer),this._slowTransitionTimer=null},_markErrorAsHandled:function(t){this._handledErrors[t]=!0},_isErrorHandled:function(t){return this._handledErrors[t]},_clearHandledError:function(t){delete this._handledErrors[t]},_getEngineInstance:function(t){var n=t.name,i=t.instanceId,r=t.mountPoint,s=this._engineInstances;s[n]||(s[n]=new e.EmptyObject);var o=s[n][i];if(!o){o=e.getOwner(this).buildChildEngineInstance(n,{routable:!0,mountPoint:r}),o.boot(),s[n][i]=o}return o}}),Z={willResolveModel:function(t,e){e.router._scheduleLoadingEvent(t,e)},error:function(t,e,n){var i=e.state.handlerInfos,r=n.router;Q(n,i,function(e){if(n!==e){var i=d(e,"error");if(i)return r.intermediateTransitionTo(i,t),!1}var s=I(e,"error");return!s||(r.intermediateTransitionTo(s,t),!1)}),B(t,"Error while processing route: "+e.targetName)},loading:function(t,e){var n=t.state.handlerInfos,i=e.router;Q(e,n,function(n){if(e!==n){var r=d(n,"loading");if(r)return i.intermediateTransitionTo(r),!1}var s=I(n,"loading");return s?(i.intermediateTransitionTo(s),!1):t.pivotHandler!==n})}};V.reopenClass({router:null,map:function(t){return this.dslCallbacks||(this.dslCallbacks=[],this.reopenClass({dslCallbacks:this.dslCallbacks})),this.dslCallbacks.push(t),this},_routePath:function(t){for(var e=[],n=void 0,i=void 0,r=void 0,s=1;s<t.length;s++){for(n=t[s].name,i=n.split("."),r=x.call(e);r.length&&!function(t,e){for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}(r,i);)r.shift();e.push.apply(e,i.slice(r.length))}return e.join(".")}}),t.default=V}),o("ember-routing/system/router_state",["exports","ember-utils","ember-metal","ember-runtime"],function(t,e,n,i){"use strict";function r(t,e){var n=void 0;for(n in t)if(t.hasOwnProperty(n)&&t[n]!==e[n])return!1;for(n in e)if(e.hasOwnProperty(n)&&t[n]!==e[n])return!1;return!0}t.default=i.Object.extend({emberRouter:null,routerJs:null,routerJsState:null,isActiveIntent:function(t,i,s,o){var a=this.routerJsState;if(!this.routerJs.isActiveIntent(t,i,null,a))return!1;var l=n.isEmpty(Object.keys(s));if(o&&!l){var c={};return e.assign(c,s),this.emberRouter._prepareQueryParams(t,i,c),r(c,a.queryParams)}return!0}})}),o("ember-routing/utils",["exports","ember-utils","ember-metal"],function(t,e,n){"use strict";function i(t,e,n){var i=[];return"string"==typeof t&&i.push(""+t),i.push.apply(i,e),i.push({queryParams:n}),i}function r(t){var e=t.activeTransition?t.activeTransition.state.handlerInfos:t.state.handlerInfos;return e[e.length-1].name}function s(t,e){if(!e._namesStashed){for(var n=e[e.length-1].name,i=t.router.recognizer.handlersFor(n),r=null,s=0;s<e.length;++s){var o=e[s],a=i[s].names;a.length&&(r=o),o._names=a;o.handler._stashNames(o,r)}e._namesStashed=!0}}function o(t,e){for(var n=t.split("."),i="",r=0;r<n.length;r++){var s=n.slice(0,r+1).join(".");if(0!==e.indexOf(s))break;i=s}return i}function a(t,e,i){for(var r=e||[],s="",a=0;a<r.length;++a){var l=r[a],c=o(t,l),g=void 0;if(i)if(c&&c in i){var u=0===l.indexOf(c)?l.substr(c.length+1):l;g=n.get(i[c],u)}else g=n.get(i,l);s+="::"+l+":"+g}return t+s.replace(Q,"-")}function l(t){if(t._qpMap)return t._qpMap;for(var e=t._qpMap={},n=0;n<t.length;++n)c(t[n],e);return e}function c(t,n){var i=t,r=void 0;"string"==typeof i&&(r={},r[i]={as:null},i=r);for(var s in i){if(!i.hasOwnProperty(s))return;var o=i[s];"string"==typeof o&&(o={as:o}),r=n[s]||{as:null,scope:"model"},e.assign(r,o),n[s]=r}}function g(t){return"string"==typeof t&&(""===t||"/"===t.charAt(0))}function u(t,i){var r=i[0],s=e.getOwner(t),o=s.mountPoint;if(s.routable&&"string"==typeof r){if(g(r))throw new n.Error("Programmatic transitions by URL cannot be used within an Engine. Please use the route name instead.");r=o+"."+r,i[0]=r}return i}t.routeArgs=i,t.getActiveTargetName=r,t.stashParamNames=s,t.calculateCacheKey=a,t.normalizeControllerQueryParams=l,t.prefixRouteNameArg=u;var Q=/\./g}),o("ember-runtime/compare",["exports","ember-runtime/utils","ember-runtime/mixins/comparable"],function(t,e,n){"use strict";function i(t,e){var n=t-e;return(n>0)-(n<0)}function r(t,o){if(t===o)return 0;var a=e.typeOf(t),l=e.typeOf(o);if(n.default){if("instance"===a&&n.default.detect(t)&&t.constructor.compare)return t.constructor.compare(t,o);if("instance"===l&&n.default.detect(o)&&o.constructor.compare)return-1*o.constructor.compare(o,t)}var c=i(s[a],s[l]);if(0!==c)return c;switch(a){case"boolean":case"number":return i(t,o);case"string":return i(t.localeCompare(o),0);case"array":for(var g=t.length,u=o.length,Q=Math.min(g,u),B=0;B<Q;B++){var I=r(t[B],o[B]);if(0!==I)return I}return i(g,u);case"instance":return n.default&&n.default.detect(t)?t.compare(t,o):0;case"date":return i(t.getTime(),o.getTime());default:return 0}}t.default=r;var s={undefined:0,null:1,boolean:2,number:3,string:4,array:5,object:6,instance:7,function:8,class:9,date:10}}),o("ember-runtime/computed/computed_macros",["exports","ember-metal"],function(t,e){"use strict";function n(t,n){function i(t){r.push(t)}for(var r=[],s=0;s<n.length;s++){var o=n[s];e.expandProperties(o,i)}return r}function i(t,i){return function(){for(var r=arguments.length,s=Array(r),o=0;o<r;o++)s[o]=arguments[o];var a=n(t,s),l=e.computed(function(){for(var t=a.length-1,n=0;n<t;n++){var r=e.get(this,a[n]);if(!i(r))return r}return e.get(this,a[t])});return l.property.apply(l,a)}}function r(t){return e.computed(t+".length",function(){return e.isEmpty(e.get(this,t))})}function s(t){return e.computed(t+".length",function(){return!e.isEmpty(e.get(this,t))})}function o(t){return e.computed(t,function(){return e.isNone(e.get(this,t))})}function a(t){return e.computed(t,function(){return!e.get(this,t)})}function l(t){return e.computed(t,function(){return!!e.get(this,t)})}function c(t,n){return e.computed(t,function(){var i=e.get(this,t);return"string"==typeof i&&n.test(i)})}function g(t,n){return e.computed(t,function(){return e.get(this,t)===n})}function u(t,n){return e.computed(t,function(){return e.get(this,t)>n})}function Q(t,n){return e.computed(t,function(){return e.get(this,t)>=n})}function B(t,n){return e.computed(t,function(){return e.get(this,t)<n})}function I(t,n){return e.computed(t,function(){return e.get(this,t)<=n})}function d(t){return e.alias(t).oneWay()}function F(t){return e.alias(t).readOnly()}function C(t,n){return e.computed(t,{get:function(n){return e.get(this,t)},set:function(n,i){return e.set(this,t,i),i}})}t.empty=r,t.notEmpty=s,t.none=o,t.not=a,t.bool=l,t.match=c,t.equal=g,t.gt=u,t.gte=Q,t.lt=B,t.lte=I,t.oneWay=d,t.readOnly=F,t.deprecatingAlias=C;var U=i("and",function(t){return t});t.and=U;var h=i("or",function(t){return!t});t.or=h}),o("ember-runtime/computed/reduce_computed_macros",["exports","ember-utils","ember-metal","ember-runtime/compare","ember-runtime/utils","ember-runtime/system/native_array"],function(t,e,n,i,r,s){"use strict";function o(t,e,i){return n.computed(t+".[]",function(){var r=this,s=n.get(this,t);return null===s||"object"!=typeof s?i:s.reduce(function(t,n,i,s){return e.call(r,t,n,i,s)},i)}).readOnly()}function a(t,e){var i=void 0;return/@each/.test(t)?i=t.replace(/\.@each.*$/,""):(i=t,t+=".[]"),n.computed(t,function(){var t=n.get(this,i);return r.isArray(t)?s.A(e.call(this,t)):s.A()}).readOnly()}function l(t,e){var i=t.map(function(t){return t+".[]"});return i.push(function(){return s.A(e.call(this,t))}),n.computed.apply(this,i).readOnly()}function c(t){return o(t,function(t,e){return t+e},0)}function g(t){return o(t,function(t,e){return Math.max(t,e)},-1/0)}function u(t){return o(t,function(t,e){return Math.min(t,e)},1/0)}function Q(t,e){return a(t,function(t){return t.map(e,this)})}function B(t,e){return Q(t+".@each."+e,function(t){return n.get(t,e)})}function I(t,e){return a(t,function(t){return t.filter(e,this)})}function d(t,e,i){var r=void 0;return r=2===arguments.length?function(t){return n.get(t,e)}:function(t){return n.get(t,e)===i},I(t+".@each."+e,r)}function F(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return l(e,function(t){var e=this,i=s.A();return t.forEach(function(t){var s=n.get(e,t);r.isArray(s)&&s.forEach(function(t){-1===i.indexOf(t)&&i.push(t)})}),i})}function C(t,i){return n.computed(t+".[]",function(){var o=s.A(),a=new e.EmptyObject,l=n.get(this,t);return r.isArray(l)&&l.forEach(function(t){var r=e.guidFor(n.get(t,i));r in a||(a[r]=!0,o.push(t))}),o}).readOnly()}function U(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return l(e,function(t){var e=this,i=t.map(function(t){var i=n.get(e,t);return r.isArray(i)?i:[]}),o=i.pop().filter(function(t){for(var e=0;e<i.length;e++){for(var n=!1,r=i[e],s=0;s<r.length;s++)if(r[s]===t){n=!0;break}if(!1===n)return!1}return!0});return s.A(o)})}function h(t,e){if(2!==arguments.length)throw new n.Error("setDiff requires exactly two dependent arrays.");return n.computed(t+".[]",e+".[]",function(){var n=this.get(t),i=this.get(e);return r.isArray(n)?r.isArray(i)?n.filter(function(t){return-1===i.indexOf(t)}):s.A(n):s.A()}).readOnly()}function m(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return l(e,function(){var t=n.getProperties(this,e),i=s.A();for(var r in t)t.hasOwnProperty(r)&&(n.isNone(t[r])?i.push(null):i.push(t[r]));return i})}function b(t,e){return"function"==typeof e?p(t,e):A(t,e)}function p(t,e){return a(t,function(t){var n=this;return t.slice().sort(function(t,i){return e.call(n,t,i)})})}function A(t,e){var i=new n.ComputedProperty(function(o){function a(){this.notifyPropertyChange(o)}var l=this,c="@this"===t,g=n.get(this,e),u=y(g),Q=i._activeObserverMap||(i._activeObserverMap=new n.WeakMap),B=Q.get(this);B&&B.forEach(function(t){return n.removeObserver.apply(null,t)}),B=u.map(function(e){var i=e[0],r=c?"@each."+i:t+".@each."+i,s=[l,r,a];return n.addObserver.apply(null,s),s}),Q.set(this,B);var I=c?this:n.get(this,t);return r.isArray(I)?f(I,u):s.A()});return i._activeObserverMap=void 0,i.property(e+".[]").readOnly()}function y(t){return t.map(function(t){var e=t.split(":"),n=e[0],i=e[1];return i=i||"asc",[n,i]})}function f(t,e){return s.A(t.slice().sort(function(t,r){for(var s=0;s<e.length;s++){var o=e[s],a=o[0],l=o[1],c=i.default(n.get(t,a),n.get(r,a));if(0!==c)return"desc"===l?-1*c:c}return 0}))}t.sum=c,t.max=g,t.min=u,t.map=Q,t.mapBy=B,t.filter=I,t.filterBy=d,t.uniq=F,t.uniqBy=C,t.intersect=U,t.setDiff=h,t.collect=m,t.sort=b;var G=F;t.union=G}),o("ember-runtime/controllers/controller",["exports","ember-metal","ember-runtime/system/object","ember-runtime/mixins/controller","ember-runtime/inject","ember-runtime/mixins/action_handler"],function(t,e,n,i,r,s){"use strict";function o(t){}var a=n.default.extend(i.default);s.deprecateUnderscoreActions(a),r.createInjectionHelper("controller",o),t.default=a}),o("ember-runtime/copy",["exports","ember-metal","ember-runtime/system/object","ember-runtime/mixins/copyable"],function(t,e,n,i){"use strict";function r(t,e,n,s){var o=void 0,a=void 0,l=void 0;if("object"!=typeof t||null===t)return t;if(e&&(a=n.indexOf(t))>=0)return s[a];if(Array.isArray(t)){if(o=t.slice(),e)for(a=o.length;--a>=0;)o[a]=r(o[a],e,n,s)}else if(i.default&&i.default.detect(t))o=t.copy(e,n,s);else if(t instanceof Date)o=new Date(t.getTime());else{o={};for(l in t)Object.prototype.hasOwnProperty.call(t,l)&&"__"!==l.substring(0,2)&&(o[l]=e?r(t[l],e,n,s):t[l])}return e&&(n.push(t),s.push(o)),o}function s(t,e){return"object"!=typeof t||null===t?t:i.default&&i.default.detect(t)?t.copy(e):r(t,e,e?[]:null,e?[]:null)}t.default=s}),o("ember-runtime/ext/function",["exports","ember-environment","ember-metal"],function(t,e,n){"use strict";var i=Array.prototype.slice,r=Function.prototype;e.ENV.EXTEND_PROTOTYPES.Function&&(r.property=function(){var t=n.computed(this);return t.property.apply(t,arguments)},r.observes=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.push(this),n.observer.apply(this,e)},r._observesImmediately=function(){return this.observes.apply(this,arguments)},r.observesImmediately=n.deprecateFunc("Function#observesImmediately is deprecated. Use Function#observes instead",{id:"ember-runtime.ext-function",until:"3.0.0"},r._observesImmediately),r.on=function(){var t=i.call(arguments);return this.__ember_listens__=t,this})}),o("ember-runtime/ext/rsvp",["exports","rsvp","ember-metal"],function(t,e,n){"use strict";function i(t){var e=r(t);e&&n.dispatchError(e)}function r(t){if(t){if(t.errorThrown)return s(t);if("UnrecognizedURLError"!==t.name&&"TransitionAborted"!==t.name)return t}}function s(t){var e=t.errorThrown;return"string"==typeof e&&(e=new Error(e)),Object.defineProperty(e,"__reason_with_error_thrown__",{value:t,enumerable:!1}),e}t.onerrorDefault=i;var o=n.run.backburner;n.run._addQueue("rsvpAfter","destroy"),e.configure("async",function(t,e){o.schedule("actions",null,t,e)}),e.configure("after",function(t){o.schedule("rsvpAfter",null,t)}),e.on("error",i),t.default=e}),o("ember-runtime/ext/string",["exports","ember-environment","ember-runtime/system/string"],function(t,e,n){"use strict";var i=String.prototype;e.ENV.EXTEND_PROTOTYPES.String&&(i.fmt=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return n.fmt(this,e)},i.w=function(){return n.w(this)},i.loc=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return n.loc(this,e)},i.camelize=function(){return n.camelize(this)},i.decamelize=function(){return n.decamelize(this)},i.dasherize=function(){return n.dasherize(this)},i.underscore=function(){return n.underscore(this)},i.classify=function(){return n.classify(this)},i.capitalize=function(){
return n.capitalize(this)})}),o("ember-runtime/index",["exports","ember-runtime/ext/string","ember-runtime/ext/function","ember-runtime/system/object","ember-runtime/system/string","ember-runtime/mixins/registry_proxy","ember-runtime/mixins/container_proxy","ember-runtime/copy","ember-runtime/inject","ember-runtime/compare","ember-runtime/is-equal","ember-runtime/mixins/array","ember-runtime/mixins/comparable","ember-runtime/system/namespace","ember-runtime/system/array_proxy","ember-runtime/system/object_proxy","ember-runtime/system/core_object","ember-runtime/system/native_array","ember-runtime/mixins/action_handler","ember-runtime/mixins/copyable","ember-runtime/mixins/enumerable","ember-runtime/mixins/freezable","ember-runtime/mixins/-proxy","ember-runtime/system/lazy_load","ember-runtime/mixins/observable","ember-runtime/mixins/mutable_enumerable","ember-runtime/mixins/mutable_array","ember-runtime/mixins/target_action_support","ember-runtime/mixins/evented","ember-runtime/mixins/promise_proxy","ember-runtime/computed/computed_macros","ember-runtime/computed/reduce_computed_macros","ember-runtime/controllers/controller","ember-runtime/mixins/controller","ember-runtime/system/service","ember-runtime/ext/rsvp","ember-runtime/utils","ember-runtime/string_registry"],function(t,e,n,i,r,s,o,a,l,c,g,u,Q,B,I,d,F,C,U,h,m,b,p,A,y,f,G,x,V,Z,R,X,L,E,v,S,W,N){"use strict";t.Object=i.default,t.FrameworkObject=i.FrameworkObject,t.String=r.default,t.RegistryProxyMixin=s.default,t.buildFakeRegistryWithDeprecations=s.buildFakeRegistryWithDeprecations,t.ContainerProxyMixin=o.default,t.copy=a.default,t.inject=l.default,t.compare=c.default,t.isEqual=g.default,t.Array=u.default,t.objectAt=u.objectAt,t.isEmberArray=u.isEmberArray,t.addArrayObserver=u.addArrayObserver,t.removeArrayObserver=u.removeArrayObserver,t.Comparable=Q.default,t.Namespace=B.default,t.isNamespaceSearchDisabled=B.isSearchDisabled,t.setNamespaceSearchDisabled=B.setSearchDisabled,t.ArrayProxy=I.default,t.ObjectProxy=d.default,t.CoreObject=F.default,t.NativeArray=C.default,t.A=C.A,t.ActionHandler=U.default,t.deprecateUnderscoreActions=U.deprecateUnderscoreActions,t.Copyable=h.default,t.Enumerable=m.default,t.Freezable=b.Freezable,t.FROZEN_ERROR=b.FROZEN_ERROR,t._ProxyMixin=p.default,t.onLoad=A.onLoad,t.runLoadHooks=A.runLoadHooks,t._loaded=A._loaded,t.Observable=y.default,t.MutableEnumerable=f.default,t.MutableArray=G.default,t.removeAt=G.removeAt,t.TargetActionSupport=x.default,t.Evented=V.default,t.PromiseProxyMixin=Z.default,t.empty=R.empty,t.notEmpty=R.notEmpty,t.none=R.none,t.not=R.not,t.bool=R.bool,t.match=R.match,t.equal=R.equal,t.gt=R.gt,t.gte=R.gte,t.lt=R.lt,t.lte=R.lte,t.oneWay=R.oneWay,t.readOnly=R.readOnly,t.deprecatingAlias=R.deprecatingAlias,t.and=R.and,t.or=R.or,t.sum=X.sum,t.min=X.min,t.max=X.max,t.map=X.map,t.sort=X.sort,t.setDiff=X.setDiff,t.mapBy=X.mapBy,t.filter=X.filter,t.filterBy=X.filterBy,t.uniq=X.uniq,t.uniqBy=X.uniqBy,t.union=X.union,t.intersect=X.intersect,t.collect=X.collect,t.Controller=L.default,t.ControllerMixin=E.default,t.Service=v.default,t.RSVP=S.default,t.onerrorDefault=S.onerrorDefault,t.isArray=W.isArray,t.typeOf=W.typeOf,t.getStrings=N.getStrings,t.setStrings=N.setStrings}),o("ember-runtime/inject",["exports","ember-metal"],function(t,e){"use strict";function n(){}function i(t,i){s[t]=i,n[t]=function(n){return new e.InjectedProperty(t,n)}}function r(t){var n=t.proto(),i=[];for(var r in n){var o=n[r];o instanceof e.InjectedProperty&&-1===i.indexOf(o.type)&&i.push(o.type)}if(i.length)for(var a=0;a<i.length;a++){var l=s[i[a]];"function"==typeof l&&l(t)}return!0}t.default=n,t.createInjectionHelper=i,t.validatePropertyInjections=r;var s={}}),o("ember-runtime/is-equal",["exports"],function(t){"use strict";function e(t,e){return t&&"function"==typeof t.isEqual?t.isEqual(e):t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():t===e}t.default=e}),o("ember-runtime/mixins/-proxy",["exports","glimmer-reference","ember-metal","ember-runtime/computed/computed_macros"],function(t,e,n,i){"use strict";function r(t,e){var i=e.slice(8);i in this||n.propertyWillChange(this,i)}function s(t,e){var i=e.slice(8);i in this||n.propertyDidChange(this,i)}var o=function(t){function i(i){t.call(this);var r=n.get(i,"content");this.proxy=i,this.proxyWrapperTag=new e.DirtyableTag,this.proxyContentTag=new e.UpdatableTag(n.tagFor(r))}return g.inherits(i,t),i.prototype.compute=function(){return Math.max(this.proxyWrapperTag.value(),this.proxyContentTag.value())},i.prototype.dirty=function(){this.proxyWrapperTag.dirty()},i.prototype.contentDidChange=function(){var t=n.get(this.proxy,"content");this.proxyContentTag.update(n.tagFor(t))},i}(e.CachedTag);t.default=n.Mixin.create({content:null,init:function(){this._super.apply(this,arguments),n.meta(this).setProxy()},_initializeTag:n.on("init",function(){n.meta(this)._tag=new o(this)}),_contentDidChange:n.observer("content",function(){n.tagFor(this).contentDidChange()}),isTruthy:i.bool("content"),_debugContainerKey:null,willWatchProperty:function(t){var e="content."+t;n._addBeforeObserver(this,e,null,r),n.addObserver(this,e,null,s)},didUnwatchProperty:function(t){var e="content."+t;n._removeBeforeObserver(this,e,null,r),n.removeObserver(this,e,null,s)},unknownProperty:function(t){var e=n.get(this,"content");if(e)return n.get(e,t)},setUnknownProperty:function(t,e){if(n.meta(this).proto===this)return n.defineProperty(this,t,null,e),e;var i=n.get(this,"content");return n.set(i,t,e)}})}),o("ember-runtime/mixins/action_handler",["exports","ember-metal"],function(t,e){"use strict";function n(t){Object.defineProperty(t.prototype,"_actions",{configurable:!0,enumerable:!1,set:function(t){},get:function(){return e.get(this,"actions")}})}t.deprecateUnderscoreActions=n;var i=e.Mixin.create({mergedProperties:["actions"],send:function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var s=void 0;if(this.actions&&this.actions[t]){if(!(!0===this.actions[t].apply(this,i)))return}if(s=e.get(this,"target")){var o;(o=s).send.apply(o,arguments)}},willMergeMixin:function(t){t._actions&&(t.actions=t._actions,delete t._actions)}});t.default=i}),o("ember-runtime/mixins/array",["exports","ember-utils","ember-metal","ember-runtime/mixins/enumerable","ember-runtime/system/each_proxy"],function(t,e,n,i,r){"use strict";function s(t,e,i,r,s){var o=i&&i.willChange||"arrayWillChange",a=i&&i.didChange||"arrayDidChange",l=n.get(t,"hasArrayObservers");return l===s&&n.propertyWillChange(t,"hasArrayObservers"),r(t,"@array:before",e,o),r(t,"@array:change",e,a),l===s&&n.propertyDidChange(t,"hasArrayObservers"),t}function o(t,e,i){return s(t,e,i,n.addListener,!1)}function a(t,e,i){return s(t,e,i,n.removeListener,!0)}function l(t,e){return t.objectAt?t.objectAt(e):t[e]}function c(t,e,i,r){var s=void 0,o=void 0;if(void 0===e?(e=0,i=r=-1):(void 0===i&&(i=-1),void 0===r&&(r=-1)),t.__each&&t.__each.arrayWillChange(t,e,i,r),n.sendEvent(t,"@array:before",[t,e,i,r]),e>=0&&i>=0&&n.get(t,"hasEnumerableObservers")){s=[],o=e+i;for(var a=e;a<o;a++)s.push(l(t,a))}else s=i;return t.enumerableContentWillChange(s,r),t}function g(t,e,i,r){void 0===e?(e=0,i=r=-1):(void 0===i&&(i=-1),void 0===r&&(r=-1));var s=void 0;if(e>=0&&r>=0&&n.get(t,"hasEnumerableObservers")){s=[];for(var o=e+r,a=e;a<o;a++)s.push(l(t,a))}else s=r;t.enumerableContentDidChange(i,s),t.__each&&t.__each.arrayDidChange(t,e,i,r),n.sendEvent(t,"@array:change",[t,e,i,r]);var c=n.peekMeta(t),g=c&&c.readableCache();return g&&(void 0!==g.firstObject&&l(t,0)!==n.cacheFor.get(g,"firstObject")&&(n.propertyWillChange(t,"firstObject"),n.propertyDidChange(t,"firstObject")),void 0!==g.lastObject&&l(t,n.get(t,"length")-1)!==n.cacheFor.get(g,"lastObject")&&(n.propertyWillChange(t,"lastObject"),n.propertyDidChange(t,"lastObject"))),t}function u(t){return t&&!!t[B]}var Q;t.addArrayObserver=o,t.removeArrayObserver=a,t.objectAt=l,t.arrayContentWillChange=c,t.arrayContentDidChange=g,t.isEmberArray=u;var B=e.symbol("EMBER_ARRAY"),I=n.Mixin.create(i.default,(Q={},Q[B]=!0,Q.length=null,Q.objectAt=function(t){if(!(t<0||t>=n.get(this,"length")))return n.get(this,t)},Q.objectsAt=function(t){var e=this;return t.map(function(t){return l(e,t)})},Q.nextObject=function(t){return l(this,t)},Q["[]"]=n.computed({get:function(t){return this},set:function(t,e){return this.replace(0,n.get(this,"length"),e),this}}),Q.firstObject=n.computed(function(){return l(this,0)}).readOnly(),Q.lastObject=n.computed(function(){return l(this,n.get(this,"length")-1)}).readOnly(),Q.contains=function(t){return this.indexOf(t)>=0},Q.slice=function(t,e){var i=n.default.A(),r=n.get(this,"length");for(n.isNone(t)&&(t=0),(n.isNone(e)||e>r)&&(e=r),t<0&&(t=r+t),e<0&&(e=r+e);t<e;)i[i.length]=l(this,t++);return i},Q.indexOf=function(t,e){var i=n.get(this,"length");void 0===e&&(e=0),e<0&&(e+=i);for(var r=e;r<i;r++)if(l(this,r)===t)return r;return-1},Q.lastIndexOf=function(t,e){var i=n.get(this,"length");(void 0===e||e>=i)&&(e=i-1),e<0&&(e+=i);for(var r=e;r>=0;r--)if(l(this,r)===t)return r;return-1},Q.addArrayObserver=function(t,e){return o(this,t,e)},Q.removeArrayObserver=function(t,e){return a(this,t,e)},Q.hasArrayObservers=n.computed(function(){return n.hasListeners(this,"@array:change")||n.hasListeners(this,"@array:before")}),Q.arrayContentWillChange=function(t,e,n){return c(this,t,e,n)},Q.arrayContentDidChange=function(t,e,n){return g(this,t,e,n)},Q["@each"]=n.computed(function(){return this.__each||(this.__each=new r.default(this)),this.__each}).volatile().readOnly(),Q));I.reopen({includes:function(t,e){var i=n.get(this,"length");void 0===e&&(e=0),e<0&&(e+=i);for(var r=e;r<i;r++){var s=l(this,r);if(t===s||t!==t&&s!==s)return!0}return!1}}),t.default=I}),o("ember-runtime/mixins/comparable",["exports","ember-metal"],function(t,e){"use strict";t.default=e.Mixin.create({compare:null})}),o("ember-runtime/mixins/container_proxy",["exports","ember-metal"],function(t,e){"use strict";t.default=e.Mixin.create({__container__:null,ownerInjection:function(){return this.__container__.ownerInjection()},lookup:function(t,e){return this.__container__.lookup(t,e)},_lookupFactory:function(t,e){return this.__container__.lookupFactory(t,e)},_resolveLocalLookupName:function(t,e){return this.__container__.registry.expandLocalLookup("component:"+t,{source:e})},willDestroy:function(){this._super.apply(this,arguments),this.__container__&&e.run(this.__container__,"destroy")}})}),o("ember-runtime/mixins/controller",["exports","ember-metal","ember-runtime/mixins/action_handler","ember-runtime/mixins/controller_content_model_alias_deprecation"],function(t,e,n,i){"use strict";t.default=e.Mixin.create(n.default,i.default,{isController:!0,target:null,store:null,model:null,content:e.alias("model")})}),o("ember-runtime/mixins/controller_content_model_alias_deprecation",["exports","ember-metal"],function(t,e){"use strict";t.default=e.Mixin.create({willMergeMixin:function(t){this._super.apply(this,arguments);var e=!!t.model;t.content&&!e&&(t.model=t.content,delete t.content)}})}),o("ember-runtime/mixins/copyable",["exports","ember-metal","ember-runtime/mixins/freezable"],function(t,e,n){"use strict";t.default=e.Mixin.create({copy:null,frozenCopy:function(){if(n.Freezable&&n.Freezable.detect(this))return e.get(this,"isFrozen")?this:this.copy().freeze();throw new e.Error(this+" does not support freezing")}})}),o("ember-runtime/mixins/enumerable",["exports","ember-utils","ember-metal","ember-runtime/compare","require"],function(t,e,n,i,r){"use strict";function s(){return(c||(c=r.default("ember-runtime/system/native_array").A))()}function o(){return 0===g.length?{}:g.pop()}function a(t){return g.push(t),null}function l(t,e){function i(i){var s=n.get(i,t);return r?e===s:!!s}var r=2===arguments.length;return i}var c=void 0,g=[],u=n.Mixin.create({nextObject:null,firstObject:n.computed("[]",function(){if(0!==n.get(this,"length")){var t=o(),e=this.nextObject(0,null,t);return a(t),e}}).readOnly(),lastObject:n.computed("[]",function(){if(0!==n.get(this,"length")){var t=o(),e=0,i=null,r=void 0;do{i=r,r=this.nextObject(e++,i,t)}while(void 0!==r);return a(t),i}}).readOnly(),contains:function(t){return void 0!==this.find(function(e){return e===t})},forEach:function(t,e){if("function"!=typeof t)throw new TypeError;var i=o(),r=n.get(this,"length"),s=null;void 0===e&&(e=null);for(var l=0;l<r;l++){var c=this.nextObject(l,s,i);t.call(e,c,l,this),s=c}return s=null,i=a(i),this},getEach:n.aliasMethod("mapBy"),setEach:function(t,e){return this.forEach(function(i){return n.set(i,t,e)})},map:function(t,e){var n=s();return this.forEach(function(i,r,s){return n[r]=t.call(e,i,r,s)}),n},mapBy:function(t){return this.map(function(e){return n.get(e,t)})},filter:function(t,e){var n=s();return this.forEach(function(i,r,s){t.call(e,i,r,s)&&n.push(i)}),n},reject:function(t,e){return this.filter(function(){return!t.apply(e,arguments)})},filterBy:function(t,e){return this.filter(l.apply(this,arguments))},rejectBy:function(t,e){var i=function(i){return n.get(i,t)===e},r=function(e){return!!n.get(e,t)},s=2===arguments.length?i:r;return this.reject(s)},find:function(t,e){var i=n.get(this,"length");void 0===e&&(e=null);for(var r=o(),s=!1,l=null,c=void 0,g=void 0,u=0;u<i&&!s;u++)c=this.nextObject(u,l,r),(s=t.call(e,c,u,this))&&(g=c),l=c;return c=l=null,r=a(r),g},findBy:function(t,e){return this.find(l.apply(this,arguments))},every:function(t,e){return!this.find(function(n,i,r){return!t.call(e,n,i,r)})},isEvery:function(t,e){return this.every(l.apply(this,arguments))},any:function(t,e){var i=n.get(this,"length"),r=o(),s=!1,l=null,c=void 0;void 0===e&&(e=null);for(var g=0;g<i&&!s;g++)c=this.nextObject(g,l,r),s=t.call(e,c,g,this),l=c;return c=l=null,r=a(r),s},isAny:function(t,e){return this.any(l.apply(this,arguments))},reduce:function(t,e,n){if("function"!=typeof t)throw new TypeError;var i=e;return this.forEach(function(e,r){i=t(i,e,r,this,n)},this),i},invoke:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var r=s();return this.forEach(function(e,i){var s=e&&e[t];"function"==typeof s&&(r[i]=n?s.apply(e,n):e[t]())},this),r},toArray:function(){var t=s();return this.forEach(function(e,n){return t[n]=e}),t},compact:function(){return this.filter(function(t){return null!=t})},without:function(t){if(!this.contains(t))return this;var e=s();return this.forEach(function(n){n!==t&&(e[e.length]=n)}),e},uniq:function(){var t=s();return this.forEach(function(e){t.indexOf(e)<0&&t.push(e)}),t},"[]":n.computed({get:function(t){return this}}),addEnumerableObserver:function(t,e){var i=e&&e.willChange||"enumerableWillChange",r=e&&e.didChange||"enumerableDidChange",s=n.get(this,"hasEnumerableObservers");return s||n.propertyWillChange(this,"hasEnumerableObservers"),n.addListener(this,"@enumerable:before",t,i),n.addListener(this,"@enumerable:change",t,r),s||n.propertyDidChange(this,"hasEnumerableObservers"),this},removeEnumerableObserver:function(t,e){var i=e&&e.willChange||"enumerableWillChange",r=e&&e.didChange||"enumerableDidChange",s=n.get(this,"hasEnumerableObservers");return s&&n.propertyWillChange(this,"hasEnumerableObservers"),n.removeListener(this,"@enumerable:before",t,i),n.removeListener(this,"@enumerable:change",t,r),s&&n.propertyDidChange(this,"hasEnumerableObservers"),this},hasEnumerableObservers:n.computed(function(){return n.hasListeners(this,"@enumerable:change")||n.hasListeners(this,"@enumerable:before")}),enumerableContentWillChange:function(t,e){var i=void 0,r=void 0,s=void 0;return i="number"==typeof t?t:t?n.get(t,"length"):t=-1,r="number"==typeof e?e:e?n.get(e,"length"):e=-1,s=r<0||i<0||r-i!=0,-1===t&&(t=null),-1===e&&(e=null),n.propertyWillChange(this,"[]"),s&&n.propertyWillChange(this,"length"),n.sendEvent(this,"@enumerable:before",[this,t,e]),this},enumerableContentDidChange:function(t,e){var i=void 0,r=void 0,s=void 0;return i="number"==typeof t?t:t?n.get(t,"length"):t=-1,r="number"==typeof e?e:e?n.get(e,"length"):e=-1,s=r<0||i<0||r-i!=0,-1===t&&(t=null),-1===e&&(e=null),n.sendEvent(this,"@enumerable:change",[this,t,e]),s&&n.propertyDidChange(this,"length"),n.propertyDidChange(this,"[]"),this},sortBy:function(){var t=arguments;return this.toArray().sort(function(e,r){for(var s=0;s<t.length;s++){var o=t[s],a=n.get(e,o),l=n.get(r,o),c=i.default(a,l);if(c)return c}return 0})}});u.reopen({uniqBy:function(t){var i=s(),r=new e.EmptyObject;return this.forEach(function(s){var o=e.guidFor(n.get(s,t));o in r||(r[o]=!0,i.push(s))}),i}}),u.reopen({includes:function(t){var e=n.get(this,"length"),i=void 0,r=void 0,s=null,l=!1,c=o();for(i=0;i<e&&!l;i++)r=this.nextObject(i,s,c),l=t===r||t!==t&&r!==r,s=r;return r=s=null,c=a(c),l},without:function(t){if(!this.includes(t))return this;var e=s();return this.forEach(function(n){n===t||n!==n&&t!==t||(e[e.length]=n)}),e}}),t.default=u}),o("ember-runtime/mixins/evented",["exports","ember-metal"],function(t,e){"use strict";t.default=e.Mixin.create({on:function(t,n,i){return e.addListener(this,t,n,i),this},one:function(t,n,i){return i||(i=n,n=null),e.addListener(this,t,n,i,!0),this},trigger:function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.sendEvent(this,t,i)},off:function(t,n,i){return e.removeListener(this,t,n,i),this},has:function(t){return e.hasListeners(this,t)}})}),o("ember-runtime/mixins/freezable",["exports","ember-metal"],function(t,e){"use strict";var n=e.Mixin.create({init:function(){this._super.apply(this,arguments)},isFrozen:!1,freeze:function(){return e.get(this,"isFrozen")?this:(e.set(this,"isFrozen",!0),this)}});t.Freezable=n;t.FROZEN_ERROR="Frozen object cannot be modified."}),o("ember-runtime/mixins/mutable_array",["exports","ember-metal","ember-runtime/mixins/array","ember-runtime/mixins/mutable_enumerable","ember-runtime/mixins/enumerable"],function(t,e,n,i,r){"use strict";function s(t,n,i){if("number"==typeof n){if(n<0||n>=e.get(t,"length"))throw new e.Error(o);void 0===i&&(i=1),t.replace(n,i,a)}return t}t.removeAt=s;var o="Index out of range",a=[];t.default=e.Mixin.create(n.default,i.default,{replace:null,clear:function(){var t=e.get(this,"length");return 0===t?this:(this.replace(0,t,a),this)},insertAt:function(t,n){if(t>e.get(this,"length"))throw new e.Error(o);return this.replace(t,0,[n]),this},removeAt:function(t,e){return s(this,t,e)},pushObject:function(t){return this.insertAt(e.get(this,"length"),t),t},pushObjects:function(t){if(!r.default.detect(t)&&!Array.isArray(t))throw new TypeError("Must pass Ember.Enumerable to Ember.MutableArray#pushObjects");return this.replace(e.get(this,"length"),0,t),this},popObject:function(){var t=e.get(this,"length");if(0===t)return null;var i=n.objectAt(this,t-1);return this.removeAt(t-1,1),i},shiftObject:function(){if(0===e.get(this,"length"))return null;var t=n.objectAt(this,0);return this.removeAt(0),t},unshiftObject:function(t){return this.insertAt(0,t),t},unshiftObjects:function(t){return this.replace(0,0,t),this},reverseObjects:function(){var t=e.get(this,"length");if(0===t)return this;var n=this.toArray().reverse();return this.replace(0,t,n),this},setObjects:function(t){if(0===t.length)return this.clear();var n=e.get(this,"length");return this.replace(0,n,t),this},removeObject:function(t){for(var i=e.get(this,"length")||0;--i>=0;){n.objectAt(this,i)===t&&this.removeAt(i)}return this},addObject:function(t){var e=void 0;return e=this.includes(t),e||this.pushObject(t),this}})}),o("ember-runtime/mixins/mutable_enumerable",["exports","ember-runtime/mixins/enumerable","ember-metal"],function(t,e,n){"use strict";t.default=n.Mixin.create(e.default,{addObject:null,addObjects:function(t){var e=this;return n.beginPropertyChanges(this),t.forEach(function(t){return e.addObject(t)}),n.endPropertyChanges(this),this},removeObject:null,removeObjects:function(t){n.beginPropertyChanges(this);for(var e=t.length-1;e>=0;e--)this.removeObject(t[e]);return n.endPropertyChanges(this),this}})}),o("ember-runtime/mixins/observable",["exports","ember-metal"],function(t,e){"use strict";t.default=e.Mixin.create({get:function(t){return e.get(this,t)},getProperties:function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.getProperties.apply(null,[this].concat(n))},set:function(t,n){return e.set(this,t,n)},setProperties:function(t){return e.setProperties(this,t)},beginPropertyChanges:function(){return e.beginPropertyChanges(),this},endPropertyChanges:function(){return e.endPropertyChanges(),this},propertyWillChange:function(t){return e.propertyWillChange(this,t),this},propertyDidChange:function(t){return e.propertyDidChange(this,t),this},notifyPropertyChange:function(t){return this.propertyWillChange(t),this.propertyDidChange(t),this},addObserver:function(t,n,i){e.addObserver(this,t,n,i)},removeObserver:function(t,n,i){e.removeObserver(this,t,n,i)},hasObserverFor:function(t){return e.hasListeners(this,t+":change")},getWithDefault:function(t,n){return e.getWithDefault(this,t,n)},incrementProperty:function(t,n){return e.isNone(n)&&(n=1),e.set(this,t,(parseFloat(e.get(this,t))||0)+n)},decrementProperty:function(t,n){return e.isNone(n)&&(n=1),e.set(this,t,(e.get(this,t)||0)-n)},toggleProperty:function(t){return e.set(this,t,!e.get(this,t))},cacheFor:function(t){return e.cacheFor(this,t)},observersForKey:function(t){return e.observersFor(this,t)}})}),o("ember-runtime/mixins/promise_proxy",["exports","ember-metal","ember-runtime/computed/computed_macros"],function(t,e,n){"use strict";function i(t,n){return e.setProperties(t,{isFulfilled:!1,isRejected:!1}),n.then(function(n){return t.isDestroyed||t.isDestroying||e.setProperties(t,{content:n,isFulfilled:!0}),n},function(n){throw t.isDestroyed||t.isDestroying||e.setProperties(t,{reason:n,isRejected:!0}),n},"Ember: PromiseProxy")}function r(t){return function(){var n=e.get(this,"promise");return n[t].apply(n,arguments)}}t.default=e.Mixin.create({reason:null,isPending:n.not("isSettled").readOnly(),isSettled:n.or("isRejected","isFulfilled").readOnly(),isRejected:!1,isFulfilled:!1,promise:e.computed({get:function(){throw new e.Error("PromiseProxy's promise must be set")},set:function(t,e){return i(this,e)}}),then:r("then"),catch:r("catch"),finally:r("finally")})}),o("ember-runtime/mixins/registry_proxy",["exports","ember-metal"],function(t,e){"use strict";function n(t){return function(){var e;return(e=this.__registry__)[t].apply(e,arguments)}}function i(t,e){var n={},i={resolve:"resolveRegistration",register:"register",unregister:"unregister",has:"hasRegistration",option:"registerOption",options:"registerOptions",getOptions:"registeredOptions",optionsForType:"registerOptionsForType",getOptionsForType:"registeredOptionsForType",injection:"inject"};for(var s in i)n[s]=r(t,e,s,i[s]);return n}function r(t,e,n,i){return function(){return t[i].apply(t,arguments)}}t.buildFakeRegistryWithDeprecations=i,t.default=e.Mixin.create({__registry__:null,resolveRegistration:n("resolve"),register:n("register"),unregister:n("unregister"),hasRegistration:n("has"),registerOption:n("option"),registeredOption:n("getOption"),registerOptions:n("options"),registeredOptions:n("getOptions"),registerOptionsForType:n("optionsForType"),registeredOptionsForType:n("getOptionsForType"),inject:n("injection")})}),o("ember-runtime/mixins/target_action_support",["exports","ember-environment","ember-metal"],function(t,e,n){"use strict";function i(t){var i=n.get(t,"targetObject");if(i)return i;if(t._targetObject)return t._targetObject;if(i=n.get(t,"target")){if("string"==typeof i){var r=n.get(t,i);return void 0===r&&(r=n.get(e.context.lookup,i)),r}return i}return null}t.default=n.Mixin.create({target:null,action:null,actionContext:null,actionContextObject:n.computed("actionContext",function(){var t=n.get(this,"actionContext");if("string"==typeof t){var i=n.get(this,t);return void 0===i&&(i=n.get(e.context.lookup,t)),i}return t}),triggerAction:function(){function t(t,e){var n=[];return e&&n.push(e),n.concat(t)}var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=e.action||n.get(this,"action"),s=e.target;s||(s=i(this));var o=e.actionContext;if(void 0===o&&(o=n.get(this,"actionContextObject")||this),s&&r){var a=void 0;return a=s.send?s.send.apply(s,t(o,r)):s[r].apply(s,t(o)),!1!==a&&(a=!0),a}return!1}})}),o("ember-runtime/string_registry",["exports"],function(t){"use strict";function e(t){r=t}function n(){return r}function i(t){return r[t]}t.setStrings=e,t.getStrings=n,t.get=i;var r={}}),o("ember-runtime/system/application",["exports","ember-runtime/system/namespace"],function(t,e){"use strict";t.default=e.default.extend()}),o("ember-runtime/system/array_proxy",["exports","ember-metal","ember-runtime/utils","ember-runtime/system/object","ember-runtime/mixins/mutable_array","ember-runtime/mixins/enumerable","ember-runtime/mixins/array"],function(t,e,n,i,r,s,o){"use strict";function a(){return this}var l=[];t.default=i.default.extend(r.default,{content:null,arrangedContent:e.alias("content"),objectAtContent:function(t){return o.objectAt(e.get(this,"arrangedContent"),t)},replaceContent:function(t,n,i){e.get(this,"content").replace(t,n,i)},_contentWillChange:e._beforeObserver("content",function(){this._teardownContent()}),_teardownContent:function(){var t=e.get(this,"content");t&&o.removeArrayObserver(t,this,{willChange:"contentArrayWillChange",didChange:"contentArrayDidChange"})},contentArrayWillChange:a,contentArrayDidChange:a,_contentDidChange:e.observer("content",function(){e.get(this,"content");this._setupContent()}),_setupContent:function(){var t=e.get(this,"content");t&&o.addArrayObserver(t,this,{willChange:"contentArrayWillChange",didChange:"contentArrayDidChange"})},_arrangedContentWillChange:e._beforeObserver("arrangedContent",function(){var t=e.get(this,"arrangedContent"),n=t?e.get(t,"length"):0;this.arrangedContentArrayWillChange(this,0,n,void 0),this.arrangedContentWillChange(this),this._teardownArrangedContent(t)}),_arrangedContentDidChange:e.observer("arrangedContent",function(){var t=e.get(this,"arrangedContent"),n=t?e.get(t,"length"):0;this._setupArrangedContent(),this.arrangedContentDidChange(this),this.arrangedContentArrayDidChange(this,0,void 0,n)}),_setupArrangedContent:function(){var t=e.get(this,"arrangedContent");t&&o.addArrayObserver(t,this,{willChange:"arrangedContentArrayWillChange",didChange:"arrangedContentArrayDidChange"})},_teardownArrangedContent:function(){var t=e.get(this,"arrangedContent");t&&o.removeArrayObserver(t,this,{willChange:"arrangedContentArrayWillChange",didChange:"arrangedContentArrayDidChange"})},arrangedContentWillChange:a,arrangedContentDidChange:a,objectAt:function(t){return e.get(this,"content")&&this.objectAtContent(t)},length:e.computed(function(){var t=e.get(this,"arrangedContent");return t?e.get(t,"length"):0}),_replace:function(t,n,i){return e.get(this,"content")&&this.replaceContent(t,n,i),this},replace:function(){if(e.get(this,"arrangedContent")!==e.get(this,"content"))throw new e.Error("Using replace on an arranged ArrayProxy is not allowed.");this._replace.apply(this,arguments)},_insertAt:function(t,n){if(t>e.get(this,"content.length"))throw new e.Error("Index out of range");return this._replace(t,0,[n]),this},insertAt:function(t,n){if(e.get(this,"arrangedContent")===e.get(this,"content"))return this._insertAt(t,n);throw new e.Error("Using insertAt on an arranged ArrayProxy is not allowed.")},removeAt:function(t,n){if("number"==typeof t){var i=e.get(this,"content"),r=e.get(this,"arrangedContent"),s=[];if(t<0||t>=e.get(this,"length"))throw new e.Error("Index out of range");void 0===n&&(n=1);for(var a=t;a<t+n;a++)s.push(i.indexOf(o.objectAt(r,a)));s.sort(function(t,e){return e-t}),e.beginPropertyChanges();for(var a=0;a<s.length;a++)this._replace(s[a],1,l);e.endPropertyChanges()}return this},pushObject:function(t){return this._insertAt(e.get(this,"content.length"),t),t},pushObjects:function(t){if(!s.default.detect(t)&&!n.isArray(t))throw new TypeError("Must pass Ember.Enumerable to Ember.MutableArray#pushObjects");return this._replace(e.get(this,"length"),0,t),this},setObjects:function(t){if(0===t.length)return this.clear();var n=e.get(this,"length");return this._replace(0,n,t),this},unshiftObject:function(t){return this._insertAt(0,t),t},unshiftObjects:function(t){return this._replace(0,0,t),this},slice:function(){var t=this.toArray();return t.slice.apply(t,arguments)},arrangedContentArrayWillChange:function(t,e,n,i){this.arrayContentWillChange(e,n,i)},arrangedContentArrayDidChange:function(t,e,n,i){this.arrayContentDidChange(e,n,i)},init:function(){this._super.apply(this,arguments),this._setupContent(),this._setupArrangedContent()},willDestroy:function(){this._teardownArrangedContent(),this._teardownContent()}})}),o("ember-runtime/system/core_object",["exports","ember-utils","ember-metal","ember-runtime/mixins/action_handler","ember-runtime/inject"],function(t,e,n,i,r){"no use strict";function s(){var t,i=!1,r=function(){i||r.proto(),arguments.length>0&&(t=[arguments[0]]),this.__defineNonEnumerable(e.GUID_KEY_PROPERTY);var s=n.meta(this),o=s.proto;if(s.proto=this,t){var a=t;t=null;for(var l=this.concatenatedProperties,g=this.mergedProperties,u=0;u<a.length;u++){var B=a[u];if("object"!=typeof B&&void 0!==B)throw new n.Error("Ember.Object.create only accepts objects.");if(B)for(var I=Object.keys(B),d=0;d<I.length;d++){var F=I[d],C=B[F];n.detectBinding(F)&&s.writeBindings(F,C);var U=this[F],h=null!==U&&"object"==typeof U&&U.isDescriptor?U:void 0;if(l&&l.length>0&&l.indexOf(F)>=0){var m=this[F];C=m?"function"==typeof m.concat?m.concat(C):e.makeArray(m).concat(C):e.makeArray(C)}if(g&&g.length&&g.indexOf(F)>=0){var b=this[F];C=e.assign({},b,C)}h?h.set(this,F,C):"function"!=typeof this.setUnknownProperty||F in this?this[F]=C:this.setUnknownProperty(F,C)}}}c(this,s),this.init.apply(this,arguments),this[Q](),s.proto=o,n.finishChains(this),n.sendEvent(this,"init")};return r.toString=n.Mixin.prototype.toString,r.willReopen=function(){i&&(r.PrototypeMixin=n.Mixin.create(r.PrototypeMixin)),i=!1},r._initProperties=function(e){t=e},r.proto=function(){var t=r.superclass;return t&&t.proto(),i||(i=!0,r.PrototypeMixin.applyPartial(r.prototype)),this.prototype},r}var o,a=n.run.schedule,l=n.Mixin._apply,c=n.Mixin.finishPartial,g=n.Mixin.prototype.reopen,u=!1,Q=e.symbol("POST_INIT");t.POST_INIT=Q;var B=s();B.toString=function(){return"Ember.CoreObject"},B.PrototypeMixin=n.Mixin.create((o={reopen:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return l(this,e,!0),this},init:function(){}},o[Q]=function(){},o.__defineNonEnumerable=function(t){Object.defineProperty(this,t.name,t.descriptor)},o.concatenatedProperties=null,o.mergedProperties=null,o.isDestroyed=n.descriptor({get:function(){return n.meta(this).isSourceDestroyed()},set:function(t){"object"==typeof t&&null!==t&&t.isDescriptor}}),o.isDestroying=n.descriptor({get:function(){return n.meta(this).isSourceDestroying()},set:function(t){"object"==typeof t&&null!==t&&t.isDescriptor}}),o.destroy=function(){var t=n.meta(this);if(!t.isSourceDestroying())return t.setSourceDestroying(),a("actions",this,this.willDestroy),a("destroy",this,this._scheduledDestroy,t),this},o.willDestroy=function(){},o._scheduledDestroy=function(t){t.isSourceDestroyed()||(n.destroy(this),t.setSourceDestroyed())},o.bind=function(t,e){return e instanceof n.Binding||(e=n.Binding.from(e)),e.to(t).connect(this),e},o.toString=function(){var t="function"==typeof this.toStringExtension,n=t?":"+this.toStringExtension():"";return"<"+this.constructor.toString()+":"+e.guidFor(this)+n+">"},o)),B.PrototypeMixin.ownerConstructor=B,B.__super__=null;var I={ClassMixin:n.REQUIRED,PrototypeMixin:n.REQUIRED,isClass:!0,isMethod:!1,extend:function(){var t,i=s();return i.ClassMixin=n.Mixin.create(this.ClassMixin),i.PrototypeMixin=n.Mixin.create(this.PrototypeMixin),i.ClassMixin.ownerConstructor=i,i.PrototypeMixin.ownerConstructor=i,g.apply(i.PrototypeMixin,arguments),i.superclass=this,i.__super__=this.prototype,
t=i.prototype=Object.create(this.prototype),t.constructor=i,e.generateGuid(t),n.meta(t).proto=t,i.ClassMixin.apply(i),i},create:function(){for(var t=this,e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.length>0&&this._initProperties(n),new t},reopen:function(){return this.willReopen(),g.apply(this.PrototypeMixin,arguments),this},reopenClass:function(){return g.apply(this.ClassMixin,arguments),l(this,arguments,!1),this},detect:function(t){if("function"!=typeof t)return!1;for(;t;){if(t===this)return!0;t=t.superclass}return!1},detectInstance:function(t){return t instanceof this},metaForProperty:function(t){var e=this.proto(),n=e[t];return(null!==n&&"object"==typeof n&&n.isDescriptor?n:void 0)._meta||{}},_computedProperties:n.computed(function(){u=!0;var t,e=this.proto(),n=[];for(var i in e)(t=e[i])&&t.isDescriptor&&n.push({name:i,meta:t._meta});return n}).readOnly(),eachComputedProperty:function(t,e){for(var i,r={},s=n.get(this,"_computedProperties"),o=0;o<s.length;o++)i=s[o],t.call(e||this,i.name,i.meta||r)}};I._lazyInjections=function(){var t,e,i={},r=this.proto();for(t in r)(e=r[t])instanceof n.InjectedProperty&&(i[t]=e.type+":"+(e.name||t));return i};var d=n.Mixin.create(I);d.ownerConstructor=B,B.ClassMixin=d,d.apply(B),B.reopen({didDefineProperty:function(t,e,i){if(!1!==u&&i instanceof n.ComputedProperty){var r=n.meta(this.constructor).readableCache();r&&void 0!==r._computedProperties&&(r._computedProperties=void 0)}}}),t.default=B}),o("ember-runtime/system/each_proxy",["exports","ember-utils","ember-metal","ember-runtime/mixins/array"],function(t,e,n,i){"use strict";function r(t){this._content=t,this._keys=void 0,this.__ember_meta__=null}function s(t,e,r,s,o){for(;--o>=s;){var a=i.objectAt(t,o);a&&(n._addBeforeObserver(a,e,r,"contentKeyWillChange"),n.addObserver(a,e,r,"contentKeyDidChange"))}}function o(t,e,r,s,o){for(;--o>=s;){var a=i.objectAt(t,o);a&&(n._removeBeforeObserver(a,e,r,"contentKeyWillChange"),n.removeObserver(a,e,r,"contentKeyDidChange"))}}t.default=r,r.prototype={__defineNonEnumerable:function(t){this[t.name]=t.descriptor.value},arrayWillChange:function(t,e,i,r){var s=this._keys,a=i>0?e+i:-1;for(var l in s)a>0&&o(t,l,this,e,a),n.propertyWillChange(this,l)},arrayDidChange:function(t,e,i,r){var o=this._keys,a=r>0?e+r:-1;for(var l in o)a>0&&s(t,l,this,e,a),n.propertyDidChange(this,l)},willWatchProperty:function(t){this.beginObservingContentKey(t)},didUnwatchProperty:function(t){this.stopObservingContentKey(t)},beginObservingContentKey:function(t){var i=this._keys;if(i||(i=this._keys=new e.EmptyObject),i[t])i[t]++;else{i[t]=1;var r=this._content;s(r,t,this,0,n.get(r,"length"))}},stopObservingContentKey:function(t){var e=this._keys;if(e&&e[t]>0&&--e[t]<=0){var i=this._content;o(i,t,this,0,n.get(i,"length"))}},contentKeyWillChange:function(t,e){n.propertyWillChange(this,e)},contentKeyDidChange:function(t,e){n.propertyDidChange(this,e)}}}),o("ember-runtime/system/lazy_load",["exports","ember-environment"],function(t,e){"use strict";function n(t,e){var n=s[t];r[t]=r[t]||[],r[t].push(e),n&&e(n)}function i(t,n){s[t]=n;var i=e.environment.window;if(i&&"function"==typeof CustomEvent){var o=new CustomEvent(t,{detail:n,name:t});i.dispatchEvent(o)}r[t]&&r[t].forEach(function(t){return t(n)})}t.onLoad=n,t.runLoadHooks=i;var r=e.ENV.EMBER_LOAD_HOOKS||{},s={},o=s;t._loaded=o}),o("ember-runtime/system/namespace",["exports","ember-utils","ember-metal","ember-environment","ember-runtime/system/object"],function(t,e,n,i,r){"use strict";function s(){return d}function o(t){d=!!t}function a(t,i,r){var s=t.length;C[t.join(".")]=i;for(var o in i)if(U.call(i,o)){var l=i[o];if(t[s]=o,l&&l.toString===Q&&!l[n.NAME_KEY])l[n.NAME_KEY]=t.join(".");else if(l&&l.isNamespace){if(r[e.guidFor(l)])continue;r[e.guidFor(l)]=!0,a(t,l,r)}}t.length=s}function l(t){return t>=65&&t<=90}function c(t,e){try{var n=t[e];return n&&n.isNamespace&&n}catch(t){}}function g(){if(!F.PROCESSED)for(var t=i.context.lookup,e=Object.keys(t),r=0;r<e.length;r++){var s=e[r];if(l(s.charCodeAt(0))){var o=c(t,s);o&&(o[n.NAME_KEY]=s)}}}function u(t){var e=t.superclass;if(e)return e[n.NAME_KEY]?e[n.NAME_KEY]:u(e)}function Q(){d||this[n.NAME_KEY]||B();var t=void 0;if(this[n.NAME_KEY])t=this[n.NAME_KEY];else if(this._toString)t=this._toString;else{var e=u(this);t=e?"(subclass of "+e+")":"(unknown mixin)",this.toString=I(t)}return t}function B(){var t=!F.PROCESSED,e=n.hasUnprocessedMixins();if(t&&(g(),F.PROCESSED=!0),t||e){for(var i=F.NAMESPACES,r=void 0,s=0;s<i.length;s++)r=i[s],a([r.toString()],r,{});n.clearUnprocessedMixins()}}function I(t){return function(){return t}}t.isSearchDisabled=s,t.setSearchDisabled=o;var d=!1,F=r.default.extend({isNamespace:!0,init:function(){F.NAMESPACES.push(this),F.PROCESSED=!1},toString:function(){var t=n.get(this,"name")||n.get(this,"modulePrefix");return t||(g(),this[n.NAME_KEY])},nameClasses:function(){a([this.toString()],this,{})},destroy:function(){var t=F.NAMESPACES,e=this.toString();e&&(i.context.lookup[e]=void 0,delete F.NAMESPACES_BY_ID[e]),t.splice(t.indexOf(this),1),this._super.apply(this,arguments)}});F.reopenClass({NAMESPACES:[n.default],NAMESPACES_BY_ID:{Ember:n.default},PROCESSED:!1,processAll:B,byName:function(t){return d||B(),C[t]}});var C=F.NAMESPACES_BY_ID,U={}.hasOwnProperty;n.Mixin.prototype.toString=Q,t.default=F}),o("ember-runtime/system/native_array",["exports","ember-metal","ember-environment","ember-runtime/mixins/array","ember-runtime/mixins/mutable_array","ember-runtime/mixins/observable","ember-runtime/mixins/copyable","ember-runtime/mixins/freezable","ember-runtime/copy"],function(t,e,n,i,r,s,o,a,l){"use strict";var c=e.Mixin.create(r.default,s.default,o.default,{get:function(t){return"number"==typeof t?this[t]:this._super(t)},objectAt:function(t){return this[t]},replace:function(t,n,r){if(this.isFrozen)throw a.FROZEN_ERROR;var s=r?e.get(r,"length"):0;return i.arrayContentWillChange(this,t,n,s),0===s?this.splice(t,n):e.replace(this,t,n,r),i.arrayContentDidChange(this,t,n,s),this},unknownProperty:function(t,e){var n=void 0;return void 0!==e&&void 0===n&&(n=this[t]=e),n},indexOf:Array.prototype.indexOf,lastIndexOf:Array.prototype.lastIndexOf,copy:function(t){return t?this.map(function(t){return l.default(t,!0)}):this.slice()}}),g=["length"];c.keys().forEach(function(t){Array.prototype[t]&&g.push(t)}),t.NativeArray=c=c.without.apply(c,g);var u=void 0;n.ENV.EXTEND_PROTOTYPES.Array?(c.apply(Array.prototype),t.A=u=function(t){return t||[]}):t.A=u=function(t){return t||(t=[]),i.default.detect(t)?t:c.apply(t)},e.default.A=u,t.A=u,t.NativeArray=c,t.default=c}),o("ember-runtime/system/object",["exports","ember-utils","ember-metal","ember-runtime/system/core_object","ember-runtime/mixins/observable"],function(t,e,n,i,r){"use strict";var s=i.default.extend(r.default);s.toString=function(){return"Ember.Object"};var o=s;t.FrameworkObject=o,t.default=s}),o("ember-runtime/system/object_proxy",["exports","ember-runtime/system/object","ember-runtime/mixins/-proxy"],function(t,e,n){"use strict";t.default=e.default.extend(n.default)}),o("ember-runtime/system/service",["exports","ember-runtime/system/object","ember-runtime/inject"],function(t,e,n){"use strict";n.createInjectionHelper("service");var i=e.default.extend();i.reopenClass({isServiceFactory:!0}),t.default=i}),o("ember-runtime/system/string",["exports","ember-metal","ember-utils","ember-runtime/utils","ember-runtime/string_registry"],function(t,e,n,i,r){"use strict";function s(t,e){var r=e;if(!i.isArray(r)||arguments.length>2){r=new Array(arguments.length-1);for(var s=1;s<arguments.length;s++)r[s-1]=arguments[s]}var o=0;return t.replace(/%@([0-9]+)?/g,function(t,e){return e=e?parseInt(e,10)-1:o++,t=r[e],null===t?"(null)":void 0===t?"":n.inspect(t)})}function o(t,e){return s.apply(void 0,arguments)}function a(t,e){return(!i.isArray(e)||arguments.length>2)&&(e=Array.prototype.slice.call(arguments,1)),t=r.get(t)||t,s(t,e)}function l(t){return t.split(/\s+/)}function c(t){return R.get(t)}function g(t){return F.get(t)}function u(t){return h.get(t)}function Q(t){return A.get(t)}function B(t){return G.get(t)}function I(t){return V.get(t)}var d=/[ _]/g,F=new e.Cache(1e3,function(t){return c(t).replace(d,"-")}),C=/(\-|\_|\.|\s)+(.)?/g,U=/(^|\/)([A-Z])/g,h=new e.Cache(1e3,function(t){return t.replace(C,function(t,e,n){return n?n.toUpperCase():""}).replace(U,function(t,e,n){return t.toLowerCase()})}),m=/^(\-|_)+(.)?/,b=/(.)(\-|\_|\.|\s)+(.)?/g,p=/(^|\/|\.)([a-z])/g,A=new e.Cache(1e3,function(t){for(var e=function(t,e,n){return n?"_"+n.toUpperCase():""},n=function(t,e,n,i){return e+(i?i.toUpperCase():"")},i=t.split("/"),r=0;r<i.length;r++)i[r]=i[r].replace(m,e).replace(b,n);return i.join("/").replace(p,function(t,e,n){return t.toUpperCase()})}),y=/([a-z\d])([A-Z]+)/g,f=/\-|\s+/g,G=new e.Cache(1e3,function(t){return t.replace(y,"$1_$2").replace(f,"_").toLowerCase()}),x=/(^|\/)([a-z])/g,V=new e.Cache(1e3,function(t){return t.replace(x,function(t,e,n){return t.toUpperCase()})}),Z=/([a-z\d])([A-Z])/g,R=new e.Cache(1e3,function(t){return t.replace(Z,"$1_$2").toLowerCase()});t.default={fmt:o,loc:a,w:l,decamelize:c,dasherize:g,camelize:u,classify:Q,underscore:B,capitalize:I},t.fmt=o,t.loc=a,t.w=l,t.decamelize=c,t.dasherize=g,t.camelize=u,t.classify=Q,t.underscore=B,t.capitalize=I}),o("ember-runtime/utils",["exports","ember-runtime/mixins/array","ember-runtime/system/object"],function(t,e,n){"use strict";function i(t){if(!t||t.setInterval)return!1;if(Array.isArray(t))return!0;if(e.default.detect(t))return!0;var n=r(t);return"array"===n||void 0!==t.length&&"object"===n}function r(t){if(null===t)return"null";if(void 0===t)return"undefined";var e=s[o.call(t)]||"object";return"function"===e?n.default.detect(t)&&(e="class"):"object"===e&&(t instanceof Error?e="error":t instanceof n.default?e="instance":t instanceof Date&&(e="date")),e}t.isArray=i,t.typeOf=r;var s={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object","[object FileList]":"filelist"},o=Object.prototype.toString}),o("ember-utils/apply-str",["exports"],function(t){"use strict";function e(t,e,n){var i=n&&n.length;if(!n||!i)return t[e]();switch(i){case 1:return t[e](n[0]);case 2:return t[e](n[0],n[1]);case 3:return t[e](n[0],n[1],n[2]);case 4:return t[e](n[0],n[1],n[2],n[3]);case 5:return t[e](n[0],n[1],n[2],n[3],n[4]);default:return t[e].apply(t,n)}}t.default=e}),o("ember-utils/assign",["exports"],function(t){"use strict";function e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var i=Object.keys(n),r=0;r<i.length;r++){var s=i[r];t[s]=n[s]}}return t}t.default=e}),o("ember-utils/dictionary",["exports","ember-utils/empty-object"],function(t,e){"use strict";function n(t){var n=void 0;return n=null===t?new e.default:Object.create(t),n._dict=null,delete n._dict,n}t.default=n}),o("ember-utils/empty-object",["exports"],function(t){"use strict";function e(){}var n=Object.create(null,{constructor:{value:void 0,enumerable:!1,writable:!0}});e.prototype=n,t.default=e}),o("ember-utils/guid",["exports","ember-utils/intern"],function(t,e){"use strict";function n(){return++s}function i(t,e){e||(e=o);var i=e+n();return t&&(null===t[c]?t[c]=i:(g.value=i,t.__defineNonEnumerable?t.__defineNonEnumerable(Q):Object.defineProperty(t,c,g))),i}function r(t){var e=typeof t,i="object"===e&&null!==t,r="function"===e;if((i||r)&&t[c])return t[c];if(void 0===t)return"(undefined)";if(null===t)return"(null)";var s=void 0;switch(e){case"number":return s=a[t],s||(s=a[t]="nu"+t),s;case"string":return s=l[t],s||(s=l[t]="st"+n()),s;case"boolean":return t?"(true)":"(false)";default:return t===Object?"(Object)":t===Array?"(Array)":(s=o+n(),null===t[c]?t[c]=s:(g.value=s,t.__defineNonEnumerable?t.__defineNonEnumerable(Q):Object.defineProperty(t,c,g)),s)}}t.uuid=n,t.generateGuid=i,t.guidFor=r;var s=0,o="ember",a=[],l={},c=e.default("__ember"+ +new Date);t.GUID_KEY=c;var g={writable:!0,configurable:!0,enumerable:!1,value:null};t.GUID_DESC=g;var u={configurable:!0,writable:!0,enumerable:!1,value:null},Q={name:c,descriptor:u};t.GUID_KEY_PROPERTY=Q}),o("ember-utils/index",["exports","ember-utils/symbol","ember-utils/owner","ember-utils/assign","ember-utils/empty-object","ember-utils/dictionary","ember-utils/guid","ember-utils/intern","ember-utils/super","ember-utils/inspect","ember-utils/lookup-descriptor","ember-utils/invoke","ember-utils/make-array","ember-utils/apply-str","ember-utils/to-string"],function(t,e,n,i,r,s,o,a,l,c,g,u,Q,B,I){"use strict";t.symbol=e.default,t.getOwner=n.getOwner,t.setOwner=n.setOwner,t.OWNER=n.OWNER,t.assign=i.default,t.EmptyObject=r.default,t.dictionary=s.default,t.uuid=o.uuid,t.GUID_KEY=o.GUID_KEY,t.GUID_DESC=o.GUID_DESC,t.GUID_KEY_PROPERTY=o.GUID_KEY_PROPERTY,t.generateGuid=o.generateGuid,t.guidFor=o.guidFor,t.intern=a.default,t.checkHasSuper=l.checkHasSuper,t.ROOT=l.ROOT,t.wrap=l.wrap,t.inspect=c.default,t.lookupDescriptor=g.default,t.canInvoke=u.canInvoke,t.tryInvoke=u.tryInvoke,t.makeArray=Q.default,t.applyStr=B.default,t.toString=I.default}),o("ember-utils/inspect",["exports"],function(t){"use strict";function e(t){if(null===t)return"null";if(void 0===t)return"undefined";if(Array.isArray(t))return"["+t+"]";var e=typeof t;if("object"!==e&&"symbol"!==e)return""+t;if("function"==typeof t.toString&&t.toString!==n)return t.toString();var i=void 0,r=[];for(var s in t)if(t.hasOwnProperty(s)){if("toString"===(i=t[s]))continue;"function"==typeof i&&(i="function() { ... }"),i&&"function"!=typeof i.toString?r.push(s+": "+n.call(i)):r.push(s+": "+i)}return"{"+r.join(", ")+"}"}t.default=e;var n=Object.prototype.toString}),o("ember-utils/intern",["exports"],function(t){"use strict";function e(t){var e={};e[t]=1;for(var n in e)if(n===t)return n;return t}t.default=e}),o("ember-utils/invoke",["exports","ember-utils/apply-str"],function(t,e){"use strict";function n(t,e){return!(!t||"function"!=typeof t[e])}function i(t,i,r){if(n(t,i))return r?e.default(t,i,r):e.default(t,i)}t.canInvoke=n,t.tryInvoke=i}),o("ember-utils/lookup-descriptor",["exports"],function(t){"use strict";function e(t,e){for(var n=t;n;){var i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=Object.getPrototypeOf(n)}return null}t.default=e}),o("ember-utils/make-array",["exports"],function(t){"use strict";function e(t){return null===t||void 0===t?[]:Array.isArray(t)?t:[t]}t.default=e}),o("ember-utils/owner",["exports","ember-utils/symbol"],function(t,e){"use strict";function n(t){return t[r]}function i(t,e){t[r]=e}t.getOwner=n,t.setOwner=i;var r=e.default("OWNER");t.OWNER=r}),o("ember-utils/super",["exports"],function(t){"use strict";function e(){}function n(t){return void 0===t.__hasSuper&&(t.__hasSuper=a(t)),t.__hasSuper}function i(t,i){return n(t)?!i.wrappedFunction&&n(i)?r(t,r(i,e)):r(t,i):t}function r(t,e){function n(){var n=this._super;this._super=e;var i=t.apply(this,arguments);return this._super=n,i}return n.wrappedFunction=t,n.__ember_observes__=t.__ember_observes__,n.__ember_observesBefore__=t.__ember_observesBefore__,n.__ember_listens__=t.__ember_listens__,n}t.wrap=i;var s=/\.(_super|call\(this|apply\(this)/,o=Function.prototype.toString,a=function(){return o.call(function(){return this}).indexOf("return this")>-1?function(t){return s.test(o.call(t))}:function(){return!0}}();t.checkHasSuper=a,e.__hasSuper=!1}),o("ember-utils/symbol",["exports","ember-utils/guid","ember-utils/intern"],function(t,e,n){"use strict";function i(t){var i=e.GUID_KEY+Math.floor(Math.random()*new Date);return n.default("__"+t+"__ [id="+i+"]")}t.default=i}),o("ember-utils/to-string",["exports"],function(t){"use strict";function e(t){return t&&t.toString?t.toString():n.call(t)}t.default=e;var n=Object.prototype.toString}),o("ember-views/compat/attrs",["exports","ember-utils"],function(t,e){"use strict";var n=e.symbol("MUTABLE_CELL");t.MUTABLE_CELL=n}),o("ember-views/compat/fallback-view-registry",["exports","ember-utils"],function(t,e){"use strict";t.default=e.dictionary(null)}),o("ember-views/component_lookup",["exports","ember-metal","ember-runtime"],function(t,e,n){"use strict";t.default=n.Object.extend({componentFor:function(t,e,n){var i="component:"+t;return e._lookupFactory(i,n)},layoutFor:function(t,e,n){var i="template:components/"+t;return e.lookup(i,n)}})});o("ember-views/index",["exports","ember-views/system/ext","ember-views/system/jquery","ember-views/system/utils","ember-views/system/event_dispatcher","ember-views/component_lookup","ember-views/mixins/text_support","ember-views/views/core_view","ember-views/mixins/class_names_support","ember-views/mixins/child_views_support","ember-views/mixins/view_state_support","ember-views/mixins/view_support","ember-views/mixins/action_support","ember-views/compat/attrs","ember-views/system/lookup_partial","ember-views/utils/lookup-component","ember-views/system/action_manager","ember-views/compat/fallback-view-registry"],function(t,e,n,i,r,s,o,a,l,c,g,u,Q,B,I,d,F,C){"use strict";t.jQuery=n.default,t.isSimpleClick=i.isSimpleClick,t.getViewBounds=i.getViewBounds,t.getViewClientRects=i.getViewClientRects,t.getViewBoundingClientRect=i.getViewBoundingClientRect,t.getRootViews=i.getRootViews,t.getChildViews=i.getChildViews,t.getViewId=i.getViewId,t.getViewElement=i.getViewElement,t.setViewElement=i.setViewElement,t.STYLE_WARNING=i.STYLE_WARNING,t.EventDispatcher=r.default,t.ComponentLookup=s.default,t.TextSupport=o.default,t.CoreView=a.default,t.ClassNamesSupport=l.default,t.ChildViewsSupport=c.default,t.ViewStateSupport=g.default,t.ViewMixin=u.default,t.ActionSupport=Q.default,t.MUTABLE_CELL=B.MUTABLE_CELL,t.lookupPartial=I.default,t.hasPartial=I.hasPartial,t.lookupComponent=d.default,t.ActionManager=F.default,t.fallbackViewRegistry=C.default}),o("ember-views/mixins/action_support",["exports","ember-utils","ember-metal","ember-views/compat/attrs"],function(t,e,n,i){"use strict";function r(t,e){return e&&e[i.MUTABLE_CELL]&&(e=e.value),e}t.default=n.Mixin.create({sendAction:function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];var o=void 0;void 0===t&&(t="action"),o=n.get(this,"attrs."+t)||n.get(this,t),void 0!==(o=r(this,o))&&("function"==typeof o?o.apply(void 0,i):this.triggerAction({action:o,actionContext:i}))},send:function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];var s=void 0,o=this.actions&&this.actions[t];if(o){if(!(!0===o.apply(this,i)))return}if(s=n.get(this,"target")){var a;(a=s).send.apply(a,arguments)}}})}),o("ember-views/mixins/child_views_support",["exports","ember-utils","ember-metal","ember-views/system/utils"],function(t,e,n,i){"use strict";t.default=n.Mixin.create({init:function(){this._super.apply(this,arguments),i.initChildViews(this)},childViews:n.descriptor({configurable:!1,enumerable:!1,get:function(){return i.getChildViews(this)}}),appendChild:function(t){this.linkChild(t),i.addChildView(this,t)},linkChild:function(t){e.getOwner(t)||e.setOwner(t,e.getOwner(this))}})}),o("ember-views/mixins/class_names_support",["exports","ember-metal"],function(t,e){"use strict";var n=Object.freeze([]);t.default=e.Mixin.create({concatenatedProperties:["classNames","classNameBindings"],init:function(){this._super.apply(this,arguments),this.classNameBindings=this.classNameBindings.slice(),this.classNames=this.classNames.slice()},classNames:n,classNameBindings:n})}),o("ember-views/mixins/text_support",["exports","ember-metal","ember-runtime"],function(t,e,n){"use strict";function i(t,n,i){var r=e.get(n,"attrs."+t)||e.get(n,t),s=e.get(n,"onEvent"),o=e.get(n,"value");(s===t||"keyPress"===s&&"key-press"===t)&&n.sendAction("action",o),n.sendAction(t,o),(r||s===t)&&(e.get(n,"bubbles")||i.stopPropagation())}var r={13:"insertNewline",27:"cancel"};t.default=e.Mixin.create(n.TargetActionSupport,{value:"",attributeBindings:["autocapitalize","autocorrect","autofocus","disabled","form","maxlength","placeholder","readonly","required","selectionDirection","spellcheck","tabindex","title"],placeholder:null,disabled:!1,maxlength:null,init:function(){this._super.apply(this,arguments),this.on("paste",this,this._elementValueDidChange),this.on("cut",this,this._elementValueDidChange),this.on("input",this,this._elementValueDidChange)},action:null,onEvent:"enter",bubbles:!1,interpretKeyEvents:function(t){var e=r,n=e[t.keyCode];if(this._elementValueDidChange(),n)return this[n](t)},_elementValueDidChange:function(){e.set(this,"value",this.element.value)},change:function(t){this._elementValueDidChange(t)},insertNewline:function(t){i("enter",this,t),i("insert-newline",this,t)},cancel:function(t){i("escape-press",this,t)},focusIn:function(t){i("focus-in",this,t)},focusOut:function(t){this._elementValueDidChange(t),i("focus-out",this,t)},keyPress:function(t){i("key-press",this,t)},keyUp:function(t){this.interpretKeyEvents(t),this.sendAction("key-up",e.get(this,"value"),t)},keyDown:function(t){this.sendAction("key-down",e.get(this,"value"),t)}})}),o("ember-views/mixins/view_state_support",["exports","ember-metal"],function(t,e){"use strict";t.default=e.Mixin.create({_transitionTo:function(t){var e=this._currentState,n=this._currentState=this._states[t];this._state=t,e&&e.exit&&e.exit(this),n.enter&&n.enter(this)}})}),o("ember-views/mixins/view_support",["exports","ember-utils","ember-metal","ember-environment","ember-views/system/utils","ember-runtime/system/core_object","ember-views/system/jquery"],function(t,e,n,i,r,s,o){"use strict";function a(){return this}var l;t.default=n.Mixin.create((l={concatenatedProperties:["attributeBindings"]},l[s.POST_INIT]=function(){this.trigger("didInitAttrs",{attrs:this.attrs}),this.trigger("didReceiveAttrs",{newAttrs:this.attrs})},l.nearestOfType=function(t){for(var e=this.parentView,i=t instanceof n.Mixin?function(e){return t.detect(e)}:function(e){return t.detect(e.constructor)};e;){if(i(e))return e;e=e.parentView}},l.nearestWithProperty=function(t){for(var e=this.parentView;e;){if(t in e)return e;e=e.parentView}},l.rerender=function(){return this._currentState.rerender(this)},l.element=n.descriptor({configurable:!1,enumerable:!1,get:function(){return this.renderer.getElement(this)}}),l.$=function(t){if(this.element)return t?o.default(t,this.element):o.default(this.element)},l.appendTo=function(t){var e=this._environment||i.environment,n=void 0;return n=e.hasDOM&&"string"==typeof t?document.querySelector(t):t,this.renderer.appendTo(this,n),this},l.renderToElement=function(t){t=t||"body";var e=this.renderer.createElement(t);return this.renderer.appendTo(this,e),e},l.replaceIn=function(t){var e=o.default(t);return this.renderer.replaceIn(this,e[0]),this},l.append=function(){return this.appendTo(document.body)},l.elementId=null,l.findElementInParentElement=function(t){var e="#"+this.elementId;return o.default(e)[0]||o.default(e,t)[0]},l.willInsertElement=a,l.didInsertElement=a,l.willClearRender=a,l.destroy=function(){this._super.apply(this,arguments),this._currentState.destroy(this)},l.willDestroyElement=a,l.parentViewDidChange=a,l.tagName=null,l.init=function(){this._super.apply(this,arguments),this.elementId||""===this.tagName||(this.elementId=e.guidFor(this))},l.__defineNonEnumerable=function(t){this[t.name]=t.descriptor.value},l.handleEvent=function(t,e){return this._currentState.handleEvent(this,t,e)},l))}),o("ember-views/system/action_manager",["exports"],function(t){"use strict";function e(){}t.default=e,e.registeredActions={}}),o("ember-views/system/event_dispatcher",["exports","ember-utils","ember-metal","ember-runtime","ember-views/system/jquery","ember-views/system/action_manager","ember-environment","ember-views/compat/fallback-view-registry"],function(t,e,n,i,r,s,o,a){"use strict";t.default=i.Object.extend({events:{touchstart:"touchStart",touchmove:"touchMove",touchend:"touchEnd",touchcancel:"touchCancel",keydown:"keyDown",keyup:"keyUp",keypress:"keyPress",mousedown:"mouseDown",mouseup:"mouseUp",contextmenu:"contextMenu",click:"click",dblclick:"doubleClick",mousemove:"mouseMove",focusin:"focusIn",focusout:"focusOut",mouseenter:"mouseEnter",mouseleave:"mouseLeave",submit:"submit",input:"input",change:"change",dragstart:"dragStart",drag:"drag",dragenter:"dragEnter",dragleave:"dragLeave",dragover:"dragOver",drop:"drop",dragend:"dragEnd"},rootElement:"body",canDispatchToEventManager:!0,init:function(){this._super()},setup:function(t,i){var s=void 0,o=this._finalEvents=e.assign({},n.get(this,"events"),t);if(n.isNone(i)||n.set(this,"rootElement",i),i=r.default(n.get(this,"rootElement")),i.addClass("ember-application"),!i.is(".ember-application"))throw new TypeError("Unable to add 'ember-application' class to root element ("+(i.selector||i[0].tagName)+"). Make sure you set rootElement to the body or an element in the body.");for(s in o)o.hasOwnProperty(s)&&this.setupHandler(i,s,o[s])},setupHandler:function(t,n,i){var o=this,l=e.getOwner(this),c=l&&l.lookup("-view-registry:main")||a.default;null!==i&&(t.on(n+".ember",".ember-view",function(t,e){var n=c[this.id],r=!0,s=o.canDispatchToEventManager?o._findNearestEventManager(n,i):null;return s&&s!==e?r=o._dispatchEvent(s,t,i,n):n&&(r=o._bubbleEvent(n,t,i)),r}),t.on(n+".ember","[data-ember-action]",function(t){var e=r.default(t.currentTarget).attr("data-ember-action"),n=s.default.registeredActions[e];if(""===e){var o=t.currentTarget.attributes,a=o.length;n=[];for(var l=0;l<a;l++){var c=o.item(l);0===c.name.indexOf("data-ember-action-")&&(n=n.concat(s.default.registeredActions[c.value]))}}if(n)for(var g=0;g<n.length;g++){var u=n[g];if(u&&u.eventName===i)return u.handler(t)}}))},_findNearestEventManager:function(t,e){for(var i=null;t&&(!(i=n.get(t,"eventManager"))||!i[e]);)t=n.get(t,"parentView");return i},_dispatchEvent:function(t,e,i,r){var s=!0,o=t[i];return"function"==typeof o?(s=n.run(t,o,e,r),e.stopPropagation()):s=this._bubbleEvent(r,e,i),s},_bubbleEvent:function(t,e,n){return t.handleEvent(n,e)},destroy:function(){var t=n.get(this,"rootElement");return r.default(t).off(".ember","**").removeClass("ember-application"),this._super.apply(this,arguments)},toString:function(){return"(EventDispatcher)"}})}),o("ember-views/system/ext",["exports","ember-metal"],function(t,e){"use strict";e.run._addQueue("render","actions"),e.run._addQueue("afterRender","render")}),o("ember-views/system/jquery",["exports","ember-environment"],function(t,e){"use strict";var n=void 0;e.environment.hasDOM&&(n=e.context.imports.jQuery)&&(n.event.addProp?n.event.addProp("dataTransfer"):["dragstart","drag","dragenter","dragleave","dragover","drop","dragend"].forEach(function(t){n.event.fixHooks[t]={props:["dataTransfer"]}})),t.default=n}),o("ember-views/system/lookup_partial",["exports","ember-metal"],function(t,e){"use strict";function n(t){var e=t.split("/"),n=e[e.length-1];return e[e.length-1]="_"+n,e.join("/")}function i(t,e){if(null!=t){return s(e,n(t),t)}}function r(t,i){if(!i)throw new e.Error("Container was not found when looking up a views template. This is most likely due to manually instantiating an Ember.View. See: http://git.io/EKPpnA");return i.hasRegistration("template:"+n(t))||i.hasRegistration("template:"+t)}function s(t,n,i){if(i){if(!t)throw new e.Error("Container was not found when looking up a views template. This is most likely due to manually instantiating an Ember.View. See: http://git.io/EKPpnA");return t.lookup("template:"+n)||t.lookup("template:"+i)}}t.default=i,t.hasPartial=r}),o("ember-views/system/utils",["exports","ember-utils"],function(t,e){"use strict";function n(t){var e=t.shiftKey||t.metaKey||t.altKey||t.ctrlKey,n=t.which>1;return!e&&!n}function i(t){var e=t.lookup("-view-registry:main"),n=[];return Object.keys(e).forEach(function(t){var i=e[t];null===i.parentView&&n.push(i)}),n}function r(t){return""===t.tagName?e.guidFor(t):t.elementId||e.guidFor(t)}function s(t){return t[C]}function o(t){t[C]=null}function a(t,e){return t[C]=e}function l(t){return u(t,e.getOwner(t).lookup("-view-registry:main"))}function c(t){t[U]=[]}function g(t,e){t[U].push(r(e))}function u(t,e){var n=[],i=[];return t[U].forEach(function(t){var r=e[t];!r||r.isDestroying||r.isDestroyed||-1!==n.indexOf(t)||(n.push(t),i.push(r))}),t[U]=n,i}function Q(t){return t.renderer.getBounds(t)}function B(t){var e=Q(t),n=document.createRange();return n.setStartBefore(e.firstNode),n.setEndAfter(e.lastNode),n}function I(t){return B(t).getClientRects()}function d(t){return B(t).getBoundingClientRect()}function F(t,e){return h.call(t,e)}t.isSimpleClick=n,t.getRootViews=i,t.getViewId=r,t.getViewElement=s,t.initViewElement=o,t.setViewElement=a,t.getChildViews=l,t.initChildViews=c,t.addChildView=g,t.collectChildViews=u,t.getViewBounds=Q,t.getViewRange=B,t.getViewClientRects=I,t.getViewBoundingClientRect=d,t.matches=F;t.STYLE_WARNING="Binding style attributes may introduce cross-site scripting vulnerabilities; please ensure that values being bound are properly escaped. For more information, including how to disable this warning, see http://emberjs.com/deprecations/v1.x/#toc_binding-style-attributes.";var C=e.symbol("VIEW_ELEMENT"),U=e.symbol("CHILD_VIEW_IDS"),h="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector);t.elMatches=h}),o("ember-views/utils/lookup-component",["exports","container"],function(t,e){"use strict";function n(t,n,i,s){var o=t.componentFor(i,n,s),a=t.layoutFor(i,n,s),l={layout:a,component:o};return a&&!o&&(l.component=n._lookupFactory(e.privatize(r))),l}function i(t,e,i){var r=t.lookup("component-lookup:main");if(i&&i.source){var s=n(r,t,e,i);if(s.component||s.layout)return s}return n(r,t,e)}t.default=i;var r=g.taggedTemplateLiteralLoose(["component:-default"],["component:-default"])}),o("ember-views/views/core_view",["exports","ember-runtime","ember-views/system/utils","ember-views/views/states"],function(t,e,n,i){"use strict";var r=e.FrameworkObject.extend(e.Evented,e.ActionHandler,{isView:!0,_states:i.cloneStates(i.states),init:function(){if(this._super.apply(this,arguments),this._state="preRender",this._currentState=this._states.preRender,n.initViewElement(this),!this.renderer)throw new Error("Cannot instantiate a component without a renderer. Please ensure that you are creating "+this+" with a proper container/registry.")},parentView:null,instrumentDetails:function(t){return t.object=this.toString(),t.containerKey=this._debugContainerKey,t.view=this,t},trigger:function(){this._super.apply(this,arguments);var t=arguments[0],e=this[t];if(e){for(var n=new Array(arguments.length-1),i=1;i<arguments.length;i++)n[i-1]=arguments[i];return e.apply(this,n)}},has:function(t){return"function"===e.typeOf(this[t])||this._super(t)}});e.deprecateUnderscoreActions(r),r.reopenClass({isViewFactory:!0}),t.default=r}),o("ember-views/views/states",["exports","ember-utils","ember-views/views/states/default","ember-views/views/states/pre_render","ember-views/views/states/has_element","ember-views/views/states/in_dom","ember-views/views/states/destroying"],function(t,e,n,i,r,s,o){"use strict";function a(t){var n={};n._default={},n.preRender=Object.create(n._default),n.destroying=Object.create(n._default),n.hasElement=Object.create(n._default),n.inDOM=Object.create(n.hasElement);for(var i in t)t.hasOwnProperty(i)&&e.assign(n[i],t[i]);return n}t.cloneStates=a;var l={_default:n.default,preRender:i.default,inDOM:s.default,hasElement:r.default,destroying:o.default};t.states=l}),o("ember-views/views/states/default",["exports","ember-metal"],function(t,e){"use strict";t.default={appendChild:function(){throw new e.Error("You can't use appendChild outside of the rendering process")},handleEvent:function(){return!0},rerender:function(){},destroy:function(){}}}),
o("ember-views/views/states/destroying",["exports","ember-utils","ember-metal","ember-views/views/states/default"],function(t,e,n,i){"use strict";var r=Object.create(i.default);e.assign(r,{appendChild:function(){throw new n.Error("You can't call appendChild on a view being destroyed")},rerender:function(){throw new n.Error("You can't call rerender on a view being destroyed")}}),t.default=r}),o("ember-views/views/states/has_element",["exports","ember-utils","ember-views/views/states/default","ember-metal"],function(t,e,n,i){"use strict";var r=Object.create(n.default);e.assign(r,{rerender:function(t){t.renderer.rerender(t)},destroy:function(t){t.renderer.remove(t)},handleEvent:function(t,e,n){return!t.has(e)||i.flaggedInstrument("interaction."+e,{event:n,view:t},function(){return i.run.join(t,t.trigger,e,n)})}}),t.default=r}),o("ember-views/views/states/in_dom",["exports","ember-utils","ember-metal","ember-views/views/states/has_element"],function(t,e,n,i){"use strict";var r=Object.create(i.default);e.assign(r,{enter:function(t){t.renderer.register(t)},exit:function(t){t.renderer.unregister(t)}}),t.default=r}),o("ember-views/views/states/pre_render",["exports","ember-views/views/states/default"],function(t,e){"use strict";t.default=Object.create(e.default)}),o("ember-views/views/view",["exports"],function(t){"use strict"}),o("ember/features",["exports"],function(t){"use strict";t.default={"features-stripped-test":!1,"ember-libraries-isregistered":!1,"ember-runtime-computed-uniq-by":!0,"ember-improved-instrumentation":!1,"ember-runtime-enumerable-includes":!0,"ember-string-ishtmlsafe":!0,"ember-testing-check-waiters":!0,"ember-metal-weakmap":!1,"ember-glimmer-allow-backtracking-rerender":!1,"ember-testing-resume-test":!1,"mandatory-setter":!1,"ember-glimmer-detect-backtracking-rerender":!1}}),o("ember/index",["exports","require","ember-environment","ember-utils","container","ember-metal","backburner","ember-console","ember-runtime","ember-glimmer","ember/version","ember-views","ember-routing","ember-application","ember-extension-support"],function(t,e,n,i,r,s,o,a,l,c,g,u,Q,B,I){"use strict";s.default.getOwner=i.getOwner,s.default.setOwner=i.setOwner,s.default.generateGuid=i.generateGuid,s.default.GUID_KEY=i.GUID_KEY,s.default.guidFor=i.guidFor,s.default.inspect=i.inspect,s.default.makeArray=i.makeArray,s.default.canInvoke=i.canInvoke,s.default.tryInvoke=i.tryInvoke,s.default.wrap=i.wrap,s.default.applyStr=i.applyStr,s.default.uuid=i.uuid,s.default.assign=Object.assign||i.assign,s.default.Container=r.Container,s.default.Registry=r.Registry;var d=s.computed;d.alias=s.alias,s.default.computed=d,s.default.ComputedProperty=s.ComputedProperty,s.default.cacheFor=s.cacheFor,s.default.assert=s.assert,s.default.warn=s.warn,s.default.debug=s.debug,s.default.deprecate=s.deprecate,s.default.deprecateFunc=s.deprecateFunc,s.default.runInDebug=s.runInDebug,s.default.merge=s.merge,s.default.instrument=s.instrument,s.default.subscribe=s.instrumentationSubscribe,s.default.Instrumentation={instrument:s.instrument,subscribe:s.instrumentationSubscribe,unsubscribe:s.instrumentationUnsubscribe,reset:s.instrumentationReset},s.default.Error=s.Error,s.default.META_DESC=s.META_DESC,s.default.meta=s.meta,s.default.get=s.get,s.default.getWithDefault=s.getWithDefault,s.default._getPath=s._getPath,s.default.set=s.set,s.default.trySet=s.trySet,s.default.FEATURES=s.FEATURES,s.default.FEATURES.isEnabled=s.isFeatureEnabled,s.default._Cache=s.Cache,s.default.on=s.on,s.default.addListener=s.addListener,s.default.removeListener=s.removeListener,s.default._suspendListener=s.suspendListener,s.default._suspendListeners=s.suspendListeners,s.default.sendEvent=s.sendEvent,s.default.hasListeners=s.hasListeners,s.default.watchedEvents=s.watchedEvents,s.default.listenersFor=s.listenersFor,s.default.accumulateListeners=s.accumulateListeners,s.default.isNone=s.isNone,s.default.isEmpty=s.isEmpty,s.default.isBlank=s.isBlank,s.default.isPresent=s.isPresent,s.default.run=s.run,s.default._ObserverSet=s.ObserverSet,s.default.propertyWillChange=s.propertyWillChange,s.default.propertyDidChange=s.propertyDidChange,s.default.overrideChains=s.overrideChains,s.default.beginPropertyChanges=s.beginPropertyChanges,s.default.endPropertyChanges=s.endPropertyChanges,s.default.changeProperties=s.changeProperties,s.default.platform={defineProperty:!0,hasPropertyAccessors:!0},s.default.defineProperty=s.defineProperty,s.default.watchKey=s.watchKey,s.default.unwatchKey=s.unwatchKey,s.default.removeChainWatcher=s.removeChainWatcher,s.default._ChainNode=s.ChainNode,s.default.finishChains=s.finishChains,s.default.watchPath=s.watchPath,s.default.unwatchPath=s.unwatchPath,s.default.watch=s.watch,s.default.isWatching=s.isWatching,s.default.unwatch=s.unwatch,s.default.destroy=s.destroy,s.default.libraries=s.libraries,s.default.OrderedSet=s.OrderedSet,s.default.Map=s.Map,s.default.MapWithDefault=s.MapWithDefault,s.default.getProperties=s.getProperties,s.default.setProperties=s.setProperties,s.default.expandProperties=s.expandProperties,s.default.NAME_KEY=s.NAME_KEY,s.default.addObserver=s.addObserver,s.default.observersFor=s.observersFor,s.default.removeObserver=s.removeObserver,s.default._suspendObserver=s._suspendObserver,s.default._suspendObservers=s._suspendObservers,s.default.required=s.required,s.default.aliasMethod=s.aliasMethod,s.default.observer=s.observer,s.default.immediateObserver=s._immediateObserver,s.default.mixin=s.mixin,s.default.Mixin=s.Mixin,s.default.bind=s.bind,s.default.Binding=s.Binding,s.default.isGlobalPath=s.isGlobalPath,Object.defineProperty(s.default,"ENV",{get:function(){return n.ENV},enumerable:!1}),Object.defineProperty(s.default,"lookup",{get:function(){return n.context.lookup},set:function(t){n.context.lookup=t},enumerable:!1}),s.default.EXTEND_PROTOTYPES=n.ENV.EXTEND_PROTOTYPES,Object.defineProperty(s.default,"LOG_STACKTRACE_ON_DEPRECATION",{get:function(){return n.ENV.LOG_STACKTRACE_ON_DEPRECATION},set:function(t){n.ENV.LOG_STACKTRACE_ON_DEPRECATION=!!t},enumerable:!1}),Object.defineProperty(s.default,"LOG_VERSION",{get:function(){return n.ENV.LOG_VERSION},set:function(t){n.ENV.LOG_VERSION=!!t},enumerable:!1}),Object.defineProperty(s.default,"MODEL_FACTORY_INJECTIONS",{get:function(){return n.ENV.MODEL_FACTORY_INJECTIONS},set:function(t){n.ENV.MODEL_FACTORY_INJECTIONS=!!t},enumerable:!1}),Object.defineProperty(s.default,"LOG_BINDINGS",{get:function(){return n.ENV.LOG_BINDINGS},set:function(t){n.ENV.LOG_BINDINGS=!!t},enumerable:!1}),Object.defineProperty(s.default,"onerror",{get:s.getOnerror,set:s.setOnerror,enumerable:!1}),s.default.K=function(){return this},Object.defineProperty(s.default,"testing",{get:s.isTesting,set:s.setTesting,enumerable:!1}),e.has("ember-debug")||(s.default.Debug={registerDeprecationHandler:function(){},registerWarnHandler:function(){}}),s.default.Backburner=function(){function t(t){return o.default.apply(this,t)}return t.prototype=o.default.prototype,new t(arguments)},s.default._Backburner=o.default,s.default.Logger=a.default,s.default.String=l.String,s.default.Object=l.Object,s.default._RegistryProxyMixin=l.RegistryProxyMixin,s.default._ContainerProxyMixin=l.ContainerProxyMixin,s.default.compare=l.compare,s.default.copy=l.copy,s.default.isEqual=l.isEqual,s.default.inject=l.inject,s.default.Array=l.Array,s.default.Comparable=l.Comparable,s.default.Enumerable=l.Enumerable,s.default.ArrayProxy=l.ArrayProxy,s.default.ObjectProxy=l.ObjectProxy,s.default.ActionHandler=l.ActionHandler,s.default.CoreObject=l.CoreObject,s.default.NativeArray=l.NativeArray,s.default.Copyable=l.Copyable,s.default.Freezable=l.Freezable,s.default.FROZEN_ERROR=l.FROZEN_ERROR,s.default.MutableEnumerable=l.MutableEnumerable,s.default.MutableArray=l.MutableArray,s.default.TargetActionSupport=l.TargetActionSupport,s.default.Evented=l.Evented,s.default.PromiseProxyMixin=l.PromiseProxyMixin,s.default.Observable=l.Observable,s.default.typeOf=l.typeOf,s.default.isArray=l.isArray,s.default.Object=l.Object,s.default.onLoad=l.onLoad,s.default.runLoadHooks=l.runLoadHooks,s.default.Controller=l.Controller,s.default.ControllerMixin=l.ControllerMixin,s.default.Service=l.Service,s.default._ProxyMixin=l._ProxyMixin,s.default.RSVP=l.RSVP,s.default.Namespace=l.Namespace,d.empty=l.empty,d.notEmpty=l.notEmpty,d.none=l.none,d.not=l.not,d.bool=l.bool,d.match=l.match,d.equal=l.equal,d.gt=l.gt,d.gte=l.gte,d.lt=l.lt,d.lte=l.lte,d.oneWay=l.oneWay,d.reads=l.oneWay,d.readOnly=l.readOnly,d.deprecatingAlias=l.deprecatingAlias,d.and=l.and,d.or=l.or,d.any=l.any,d.sum=l.sum,d.min=l.min,d.max=l.max,d.map=l.map,d.sort=l.sort,d.setDiff=l.setDiff,d.mapBy=l.mapBy,d.filter=l.filter,d.filterBy=l.filterBy,d.uniq=l.uniq,d.uniqBy=l.uniqBy,d.union=l.union,d.intersect=l.intersect,d.collect=l.collect,Object.defineProperty(s.default,"STRINGS",{configurable:!1,get:l.getStrings,set:l.setStrings}),Object.defineProperty(s.default,"BOOTED",{configurable:!1,enumerable:!1,get:l.isNamespaceSearchDisabled,set:l.setNamespaceSearchDisabled}),s.default.Component=c.Component,c.Helper.helper=c.helper,s.default.Helper=c.Helper,s.default.Checkbox=c.Checkbox,s.default.TextField=c.TextField,s.default.TextArea=c.TextArea,s.default.LinkComponent=c.LinkComponent,n.ENV.EXTEND_PROTOTYPES.String&&(String.prototype.htmlSafe=function(){return c.htmlSafe(this)});var F=s.default.Handlebars=s.default.Handlebars||{},C=s.default.HTMLBars=s.default.HTMLBars||{},U=F.Utils=F.Utils||{};if(Object.defineProperty(F,"SafeString",{get:c._getSafeString}),C.template=F.template=c.template,U.escapeExpression=c.escapeExpression,l.String.htmlSafe=c.htmlSafe,l.String.isHTMLSafe=c.isHTMLSafe,C.makeBoundHelper=c.makeBoundHelper,Object.defineProperty(s.default,"TEMPLATES",{get:c.getTemplates,set:c.setTemplates,configurable:!1,enumerable:!1}),t.VERSION=g.default,s.default.VERSION=g.default,s.libraries.registerCoreLibrary("Ember",g.default),s.default.create=s.deprecateFunc("Ember.create is deprecated in favor of Object.create",{id:"ember-metal.ember-create",until:"3.0.0"},Object.create),s.default.keys=s.deprecateFunc("Ember.keys is deprecated in favor of Object.keys",{id:"ember-metal.ember.keys",until:"3.0.0"},Object.keys),s.default.$=u.jQuery,s.default.ViewTargetActionSupport=u.ViewTargetActionSupport,s.default.ViewUtils={isSimpleClick:u.isSimpleClick,getViewElement:u.getViewElement,getViewBounds:u.getViewBounds,getViewClientRects:u.getViewClientRects,getViewBoundingClientRect:u.getViewBoundingClientRect,getRootViews:u.getRootViews,getChildViews:u.getChildViews},s.default.TextSupport=u.TextSupport,s.default.ComponentLookup=u.ComponentLookup,s.default.EventDispatcher=u.EventDispatcher,s.default.Location=Q.Location,s.default.AutoLocation=Q.AutoLocation,s.default.HashLocation=Q.HashLocation,s.default.HistoryLocation=Q.HistoryLocation,s.default.NoneLocation=Q.NoneLocation,s.default.controllerFor=Q.controllerFor,s.default.generateControllerFactory=Q.generateControllerFactory,s.default.generateController=Q.generateController,s.default.RouterDSL=Q.RouterDSL,s.default.Router=Q.Router,s.default.Route=Q.Route,s.default.Application=B.Application,s.default.ApplicationInstance=B.ApplicationInstance,s.default.Engine=B.Engine,s.default.EngineInstance=B.EngineInstance,s.default.DefaultResolver=s.default.Resolver=B.Resolver,l.runLoadHooks("Ember.Application",B.Application),s.default.DataAdapter=I.DataAdapter,s.default.ContainerDebugAdapter=I.ContainerDebugAdapter,e.has("ember-template-compiler")&&e.default("ember-template-compiler"),e.has("ember-testing")){var h=e.default("ember-testing");s.default.Test=h.Test,s.default.Test.Adapter=h.Adapter,s.default.Test.QUnitAdapter=h.QUnitAdapter,s.default.setupForTesting=h.setupForTesting}l.runLoadHooks("Ember"),t.default=s.default,"object"==typeof module&&module.exports?module.exports=s.default:n.context.exports.Ember=n.context.exports.Em=s.default}),o("ember/version",["exports"],function(t){"use strict";t.default="2.10.2"}),o("internal-test-helpers/apply-mixins",["exports","ember-utils"],function(t,e){"use strict";function n(t){return Array.isArray(t.cases)&&"function"==typeof t.generate}function i(t){for(var i=arguments.length,r=Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];return r.forEach(function(i){var r=void 0;n(i)?function(){var t=i;r={},t.cases.forEach(function(n,i){e.assign(r,t.generate(n,i))})}():r=i,e.assign(t.prototype,r)}),t}t.default=i}),o("internal-test-helpers/build-owner",["exports","container","ember-routing","ember-application","ember-runtime"],function(t,e,n,i,r){"use strict";function s(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],s=t.ownerOptions||{},o=t.resolver,a=t.bootOptions||{},l=r.Object.extend(r.RegistryProxyMixin,r.ContainerProxyMixin),c=r.Object.create({Resolver:{create:function(){return o}}}),g=i.Application.buildRegistry(c);g.register("router:main",n.Router);var u=new e.Registry({fallback:g});i.ApplicationInstance.setupRegistry(u,a);var Q=l.create({__registry__:u,__container__:null},s),B=u.container({owner:Q});return Q.__container__=B,Q}t.default=s}),o("internal-test-helpers/confirm-export",["exports","require"],function(t,e){"use strict";function n(t,e){for(var n=e.split("."),i=t,r=0;r<n.length-1;r++){if(!(i=i[n[r]]))return}var s=n[n.length-1];return Object.getOwnPropertyDescriptor(i,s)}function i(t,i,r,s,o){var a=n(t,r);i.ok(a,"the property exists on the global");var l=e.default(s);"string"==typeof o?(i.equal(a.value,l[o],"Ember."+r+" is exported correctly"),i.notEqual(l[o],void 0,"Ember."+r+" is not `undefined`")):(i.equal(a.get,l[o.get],"Ember."+r+" getter is exported correctly"),i.notEqual(a.get,void 0,"Ember."+r+" getter is not undefined"),o.set&&(i.equal(a.set,l[o.set],"Ember."+r+" setter is exported correctly"),i.notEqual(a.set,void 0,"Ember."+r+" setter is not undefined")))}t.default=i}),o("internal-test-helpers/equal-inner-html",["exports"],function(t){"use strict";function e(t){return i&&(t=t.replace(/ xmlns="[^"]+"/,""),t=t.replace(/<([^ >]+) [^\/>]*\/>/gi,function(t,e){return t.slice(0,t.length-3)+"></"+e+">"})),t}function n(t,n){var i=e(t.innerHTML);QUnit.push(i===n,i,n)}t.default=n;var i=function(){if(!document.createElementNS)return!1;var t=document.createElement("div"),e=document.createElementNS("http://www.w3.org/2000/svg","svg");return t.appendChild(e),'<svg xmlns="http://www.w3.org/2000/svg" />'===t.cloneNode(!0).innerHTML}()}),o("internal-test-helpers/equal-tokens",["exports","simple-html-tokenizer"],function(t,e){"use strict";function n(t){return"string"==typeof t?{tokens:e.tokenize(t),html:t}:{tokens:e.tokenize(t.innerHTML),html:t.innerHTML}}function i(t){t.forEach(function(t){"StartTag"===t.type&&(t.attributes=t.attributes.sort(function(t,e){return t[0]>e[0]?1:t[0]<e[0]?-1:0}))})}function r(t,e){var r=arguments.length<=2||void 0===arguments[2]?null:arguments[2],s=n(t),o=n(e);i(s.tokens),i(o.tokens),QUnit.equiv(s.tokens,o.tokens)&&o.html!==s.html?deepEqual(s.tokens,o.tokens,r):QUnit.push(QUnit.equiv(s.tokens,o.tokens),s.html,o.html,r)}t.default=r}),o("internal-test-helpers/factory",["exports"],function(t){"use strict";function e(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}function n(){function t(t){e(this,t),this._guid=i++,this.isDestroyed=!1}function n(t){return new this.prototype.constructor(t)}function r(t){e(this,t)}function s(i){function o(e){t.call(this,e)}var a=this;return o.prototype=new a,o.prototype.constructor=o,e(o,t),e(o.prototype,i),o.create=n,o.extend=s,o.reopen=s,o.reopenClass=r,o}return t.prototype.constructor=t,t.prototype.destroy=function(){this.isDestroyed=!0},t.prototype.toString=function(){return"<Factory:"+this._guid+">"},t.create=n,t.extend=s,t.reopen=s,t.reopenClass=r,t}t.default=n;var i=0}),o("internal-test-helpers/index",["exports","internal-test-helpers/factory","internal-test-helpers/build-owner","internal-test-helpers/confirm-export","internal-test-helpers/equal-inner-html","internal-test-helpers/equal-tokens","internal-test-helpers/module-for","internal-test-helpers/strip","internal-test-helpers/apply-mixins","internal-test-helpers/matchers","internal-test-helpers/run","internal-test-helpers/test-groups","internal-test-helpers/test-cases/abstract","internal-test-helpers/test-cases/abstract-application","internal-test-helpers/test-cases/application","internal-test-helpers/test-cases/query-param","internal-test-helpers/test-cases/abstract-rendering","internal-test-helpers/test-cases/rendering"],function(t,e,n,i,r,s,o,a,l,c,g,u,Q,B,I,d,F,C){"use strict";t.factory=e.default,t.buildOwner=n.default,t.confirmExport=i.default,t.equalInnerHTML=r.default,t.equalTokens=s.default,t.moduleFor=o.default,t.strip=a.default,t.applyMixins=l.default,t.equalsElement=c.equalsElement,t.classes=c.classes,t.styles=c.styles,t.regex=c.regex,t.runAppend=g.runAppend,t.runDestroy=g.runDestroy,t.testBoth=u.testBoth,t.testWithDefault=u.testWithDefault,t.AbstractTestCase=Q.default,t.AbstractApplicationTestCase=B.default,t.ApplicationTestCase=I.default,t.QueryParamTestCase=d.default,t.AbstractRenderingTestCase=F.default,t.RenderingTestCase=C.default}),o("internal-test-helpers/matchers",["exports"],function(t){"use strict";function e(t){return"object"==typeof t&&null!==t&&l in t}function n(t){var e;return e={},e[l]=!0,e.match=function(e){return t===e},e.expected=function(){return t},e.message=function(){return"should equal "+this.expected()},e}function i(t){var e;return e={},e[l]=!0,e.match=function(e){return t.test(e)},e.expected=function(){return t.toString()},e.message=function(){return"should match "+this.expected()},e}function r(t){var e;return e={},e[l]=!0,e.match=function(e){return(e=e.trim())&&t.split(/\s+/).sort().join(" ")===e.trim().split(/\s+/).sort().join(" ")},e.expected=function(){return t},e.message=function(){return"should match "+this.expected()},e}function s(t){var e;return e={},e[l]=!0,e.match=function(e){return e=e||"",e=e.trim(),t.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).sort().join("; ")===e.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).sort().join("; ")},e.expected=function(){return t},e.message=function(){return"should match "+this.expected()},e}function o(t,i,r,s){QUnit.push(t.tagName===i.toUpperCase(),t.tagName.toLowerCase(),i,"expect tagName to be "+i);var o={},l=0;for(var c in r){var g=r[c];null!==g&&l++;var u=e(g)?g:n(g);o[c]=u,QUnit.push(o[c].match(t.getAttribute(c)),t.getAttribute(c),u.expected(),"Element's "+c+" attribute "+u.message())}for(var Q={},B=0,I=t.attributes.length;B<I;B++)Q[t.attributes[B].name]=t.attributes[B].value;t instanceof a?(QUnit.push(t.attributes.length===l||!r,t.attributes.length,l,"Expected "+l+" attributes; got "+t.outerHTML),null!==s&&QUnit.push(t.innerHTML===s,t.innerHTML,s,"The element had '"+s+"' as its content")):QUnit.push(t instanceof a,null,null,"Element must be an HTML Element, not an SVG Element")}t.regex=i,t.classes=r,t.styles=s,t.equalsElement=o;var a=window.HTMLElement,l="3d4ef194-13be-4ccf-8dc7-862eea02c93e"}),o("internal-test-helpers/module-for",["exports","internal-test-helpers/apply-mixins"],function(t,e){"use strict";function n(t,n){function i(t){0===t.indexOf("@test ")?QUnit.test(t.slice(5),function(e){return r[t](e)}):0===t.indexOf("@skip ")&&QUnit.skip(t.slice(5),function(e){return r[t](e)})}var r=void 0;QUnit.module(t,{setup:function(){r=new n},teardown:function(){r.teardown()}});for(var s=arguments.length,o=Array(s>2?s-2:0),a=2;a<s;a++)o[a-2]=arguments[a];e.default(n,o);for(var l=n.prototype;l!==Object.prototype;)Object.keys(l).forEach(i),l=Object.getPrototypeOf(l)}t.default=n}),o("internal-test-helpers/run",["exports","ember-metal"],function(t,e){"use strict";function n(t){e.run(t,"appendTo","#qunit-fixture")}function i(t){t&&e.run(t,"destroy")}t.runAppend=n,t.runDestroy=i}),o("internal-test-helpers/strip",["exports"],function(t){"use strict";function e(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return t.map(function(t,e){var i=n[e];return t+(void 0!==i?i:"")}).join("").split("\n").map(function(t){return t.trim()}).join("")}t.default=e}),o("internal-test-helpers/test-cases/abstract-application",["exports","ember-metal","ember-views","ember-application","ember-routing","ember-template-compiler","internal-test-helpers/test-cases/abstract","internal-test-helpers/run"],function(t,e,n,i,r,s,o,a){"use strict";var l=function(t){function o(){t.call(this),this.element=n.jQuery("#qunit-fixture")[0],this.application=e.run(i.Application,"create",this.applicationOptions),this.router=this.application.Router=r.Router.extend(this.routerOptions),this.applicationInstance=null}return g.inherits(o,t),o.prototype.teardown=function(){this.applicationInstance&&a.runDestroy(this.applicationInstance),a.runDestroy(this.application)},o.prototype.visit=function(t,n){var i=this,r=this.applicationInstance;return r?e.run(r,"visit",t,n):e.run(this.application,"visit",t,n).then(function(t){i.applicationInstance=t})},o.prototype.transitionTo=function(){return e.run.apply(void 0,[this.appRouter,"transitionTo"].concat(g.slice.call(arguments)))},o.prototype.compile=function(t,e){return s.compile.apply(void 0,arguments)},o.prototype.registerRoute=function(t,e){this.application.register("route:"+t,e)},o.prototype.registerTemplate=function(t,e){this.application.register("template:"+t,this.compile(e,{moduleName:t}))},o.prototype.registerComponent=function(t,e){var n=e.ComponentClass,i=void 0===n?null:n,r=e.template,s=void 0===r?null:r;i&&this.application.register("component:"+t,i),"string"==typeof s&&this.application.register("template:components/"+t,this.compile(s,{moduleName:"components/"+t}))},o.prototype.registerController=function(t,e){this.application.register("controller:"+t,e)},o.prototype.registerEngine=function(t,e){this.application.register("engine:"+t,e)},g.createClass(o,[{key:"applicationOptions",get:function(){return{rootElement:"#qunit-fixture",autoboot:!1}}},{key:"routerOptions",get:function(){return{location:"none"}}},{key:"appRouter",get:function(){return this.applicationInstance.lookup("router:main")}}]),o}(o.default);t.default=l}),o("internal-test-helpers/test-cases/abstract-rendering",["exports","ember-utils","ember-template-compiler","ember-views","ember-glimmer","internal-test-helpers/test-cases/abstract","internal-test-helpers/build-owner","internal-test-helpers/run"],function(t,e,n,i,r,s,o,a){"use strict";var l=window.Text,c=function(t){function s(){t.call(this);var e=this.owner=o.default({ownerOptions:this.getOwnerOptions(),bootOptions:this.getBootOptions(),resolver:this.getResolver()});this.renderer=this.owner.lookup("renderer:-dom"),this.element=i.jQuery("#qunit-fixture")[0],this.component=null,e.register("event_dispatcher:main",i.EventDispatcher),e.inject("event_dispatcher:main","_viewRegistry","-view-registry:main"),e.lookup("event_dispatcher:main").setup(this.getCustomDispatcherEvents(),this.element)}return g.inherits(s,t),s.prototype.compile=function(){return n.compile.apply(void 0,arguments)},s.prototype.getCustomDispatcherEvents=function(){return{}},s.prototype.getOwnerOptions=function(){},s.prototype.getBootOptions=function(){},s.prototype.getResolver=function(){},s.prototype.teardown=function(){this.component&&a.runDestroy(this.component),this.owner&&a.runDestroy(this.owner)},s.prototype.render=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=this.owner;i.register("template:-top-level",this.compile(t,{moduleName:"-top-level"}));var s=e.assign({},n,{tagName:"",layoutName:"-top-level"});i.register("component:-top-level",r.Component.extend(s)),this.component=i.lookup("component:-top-level"),a.runAppend(this.component)},s.prototype.rerender=function(){this.component.rerender()},s.prototype.registerHelper=function(t,e){var n=typeof e;if("function"===n)this.owner.register("helper:"+t,r.helper(e));else{if("object"!==n||null===n)throw new Error("Cannot register "+e+" as a helper");this.owner.register("helper:"+t,r.Helper.extend(e))}},s.prototype.registerPartial=function(t,e){var n=this.env.owner||this.owner;if("string"==typeof e){var i="template:"+t;n.register(i,this.compile(e,{moduleName:i}))}},s.prototype.registerComponent=function(t,e){var n=e.ComponentClass,i=void 0===n?null:n,r=e.template,s=void 0===r?null:r,o=this.owner;i&&o.register("component:"+t,i),"string"==typeof s&&o.register("template:components/"+t,this.compile(s,{moduleName:"components/"+t}))},s.prototype.registerTemplate=function(t,e){var n=this.owner;if("string"!=typeof e)throw new Error('Registered template "'+t+'" must be a string');n.register("template:"+t,this.compile(e,{moduleName:t}))},s.prototype.registerService=function(t,e){this.owner.register("service:"+t,e)},s.prototype.assertTextNode=function(t,e){if(!(t instanceof l))throw new Error("Expecting a text node, but got "+t);this.assert.strictEqual(t.textContent,e,"node.textContent")},g.createClass(s,[{key:"context",get:function(){return this.component}}]),s}(s.default);t.default=c}),o("internal-test-helpers/test-cases/abstract",["exports","ember-utils","ember-metal","ember-views","internal-test-helpers/equal-inner-html","internal-test-helpers/equal-tokens","internal-test-helpers/matchers"],function(t,e,n,i,r,s,o){"use strict";function a(t){return t instanceof u&&""===t.textContent||t instanceof l&&""===t.textContent}var l=window.Text,c=window.HTMLElement,u=window.Comment,Q=function(){function t(){this.element=null,this.snapshot=null,this.assert=QUnit.config.current.assert}return t.prototype.teardown=function(){},t.prototype.runTask=function(t){n.run(t)},t.prototype.runTaskNext=function(t){n.run.next(t)},t.prototype.nthChild=function(t){for(var e=0,n=this.element.firstChild;n&&(a(n)||e++,!(e>t));)n=n.nextSibling;return n},t.prototype.$=function(t){return t?i.jQuery(t,this.element):i.jQuery(this.element)},t.prototype.textValue=function(){return this.$().text()},t.prototype.takeSnapshot=function(){for(var t=this.snapshot=[],e=this.element.firstChild;e;)a(e)||t.push(e),e=e.nextSibling;return t},t.prototype.assertText=function(t){this.assert.strictEqual(this.textValue(),t,"#qunit-fixture content should be: `"+t+"`")},t.prototype.assertInnerHTML=function(t){r.default(this.element,t)},t.prototype.assertHTML=function(t){s.default(this.element,t,"#qunit-fixture content should be: `"+t+"`")},t.prototype.assertElement=function(t,e){var n=e.ElementType,i=void 0===n?c:n,r=e.tagName,s=e.attrs,a=void 0===s?null:s,l=e.content,g=void 0===l?null:l;if(!(t instanceof i))throw new Error("Expecting a "+i.name+", but got "+t);o.equalsElement(t,r,a,g)},t.prototype.assertComponentElement=function(t,n){var i=n.ElementType,r=void 0===i?c:i,s=n.tagName,a=void 0===s?"div":s,l=n.attrs,g=void 0===l?null:l,u=n.content,Q=void 0===u?null:u;g=e.assign({},{id:o.regex(/^ember\d*$/),class:o.classes("ember-view")},g||{}),this.assertElement(t,{ElementType:r,tagName:a,attrs:g,content:Q})},t.prototype.assertSameNode=function(t,e){this.assert.strictEqual(t,e,"DOM node stability")},t.prototype.assertInvariants=function(t,e){t=t||this.snapshot,e=e||this.takeSnapshot(),this.assert.strictEqual(e.length,t.length,"Same number of nodes");for(var n=0;n<t.length;n++)this.assertSameNode(e[n],t[n])},t.prototype.assertPartialInvariants=function(t,e){this.assertInvariants(this.snapshot,this.takeSnapshot().slice(t,e))},t.prototype.assertStableRerender=function(){var t=this;this.takeSnapshot(),this.runTask(function(){return t.rerender()}),this.assertInvariants()},g.createClass(t,[{key:"firstChild",get:function(){return this.nthChild(0)}},{key:"nodesCount",get:function(){for(var t=0,e=this.element.firstChild;e;)a(e)||t++,e=e.nextSibling;return t}}]),t}();t.default=Q}),o("internal-test-helpers/test-cases/application",["exports","internal-test-helpers/test-cases/abstract-application"],function(t,e){"use strict";var n=function(t){function e(){t.apply(this,arguments)}return g.inherits(e,t),e}(e.default);t.default=n}),o("internal-test-helpers/test-cases/query-param",["exports","ember-runtime","ember-routing","ember-metal","internal-test-helpers/test-cases/application"],function(t,e,n,i,r){"use strict";var s=function(t){function r(){t.call(this);var e=this;e.expectedPushURL=null,e.expectedReplaceURL=null,this.application.register("location:test",n.NoneLocation.extend({setURL:function(t){e.expectedReplaceURL&&e.assert.ok(!1,"pushState occurred but a replaceState was expected"),e.expectedPushURL&&(e.assert.equal(t,e.expectedPushURL,"an expected pushState occurred"),e.expectedPushURL=null),this.set("path",t)},replaceURL:function(t){e.expectedPushURL&&e.assert.ok(!1,"replaceState occurred but a pushState was expected"),e.expectedReplaceURL&&(e.assert.equal(t,e.expectedReplaceURL,"an expected replaceState occurred"),e.expectedReplaceURL=null),this.set("path",t)}}))}return g.inherits(r,t),r.prototype.visitAndAssert=function(t){var e=this;return this.visit.apply(this,arguments).then(function(){e.assertCurrentPath(t)})},r.prototype.getController=function(t){return this.applicationInstance.lookup("controller:"+t)},r.prototype.getRoute=function(t){return this.applicationInstance.lookup("route:"+t)},r.prototype.setAndFlush=function(t,e,n){return i.run(t,"set",e,n)},r.prototype.assertCurrentPath=function(t){var e=arguments.length<=1||void 0===arguments[1]?"current path equals '"+t+"'":arguments[1];return function(){this.assert.equal(this.appRouter.get("location.path"),t,e)}.apply(this,arguments)},r.prototype.setSingleQPController=function(t){var n,i=arguments.length<=1||void 0===arguments[1]?"foo":arguments[1],r=arguments.length<=2||void 0===arguments[2]?"bar":arguments[2],s=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];this.registerController(t,e.Controller.extend((n={queryParams:[i]},n[i]=r,n),s))},r.prototype.setMappedQPController=function(t){var n,i,r=arguments.length<=1||void 0===arguments[1]?"page":arguments[1],s=arguments.length<=2||void 0===arguments[2]?"parentPage":arguments[2],o=arguments.length<=3||void 0===arguments[3]?1:arguments[3],a=arguments.length<=4||void 0===arguments[4]?{}:arguments[4];this.registerController(t,e.Controller.extend((i={queryParams:(n={},n[r]=s,n)},i[r]=o,i),a))},g.createClass(r,[{key:"routerOptions",get:function(){return{location:"test"}}}]),r}(r.default);t.default=s}),o("internal-test-helpers/test-cases/rendering",["exports","ember-views","internal-test-helpers/test-cases/abstract-rendering"],function(t,e,n){"use strict";var i=function(t){function n(){t.call(this);var n=this.owner;this.env=n.lookup("service:-glimmer-environment"),n.register("component-lookup:main",e.ComponentLookup),n.registerOptionsForType("helper",{instantiate:!1}),n.registerOptionsForType("component",{singleton:!1})}return g.inherits(n,t),n}(n.default);t.default=i}),o("internal-test-helpers/test-groups",["exports","ember-environment","ember-metal"],function(t,e,n){"use strict";function i(t,i){function r(t,e){return n.get(t,e)}function s(t,e,i){return n.set(t,e,i)}function o(t,e){return t[e]}function a(t,e,n){return t[e]=n}QUnit.test(t+" using getFromEmberMetal()/Ember.set()",function(){i(r,s)}),QUnit.test(t+" using accessors",function(){e.ENV.USES_ACCESSORS?i(o,a):ok("SKIPPING ACCESSORS")})}function r(t,i){function r(t,e){return n.get(t,e)}function s(t,e,i){return n.getWithDefault(t,e,i)}function o(t,e,n){return t.getWithDefault(e,n)}function a(t,e,i){return n.set(t,e,i)}function l(t,e){return t[e]}function c(t,e,n){return t[e]=n}QUnit.test(t+" using obj.get()",function(){i(r,a)}),QUnit.test(t+" using obj.getWithDefault()",function(){i(o,a)}),QUnit.test(t+" using getFromEmberMetal()",function(){i(r,a)}),QUnit.test(t+" using Ember.getWithDefault()",function(){i(s,a)}),QUnit.test(t+" using accessors",function(){e.ENV.USES_ACCESSORS?i(l,c):ok("SKIPPING ACCESSORS")})}t.testBoth=i,t.testWithDefault=r}),o("glimmer-node/index",["exports","glimmer-node/lib/node-dom-helper"],function(t,e){"use strict";t.NodeDOMTreeConstruction=e.default}),o("glimmer-node/lib/node-dom-helper",["exports","glimmer-runtime"],function(t,e){"use strict";var n=function(t){function n(e){
t.call(this,e)}return g.inherits(n,t),n.prototype.setupUselessElement=function(){},n.prototype.insertHTMLBefore=function(t,n,i){var r=i?i.previousSibling:t.lastChild,s=this.document.createRawHTMLSection(n);t.insertBefore(s,i);var o=r?r.nextSibling:t.firstChild,a=i?i.previousSibling:t.lastChild;return new e.ConcreteBounds(t,o,a)},n.prototype.createElement=function(t){return this.document.createElement(t)},n.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},n}(e.DOMTreeConstruction);t.default=n}),o("glimmer-reference/index",["exports","glimmer-reference/lib/reference","glimmer-reference/lib/const","glimmer-reference/lib/validators","glimmer-reference/lib/utils","glimmer-reference/lib/iterable"],function(t,e,n,i,r,s){"use strict";t.BasicReference=e.Reference,t.BasicPathReference=e.PathReference,t.ConstReference=n.ConstReference,t.isConst=n.isConst,g.defaults(t,g.interopExportWildcard(i,g.defaults)),t.Reference=i.VersionedReference,t.PathReference=i.VersionedPathReference,t.referenceFromParts=r.referenceFromParts,t.IterationItem=s.IterationItem,t.Iterator=s.Iterator,t.Iterable=s.Iterable,t.OpaqueIterator=s.OpaqueIterator,t.OpaqueIterable=s.OpaqueIterable,t.AbstractIterator=s.AbstractIterator,t.AbstractIterable=s.AbstractIterable,t.IterationArtifacts=s.IterationArtifacts,t.ReferenceIterator=s.ReferenceIterator,t.IteratorSynchronizer=s.IteratorSynchronizer,t.IteratorSynchronizerDelegate=s.IteratorSynchronizerDelegate}),o("glimmer-reference/lib/const",["exports","glimmer-reference/lib/validators"],function(t,e){"use strict";function n(t){return t.tag===e.CONSTANT_TAG}t.isConst=n;var i=function(){function t(t){this.inner=t,this.tag=e.CONSTANT_TAG}return t.prototype.value=function(){return this.inner},t}();t.ConstReference=i}),o("glimmer-reference/lib/iterable",["exports","glimmer-util"],function(t,e){"use strict";var n=function(t){function e(e,n){t.call(this,e.valueReferenceFor(n)),this.retained=!1,this.seen=!1,this.key=n.key,this.iterable=e,this.memo=e.memoReferenceFor(n)}return g.inherits(e,t),e.prototype.update=function(t){this.retained=!0,this.iterable.updateValueReference(this.value,t),this.iterable.updateMemoReference(this.memo,t)},e.prototype.shouldRemove=function(){return!this.retained},e.prototype.reset=function(){this.retained=!1,this.seen=!1},e}(e.ListNode);t.ListItem=n;var i=function(){function t(t){this.map=e.dict(),this.list=new e.LinkedList,this.tag=t.tag,this.iterable=t}return t.prototype.isEmpty=function(){return(this.iterator=this.iterable.iterate()).isEmpty()},t.prototype.iterate=function(){var t=this.iterator||this.iterable.iterate();return this.iterator=null,t},t.prototype.has=function(t){return!!this.map[t]},t.prototype.get=function(t){return this.map[t]},t.prototype.wasSeen=function(t){var e=this.map[t];return e&&e.seen},t.prototype.append=function(t){var e=this.map,i=this.list,r=this.iterable,s=e[t.key]=new n(r,t);return i.append(s),s},t.prototype.insertBefore=function(t,e){var i=this.map,r=this.list,s=this.iterable,o=i[t.key]=new n(s,t);return o.retained=!0,r.insertBefore(o,e),o},t.prototype.move=function(t,e){var n=this.list;t.retained=!0,n.remove(t),n.insertBefore(t,e)},t.prototype.remove=function(t){this.list.remove(t),delete this.map[t.key]},t.prototype.nextNode=function(t){return this.list.nextNode(t)},t.prototype.head=function(){return this.list.head()},t}();t.IterationArtifacts=i;var r=function(){function t(t){this.iterator=null;var e=new i(t);this.artifacts=e}return t.prototype.next=function(){var t=this.artifacts,e=this.iterator=this.iterator||t.iterate(),n=e.next();return n?t.append(n):null},t}();t.ReferenceIterator=r;var s;!function(t){t[t.Append=0]="Append",t[t.Prune=1]="Prune",t[t.Done=2]="Done"}(s||(s={}));var o=function(){function t(t){var e=t.target,n=t.artifacts;this.target=e,this.artifacts=n,this.iterator=n.iterate(),this.current=n.head()}return t.prototype.sync=function(){for(var t=s.Append;;)switch(t){case s.Append:t=this.nextAppend();break;case s.Prune:t=this.nextPrune();break;case s.Done:return void this.nextDone()}},t.prototype.advanceToKey=function(t){for(var e=this.current,n=this.artifacts,i=e;i&&i.key!==t;)i.seen=!0,i=n.nextNode(i);this.current=i&&n.nextNode(i)},t.prototype.nextAppend=function(){var t=this.iterator,e=this.current,n=this.artifacts,i=t.next();if(null===i)return this.startPrune();var r=i.key;return e&&e.key===r?this.nextRetain(i):n.has(r)?this.nextMove(i):this.nextInsert(i),s.Append},t.prototype.nextRetain=function(t){var e=this.artifacts,n=this.current;n.update(t),this.current=e.nextNode(n),this.target.retain(t.key,n.value,n.memo)},t.prototype.nextMove=function(t){var e=this.current,n=this.artifacts,i=this.target,r=t.key,s=n.get(t.key);s.update(t),n.wasSeen(t.key)?(n.move(s,e),i.move(s.key,s.value,s.memo,e?e.key:null)):this.advanceToKey(r)},t.prototype.nextInsert=function(t){var e=this.artifacts,n=this.target,i=this.current,r=e.insertBefore(t,i);n.insert(r.key,r.value,r.memo,i?i.key:null)},t.prototype.startPrune=function(){return this.current=this.artifacts.head(),s.Prune},t.prototype.nextPrune=function(){var t=this.artifacts,e=this.target,n=this.current;if(null===n)return s.Done;var i=n;return this.current=t.nextNode(i),i.shouldRemove()?(t.remove(i),e.delete(i.key)):i.reset(),s.Prune},t.prototype.nextDone=function(){this.target.done()},t}();t.IteratorSynchronizer=o}),o("glimmer-reference/lib/reference",["exports"],function(t){"use strict"}),o("glimmer-reference/lib/utils",["exports"],function(t){"use strict";function e(t,e){for(var n=t,i=0;i<e.length;i++)n=n.get(e[i]);return n}t.referenceFromParts=e}),o("glimmer-reference/lib/validators",["exports"],function(t){"use strict";function e(t){for(var e=[],n=0,i=t.length;n<i;n++){var s=t[n].tag;if(s===C)return C;s!==F&&e.push(s)}return r(e)}function n(t){for(var e=[],n=t.head();null!==n;){var i=n.tag;if(i===C)return C;i!==F&&e.push(i),n=t.nextNode(n)}return r(e)}function i(t){for(var e=[],n=0,i=t.length;n<i;n++){var s=t[n];if(s===C)return C;s!==F&&e.push(s)}return r(e)}function r(t){switch(t.length){case 0:return F;case 1:return t[0];case 2:return new B(t[0],t[1]);default:return new I(t)}}function s(t,e){return new m(t,e)}function o(t){return t!==p}t.combineTagged=e,t.combineSlice=n,t.combine=i,t.map=s,t.isModified=o;t.CONSTANT=0;var a=1;t.INITIAL=a;t.VOLATILE=NaN;var l=function(){function t(){}return t.prototype.validate=function(t){return this.value()===t},t}();t.RevisionTag=l;var c=a,u=function(t){function e(){var e=arguments.length<=0||void 0===arguments[0]?c:arguments[0];t.call(this),this.revision=e}return g.inherits(e,t),e.prototype.value=function(){return this.revision},e.prototype.dirty=function(){this.revision=++c},e}(l);t.DirtyableTag=u;var Q=function(t){function e(){t.apply(this,arguments),this.lastChecked=null,this.lastValue=null}return g.inherits(e,t),e.prototype.value=function(){var t=this.lastChecked;this.lastValue;return t!==c&&(this.lastChecked=c,this.lastValue=this.compute()),this.lastValue},e.prototype.invalidate=function(){this.lastChecked=null},e}(l);t.CachedTag=Q;var B=function(t){function e(e,n){t.call(this),this.first=e,this.second=n}return g.inherits(e,t),e.prototype.compute=function(){return Math.max(this.first.value(),this.second.value())},e}(Q),I=function(t){function e(e){t.call(this),this.tags=e}return g.inherits(e,t),e.prototype.compute=function(){for(var t=this.tags,e=-1,n=0;n<t.length;n++){var i=t[n].value();e=Math.max(i,e)}return e},e}(Q),d=function(t){function e(e){t.call(this),this.tag=e,this.lastUpdated=a}return g.inherits(e,t),e.prototype.compute=function(){return Math.max(this.lastUpdated,this.tag.value())},e.prototype.update=function(t){t!==this.tag&&(this.tag=t,this.lastUpdated=c,this.invalidate())},e}(Q);t.UpdatableTag=d;var F=new(function(t){function e(){t.apply(this,arguments)}return g.inherits(e,t),e.prototype.value=function(){return 0},e}(l));t.CONSTANT_TAG=F;var C=new(function(t){function e(){t.apply(this,arguments)}return g.inherits(e,t),e.prototype.value=function(){return NaN},e}(l));t.VOLATILE_TAG=C;var U=new(function(t){function e(){t.apply(this,arguments)}return g.inherits(e,t),e.prototype.value=function(){return c},e}(u));t.CURRENT_TAG=U;var h=function(){function t(){this.lastRevision=null,this.lastValue=null}return t.prototype.value=function(){var t=this.tag,e=this.lastRevision,n=this.lastValue;return e&&t.validate(e)||(n=this.lastValue=this.compute(),this.lastRevision=t.value()),n},t.prototype.invalidate=function(){this.lastRevision=null},t}();t.CachedReference=h;var m=function(t){function e(e,n){t.call(this),this.tag=e.tag,this.reference=e,this.mapper=n}return g.inherits(e,t),e.prototype.compute=function(){var t=this.reference;return(0,this.mapper)(t.value())},e}(h),b=function(){function t(t){this.lastValue=null,this.lastRevision=null,this.initialized=!1,this.tag=t.tag,this.reference=t}return t.prototype.peek=function(){return this.initialized?this.lastValue:this.initialize()},t.prototype.revalidate=function(){if(!this.initialized)return this.initialize();var t=this.reference,e=this.lastRevision,n=t.tag;if(n.validate(e))return p;this.lastRevision=n.value();var i=this.lastValue,r=t.value();return r===i?p:(this.lastValue=r,r)},t.prototype.initialize=function(){var t=this.reference,e=this.lastValue=t.value();return this.lastRevision=t.tag.value(),this.initialized=!0,e},t}();t.ReferenceCache=b;var p="adb3b78e-3d22-4e4b-877a-6317c2c5c145"}),o("glimmer-runtime/index",["exports","glimmer-runtime/lib/dom/interfaces","glimmer-runtime/lib/syntax","glimmer-runtime/lib/template","glimmer-runtime/lib/symbol-table","glimmer-runtime/lib/references","glimmer-runtime/lib/syntax/core","glimmer-runtime/lib/compiled/opcodes/builder","glimmer-runtime/lib/compiler","glimmer-runtime/lib/opcode-builder","glimmer-runtime/lib/compiled/blocks","glimmer-runtime/lib/dom/attribute-managers","glimmer-runtime/lib/compiled/opcodes/content","glimmer-runtime/lib/compiled/expressions","glimmer-runtime/lib/compiled/expressions/args","glimmer-runtime/lib/compiled/expressions/function","glimmer-runtime/lib/helpers/get-dynamic-var","glimmer-runtime/lib/syntax/builtins/with-dynamic-vars","glimmer-runtime/lib/syntax/builtins/in-element","glimmer-runtime/lib/vm","glimmer-runtime/lib/upsert","glimmer-runtime/lib/environment","glimmer-runtime/lib/partial","glimmer-runtime/lib/component/interfaces","glimmer-runtime/lib/modifier/interfaces","glimmer-runtime/lib/dom/helper","glimmer-runtime/lib/builder","glimmer-runtime/lib/bounds"],function(t,e,n,i,r,s,o,a,l,c,g,u,Q,B,I,d,F,C,U,h,m,b,p,A,y,f,G,x){"use strict";t.ATTRIBUTE_SYNTAX=n.ATTRIBUTE,t.StatementSyntax=n.Statement,t.ExpressionSyntax=n.Expression,t.AttributeSyntax=n.Attribute,t.StatementCompilationBuffer=n.StatementCompilationBuffer,t.SymbolLookup=n.SymbolLookup,t.CompileInto=n.CompileInto,t.isAttribute=n.isAttribute,t.templateFactory=i.default,t.TemplateFactory=i.TemplateFactory,t.Template=i.Template,t.SymbolTable=r.default,t.NULL_REFERENCE=s.NULL_REFERENCE,t.UNDEFINED_REFERENCE=s.UNDEFINED_REFERENCE,t.PrimitiveReference=s.PrimitiveReference,t.ConditionalReference=s.ConditionalReference,t.Blocks=o.Blocks,t.OptimizedAppend=o.OptimizedAppend,t.UnoptimizedAppend=o.UnoptimizedAppend,t.Unknown=o.Unknown,t.StaticAttr=o.StaticAttr,t.DynamicAttr=o.DynamicAttr,t.ArgsSyntax=o.Args,t.NamedArgsSyntax=o.NamedArgs,t.PositionalArgsSyntax=o.PositionalArgs,t.RefSyntax=o.Ref,t.GetNamedParameterSyntax=o.GetArgument,t.GetSyntax=o.Get,t.ValueSyntax=o.Value,t.OpenElement=o.OpenElement,t.HelperSyntax=o.Helper,t.BlockSyntax=o.Block,t.OpenPrimitiveElementSyntax=o.OpenPrimitiveElement,t.CloseElementSyntax=o.CloseElement,t.OpcodeBuilderDSL=a.default,t.Compiler=l.default,t.Compilable=l.Compilable,t.CompileIntoList=l.CompileIntoList,t.compileLayout=l.compileLayout,t.ComponentBuilder=c.ComponentBuilder,t.StaticDefinition=c.StaticDefinition,t.DynamicDefinition=c.DynamicDefinition,t.Block=g.Block,t.CompiledBlock=g.CompiledBlock,t.Layout=g.Layout,t.InlineBlock=g.InlineBlock,t.EntryPoint=g.EntryPoint,t.IAttributeManager=u.AttributeManager,t.AttributeManager=u.AttributeManager,t.PropertyManager=u.PropertyManager,t.INPUT_VALUE_PROPERTY_MANAGER=u.INPUT_VALUE_PROPERTY_MANAGER,t.defaultManagers=u.defaultManagers,t.defaultAttributeManagers=u.defaultAttributeManagers,t.defaultPropertyManagers=u.defaultPropertyManagers,t.readDOMAttr=u.readDOMAttr,t.normalizeTextValue=Q.normalizeTextValue,t.CompiledExpression=B.CompiledExpression,t.CompiledArgs=I.CompiledArgs,t.CompiledNamedArgs=I.CompiledNamedArgs,t.CompiledPositionalArgs=I.CompiledPositionalArgs,t.EvaluatedArgs=I.EvaluatedArgs,t.EvaluatedNamedArgs=I.EvaluatedNamedArgs,t.EvaluatedPositionalArgs=I.EvaluatedPositionalArgs,t.FunctionExpression=d.FunctionExpression,t.getDynamicVar=F.default,t.WithDynamicVarsSyntax=C.default,t.InElementSyntax=U.default,t.VM=h.PublicVM,t.UpdatingVM=h.UpdatingVM,t.RenderResult=h.RenderResult,t.SafeString=m.SafeString,t.isSafeString=m.isSafeString,t.Scope=b.Scope,t.Environment=b.default,t.Helper=b.Helper,t.ParsedStatement=b.ParsedStatement,t.DynamicScope=b.DynamicScope,t.PartialDefinition=p.PartialDefinition,t.Component=A.Component,t.ComponentClass=A.ComponentClass,t.ComponentManager=A.ComponentManager,t.ComponentDefinition=A.ComponentDefinition,t.ComponentLayoutBuilder=A.ComponentLayoutBuilder,t.ComponentAttrsBuilder=A.ComponentAttrsBuilder,t.isComponentDefinition=A.isComponentDefinition,t.ModifierManager=y.ModifierManager,t.DOMChanges=f.default,t.IDOMChanges=f.DOMChanges,t.DOMTreeConstruction=f.DOMTreeConstruction,t.isWhitespace=f.isWhitespace,t.insertHTMLBefore=f.insertHTMLBefore,t.Simple=e,t.ElementStack=G.ElementStack,t.ElementOperations=G.ElementOperations,t.Bounds=x.default,t.ConcreteBounds=x.ConcreteBounds}),o("glimmer-runtime/lib/bounds",["exports"],function(t){"use strict";function e(t,e,n){return new a(t,e,n)}function n(t,e){return new l(t,e)}function i(t,e){for(var n=t.parentElement(),i=t.firstNode(),r=t.lastNode(),s=i;s;){var o=s.nextSibling;if(n.insertBefore(s,e),s===r)return o;s=o}return null}function r(t){for(var e=t.parentElement(),n=t.firstNode(),i=t.lastNode(),r=n;r;){var s=r.nextSibling;if(e.removeChild(r),r===i)return s;r=s}return null}t.bounds=e,t.single=n,t.move=i,t.clear=r;var s=function(t,e){this.element=t,this.nextSibling=e};t.Cursor=s;var o=function(){function t(t){this.bounds=t}return t.prototype.parentElement=function(){return this.bounds.parentElement()},t.prototype.firstNode=function(){return this.bounds.firstNode()},t.prototype.lastNode=function(){return this.bounds.lastNode()},t}();t.RealDOMBounds=o;var a=function(){function t(t,e,n){this.parentNode=t,this.first=e,this.last=n}return t.prototype.parentElement=function(){return this.parentNode},t.prototype.firstNode=function(){return this.first},t.prototype.lastNode=function(){return this.last},t}();t.ConcreteBounds=a;var l=function(){function t(t,e){this.parentNode=t,this.node=e}return t.prototype.parentElement=function(){return this.parentNode},t.prototype.firstNode=function(){return this.node},t.prototype.lastNode=function(){return this.node},t}();t.SingleNodeBounds=l}),o("glimmer-runtime/lib/builder",["exports","glimmer-runtime/lib/bounds","glimmer-util","glimmer-runtime/lib/compiled/opcodes/dom"],function(t,e,n,i){"use strict";var r=function(){function t(t){this.node=t}return t.prototype.firstNode=function(){return this.node},t}(),s=function(){function t(t){this.node=t}return t.prototype.lastNode=function(){return this.node},t}(),o=function(){function t(t){this.bounds=t}return t.prototype.parentElement=function(){return this.bounds.parentElement()},t.prototype.firstNode=function(){return this.bounds.firstNode()},t.prototype.lastNode=function(){return this.bounds.lastNode()},t.prototype.update=function(t){this.bounds=t},t}();t.Fragment=o;var a=function(){function t(t,e,r){this.constructing=null,this.operations=null,this.elementStack=new n.Stack,this.nextSiblingStack=new n.Stack,this.blockStack=new n.Stack,this.env=t,this.dom=t.getAppendOperations(),this.updateOperations=t.getDOM(),this.element=e,this.nextSibling=r,this.defaultOperations=new i.SimpleElementOperations(t),this.elementStack.push(this.element),this.nextSiblingStack.push(this.nextSibling)}return t.forInitialRender=function(e,n,i){return new t(e,n,i)},t.resume=function(e,n,i){var r=n.parentElement(),s=new t(e,r,i);return s.pushBlockTracker(n),s},t.prototype.block=function(){return this.blockStack.current},t.prototype.popElement=function(){var t=this.elementStack,e=this.nextSiblingStack,n=t.pop();return e.pop(),this.element=t.current,this.nextSibling=e.current,n},t.prototype.pushSimpleBlock=function(){var t=new l(this.element);return this.pushBlockTracker(t),t},t.prototype.pushUpdatableBlock=function(){var t=new u(this.element);return this.pushBlockTracker(t),t},t.prototype.pushBlockTracker=function(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n=this.blockStack.current;return null!==n&&(n.newDestroyable(t),e||n.newBounds(t)),this.blockStack.push(t),t},t.prototype.pushBlockList=function(t){var e=new Q(this.element,t),n=this.blockStack.current;return null!==n&&(n.newDestroyable(e),n.newBounds(e)),this.blockStack.push(e),e},t.prototype.popBlock=function(){return this.blockStack.current.finalize(this),this.blockStack.pop()},t.prototype.openElement=function(t){var e=arguments.length<=1||void 0===arguments[1]?this.defaultOperations:arguments[1],n=this.dom.createElement(t,this.element);return this.constructing=n,this.operations=e,n},t.prototype.flushElement=function(){var t=this.element,e=this.constructing;this.dom.insertBefore(t,e,this.nextSibling),this.constructing=null,this.operations=null,this.pushElement(e),this.blockStack.current.openElement(e)},t.prototype.pushRemoteElement=function(t){this.pushElement(t);var e=new c(t);this.pushBlockTracker(e,!0)},t.prototype.popRemoteElement=function(){this.popBlock(),this.popElement()},t.prototype.pushElement=function(t){this.element=t,this.elementStack.push(t),this.nextSibling=null,this.nextSiblingStack.push(null)},t.prototype.newDestroyable=function(t){this.blockStack.current.newDestroyable(t)},t.prototype.newBounds=function(t){this.blockStack.current.newBounds(t)},t.prototype.appendText=function(t){var e=this.dom,n=e.createTextNode(t);return e.insertBefore(this.element,n,this.nextSibling),this.blockStack.current.newNode(n),n},t.prototype.appendComment=function(t){var e=this.dom,n=e.createComment(t);return e.insertBefore(this.element,n,this.nextSibling),this.blockStack.current.newNode(n),n},t.prototype.setStaticAttribute=function(t,e){this.operations.addStaticAttribute(this.constructing,t,e)},t.prototype.setStaticAttributeNS=function(t,e,n){this.operations.addStaticAttributeNS(this.constructing,t,e,n)},t.prototype.setDynamicAttribute=function(t,e,n){this.operations.addDynamicAttribute(this.constructing,t,e,n)},t.prototype.setDynamicAttributeNS=function(t,e,n,i){this.operations.addDynamicAttributeNS(this.constructing,t,e,n,i)},t.prototype.closeElement=function(){this.blockStack.current.closeElement(),this.popElement()},t}();t.ElementStack=a;var l=function(){function t(t){this.parent=t,this.first=null,this.last=null,this.destroyables=null,this.nesting=0}return t.prototype.destroy=function(){var t=this.destroyables;if(t&&t.length)for(var e=0;e<t.length;e++)t[e].destroy()},t.prototype.parentElement=function(){return this.parent},t.prototype.firstNode=function(){return this.first&&this.first.firstNode()},t.prototype.lastNode=function(){return this.last&&this.last.lastNode()},t.prototype.openElement=function(t){this.newNode(t),this.nesting++},t.prototype.closeElement=function(){this.nesting--},t.prototype.newNode=function(t){0===this.nesting&&(this.first||(this.first=new r(t)),this.last=new s(t))},t.prototype.newBounds=function(t){0===this.nesting&&(this.first||(this.first=t),this.last=t)},t.prototype.newDestroyable=function(t){this.destroyables=this.destroyables||[],this.destroyables.push(t)},t.prototype.finalize=function(t){this.first||t.appendComment("")},t}();t.SimpleBlockTracker=l;var c=function(t){function n(){t.apply(this,arguments)}return g.inherits(n,t),n.prototype.destroy=function(){t.prototype.destroy.call(this),e.clear(this)},n}(l),u=function(t){function n(){t.apply(this,arguments)}return g.inherits(n,t),n.prototype.reset=function(t){var n=this.destroyables;if(n&&n.length)for(var i=0;i<n.length;i++)t.didDestroy(n[i]);var r=e.clear(this);return this.destroyables=null,this.first=null,this.last=null,r},n}(l);t.UpdatableBlockTracker=u;var Q=function(){function t(t,e){this.parent=t,this.boundList=e,this.parent=t,this.boundList=e}return t.prototype.destroy=function(){this.boundList.forEachNode(function(t){return t.destroy()})},t.prototype.parentElement=function(){return this.parent},t.prototype.firstNode=function(){return this.boundList.head().firstNode()},t.prototype.lastNode=function(){return this.boundList.tail().lastNode()},t.prototype.openElement=function(t){n.assert(!1,"Cannot openElement directly inside a block list")},t.prototype.closeElement=function(){n.assert(!1,"Cannot closeElement directly inside a block list")},t.prototype.newNode=function(t){n.assert(!1,"Cannot create a new node directly inside a block list")},t.prototype.newBounds=function(t){},t.prototype.newDestroyable=function(t){},t.prototype.finalize=function(t){},t}()}),o("glimmer-runtime/lib/compat/inner-html-fix",["exports","glimmer-runtime/lib/bounds","glimmer-runtime/lib/dom/helper"],function(t,e,n){"use strict";function i(t,e){if(!t)return e;if(!o(t))return e;var n=t.createElement("div");return function(t){function e(){t.apply(this,arguments)}return g.inherits(e,t),e.prototype.insertHTMLBefore=function(e,i,r){if(null===r||""===r)return t.prototype.insertHTMLBefore.call(this,e,i,r);var o=e.tagName.toLowerCase(),l=a[o];return void 0===l?t.prototype.insertHTMLBefore.call(this,e,i,r):s(e,l,n,r,i)},e}(e)}function r(t,e){if(!t)return e;if(!o(t))return e;var n=t.createElement("div");return function(t){function e(){t.apply(this,arguments)}return g.inherits(e,t),e.prototype.insertHTMLBefore=function(e,i,r){if(null===i||""===i)return t.prototype.insertHTMLBefore.call(this,e,i,r);var o=e.tagName.toLowerCase(),l=a[o];return void 0===l?t.prototype.insertHTMLBefore.call(this,e,i,r):s(e,l,n,i,r)},e}(e)}function s(t,i,r,s,o){var a=i.before+s+i.after;r.innerHTML=a;for(var l=r,c=0;c<i.depth;c++)l=l.childNodes[0];var g=n.moveNodesBefore(l,t,o),u=g[0],Q=g[1];return new e.ConcreteBounds(t,u,Q)}function o(t){var e=t.createElement("table");try{e.innerHTML="<tbody></tbody>"}catch(t){}finally{if(0!==e.childNodes.length)return!1}return!0}t.domChanges=i,t.treeConstruction=r;var a={colgroup:{depth:2,before:"<table><colgroup>",after:"</colgroup></table>"},table:{depth:1,before:"<table>",after:"</table>"},tbody:{depth:2,before:"<table><tbody>",after:"</tbody></table>"},tfoot:{depth:2,before:"<table><tfoot>",after:"</tfoot></table>"},thead:{depth:2,before:"<table><thead>",after:"</thead></table>"},tr:{depth:3,before:"<table><tbody><tr>",after:"</tr></tbody></table>"}}}),o("glimmer-runtime/lib/compat/svg-inner-html-fix",["exports","glimmer-runtime/lib/bounds","glimmer-runtime/lib/dom/helper"],function(t,e,n){"use strict";function i(t,e,n){if(!t)return e;if(!o(t,n))return e;var i=t.createElement("div");return function(t){function e(){t.apply(this,arguments)}return g.inherits(e,t),e.prototype.insertHTMLBefore=function(e,r,o){return null===o||""===o?t.prototype.insertHTMLBefore.call(this,e,r,o):e.namespaceURI!==n?t.prototype.insertHTMLBefore.call(this,e,r,o):s(e,i,o,r)},e}(e)}function r(t,e,n){if(!t)return e;if(!o(t,n))return e;var i=t.createElement("div");return function(t){function e(){t.apply(this,arguments)}return g.inherits(e,t),e.prototype.insertHTMLBefore=function(e,r,o){return null===r||""===r?t.prototype.insertHTMLBefore.call(this,e,r,o):e.namespaceURI!==n?t.prototype.insertHTMLBefore.call(this,e,r,o):s(e,i,r,o)},e}(e)}function s(t,i,r,s){var o="<svg>"+r+"</svg>";i.innerHTML=o;var a=n.moveNodesBefore(i.firstChild,t,s),l=a[0],c=a[1];return new e.ConcreteBounds(t,l,c)}function o(t,e){var n=t.createElementNS(e,"svg");try{n.insertAdjacentHTML("beforeEnd","<circle></circle>")}catch(t){}finally{return(1!==n.childNodes.length||n.firstChild.namespaceURI!==a)&&(n=null,!0)}}t.domChanges=i,t.treeConstruction=r;var a="http://www.w3.org/2000/svg"}),o("glimmer-runtime/lib/compat/text-node-merging-fix",["exports"],function(t){"use strict";function e(t,e){return t&&i(t)?function(t){function e(e){t.call(this,e),this.uselessComment=e.createComment("")}return g.inherits(e,t),e.prototype.insertHTMLBefore=function(e,n,i){if(null===i)return t.prototype.insertHTMLBefore.call(this,e,n,i);var r=!1,s=n?n.previousSibling:e.lastChild;s&&s instanceof Text&&(r=!0,e.insertBefore(this.uselessComment,n));var o=t.prototype.insertHTMLBefore.call(this,e,n,i);return r&&e.removeChild(this.uselessComment),o},e}(e):e}function n(t,e){return t&&i(t)?function(t){function e(e){t.call(this,e),this.uselessComment=this.createComment("")}return g.inherits(e,t),e.prototype.insertHTMLBefore=function(e,n,i){if(null===n)return t.prototype.insertHTMLBefore.call(this,e,n,i);var r=!1,s=i?i.previousSibling:e.lastChild;s&&s instanceof Text&&(r=!0,e.insertBefore(this.uselessComment,i));var o=t.prototype.insertHTMLBefore.call(this,e,n,i);return r&&e.removeChild(this.uselessComment),o},e}(e):e}function i(t){var e=t.createElement("div");return e.innerHTML="first",e.insertAdjacentHTML("beforeEnd","second"),2===e.childNodes.length?(e=null,!1):(e=null,!0)}t.domChanges=e,t.treeConstruction=n}),o("glimmer-runtime/lib/compiled/blocks",["exports","glimmer-runtime/lib/utils","glimmer-runtime/lib/compiler"],function(t,e,n){"use strict";var i=function(t,e){this.ops=t,this.symbols=e};t.CompiledBlock=i;var r=function(t,e){this.program=t,this.symbolTable=e,this.compiled=null};t.Block=r;var s=function(t){function r(n,i){var r=arguments.length<=2||void 0===arguments[2]?e.EMPTY_ARRAY:arguments[2];t.call(this,n,i),this.locals=r}return g.inherits(r,t),r.prototype.hasPositionalParameters=function(){return!!this.locals.length},r.prototype.compile=function(t){var e=this.compiled;if(e)return e;var r=new n.InlineBlockCompiler(this,t).compile();return this.compiled=new i(r,this.symbolTable.size)},r}(r);t.InlineBlock=s;var o=function(t){function e(){t.apply(this,arguments)}return g.inherits(e,t),e}(s);t.PartialBlock=o;var a=function(t){function e(){t.apply(this,arguments)}return g.inherits(e,t),e}(r);t.TopLevelTemplate=a;var l=function(t){function e(){t.apply(this,arguments)}return g.inherits(e,t),e.prototype.compile=function(t){var e=this.compiled;if(e)return e;var r=new n.EntryPointCompiler(this,t).compile();return this.compiled=new i(r,this.symbolTable.size)},e}(a);t.EntryPoint=l;var c=function(t){function e(e,n,i,r,s){t.call(this,e,n),this.named=i,this.yields=r,this.hasPartials=s,this.hasNamedParameters=!!this.named.length,this.hasYields=!!this.yields.length}return g.inherits(e,t),e}(a);t.Layout=c}),o("glimmer-runtime/lib/compiled/expressions",["exports"],function(t){"use strict";var e=function(){function t(){}return t.prototype.toJSON=function(){return"UNIMPL: "+this.type.toUpperCase()},t}();t.CompiledExpression=e}),o("glimmer-runtime/lib/compiled/expressions/args",["exports","glimmer-runtime/lib/compiled/expressions/positional-args","glimmer-runtime/lib/compiled/expressions/named-args","glimmer-runtime/lib/syntax/core","glimmer-reference"],function(t,e,n,i,r){"use strict";var s=function(){function t(t,e,n){this.positional=t,this.named=e,this.blocks=n}return t.create=function(t,r,s){return t===e.COMPILED_EMPTY_POSITIONAL_ARGS&&r===n.COMPILED_EMPTY_NAMED_ARGS&&s===i.EMPTY_BLOCKS?this.empty():new this(t,r,s)},t.empty=function(){return o},t.prototype.evaluate=function(t){var e=this.positional,n=this.named,i=this.blocks;return a.create(e.evaluate(t),n.evaluate(t),i)},t}();t.CompiledArgs=s;var o=new(function(t){function r(){t.call(this,e.COMPILED_EMPTY_POSITIONAL_ARGS,n.COMPILED_EMPTY_NAMED_ARGS,i.EMPTY_BLOCKS)}return g.inherits(r,t),r.prototype.evaluate=function(t){return l},r}(s)),a=function(){function t(t,e,n){this.positional=t,this.named=e,this.blocks=n,this.tag=r.combineTagged([t,e])}return t.empty=function(){return l},t.create=function(t,e,n){return new this(t,e,n)},t.positional=function(t){var r=arguments.length<=1||void 0===arguments[1]?i.EMPTY_BLOCKS:arguments[1];return new this(e.EvaluatedPositionalArgs.create(t),n.EVALUATED_EMPTY_NAMED_ARGS,r)},t.named=function(t){var r=arguments.length<=1||void 0===arguments[1]?i.EMPTY_BLOCKS:arguments[1];return new this(e.EVALUATED_EMPTY_POSITIONAL_ARGS,n.EvaluatedNamedArgs.create(t),r)},t}();t.EvaluatedArgs=a;var l=new a(e.EVALUATED_EMPTY_POSITIONAL_ARGS,n.EVALUATED_EMPTY_NAMED_ARGS,i.EMPTY_BLOCKS);t.CompiledPositionalArgs=e.CompiledPositionalArgs,t.EvaluatedPositionalArgs=e.EvaluatedPositionalArgs,t.CompiledNamedArgs=n.CompiledNamedArgs,t.EvaluatedNamedArgs=n.EvaluatedNamedArgs}),o("glimmer-runtime/lib/compiled/expressions/concat",["exports","glimmer-reference"],function(t,e){"use strict";function n(t){return"function"!=typeof t.toString?"":String(t)}var i=function(){function t(t){this.parts=t,this.type="concat"}return t.prototype.evaluate=function(t){for(var e=new Array(this.parts.length),n=0;n<this.parts.length;n++)e[n]=this.parts[n].evaluate(t);return new r(e)},t.prototype.toJSON=function(){return"concat("+this.parts.map(function(t){return t.toJSON()}).join(", ")+")"},t}();t.default=i;var r=function(t){function i(n){t.call(this),this.parts=n,this.tag=e.combineTagged(n)}return g.inherits(i,t),i.prototype.compute=function(){for(var t=new Array,e=0;e<this.parts.length;e++){var i=this.parts[e].value();null!==i&&void 0!==i&&(t[e]=n(this.parts[e].value()))}return t.length>0?t.join(""):null},i}(e.CachedReference)}),o("glimmer-runtime/lib/compiled/expressions/function",["exports","glimmer-runtime/lib/syntax","glimmer-runtime/lib/compiled/expressions"],function(t,e,n){"use strict";function i(t){return new r(t)}t.default=i;var r=function(t){function e(e){t.call(this),this.type="function-expression",this.func=e}return g.inherits(e,t),e.prototype.compile=function(t,e,n){return new s(this.func,n)},e}(e.Expression),s=function(t){function e(e,n){t.call(this),this.func=e,this.symbolTable=n,this.type="function",this.func=e}return g.inherits(e,t),e.prototype.evaluate=function(t){return(0,this.func)(t,this.symbolTable)},e.prototype.toJSON=function(){var t=this.func;return t.name?"`"+t.name+"(...)`":"`func(...)`"},e}(n.CompiledExpression)}),o("glimmer-runtime/lib/compiled/expressions/has-block",["exports","glimmer-runtime/lib/compiled/expressions","glimmer-runtime/lib/references"],function(t,e,n){"use strict";var i=function(t){function e(e){t.call(this),this.inner=e,this.type="has-block"}return g.inherits(e,t),e.prototype.evaluate=function(t){var e=this.inner.evaluate(t);return n.PrimitiveReference.create(!!e)},e.prototype.toJSON=function(){return"has-block("+this.inner.toJSON()+")"},e}(e.CompiledExpression);t.default=i;var r=function(t){function e(e){t.call(this),this.inner=e,this.type="has-block-params"}return g.inherits(e,t),e.prototype.evaluate=function(t){var e=this.inner.evaluate(t);return n.PrimitiveReference.create(!!(e&&e.locals.length>0))},e.prototype.toJSON=function(){return"has-block-params("+this.inner.toJSON()+")"},e}(e.CompiledExpression);t.CompiledHasBlockParams=r;var s=function(){function t(t,e){this.symbol=t,this.debug=e}return t.prototype.evaluate=function(t){return t.scope().getBlock(this.symbol)},t.prototype.toJSON=function(){return"get-block($"+this.symbol+"("+this.debug+"))"},t}();t.CompiledGetBlockBySymbol=s;var o=function(){function t(t,e){this.symbol=t,this.name=e}return t.prototype.evaluate=function(t){var e=this.symbol,n=this.name;return t.scope().getPartialArgs(e).blocks[n]},t.prototype.toJSON=function(){return"get-block($"+this.symbol+"($ARGS)."+this.name+"))"},t}();t.CompiledInPartialGetBlock=o}),o("glimmer-runtime/lib/compiled/expressions/helper",["exports","glimmer-runtime/lib/compiled/expressions"],function(t,e){"use strict"
;var n=function(t){function e(e,n,i,r){t.call(this),this.name=e,this.helper=n,this.args=i,this.symbolTable=r,this.type="helper"}return g.inherits(e,t),e.prototype.evaluate=function(t){return(0,this.helper)(t,this.args.evaluate(t),this.symbolTable)},e.prototype.toJSON=function(){return"`"+this.name.join(".")+"($ARGS)`"},e}(e.CompiledExpression);t.default=n}),o("glimmer-runtime/lib/compiled/expressions/lookups",["exports","glimmer-runtime/lib/compiled/expressions","glimmer-reference"],function(t,e,n){"use strict";var i=function(t){function e(e,n){t.call(this),this.base=e,this.path=n,this.type="lookup"}return g.inherits(e,t),e.create=function(t,e){return 0===e.length?t:new this(t,e)},e.prototype.evaluate=function(t){var e=this.base,i=this.path;return n.referenceFromParts(e.evaluate(t),i)},e.prototype.toJSON=function(){return this.base.toJSON()+"."+this.path.join(".")},e}(e.CompiledExpression);t.default=i;var r=function(t){function e(){t.apply(this,arguments)}return g.inherits(e,t),e.prototype.evaluate=function(t){return t.getSelf()},e.prototype.toJSON=function(){return"self"},e}(e.CompiledExpression);t.CompiledSelf=r;var s=function(t){function e(e,n){t.call(this),this.symbol=e,this.debug=n}return g.inherits(e,t),e.prototype.evaluate=function(t){return t.referenceForSymbol(this.symbol)},e.prototype.toJSON=function(){return"$"+this.symbol+"("+this.debug+")"},e}(e.CompiledExpression);t.CompiledSymbol=s;var o=function(t){function e(e,n){t.call(this),this.symbol=e,this.name=n}return g.inherits(e,t),e.prototype.evaluate=function(t){var e=this.symbol,n=this.name;return t.scope().getPartialArgs(e).named.get(n)},e.prototype.toJSON=function(){return"$"+this.symbol+"($ARGS)."+this.name},e}(e.CompiledExpression);t.CompiledInPartialName=o}),o("glimmer-runtime/lib/compiled/expressions/named-args",["exports","glimmer-runtime/lib/references","glimmer-runtime/lib/utils","glimmer-reference","glimmer-util"],function(t,e,n,i,r){"use strict";var s=function(){function t(t,e){this.keys=t,this.values=e,this.length=t.length,r.assert(t.length===e.length,"Keys and values do not have the same length")}return t.empty=function(){return o},t.create=function(t){var e=Object.keys(t),n=e.length;if(n>0){for(var i=[],r=0;r<n;r++)i[r]=t[e[r]];return new this(e,i)}return o},t.prototype.evaluate=function(t){for(var e=this.keys,n=this.values,i=this.length,r=new Array(i),s=0;s<i;s++)r[s]=n[s].evaluate(t);return new a(e,r)},t.prototype.toJSON=function(){var t=this.keys,e=this.values;return"{"+t.map(function(t,n){return t+": "+e[n].toJSON()}).join(", ")+"}"},t}();t.CompiledNamedArgs=s;var o=new(function(t){function e(){t.call(this,n.EMPTY_ARRAY,n.EMPTY_ARRAY)}return g.inherits(e,t),e.prototype.evaluate=function(t){return l},e.prototype.toJSON=function(){return"<EMPTY>"},e}(s));t.COMPILED_EMPTY_NAMED_ARGS=o;var a=function(){function t(t,e){var n=arguments.length<=2||void 0===arguments[2]?void 0:arguments[2];this.keys=t,this.values=e,this._map=n,this.tag=i.combineTagged(e),this.length=t.length,r.assert(t.length===e.length,"Keys and values do not have the same length")}return t.create=function(t){var e=Object.keys(t),n=e.length;if(n>0){for(var i=new Array(n),r=0;r<n;r++)i[r]=t[e[r]];return new this(e,i,t)}return l},t.empty=function(){return l},t.prototype.get=function(t){var n=this.keys,i=this.values,r=n.indexOf(t);return-1===r?e.UNDEFINED_REFERENCE:i[r]},t.prototype.has=function(t){return-1!==this.keys.indexOf(t)},t.prototype.value=function(){for(var t=this.keys,e=this.values,n=r.dict(),i=0;i<t.length;i++){var s=t[i],o=e[i];n[s]=o.value()}return n},g.createClass(t,[{key:"map",get:function(){var t=this._map;if(t)return t;t=this._map=r.dict();for(var e=this.keys,n=this.values,i=this.length,s=0;s<i;s++)t[e[s]]=n[s];return t}}]),t}();t.EvaluatedNamedArgs=a;var l=new(function(t){function i(){t.call(this,n.EMPTY_ARRAY,n.EMPTY_ARRAY,n.EMPTY_DICT)}return g.inherits(i,t),i.prototype.get=function(){return e.UNDEFINED_REFERENCE},i.prototype.has=function(t){return!1},i.prototype.value=function(){return n.EMPTY_DICT},i}(a));t.EVALUATED_EMPTY_NAMED_ARGS=l}),o("glimmer-runtime/lib/compiled/expressions/positional-args",["exports","glimmer-runtime/lib/references","glimmer-runtime/lib/utils","glimmer-reference"],function(t,e,n,i){"use strict";var r=function(){function t(t){this.values=t,this.length=t.length}return t.create=function(t){return t.length?new this(t):s},t.empty=function(){return s},t.prototype.evaluate=function(t){for(var e=this.values,n=this.length,i=new Array(n),r=0;r<n;r++)i[r]=e[r].evaluate(t);return o.create(i)},t.prototype.toJSON=function(){return"["+this.values.map(function(t){return t.toJSON()}).join(", ")+"]"},t}();t.CompiledPositionalArgs=r;var s=new(function(t){function e(){t.call(this,n.EMPTY_ARRAY)}return g.inherits(e,t),e.prototype.evaluate=function(t){return a},e.prototype.toJSON=function(){return"<EMPTY>"},e}(r));t.COMPILED_EMPTY_POSITIONAL_ARGS=s;var o=function(){function t(t){this.values=t,this.tag=i.combineTagged(t),this.length=t.length}return t.create=function(t){return new this(t)},t.empty=function(){return a},t.prototype.at=function(t){var n=this.values;return t<this.length?n[t]:e.UNDEFINED_REFERENCE},t.prototype.value=function(){for(var t=this.values,e=this.length,n=new Array(e),i=0;i<e;i++)n[i]=t[i].value();return n},t}();t.EvaluatedPositionalArgs=o;var a=new(function(t){function i(){t.call(this,n.EMPTY_ARRAY)}return g.inherits(i,t),i.prototype.at=function(){return e.UNDEFINED_REFERENCE},i.prototype.value=function(){return this.values},i}(o));t.EVALUATED_EMPTY_POSITIONAL_ARGS=a}),o("glimmer-runtime/lib/compiled/expressions/value",["exports","glimmer-runtime/lib/compiled/expressions","glimmer-runtime/lib/references"],function(t,e,n){"use strict";var i=function(t){function e(e){t.call(this),this.type="value",this.reference=n.PrimitiveReference.create(e)}return g.inherits(e,t),e.prototype.evaluate=function(t){return this.reference},e.prototype.toJSON=function(){return JSON.stringify(this.reference.value())},e}(e.CompiledExpression);t.default=i}),o("glimmer-runtime/lib/compiled/opcodes/builder",["exports","glimmer-runtime/lib/compiled/opcodes/component","glimmer-runtime/lib/compiled/opcodes/partial","glimmer-runtime/lib/compiled/opcodes/content","glimmer-runtime/lib/compiled/opcodes/dom","glimmer-runtime/lib/compiled/opcodes/lists","glimmer-runtime/lib/compiled/opcodes/vm","glimmer-util","glimmer-runtime/lib/utils"],function(t,e,n,i,r,s,o,a,l){"use strict";function c(t){return t&&"function"==typeof t.compile}var u=function(){function t(t){this.inner=t}return t.prototype.toOpSeq=function(){return this.inner.toOpSeq()},t.prototype.append=function(t){this.inner.append(t)},t.prototype.getLocalSymbol=function(t){return this.inner.getLocalSymbol(t)},t.prototype.hasLocalSymbol=function(t){return this.inner.hasLocalSymbol(t)},t.prototype.getNamedSymbol=function(t){return this.inner.getNamedSymbol(t)},t.prototype.hasNamedSymbol=function(t){return this.inner.hasNamedSymbol(t)},t.prototype.getBlockSymbol=function(t){return this.inner.getBlockSymbol(t)},t.prototype.hasBlockSymbol=function(t){return this.inner.hasBlockSymbol(t)},t.prototype.getPartialArgsSymbol=function(){return this.inner.getPartialArgsSymbol()},t.prototype.hasPartialArgsSymbol=function(){return this.inner.hasPartialArgsSymbol()},g.createClass(t,[{key:"component",get:function(){return this.inner.component}}]),t}();t.StatementCompilationBufferProxy=u;var Q=function(t){function c(e,n,i){t.call(this,e),this.symbolTable=n,this.env=i,this.labelsStack=new a.Stack}return g.inherits(c,t),c.prototype.startLabels=function(){this.labelsStack.push(a.dict())},c.prototype.stopLabels=function(){this.labelsStack.pop()},c.prototype.labelFor=function(t){var e=this.labels,n=e[t];return n||(n=e[t]=new o.LabelOpcode(t)),n},c.prototype.putPartialDefinition=function(t){this.append(new n.PutPartialDefinitionOpcode(t))},c.prototype.putDynamicPartialDefinition=function(){this.append(new n.PutDynamicPartialDefinitionOpcode(this.symbolTable))},c.prototype.evaluatePartial=function(){this.append(new n.EvaluatePartialOpcode(this.symbolTable))},c.prototype.putComponentDefinition=function(t){this.append(new e.PutComponentDefinitionOpcode(t))},c.prototype.putDynamicComponentDefinition=function(){this.append(new e.PutDynamicComponentDefinitionOpcode)},c.prototype.openComponent=function(t){var n=arguments.length<=1||void 0===arguments[1]?l.EMPTY_ARRAY:arguments[1];this.append(new e.OpenComponentOpcode(this.compile(t),n))},c.prototype.didCreateElement=function(){this.append(new e.DidCreateElementOpcode)},c.prototype.shadowAttributes=function(){this.append(new e.ShadowAttributesOpcode)},c.prototype.didRenderLayout=function(){this.append(new e.DidRenderLayoutOpcode)},c.prototype.closeComponent=function(){this.append(new e.CloseComponentOpcode)},c.prototype.cautiousAppend=function(){this.append(new i.OptimizedCautiousAppendOpcode)},c.prototype.trustingAppend=function(){this.append(new i.OptimizedTrustingAppendOpcode)},c.prototype.text=function(t){this.append(new r.TextOpcode(t))},c.prototype.openPrimitiveElement=function(t){this.append(new r.OpenPrimitiveElementOpcode(t))},c.prototype.openComponentElement=function(t){this.append(new r.OpenComponentElementOpcode(t))},c.prototype.openDynamicPrimitiveElement=function(){this.append(new r.OpenDynamicPrimitiveElementOpcode)},c.prototype.flushElement=function(){this.append(new r.FlushElementOpcode)},c.prototype.closeElement=function(){this.append(new r.CloseElementOpcode)},c.prototype.staticAttr=function(t,e,n){this.append(new r.StaticAttrOpcode(t,e,n))},c.prototype.dynamicAttrNS=function(t,e,n){this.append(new r.DynamicAttrNSOpcode(t,e,n))},c.prototype.dynamicAttr=function(t,e){this.append(new r.DynamicAttrOpcode(t,e))},c.prototype.comment=function(t){this.append(new r.CommentOpcode(t))},c.prototype.putIterator=function(){this.append(new s.PutIteratorOpcode)},c.prototype.enterList=function(t,e){this.append(new s.EnterListOpcode(this.labelFor(t),this.labelFor(e)))},c.prototype.exitList=function(){this.append(new s.ExitListOpcode)},c.prototype.enterWithKey=function(t,e){this.append(new s.EnterWithKeyOpcode(this.labelFor(t),this.labelFor(e)))},c.prototype.nextIter=function(t){this.append(new s.NextIterOpcode(this.labelFor(t)))},c.prototype.pushRemoteElement=function(){this.append(new r.PushRemoteElementOpcode)},c.prototype.popRemoteElement=function(){this.append(new r.PopRemoteElementOpcode)},c.prototype.popElement=function(){this.append(new r.PopElementOpcode)},c.prototype.label=function(t){this.append(this.labelFor(t))},c.prototype.pushChildScope=function(){this.append(new o.PushChildScopeOpcode)},c.prototype.popScope=function(){this.append(new o.PopScopeOpcode)},c.prototype.pushDynamicScope=function(){this.append(new o.PushDynamicScopeOpcode)},c.prototype.popDynamicScope=function(){this.append(new o.PopDynamicScopeOpcode)},c.prototype.putNull=function(){this.append(new o.PutNullOpcode)},c.prototype.putValue=function(t){this.append(new o.PutValueOpcode(this.compile(t)))},c.prototype.putArgs=function(t){this.append(new o.PutArgsOpcode(this.compile(t)))},c.prototype.bindDynamicScope=function(t){this.append(new o.BindDynamicScopeOpcode(t))},c.prototype.bindPositionalArgs=function(t,e){this.append(new o.BindPositionalArgsOpcode(t,e))},c.prototype.bindNamedArgs=function(t,e){this.append(new o.BindNamedArgsOpcode(t,e))},c.prototype.bindBlocks=function(t,e){this.append(new o.BindBlocksOpcode(t,e))},c.prototype.enter=function(t,e){this.append(new o.EnterOpcode(this.labelFor(t),this.labelFor(e)))},c.prototype.exit=function(){this.append(new o.ExitOpcode)},c.prototype.evaluate=function(t,e){this.append(new o.EvaluateOpcode(t,e))},c.prototype.test=function(t){if("const"===t)this.append(new o.TestOpcode(o.ConstTest));else if("simple"===t)this.append(new o.TestOpcode(o.SimpleTest));else if("environment"===t)this.append(new o.TestOpcode(o.EnvironmentTest));else{if("function"!=typeof t)throw new Error("unreachable");this.append(new o.TestOpcode(t))}},c.prototype.jump=function(t){this.append(new o.JumpOpcode(this.labelFor(t)))},c.prototype.jumpIf=function(t){this.append(new o.JumpIfOpcode(this.labelFor(t)))},c.prototype.jumpUnless=function(t){this.append(new o.JumpUnlessOpcode(this.labelFor(t)))},g.createClass(c,[{key:"labels",get:function(){return this.labelsStack.current}}]),c}(u);t.BasicOpcodeBuilder=Q;var B=function(t){function e(){t.apply(this,arguments)}return g.inherits(e,t),e.prototype.compile=function(t){return c(t)?t.compile(this,this.env,this.symbolTable):t},e.prototype.bindPositionalArgsForBlock=function(t){this.append(o.BindPositionalArgsOpcode.create(t))},e.prototype.preludeForLayout=function(t){t.hasNamedParameters&&this.append(o.BindNamedArgsOpcode.create(t)),(t.hasYields||t.hasPartials)&&this.append(new o.BindCallerScopeOpcode),t.hasYields&&this.append(o.BindBlocksOpcode.create(t)),t.hasPartials&&this.append(o.BindPartialArgsOpcode.create(t))},e.prototype.block=function(t,e){t&&this.putArgs(t),this.startLabels(),this.enter("BEGIN","END"),this.label("BEGIN"),e(this,"BEGIN","END"),this.label("END"),this.exit(),this.stopLabels()},e.prototype.iter=function(t){this.startLabels(),this.enterList("BEGIN","END"),this.label("ITER"),this.nextIter("BREAK"),this.enterWithKey("BEGIN","END"),this.label("BEGIN"),t(this,"BEGIN","END"),this.label("END"),this.exit(),this.jump("ITER"),this.label("BREAK"),this.exitList(),this.stopLabels()},e.prototype.unit=function(t){this.startLabels(),t(this),this.stopLabels()},e}(Q);t.default=B}),o("glimmer-runtime/lib/compiled/opcodes/component",["exports","glimmer-runtime/lib/opcodes","glimmer-runtime/lib/compiled/opcodes/vm","glimmer-reference"],function(t,e,n,i){"use strict";var r=function(t){function e(){t.apply(this,arguments),this.type="put-dynamic-component-definition"}return g.inherits(e,t),e.prototype.evaluate=function(t){var e=t.frame.getOperand(),r=i.isConst(e)?void 0:new i.ReferenceCache(e),s=r?r.peek():e.value();t.frame.setImmediate(s),r&&t.updateWith(new n.Assert(r))},e.prototype.toJSON=function(){return{guid:this._guid,type:this.type,args:["$OPERAND"]}},e}(e.Opcode);t.PutDynamicComponentDefinitionOpcode=r;var s=function(t){function e(e){t.call(this),this.definition=e,this.type="put-component-definition"}return g.inherits(e,t),e.prototype.evaluate=function(t){t.frame.setImmediate(this.definition)},e.prototype.toJSON=function(){return{guid:this._guid,type:this.type,args:[JSON.stringify(this.definition.name)]}},e}(e.Opcode);t.PutComponentDefinitionOpcode=s;var o=function(t){function e(e,n){t.call(this),this.args=e,this.shadow=n,this.type="open-component"}return g.inherits(e,t),e.prototype.evaluate=function(t){var e=this.args,n=this.shadow,i=t.frame.getImmediate(),r=t.pushDynamicScope(),s=t.scope(),o=i.manager,l=o.prepareArgs(i,e.evaluate(t),r),c=!!l.blocks.default,g=o.create(t.env,i,l,r,t.getSelf(),c),u=o.getDestructor(g);u&&t.newDestroyable(u);var Q=o.layoutFor(i,g,t.env),B=o.getSelf(g);t.beginCacheGroup(),t.stack().pushSimpleBlock(),t.pushRootScope(B,Q.symbols),t.invokeLayout(l,Q,s,g,o,n),t.updateWith(new a(i.name,g,o,l,r))},e.prototype.toJSON=function(){return{guid:this._guid,type:this.type,args:["$OPERAND"]}},e}(e.Opcode);t.OpenComponentOpcode=o;var a=function(t){function e(e,n,r,s,o){t.call(this),this.name=e,this.component=n,this.manager=r,this.args=s,this.dynamicScope=o,this.type="update-component";var a=r.getTag(n);this.tag=a?i.combine([s.tag,a]):s.tag}return g.inherits(e,t),e.prototype.evaluate=function(t){var e=this.component,n=this.manager,i=this.args,r=this.dynamicScope;n.update(e,i,r)},e.prototype.toJSON=function(){return{guid:this._guid,type:this.type,args:[JSON.stringify(this.name)]}},e}(e.UpdatingOpcode);t.UpdateComponentOpcode=a;var l=function(t){function e(){t.apply(this,arguments),this.type="did-create-element"}return g.inherits(e,t),e.prototype.evaluate=function(t){var e=t.frame.getManager(),n=t.frame.getComponent();e.didCreateElement(n,t.stack().constructing,t.stack().operations)},e.prototype.toJSON=function(){return{guid:this._guid,type:this.type,args:["$ARGS"]}},e}(e.Opcode);t.DidCreateElementOpcode=l;var c=function(t){function e(){t.apply(this,arguments),this.type="shadow-attributes"}return g.inherits(e,t),e.prototype.evaluate=function(t){var e=t.frame.getShadow();if(e){var n=t.frame.getArgs(),i=n.named;e.forEach(function(e){t.stack().setDynamicAttribute(e,i.get(e),!1)})}},e.prototype.toJSON=function(){return{guid:this._guid,type:this.type,args:["$ARGS"]}},e}(e.Opcode);t.ShadowAttributesOpcode=c;var u=function(t){function e(){t.apply(this,arguments),this.type="did-render-layout"}return g.inherits(e,t),e.prototype.evaluate=function(t){var e=t.frame.getManager(),n=t.frame.getComponent(),i=t.stack().popBlock();e.didRenderLayout(n,i),t.env.didCreate(n,e),t.updateWith(new Q(e,n,i))},e}(e.Opcode);t.DidRenderLayoutOpcode=u;var Q=function(t){function e(e,n,r){t.call(this),this.manager=e,this.component=n,this.bounds=r,this.type="did-update-layout",this.tag=i.CONSTANT_TAG}return g.inherits(e,t),e.prototype.evaluate=function(t){var e=this.manager,n=this.component,i=this.bounds;e.didUpdateLayout(n,i),t.env.didUpdate(n,e)},e}(e.UpdatingOpcode);t.DidUpdateLayoutOpcode=Q;var B=function(t){function e(){t.apply(this,arguments),this.type="close-component"}return g.inherits(e,t),e.prototype.evaluate=function(t){t.popScope(),t.popDynamicScope(),t.commitCacheGroup()},e}(e.Opcode);t.CloseComponentOpcode=B}),o("glimmer-runtime/lib/compiled/opcodes/content",["exports","glimmer-runtime/lib/upsert","glimmer-runtime/lib/component/interfaces","glimmer-runtime/lib/opcodes","glimmer-runtime/lib/vm/update","glimmer-reference","glimmer-util","glimmer-runtime/lib/bounds","glimmer-runtime/lib/builder","glimmer-runtime/lib/compiler","glimmer-runtime/lib/compiled/opcodes/builder","glimmer-runtime/lib/references","glimmer-runtime/lib/syntax/core"],function(t,e,n,i,r,s,o,a,l,c,u,Q,B){"use strict";function I(t){return null===t||void 0===t||"function"!=typeof t.toString}function d(t){return I(t)?"":String(t)}function F(t){return I(t)?"":e.isString(t)?t:e.isSafeString(t)?t.toHTML():e.isNode(t)?t:String(t)}function C(t){return I(t)?"":e.isString(t)?t:e.isSafeString(t)||e.isNode(t)?t:String(t)}t.normalizeTextValue=d;var U=function(t){function e(){t.apply(this,arguments)}return g.inherits(e,t),e.prototype.evaluate=function(t){var e=t.frame.getOperand(),n=this.normalize(e),i=void 0,r=void 0;s.isConst(e)?i=n.value():(r=new s.ReferenceCache(n),i=r.peek());var o=t.stack(),a=this.insert(t.env.getAppendOperations(),o,i),c=new l.Fragment(a.bounds);o.newBounds(c),r&&t.updateWith(this.updateWith(t,e,r,c,a))},e.prototype.toJSON=function(){return{guid:this._guid,type:this.type,args:["$OPERAND"]}},e}(i.Opcode);t.AppendOpcode=U;var h=function(t){function e(e,n){t.call(this),this.expression=e,this.symbolTable=n,this.deopted=null}return g.inherits(e,t),e.prototype.evaluate=function(e){if(this.deopted)e.pushEvalFrame(this.deopted);else{e.evaluateOperand(this.expression);var i=e.frame.getOperand().value();n.isComponentDefinition(i)?e.pushEvalFrame(this.deopt(e.env)):t.prototype.evaluate.call(this,e)}},e.prototype.deopt=function(t){var e=this,n=new c.CompileIntoList(t,null),i=new u.default(n,this.symbolTable,t);i.putValue(this.expression),i.test(m.create),i.block(null,function(t,n,i){t.jumpUnless("VALUE"),t.putDynamicComponentDefinition(),t.openComponent(B.Args.empty()),t.closeComponent(),t.jump(i),t.label("VALUE"),t.append(new e.AppendOpcode)});var r=this.deopted=i.toOpSeq();return this.expression=null,r},e.prototype.toJSON=function(){var t=this._guid,e=this.type,n=this.deopted;return n?{guid:t,type:e,deopted:!0,children:n.toArray().map(function(t){return t.toJSON()})}:{guid:t,type:e,args:[this.expression.toJSON()]}},e}(U);t.GuardedAppendOpcode=h;var m=function(t){function e(){t.apply(this,arguments)}return g.inherits(e,t),e.create=function(t){return new e(t)},e.prototype.toBool=function(t){return n.isComponentDefinition(t)},e}(Q.ConditionalReference),b=function(t){function e(e,n,i){t.call(this),this.cache=e,this.bounds=n,this.upsert=i,this.tag=e.tag}return g.inherits(e,t),e.prototype.evaluate=function(t){var e=this.cache.revalidate();if(s.isModified(e)){var n=this.bounds,i=this.upsert,r=t.dom;if(!this.upsert.update(r,e)){var o=new a.Cursor(n.parentElement(),a.clear(n));i=this.upsert=this.insert(t.env.getAppendOperations(),o,e)}n.update(i.bounds)}},e.prototype.toJSON=function(){var t=this._guid,e=this.type,n=this.cache;return{guid:t,type:e,details:{lastValue:JSON.stringify(n.peek())}}},e}(i.UpdatingOpcode),p=function(t){function e(e,n,i,r,o,a){t.call(this,n,i,r),this.reference=e,this.appendOpcode=o,this.state=a,this.deopted=null,this.tag=this._tag=new s.UpdatableTag(this.tag)}return g.inherits(e,t),e.prototype.evaluate=function(e){this.deopted?e.evaluateOpcode(this.deopted):n.isComponentDefinition(this.reference.value())?this.lazyDeopt(e):t.prototype.evaluate.call(this,e)},e.prototype.lazyDeopt=function(t){var e=this.bounds,n=this.appendOpcode,i=this.state,s=n.deopt(t.env),a=s.head().next.next,c=a.slice,g=new l.UpdatableBlockTracker(e.parentElement());g.newBounds(this.bounds);var u=new o.LinkedList;i.frame.condition=m.create(i.frame.operand);var Q=this.deopted=new r.TryOpcode(c,i,g,u);this._tag.update(Q.tag),t.evaluateOpcode(Q),t.throw(),this._tag=null,this.reference=null,this.cache=null,this.bounds=null,this.upsert=null,this.appendOpcode=null,this.state=null},e.prototype.toJSON=function(){var e=this._guid,n=this.type,i=this.deopted;return i?{guid:e,type:n,deopted:!0,children:[i.toJSON()]}:t.prototype.toJSON.call(this)},e}(b),A=function(t){function n(){t.apply(this,arguments),this.type="optimized-cautious-append"}return g.inherits(n,t),n.prototype.normalize=function(t){return s.map(t,C)},n.prototype.insert=function(t,n,i){return e.cautiousInsert(t,n,i)},n.prototype.updateWith=function(t,e,n,i,r){return new y(n,i,r)},n}(U);t.OptimizedCautiousAppendOpcode=A;var y=function(t){function n(){t.apply(this,arguments),this.type="optimized-cautious-update"}return g.inherits(n,t),n.prototype.insert=function(t,n,i){return e.cautiousInsert(t,n,i)},n}(b),f=function(t){function n(){t.apply(this,arguments),this.type="guarded-cautious-append",this.AppendOpcode=A}return g.inherits(n,t),n.prototype.normalize=function(t){return s.map(t,C)},n.prototype.insert=function(t,n,i){return e.cautiousInsert(t,n,i)},n.prototype.updateWith=function(t,e,n,i,r){return new G(e,n,i,r,this,t.capture())},n}(h);t.GuardedCautiousAppendOpcode=f;var G=function(t){function n(){t.apply(this,arguments),this.type="guarded-cautious-update"}return g.inherits(n,t),n.prototype.insert=function(t,n,i){return e.cautiousInsert(t,n,i)},n}(p),x=function(t){function n(){t.apply(this,arguments),this.type="optimized-trusting-append"}return g.inherits(n,t),n.prototype.normalize=function(t){return s.map(t,F)},n.prototype.insert=function(t,n,i){return e.trustingInsert(t,n,i)},n.prototype.updateWith=function(t,e,n,i,r){return new V(n,i,r)},n}(U);t.OptimizedTrustingAppendOpcode=x;var V=function(t){function n(){t.apply(this,arguments),this.type="optimized-trusting-update"}return g.inherits(n,t),n.prototype.insert=function(t,n,i){return e.trustingInsert(t,n,i)},n}(b),Z=function(t){function n(){t.apply(this,arguments),this.type="guarded-trusting-append",this.AppendOpcode=x}return g.inherits(n,t),n.prototype.normalize=function(t){return s.map(t,F)},n.prototype.insert=function(t,n,i){return e.trustingInsert(t,n,i)},n.prototype.updateWith=function(t,e,n,i,r){return new R(e,n,i,r,this,t.capture())},n}(h);t.GuardedTrustingAppendOpcode=Z;var R=function(t){function n(){t.apply(this,arguments),this.type="trusting-update"}return g.inherits(n,t),n.prototype.insert=function(t,n,i){return e.trustingInsert(t,n,i)},n}(p)}),o("glimmer-runtime/lib/compiled/opcodes/dom",["exports","glimmer-runtime/lib/opcodes","glimmer-util","glimmer-reference","glimmer-runtime/lib/references","glimmer-runtime/lib/compiled/opcodes/vm"],function(t,e,n,i,r,s){"use strict";function o(t){for(var e=[],n=0;n<t.length;n++){var i=t[n].value();!1!==i&&null!==i&&void 0!==i&&e.push(i)}return 0===e.length?null:e.join(" ")}function a(t){return JSON.stringify("<"+t.tagName.toLowerCase()+" />")}var l=function(t){function e(e){t.call(this),this.text=e,this.type="text"}return g.inherits(e,t),e.prototype.evaluate=function(t){t.stack().appendText(this.text)},e.prototype.toJSON=function(){return{guid:this._guid,type:this.type,args:[JSON.stringify(this.text)]}},e}(e.Opcode);t.TextOpcode=l;var c=function(t){function e(e){t.call(this),this.tag=e,this.type="open-primitive-element"}return g.inherits(e,t),e.prototype.evaluate=function(t){t.stack().openElement(this.tag)},e.prototype.toJSON=function(){return{guid:this._guid,type:this.type,args:[JSON.stringify(this.tag)]}},e}(e.Opcode);t.OpenPrimitiveElementOpcode=c;var u=function(t){function e(){t.apply(this,arguments),this.type="push-remote-element"}return g.inherits(e,t),e.prototype.evaluate=function(t){var e=t.frame.getOperand(),n=i.isConst(e)?void 0:new i.ReferenceCache(e),r=n?n.peek():e.value();t.stack().pushRemoteElement(r),n&&t.updateWith(new s.Assert(n))},e.prototype.toJSON=function(){return{guid:this._guid,type:this.type,args:["$OPERAND"]}},e}(e.Opcode);t.PushRemoteElementOpcode=u;var Q=function(t){function e(){t.apply(this,arguments),this.type="pop-remote-element"}return g.inherits(e,t),e.prototype.evaluate=function(t){t.stack().popRemoteElement()},e}(e.Opcode);t.PopRemoteElementOpcode=Q;var B=function(t){function e(e){t.call(this),this.tag=e,this.type="open-component-element"}return g.inherits(e,t),e.prototype.evaluate=function(t){t.stack().openElement(this.tag,new U(t.env))},e.prototype.toJSON=function(){return{guid:this._guid,type:this.type,args:[JSON.stringify(this.tag)]}},e}(e.Opcode);t.OpenComponentElementOpcode=B;var I=function(t){function e(){t.apply(this,arguments),this.type="open-dynamic-primitive-element"}return g.inherits(e,t),e.prototype.evaluate=function(t){var e=t.frame.getOperand().value();t.stack().openElement(e)},e.prototype.toJSON=function(){return{guid:this._guid,type:this.type,args:["$OPERAND"]}},e}(e.Opcode);t.OpenDynamicPrimitiveElementOpcode=I;var d=function(){function t(){this.list=null,this.isConst=!0}return t.prototype.append=function(t){var e=this.list,n=this.isConst;null===e&&(e=this.list=[]),e.push(t),this.isConst=n&&i.isConst(t)},t.prototype.toReference=function(){var t=this.list,e=this.isConst;return t?e?r.PrimitiveReference.create(o(t)):new F(t):r.NULL_REFERENCE},t}(),F=function(t){function e(e){t.call(this),this.list=[],this.tag=i.combineTagged(e),this.list=e}return g.inherits(e,t),e.prototype.compute=function(){return o(this.list)},e}(i.CachedReference),C=function(){function t(t){this.env=t,this.opcodes=null,this.classList=null}return t.prototype.addStaticAttribute=function(t,e,n){"class"===e?this.addClass(r.PrimitiveReference.create(n)):this.env.getAppendOperations().setAttribute(t,e,n)},t.prototype.addStaticAttributeNS=function(t,e,n,i){this.env.getAppendOperations().setAttribute(t,n,i,e)},t.prototype.addDynamicAttribute=function(t,e,n,i){if("class"===e)this.addClass(n);else{var r=this.env.attributeFor(t,e,i),s=new G(t,r,e,n);this.addAttribute(s)}},t.prototype.addDynamicAttributeNS=function(t,e,n,i,r){var s=this.env.attributeFor(t,n,r,e),o=new G(t,s,n,i,e);this.addAttribute(o)},t.prototype.flush=function(t,e){for(var n=e.env,i=this.opcodes,r=this.classList,s=0;i&&s<i.length;s++)e.updateWith(i[s]);if(r){var o=n.attributeFor(t,"class",!1),a=new G(t,o,"class",r.toReference()),l=a.flush(n);l&&e.updateWith(l)}this.opcodes=null,this.classList=null},t.prototype.addClass=function(t){var e=this.classList;e||(e=this.classList=new d),e.append(t)},t.prototype.addAttribute=function(t){var e=t.flush(this.env);if(e){var n=this.opcodes;n||(n=this.opcodes=[]),n.push(e)}},t}();t.SimpleElementOperations=C;var U=function(){function t(t){this.env=t,this.attributeNames=null,this.attributes=null,this.classList=null}return t.prototype.addStaticAttribute=function(t,e,n){"class"===e?this.addClass(r.PrimitiveReference.create(n)):this.shouldAddAttribute(e)&&this.addAttribute(e,new f(t,e,n))},t.prototype.addStaticAttributeNS=function(t,e,n,i){this.shouldAddAttribute(n)&&this.addAttribute(n,new f(t,n,i,e))},t.prototype.addDynamicAttribute=function(t,e,n,i){if("class"===e)this.addClass(n);else if(this.shouldAddAttribute(e)){var r=this.env.attributeFor(t,e,i),s=new G(t,r,e,n);this.addAttribute(e,s)}},t.prototype.addDynamicAttributeNS=function(t,e,n,i,r){if(this.shouldAddAttribute(n)){var s=this.env.attributeFor(t,n,r,e),o=new G(t,s,n,i,e);this.addAttribute(n,o)}},t.prototype.flush=function(t,e){for(var n=this.env,i=this.attributes,r=this.classList,s=0;i&&s<i.length;s++){var o=i[s].flush(n);o&&e.updateWith(o)}if(r){var a=n.attributeFor(t,"class",!1),l=new G(t,a,"class",r.toReference()),o=l.flush(n);o&&e.updateWith(o)}},t.prototype.shouldAddAttribute=function(t){return!this.attributeNames||-1===this.attributeNames.indexOf(t)},t.prototype.addClass=function(t){var e=this.classList;e||(e=this.classList=new d),e.append(t)},t.prototype.addAttribute=function(t,e){var n=this.attributeNames,i=this.attributes;n||(n=this.attributeNames=[],i=this.attributes=[]),n.push(t),i.push(e)},t}();t.ComponentElementOperations=U;var h=function(t){function e(){t.apply(this,arguments),this.type="flush-element"}return g.inherits(e,t),e.prototype.evaluate=function(t){var e=t.stack();e.operations.flush(e.constructing,t),e.flushElement()},e}(e.Opcode);t.FlushElementOpcode=h;var m=function(t){function e(){t.apply(this,arguments),this.type="close-element"}return g.inherits(e,t),e.prototype.evaluate=function(t){t.stack().closeElement()},e}(e.Opcode);t.CloseElementOpcode=m;var b=function(t){function e(){t.apply(this,arguments),this.type="pop-element"}return g.inherits(e,t),e.prototype.evaluate=function(t){t.stack().popElement()},e}(e.Opcode);t.PopElementOpcode=b;var p=function(t){function e(e,n,i){t.call(this),this.namespace=e,this.name=n,this.value=i,this.type="static-attr"}return g.inherits(e,t),e.prototype.evaluate=function(t){var e=this.name,n=this.value,i=this.namespace;i?t.stack().setStaticAttributeNS(i,e,n):t.stack().setStaticAttribute(e,n)},e.prototype.toJSON=function(){var t=this._guid,e=this.type,i=this.namespace,r=this.name,s=this.value,o=n.dict();return i&&(o.namespace=JSON.stringify(i)),o.name=JSON.stringify(r),o.value=JSON.stringify(s),{guid:t,type:e,details:o}},e}(e.Opcode);t.StaticAttrOpcode=p;var A=function(t){function e(e,n,i){t.call(this),this.name=e,this.manager=n,this.args=i,this.type="modifier"}return g.inherits(e,t),e.prototype.evaluate=function(t){var e=this.manager,n=t.stack(),i=n.constructing,r=n.updateOperations,s=this.args.evaluate(t),o=t.dynamicScope(),a=e.create(i,s,o,r);t.env.scheduleInstallModifier(a,e);var l=e.getDestructor(a);l&&t.newDestroyable(l),t.updateWith(new y(e,a,s))},e.prototype.toJSON=function(){var t=this._guid,e=this.type,i=this.name,r=this.args,s=n.dict();return s.type=JSON.stringify(e),s.name=JSON.stringify(i),s.args=JSON.stringify(r),{guid:t,type:e,details:s}},e}(e.Opcode);t.ModifierOpcode=A;var y=function(t){function e(e,n,i){t.call(this),this.manager=e,this.modifier=n,this.args=i,this.type="update-modifier",this.tag=i.tag,this.lastUpdated=i.tag.value()}return g.inherits(e,t),e.prototype.evaluate=function(t){var e=this.manager,n=this.modifier,i=this.tag,r=this.lastUpdated;i.validate(r)||(t.env.scheduleUpdateModifier(n,e),this.lastUpdated=i.value())},e.prototype.toJSON=function(){return{guid:this._guid,type:this.type,args:[JSON.stringify(this.args)]}},e}(e.UpdatingOpcode);t.UpdateModifierOpcode=y;var f=function(){function t(t,e,n,i){this.element=t,this.name=e,this.value=n,this.namespace=i}return t.prototype.flush=function(t){return t.getAppendOperations().setAttribute(this.element,this.name,this.value,this.namespace),null},t}();t.StaticAttribute=f;var G=function(){function t(t,e,n,i,r){this.element=t,this.attributeManager=e,this.name=n,this.reference=i,this.namespace=r,this.tag=i.tag,this.cache=null}
return t.prototype.patch=function(t){var e=this.element,n=this.cache,r=n.revalidate();i.isModified(r)&&this.attributeManager.updateAttribute(t,e,r,this.namespace)},t.prototype.flush=function(t){var e=this.reference,n=this.element;if(i.isConst(e)){var r=e.value();return this.attributeManager.setAttribute(t,n,r,this.namespace),null}var s=this.cache=new i.ReferenceCache(e),r=s.peek();return this.attributeManager.setAttribute(t,n,r,this.namespace),new Z(this)},t.prototype.toJSON=function(){var t=this.element,e=this.namespace,n=this.name,i=this.cache,r=a(t),s=i.peek();return{element:r,type:"attribute",namespace:e,name:n,lastValue:s}},t}();t.DynamicAttribute=G;var x=function(t){function e(e,n,i){t.call(this),this.name=e,this.namespace=n,this.isTrusting=i,this.type="dynamic-attr"}return g.inherits(e,t),e.prototype.evaluate=function(t){var e=this.name,n=this.namespace,i=this.isTrusting,r=t.frame.getOperand();t.stack().setDynamicAttributeNS(n,e,r,i)},e.prototype.toJSON=function(){var t=this._guid,e=this.type,i=this.name,r=this.namespace,s=n.dict();return s.name=JSON.stringify(i),s.value="$OPERAND",r&&(s.namespace=JSON.stringify(r)),{guid:t,type:e,details:s}},e}(e.Opcode);t.DynamicAttrNSOpcode=x;var V=function(t){function e(e,n){t.call(this),this.name=e,this.isTrusting=n,this.type="dynamic-attr"}return g.inherits(e,t),e.prototype.evaluate=function(t){var e=this.name,n=this.isTrusting,i=t.frame.getOperand();t.stack().setDynamicAttribute(e,i,n)},e.prototype.toJSON=function(){var t=this._guid,e=this.type,i=this.name,r=n.dict();return r.name=JSON.stringify(i),r.value="$OPERAND",{guid:t,type:e,details:r}},e}(e.Opcode);t.DynamicAttrOpcode=V;var Z=function(t){function e(e){t.call(this),this.type="patch-element",this.tag=e.tag,this.operation=e}return g.inherits(e,t),e.prototype.evaluate=function(t){this.operation.patch(t.env)},e.prototype.toJSON=function(){return{guid:this._guid,type:this.type,details:this.operation.toJSON()}},e}(e.UpdatingOpcode);t.PatchElementOpcode=Z;var R=function(t){function e(e){t.call(this),this.comment=e,this.type="comment"}return g.inherits(e,t),e.prototype.evaluate=function(t){t.stack().appendComment(this.comment)},e.prototype.toJSON=function(){return{guid:this._guid,type:this.type,args:[JSON.stringify(this.comment)]}},e}(e.Opcode);t.CommentOpcode=R}),o("glimmer-runtime/lib/compiled/opcodes/lists",["exports","glimmer-runtime/lib/opcodes","glimmer-runtime/lib/compiled/expressions/args","glimmer-util","glimmer-reference"],function(t,e,n,i,r){"use strict";var s=function(){function t(t){this.tag=t.tag,this.artifacts=t}return t.prototype.value=function(){return!this.artifacts.isEmpty()},t}(),o=function(t){function e(){t.apply(this,arguments),this.type="put-iterator"}return g.inherits(e,t),e.prototype.evaluate=function(t){var e=t.frame.getOperand(),n=t.frame.getArgs(),i=t.env.iterableFor(e,n),o=new r.ReferenceIterator(i);t.frame.setIterator(o),t.frame.setCondition(new s(o.artifacts))},e}(e.Opcode);t.PutIteratorOpcode=o;var a=function(t){function e(e,n){t.call(this),this.type="enter-list",this.slice=new i.ListSlice(e,n)}return g.inherits(e,t),e.prototype.evaluate=function(t){t.enterList(this.slice)},e.prototype.toJSON=function(){var t=this.slice,e=this.type,n=this._guid,i=t.head(),r=t.tail();return{guid:n,type:e,args:[JSON.stringify(i.inspect()),JSON.stringify(r.inspect())]}},e}(e.Opcode);t.EnterListOpcode=a;var l=function(t){function e(){t.apply(this,arguments),this.type="exit-list"}return g.inherits(e,t),e.prototype.evaluate=function(t){t.exitList()},e}(e.Opcode);t.ExitListOpcode=l;var c=function(t){function e(e,n){t.call(this),this.type="enter-with-key",this.slice=new i.ListSlice(e,n)}return g.inherits(e,t),e.prototype.evaluate=function(t){t.enterWithKey(t.frame.getKey(),this.slice)},e.prototype.toJSON=function(){var t=this.slice,e=this._guid,n=this.type,i=t.head(),r=t.tail();return{guid:e,type:n,args:[JSON.stringify(i.inspect()),JSON.stringify(r.inspect())]}},e}(e.Opcode);t.EnterWithKeyOpcode=c;var u=new r.ConstReference(!0),Q=new r.ConstReference(!1),B=function(t){function e(e){t.call(this),this.type="next-iter",this.end=e}return g.inherits(e,t),e.prototype.evaluate=function(t){var e=t.frame.getIterator().next();e?(t.frame.setCondition(u),t.frame.setKey(e.key),t.frame.setOperand(e.value),t.frame.setArgs(n.EvaluatedArgs.positional([e.value,e.memo]))):(t.frame.setCondition(Q),t.goto(this.end))},e}(e.Opcode);t.NextIterOpcode=B}),o("glimmer-runtime/lib/compiled/opcodes/partial",["exports","glimmer-util","glimmer-reference","glimmer-runtime/lib/opcodes","glimmer-runtime/lib/compiled/opcodes/vm"],function(t,e,n,i,r){"use strict";var s=function(t){function e(e){t.call(this),this.symbolTable=e,this.type="put-dynamic-partial-definition"}return g.inherits(e,t),e.prototype.evaluate=function(t){function e(t){var e=String(t);if(!i.hasPartial(e,s))throw new Error('Could not find a partial named "'+e+'"');return i.lookupPartial(e,s)}var i=t.env,s=this.symbolTable,o=n.map(t.frame.getOperand(),e),a=n.isConst(o)?void 0:new n.ReferenceCache(o),l=a?a.peek():o.value();t.frame.setImmediate(l),a&&t.updateWith(new r.Assert(a))},e.prototype.toJSON=function(){return{guid:this._guid,type:this.type,args:["$OPERAND"]}},e}(i.Opcode);t.PutDynamicPartialDefinitionOpcode=s;var o=function(t){function e(e){t.call(this),this.definition=e,this.type="put-partial-definition"}return g.inherits(e,t),e.prototype.evaluate=function(t){t.frame.setImmediate(this.definition)},e.prototype.toJSON=function(){return{guid:this._guid,type:this.type,args:[JSON.stringify(this.definition.name)]}},e}(i.Opcode);t.PutPartialDefinitionOpcode=o;var a=function(t){function n(n){t.call(this),this.symbolTable=n,this.type="evaluate-partial",this.cache=e.dict()}return g.inherits(n,t),n.prototype.evaluate=function(t){var e=t.frame.getImmediate(),n=e.template,i=this.cache[n.id];i||(i=n.asPartial(this.symbolTable)),t.invokePartial(i)},n.prototype.toJSON=function(){return{guid:this._guid,type:this.type,args:["$OPERAND"]}},n}(i.Opcode);t.EvaluatePartialOpcode=a}),o("glimmer-runtime/lib/compiled/opcodes/vm",["exports","glimmer-runtime/lib/opcodes","glimmer-runtime/lib/references","glimmer-reference","glimmer-util"],function(t,e,n,i,r){"use strict";var s=function(t){function e(){t.apply(this,arguments),this.type="push-child-scope"}return g.inherits(e,t),e.prototype.evaluate=function(t){t.pushChildScope()},e}(e.Opcode);t.PushChildScopeOpcode=s;var o=function(t){function e(){t.apply(this,arguments),this.type="pop-scope"}return g.inherits(e,t),e.prototype.evaluate=function(t){t.popScope()},e}(e.Opcode);t.PopScopeOpcode=o;var a=function(t){function e(){t.apply(this,arguments),this.type="push-dynamic-scope"}return g.inherits(e,t),e.prototype.evaluate=function(t){t.pushDynamicScope()},e}(e.Opcode);t.PushDynamicScopeOpcode=a;var l=function(t){function e(){t.apply(this,arguments),this.type="pop-dynamic-scope"}return g.inherits(e,t),e.prototype.evaluate=function(t){t.popDynamicScope()},e}(e.Opcode);t.PopDynamicScopeOpcode=l;var c=function(t){function e(){t.apply(this,arguments),this.type="put-null"}return g.inherits(e,t),e.prototype.evaluate=function(t){t.frame.setOperand(n.NULL_REFERENCE)},e}(e.Opcode);t.PutNullOpcode=c;var u=function(t){function e(e){t.call(this),this.expression=e,this.type="put-value"}return g.inherits(e,t),e.prototype.evaluate=function(t){t.evaluateOperand(this.expression)},e.prototype.toJSON=function(){return{guid:this._guid,type:this.type,args:[this.expression.toJSON()]}},e}(e.Opcode);t.PutValueOpcode=u;var Q=function(t){function e(e){t.call(this),this.args=e,this.type="put-args"}return g.inherits(e,t),e.prototype.evaluate=function(t){t.evaluateArgs(this.args)},e.prototype.toJSON=function(){return{guid:this._guid,type:this.type,details:{positional:this.args.positional.toJSON(),named:this.args.named.toJSON()}}},e}(e.Opcode);t.PutArgsOpcode=Q;var B=function(t){function e(e,n){t.call(this),this.names=e,this.symbols=n,this.type="bind-positional-args"}return g.inherits(e,t),e.create=function(t){var e=t.locals;return new this(e,e.map(function(e){return t.symbolTable.getLocal(e)}))},e.prototype.evaluate=function(t){t.bindPositionalArgs(this.symbols)},e.prototype.toJSON=function(){return{guid:this._guid,type:this.type,args:["["+this.names.map(function(t){return JSON.stringify(t)}).join(", ")+"]"]}},e}(e.Opcode);t.BindPositionalArgsOpcode=B;var I=function(t){function e(e,n){t.call(this),this.names=e,this.symbols=n,this.type="bind-named-args"}return g.inherits(e,t),e.create=function(t){var e=t.named;return new this(e,e.map(function(e){return t.symbolTable.getNamed(e)}))},e.prototype.evaluate=function(t){t.bindNamedArgs(this.names,this.symbols)},e.prototype.toJSON=function(){var t=this.names,e=this.symbols,n=t.map(function(t,n){return"$"+e[n]+": $ARGS["+t+"]"});return{guid:this._guid,type:this.type,args:n}},e}(e.Opcode);t.BindNamedArgsOpcode=I;var d=function(t){function e(e,n){t.call(this),this.names=e,this.symbols=n,this.type="bind-blocks"}return g.inherits(e,t),e.create=function(t){var e=t.yields;return new this(e,e.map(function(e){return t.symbolTable.getYield(e)}))},e.prototype.evaluate=function(t){t.bindBlocks(this.names,this.symbols)},e.prototype.toJSON=function(){var t=this.names,e=this.symbols,n=t.map(function(t,n){return"$"+e[n]+": $BLOCKS["+t+"]"});return{guid:this._guid,type:this.type,args:n}},e}(e.Opcode);t.BindBlocksOpcode=d;var F=function(t){function e(e){t.call(this),this.symbol=e,this.type="bind-partial-args"}return g.inherits(e,t),e.create=function(t){return new this(t.symbolTable.getPartialArgs())},e.prototype.evaluate=function(t){t.bindPartialArgs(this.symbol)},e}(e.Opcode);t.BindPartialArgsOpcode=F;var C=function(t){function e(){t.apply(this,arguments),this.type="bind-caller-scope"}return g.inherits(e,t),e.prototype.evaluate=function(t){t.bindCallerScope()},e}(e.Opcode);t.BindCallerScopeOpcode=C;var U=function(t){function e(e){t.call(this),this.names=e,this.type="bind-dynamic-scope"}return g.inherits(e,t),e.prototype.evaluate=function(t){t.bindDynamicScope(this.names)},e}(e.Opcode);t.BindDynamicScopeOpcode=U;var h=function(t){function e(e,n){t.call(this),this.type="enter",this.slice=new r.ListSlice(e,n)}return g.inherits(e,t),e.prototype.evaluate=function(t){t.enter(this.slice)},e.prototype.toJSON=function(){var t=this.slice,e=this.type,n=this._guid,i=t.head(),r=t.tail();return{guid:n,type:e,args:[JSON.stringify(i.inspect()),JSON.stringify(r.inspect())]}},e}(e.Opcode);t.EnterOpcode=h;var m=function(t){function e(){t.apply(this,arguments),this.type="exit"}return g.inherits(e,t),e.prototype.evaluate=function(t){t.exit()},e}(e.Opcode);t.ExitOpcode=m;var b=function(t){function e(e){t.call(this),this.tag=i.CONSTANT_TAG,this.type="label",this.label=null,this.prev=null,this.next=null,e&&(this.label=e)}return g.inherits(e,t),e.prototype.evaluate=function(){},e.prototype.inspect=function(){return this.label+" ["+this._guid+"]"},e.prototype.toJSON=function(){return{guid:this._guid,type:this.type,args:[JSON.stringify(this.inspect())]}},e}(e.Opcode);t.LabelOpcode=b;var p=function(t){function e(e,n){t.call(this),this.debug=e,this.block=n,this.type="evaluate"}return g.inherits(e,t),e.prototype.evaluate=function(t){t.invokeBlock(this.block,t.frame.getArgs())},e.prototype.toJSON=function(){var t=this._guid,e=this.type,n=this.debug,i=this.block,r=i.compiled,s=void 0;return s=r?r.ops.toArray().map(function(t){return t.toJSON()}):[{guid:null,type:"[ UNCOMPILED BLOCK ]"}],{guid:t,type:e,args:[n],children:s}},e}(e.Opcode);t.EvaluateOpcode=p;var A=function(t,e){return new i.ConstReference(!!t.value())};t.ConstTest=A;var y=function(t,e){return t};t.SimpleTest=y;var f=function(t,e){return e.toConditionalReference(t)};t.EnvironmentTest=f;var G=function(t){function e(e){t.call(this),this.testFunc=e,this.type="test"}return g.inherits(e,t),e.prototype.evaluate=function(t){t.frame.setCondition(this.testFunc(t.frame.getOperand(),t.env))},e.prototype.toJSON=function(){return{guid:this._guid,type:this.type,args:["$OPERAND",this.testFunc.name]}},e}(e.Opcode);t.TestOpcode=G;var x=function(t){function e(e){t.call(this),this.target=e,this.type="jump"}return g.inherits(e,t),e.prototype.evaluate=function(t){t.goto(this.target)},e.prototype.toJSON=function(){return{guid:this._guid,type:this.type,args:[JSON.stringify(this.target.inspect())]}},e}(e.Opcode);t.JumpOpcode=x;var V=function(t){function e(){t.apply(this,arguments),this.type="jump-if"}return g.inherits(e,t),e.prototype.evaluate=function(e){var n=e.frame.getCondition();if(i.isConst(n))n.value()&&t.prototype.evaluate.call(this,e);else{var r=new i.ReferenceCache(n);r.peek()&&t.prototype.evaluate.call(this,e),e.updateWith(new R(r))}},e}(x);t.JumpIfOpcode=V;var Z=function(t){function e(){t.apply(this,arguments),this.type="jump-unless"}return g.inherits(e,t),e.prototype.evaluate=function(e){var n=e.frame.getCondition();if(i.isConst(n))n.value()||t.prototype.evaluate.call(this,e);else{var r=new i.ReferenceCache(n);r.peek()||t.prototype.evaluate.call(this,e),e.updateWith(new R(r))}},e}(x);t.JumpUnlessOpcode=Z;var R=function(t){function e(e){t.call(this),this.type="assert",this.tag=e.tag,this.cache=e}return g.inherits(e,t),e.prototype.evaluate=function(t){var e=this.cache;i.isModified(e.revalidate())&&t.throw()},e.prototype.toJSON=function(){var t=this.type,e=this._guid,n=this.cache,i=void 0;try{i=JSON.stringify(n.peek())}catch(t){i=String(n.peek())}return{guid:e,type:t,args:[],details:{expected:i}}},e}(e.UpdatingOpcode);t.Assert=R;var X=function(t){function e(e,n){t.call(this),this.target=n,this.type="jump-if-not-modified",this.tag=e,this.lastRevision=e.value()}return g.inherits(e,t),e.prototype.evaluate=function(t){var e=this.tag,n=this.target,i=this.lastRevision;!t.alwaysRevalidate&&e.validate(i)&&t.goto(n)},e.prototype.didModify=function(){this.lastRevision=this.tag.value()},e.prototype.toJSON=function(){return{guid:this._guid,type:this.type,args:[JSON.stringify(this.target.inspect())]}},e}(e.UpdatingOpcode);t.JumpIfNotModifiedOpcode=X;var L=function(t){function e(e){t.call(this),this.target=e,this.type="did-modify",this.tag=i.CONSTANT_TAG}return g.inherits(e,t),e.prototype.evaluate=function(){this.target.didModify()},e}(e.UpdatingOpcode);t.DidModifyOpcode=L}),o("glimmer-runtime/lib/compiler",["exports","glimmer-util","glimmer-runtime/lib/utils","glimmer-runtime/lib/syntax/core","glimmer-runtime/lib/compiled/blocks","glimmer-runtime/lib/compiled/expressions/function","glimmer-runtime/lib/compiled/opcodes/builder"],function(t,e,n,i,r,s,o){"use strict";function a(t,e,n,i){t.statement(e,i.symbolTable).compile(n,t,i.symbolTable)}function l(t,e){var n=new I(e);return t.compile(n),n.compile()}function c(t){return t instanceof i.OpenElement||t instanceof i.OpenPrimitiveElement}t.compileLayout=l;var u=function(){function t(t,e){this.block=t,this.env=e,this.current=t.program.head(),this.symbolTable=t.symbolTable}return t.prototype.compileStatement=function(t,e){this.env.statement(t,this.symbolTable).compile(e,this.env,this.symbolTable)},t}();t.default=u;var Q=function(t){function e(e,n){t.call(this,e,n);var i=new b(n,e.symbolTable);this.ops=new o.default(i,e.symbolTable,n)}return g.inherits(e,t),e.prototype.compile=function(){for(var t=this.block,e=this.ops,n=t.program,i=n.head();i;){var r=n.nextNode(i);this.compileStatement(i,e),i=r}return e.toOpSeq()},e.prototype.append=function(t){this.ops.append(t)},e.prototype.getLocalSymbol=function(t){return this.symbolTable.getLocal(t)},e.prototype.getNamedSymbol=function(t){return this.symbolTable.getNamed(t)},e.prototype.getYieldSymbol=function(t){return this.symbolTable.getYield(t)},e}(u);t.EntryPointCompiler=Q;var B=function(t){function e(e,n){t.call(this,e,n),this.block=e;var i=new b(n,e.symbolTable);this.ops=new o.default(i,e.symbolTable,n)}return g.inherits(e,t),e.prototype.compile=function(){var t=this.block,e=this.ops,n=t.program,i=t.hasPositionalParameters();i&&(e.pushChildScope(),e.bindPositionalArgsForBlock(t));for(var r=n.head();r;){var s=n.nextNode(r);this.compileStatement(r,e),r=s}return i&&e.popScope(),e.toOpSeq()},e}(u);t.InlineBlockCompiler=B;var I=function(){function t(t){this.env=t}return t.prototype.empty=function(){this.inner=new d(this.env)},t.prototype.wrapLayout=function(t){this.inner=new F(this.env,t)},t.prototype.fromLayout=function(t){this.inner=new C(this.env,t)},t.prototype.compile=function(){return this.inner.compile()},g.createClass(t,[{key:"tag",get:function(){return this.inner.tag}},{key:"attrs",get:function(){return this.inner.attrs}}]),t}(),d=function(){function t(t){this.env=t}return t.prototype.compile=function(){var t=this.env,e=new b(t,null);return new r.CompiledBlock(e,0)},g.createClass(t,[{key:"tag",get:function(){throw new Error("Nope")}},{key:"attrs",get:function(){throw new Error("Nope")}}]),t}(),F=function(){function t(t,e){this.env=t,this.layout=e,this.tag=new U,this.attrs=new h}return t.prototype.compile=function(){var t=this.env,e=this.layout,n=e.symbolTable,i=new b(t,e.symbolTable),s=new o.default(i,e.symbolTable,t);if(s.startLabels(),this.tag.isDynamic)s.putValue(this.tag.dynamicTagName),s.test("simple"),s.jumpUnless("BODY"),s.openDynamicPrimitiveElement(),s.didCreateElement(),this.attrs.buffer.forEach(function(n){return a(t,n,s,e)}),s.flushElement(),s.label("BODY");else if(this.tag.isStatic){var l=this.tag.staticTagName;s.openPrimitiveElement(l),s.didCreateElement(),this.attrs.buffer.forEach(function(n){return a(t,n,s,e)}),s.flushElement()}return s.preludeForLayout(e),e.program.forEachNode(function(n){return a(t,n,s,e)}),this.tag.isDynamic?(s.putValue(this.tag.dynamicTagName),s.test("simple"),s.jumpUnless("END"),s.closeElement(),s.label("END")):this.tag.isStatic&&s.closeElement(),s.didRenderLayout(),s.stopLabels(),new r.CompiledBlock(s.toOpSeq(),n.size)},t}(),C=function(){function t(t,e){this.env=t,this.layout=e,this.attrs=new h}return t.prototype.compile=function(){var t=this.env,e=this.layout,n=new b(t,e.symbolTable),i=new o.default(n,e.symbolTable,t);i.startLabels(),i.preludeForLayout(e);var s=this.attrs.buffer,l=!1;return this.layout.program.forEachNode(function(n){!l&&c(n)?(i.openComponentElement(n.tag),i.didCreateElement(),i.shadowAttributes(),s.forEach(function(n){return a(t,n,i,e)}),l=!0):a(t,n,i,e)}),i.didRenderLayout(),i.stopLabels(),new r.CompiledBlock(i.toOpSeq(),e.symbolTable.size)},g.createClass(t,[{key:"tag",get:function(){throw new Error("BUG: Cannot call `tag` on an UnwrappedBuilder")}}]),t}(),U=function(){function t(){this.isDynamic=null,this.isStatic=null,this.staticTagName=null,this.dynamicTagName=null}return t.prototype.static=function(t){this.isStatic=!0,this.staticTagName=t},t.prototype.dynamic=function(t){this.isDynamic=!0,this.dynamicTagName=s.default(t)},t}(),h=function(){function t(){this.buffer=[]}return t.prototype.static=function(t,e){this.buffer.push(new i.StaticAttr(t,e,null))},t.prototype.dynamic=function(t,e){this.buffer.push(new i.DynamicAttr(t,s.default(e),null,!1))},t}(),m=function(){function t(t){this.dsl=t,this.env=t.env}return t.prototype.static=function(t,e,i){var r=arguments.length<=3||void 0===arguments[3]?n.EMPTY_ARRAY:arguments[3];this.dsl.unit(function(n){n.putComponentDefinition(t),n.openComponent(e,r),n.closeComponent()})},t.prototype.dynamic=function(t,e,i,r){var o=arguments.length<=4||void 0===arguments[4]?n.EMPTY_ARRAY:arguments[4];this.dsl.unit(function(n){n.putArgs(t),n.putValue(s.default(e)),n.test("simple"),n.enter("BEGIN","END"),n.label("BEGIN"),n.jumpUnless("END"),n.putDynamicComponentDefinition(),n.openComponent(i,o),n.closeComponent(),n.label("END"),n.exit()})},t}(),b=function(t){function e(e,n){t.call(this),this.env=e,this.symbolTable=n;var i=new o.default(this,n,e);this.component=new m(i)}return g.inherits(e,t),e.prototype.getLocalSymbol=function(t){return this.symbolTable.getLocal(t)},e.prototype.hasLocalSymbol=function(t){return"number"==typeof this.symbolTable.getLocal(t)},e.prototype.getNamedSymbol=function(t){return this.symbolTable.getNamed(t)},e.prototype.hasNamedSymbol=function(t){return"number"==typeof this.symbolTable.getNamed(t)},e.prototype.getBlockSymbol=function(t){return this.symbolTable.getYield(t)},e.prototype.hasBlockSymbol=function(t){return"number"==typeof this.symbolTable.getYield(t)},e.prototype.getPartialArgsSymbol=function(){return this.symbolTable.getPartialArgs()},e.prototype.hasPartialArgsSymbol=function(){return"number"==typeof this.symbolTable.getPartialArgs()},e.prototype.toOpSeq=function(){return this},e}(e.LinkedList);t.CompileIntoList=b}),o("glimmer-runtime/lib/component/interfaces",["exports"],function(t){"use strict";function e(t){return"object"==typeof t&&t&&t[n]}t.isComponentDefinition=e;var n="COMPONENT DEFINITION [id=e59c754e-61eb-4392-8c4a-2c0ac72bfcd4]",i=function(t,e,n){this["COMPONENT DEFINITION [id=e59c754e-61eb-4392-8c4a-2c0ac72bfcd4]"]=!0,this.name=t,this.manager=e,this.ComponentClass=n};t.ComponentDefinition=i}),o("glimmer-runtime/lib/dom/attribute-managers",["exports","glimmer-runtime/lib/dom/sanitized-values","glimmer-runtime/lib/dom/props","glimmer-runtime/lib/dom/helper","glimmer-runtime/lib/compiled/opcodes/content"],function(t,e,n,i,r){"use strict";function s(t,e,r,s){var l=t.tagName;if(t.namespaceURI===i.SVG_NAMESPACE)return a(l,e);var c=n.normalizeProperty(t,e),g=c.type,u=c.normalized;return"attr"===g?a(l,u):o(l,u)}function o(t,n){return e.requiresSanitization(t,n)?new F(n):Q(t,n)?U:B(t,n)?m:new d(n)}function a(t,n){return e.requiresSanitization(t,n)?new b(n):new I(n)}function l(t,e){var r=t.namespaceURI===i.SVG_NAMESPACE,s=n.normalizeProperty(t,e),o=s.type,a=s.normalized;return r?t.getAttribute(a):"attr"===o?t.getAttribute(a):t[a]}function c(t){return!1===t||void 0===t||null===t?null:!0===t?"":"function"==typeof t?null:String(t)}function u(t){return null===t||void 0===t}function Q(t,e){return("INPUT"===t||"TEXTAREA"===t)&&"value"===e}function B(t,e){return"OPTION"===t&&"selected"===e}t.defaultManagers=s,t.defaultPropertyManagers=o,t.defaultAttributeManagers=a,t.readDOMAttr=l;var I=function(){function t(t){this.attr=t}return t.prototype.setAttribute=function(t,e,n,i){var r=t.getAppendOperations(),s=c(n);u(s)||r.setAttribute(e,this.attr,s,i)},t.prototype.updateAttribute=function(t,e,n,i){null===n||void 0===n||!1===n?i?t.getDOM().removeAttributeNS(e,i,this.attr):t.getDOM().removeAttribute(e,this.attr):this.setAttribute(t,e,n)},t}();t.AttributeManager=I;var d=function(t){function e(){t.apply(this,arguments)}return g.inherits(e,t),e.prototype.setAttribute=function(t,e,n,i){u(n)||(e[this.attr]=n)},e.prototype.removeAttribute=function(t,e,n){var i=this.attr;n?t.getDOM().removeAttributeNS(e,n,i):t.getDOM().removeAttribute(e,i)},e.prototype.updateAttribute=function(t,e,n,i){e[this.attr]=n,u(n)&&this.removeAttribute(t,e,i)},e}(I);t.PropertyManager=d;var F=function(t){function n(){t.apply(this,arguments)}return g.inherits(n,t),n.prototype.setAttribute=function(n,i,r){t.prototype.setAttribute.call(this,n,i,e.sanitizeAttributeValue(n,i,this.attr,r))},n.prototype.updateAttribute=function(n,i,r){t.prototype.updateAttribute.call(this,n,i,e.sanitizeAttributeValue(n,i,this.attr,r))},n}(d),C=function(t){function e(){t.apply(this,arguments)}return g.inherits(e,t),e.prototype.setAttribute=function(t,e,n){e.value=r.normalizeTextValue(n)},e.prototype.updateAttribute=function(t,e,n){var i=e,s=i.value,o=r.normalizeTextValue(n);s!==o&&(i.value=o)},e}(I),U=new C("value");t.INPUT_VALUE_PROPERTY_MANAGER=U;var h=function(t){function e(){t.apply(this,arguments)}return g.inherits(e,t),e.prototype.setAttribute=function(t,e,n){if(null!==n&&void 0!==n&&!1!==n){e.selected=!0}},e.prototype.updateAttribute=function(t,e,n){var i=e;i.selected=!!n},e}(d),m=new h("selected");t.OPTION_SELECTED_MANAGER=m;var b=function(t){function n(){t.apply(this,arguments)}return g.inherits(n,t),n.prototype.setAttribute=function(n,i,r){t.prototype.setAttribute.call(this,n,i,e.sanitizeAttributeValue(n,i,this.attr,r))},n.prototype.updateAttribute=function(n,i,r,s){t.prototype.updateAttribute.call(this,n,i,e.sanitizeAttributeValue(n,i,this.attr,r))},n}(I)}),o("glimmer-runtime/lib/dom/helper",["exports","glimmer-runtime/lib/bounds","glimmer-runtime/lib/compat/inner-html-fix","glimmer-runtime/lib/compat/svg-inner-html-fix","glimmer-runtime/lib/compat/text-node-merging-fix","glimmer-runtime/lib/dom/interfaces"],function(t,e,n,i,r,s){"use strict";function o(t){return I.test(t)}function a(t,e,n){for(var i=t.firstChild,r=null,s=i;s;)r=s,s=s.nextSibling,e.insertBefore(r,n);return[i,r]}function l(t,n,i,r){var s=n,o=t,a=i,l=a?a.previousSibling:s.lastChild,c=void 0;if(null===r||""===r)return new e.ConcreteBounds(s,null,null);null===a?(s.insertAdjacentHTML("beforeEnd",r),c=s.lastChild):a instanceof HTMLElement?(a.insertAdjacentHTML("beforeBegin",r),c=a.previousSibling):(s.insertBefore(o,a),o.insertAdjacentHTML("beforeBegin",r),c=o.previousSibling,s.removeChild(o));var g=l?l.nextSibling:s.firstChild;return new e.ConcreteBounds(s,g,c)}function c(t){return t.nodeType===Node.DOCUMENT_FRAGMENT_NODE}t.isWhitespace=o,t.moveNodesBefore=a,t.insertHTMLBefore=l;var g="http://www.w3.org/2000/svg";t.SVG_NAMESPACE=g;var u={foreignObject:1,desc:1,title:1},Q=Object.create(null);t.BLACKLIST_TABLE=Q,["b","big","blockquote","body","br","center","code","dd","div","dl","dt","em","embed","h1","h2","h3","h4","h5","h6","head","hr","i","img","li","listing","main","meta","nobr","ol","p","pre","ruby","s","small","span","strong","strike","sub","sup","table","tt","u","ul","var"].forEach(function(t){return Q[t]=1});var B,I=/[\t-\r \xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]/,d="undefined"==typeof document?void 0:document;t.DOM=B,function(t){var e=function(){function t(t){this.document=t,this.uselessElement=null,this.setupUselessElement()}return t.prototype.setupUselessElement=function(){this.uselessElement=this.document.createElement("div")},t.prototype.createElement=function(t,e){var n=void 0,i=void 0;if(e?(n=e.namespaceURI===g||"svg"===t,i=u[e.tagName]):(n="svg"===t,i=!1),n&&!i){if(Q[t])throw new Error("Cannot create a "+t+" inside an SVG context");return this.document.createElementNS(g,t)}return this.document.createElement(t)},t.prototype.createElementNS=function(t,e){return this.document.createElementNS(t,e)},t.prototype.setAttribute=function(t,e,n,i){i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)},t.prototype.createTextNode=function(t){return this.document.createTextNode(t)},t.prototype.createComment=function(t){return this.document.createComment(t)},t.prototype.insertBefore=function(t,e,n){t.insertBefore(e,n)},t.prototype.insertHTMLBefore=function(t,e,n){return l(this.uselessElement,t,n,e)},t}();t.TreeConstruction=e;var s=e;s=r.treeConstruction(d,s),s=n.treeConstruction(d,s),s=i.treeConstruction(d,s,g),t.DOMTreeConstruction=s}(B||(t.DOM=B={}));var F=function(){function t(t){this.document=t,this.uselessElement=null,this.namespace=null,this.uselessElement=this.document.createElement("div")}return t.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},t.prototype.setAttributeNS=function(t,e,n,i){t.setAttributeNS(e,n,i)},t.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},t.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},t.prototype.createTextNode=function(t){return this.document.createTextNode(t)},t.prototype.createComment=function(t){return this.document.createComment(t)},t.prototype.createElement=function(t,e){var n=void 0,i=void 0;if(e?(n=e.namespaceURI===g||"svg"===t,i=u[e.tagName]):(n="svg"===t,i=!1),n&&!i){if(Q[t])throw new Error("Cannot create a "+t+" inside an SVG context");return this.document.createElementNS(g,t)}return this.document.createElement(t)},t.prototype.insertHTMLBefore=function(t,e,n){return l(this.uselessElement,t,e,n)},t.prototype.insertNodeBefore=function(t,n,i){if(c(n)){var r=n.firstChild,s=n.lastChild;return this.insertBefore(t,n,i),new e.ConcreteBounds(t,r,s)}return this.insertBefore(t,n,i),new e.SingleNodeBounds(t,n)},t.prototype.insertTextBefore=function(t,e,n){var i=this.createTextNode(n);return this.insertBefore(t,i,e),i},t.prototype.insertBefore=function(t,e,n){t.insertBefore(e,n)},t.prototype.insertAfter=function(t,e,n){this.insertBefore(t,e,n.nextSibling)},t}();t.DOMChanges=F;var C=F;C=r.domChanges(d,C),C=n.domChanges(d,C),C=i.domChanges(d,C,g),t.default=C;var U=B.DOMTreeConstruction;t.DOMTreeConstruction=U,t.DOMNamespace=s.Namespace}),o("glimmer-runtime/lib/dom/interfaces",["exports"],function(t){"use strict";var e;t.NodeType=e,function(t){t[t.Element=0]="Element",t[t.Attribute=1]="Attribute",t[t.Text=2]="Text",t[t.CdataSection=3]="CdataSection",t[t.EntityReference=4]="EntityReference",t[t.Entity=5]="Entity",t[t.ProcessingInstruction=6]="ProcessingInstruction",t[t.Comment=7]="Comment",t[t.Document=8]="Document",t[t.DocumentType=9]="DocumentType",t[t.DocumentFragment=10]="DocumentFragment",t[t.Notation=11]="Notation"}(e||(t.NodeType=e={}))}),o("glimmer-runtime/lib/dom/props",["exports"],function(t){"use strict";function e(t,e){var n=void 0,r=void 0;if(e in t)r=e,n="prop";else{var s=e.toLowerCase();s in t?(n="prop",r=s):(n="attr",r=e)}return"prop"!==n||"style"!==r.toLowerCase()&&!i(t.tagName,r)||(n="attr"),{normalized:r,type:n}}function n(t){return""===t||t}function i(t,e){var n=r[t.toUpperCase()];return n&&n[e.toLowerCase()]||!1}t.normalizeProperty=e,t.normalizePropertyValue=n;var r={BUTTON:{type:!0,form:!0},INPUT:{type:!0,form:!0,autocorrect:!0,list:!0},SELECT:{form:!0},OPTION:{form:!0},TEXTAREA:{form:!0},LABEL:{form:!0},FIELDSET:{form:!0},LEGEND:{form:!0},OBJECT:{form:!0}}}),o("glimmer-runtime/lib/dom/sanitized-values",["exports","glimmer-runtime/lib/compiled/opcodes/content","glimmer-runtime/lib/upsert"],function(t,e,n){"use strict";function i(t,e){return-1!==t.indexOf(e)}function r(t,e){return(null===t||i(c,t))&&i(u,e)}function s(t,e){return i(g,t)&&i(Q,e)}function o(t,e){return r(t,e)||s(t,e)}function a(t,o,a,c){var g=void 0;if(null===c||void 0===c)return c;if(n.isSafeString(c))return c.toHTML();g=o?o.tagName.toUpperCase():null;var u=e.normalizeTextValue(c);if(r(g,a)){var Q=t.protocolForURL(u);if(i(l,Q))return"unsafe:"+u}return s(g,a)?"unsafe:"+u:u}t.requiresSanitization=o,t.sanitizeAttributeValue=a;var l=["javascript:","vbscript:"],c=["A","BODY","LINK","IMG","IFRAME","BASE","FORM"],g=["EMBED"],u=["href","src","background","action"],Q=["src"]}),o("glimmer-runtime/lib/environment",["exports","glimmer-runtime/lib/references","glimmer-runtime/lib/dom/attribute-managers","glimmer-util","glimmer-runtime/lib/syntax/core","glimmer-runtime/lib/syntax/builtins/if","glimmer-runtime/lib/syntax/builtins/unless","glimmer-runtime/lib/syntax/builtins/with","glimmer-runtime/lib/syntax/builtins/each"],function(t,e,n,i,r,s,o,a,l){"use strict";function c(t){var e=t.type,n="block"===e?t:null,i="optimized-append"===e?t:null,s="modifier"===e?t:null,o=i&&i.value.type,a=void 0,l=void 0;if(n)a=n.args,l=n.path;else if(!i||"unknown"!==o&&"get"!==o)if(i&&"helper"===i.value.type){var c=i.value;a=c.args,l=c.ref.parts}else s&&(l=s.path,a=s.args);else{var g=i.value;a=r.Args.empty(),l=g.ref.parts}var u=void 0,Q=void 0;return l&&(Q=1===l.length,u=l[0]),{isSimple:Q,path:l,key:u,args:a,appendType:o,original:t,isInline:!!i,isBlock:!!n,isModifier:!!s}}var g=function(){function t(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];this.callerScope=null,this.slots=t,this.callerScope=e}return t.root=function(n){for(var i=arguments.length<=1||void 0===arguments[1]?0:arguments[1],r=new Array(i+1),s=0;s<=i;s++)r[s]=e.UNDEFINED_REFERENCE;return new t(r).init({self:n})},t.prototype.init=function(t){var e=t.self;return this.slots[0]=e,this},t.prototype.getSelf=function(){return this.slots[0]},t.prototype.getSymbol=function(t){return this.slots[t]},t.prototype.getBlock=function(t){return this.slots[t]},t.prototype.getPartialArgs=function(t){return this.slots[t]},t.prototype.bindSymbol=function(t,e){this.slots[t]=e},t.prototype.bindBlock=function(t,e){this.slots[t]=e},t.prototype.bindPartialArgs=function(t,e){this.slots[t]=e},
t.prototype.bindCallerScope=function(t){this.callerScope=t},t.prototype.getCallerScope=function(){return this.callerScope},t.prototype.child=function(){return new t(this.slots.slice(),this.callerScope)},t}();t.Scope=g;var u=function(){function t(t){var e=t.appendOperations,n=t.updateOperations;this.scheduledInstallManagers=null,this.scheduledInstallModifiers=null,this.scheduledUpdateModifierManagers=null,this.scheduledUpdateModifiers=null,this.createdComponents=null,this.createdManagers=null,this.updatedComponents=null,this.updatedManagers=null,this.destructors=null,this.appendOperations=e,this.updateOperations=n}return t.prototype.toConditionalReference=function(t){return new e.ConditionalReference(t)},t.prototype.getAppendOperations=function(){return this.appendOperations},t.prototype.getDOM=function(){return this.updateOperations},t.prototype.getIdentity=function(t){return i.ensureGuid(t)+""},t.prototype.statement=function(t,e){return this.refineStatement(c(t),e)||t},t.prototype.refineStatement=function(t,e){var n=t.isSimple,i=t.isBlock,r=t.key,c=t.args;if(n&&i)switch(r){case"each":return new l.default(c);case"if":return new s.default(c);case"with":return new a.default(c);case"unless":return new o.default(c)}},t.prototype.begin=function(){this.createdComponents=[],this.createdManagers=[],this.updatedComponents=[],this.updatedManagers=[],this.destructors=[],this.scheduledInstallManagers=[],this.scheduledInstallModifiers=[],this.scheduledUpdateModifierManagers=[],this.scheduledUpdateModifiers=[]},t.prototype.didCreate=function(t,e){this.createdComponents.push(t),this.createdManagers.push(e)},t.prototype.didUpdate=function(t,e){this.updatedComponents.push(t),this.updatedManagers.push(e)},t.prototype.scheduleInstallModifier=function(t,e){this.scheduledInstallManagers.push(e),this.scheduledInstallModifiers.push(t)},t.prototype.scheduleUpdateModifier=function(t,e){this.scheduledUpdateModifierManagers.push(e),this.scheduledUpdateModifiers.push(t)},t.prototype.didDestroy=function(t){this.destructors.push(t)},t.prototype.commit=function(){for(var t=0;t<this.createdComponents.length;t++){var e=this.createdComponents[t],n=this.createdManagers[t];n.didCreate(e)}for(var t=0;t<this.updatedComponents.length;t++){var e=this.updatedComponents[t],n=this.updatedManagers[t];n.didUpdate(e)}for(var t=0;t<this.destructors.length;t++)this.destructors[t].destroy();for(var t=0;t<this.scheduledInstallManagers.length;t++){var n=this.scheduledInstallManagers[t],i=this.scheduledInstallModifiers[t];n.install(i)}for(var t=0;t<this.scheduledUpdateModifierManagers.length;t++){var n=this.scheduledUpdateModifierManagers[t],i=this.scheduledUpdateModifiers[t];n.update(i)}this.createdComponents=null,this.createdManagers=null,this.updatedComponents=null,this.updatedManagers=null,this.destructors=null,this.scheduledInstallManagers=null,this.scheduledInstallModifiers=null,this.scheduledUpdateModifierManagers=null,this.scheduledUpdateModifiers=null},t.prototype.attributeFor=function(t,e,i,r){return n.defaultManagers(t,e,i,r)},t}();t.Environment=u,t.default=u}),o("glimmer-runtime/lib/helpers/get-dynamic-var",["exports","glimmer-reference"],function(t,e){"use strict";function n(t,e,n){var r=t.dynamicScope(),s=e.positional.at(0);return new i(r,s)}var i=function(){function t(t,n){this.scope=t,this.nameRef=n;var i=this.varTag=new e.UpdatableTag(e.CONSTANT_TAG);this.tag=e.combine([n.tag,i])}return t.prototype.value=function(){return this.getVar().value()},t.prototype.get=function(t){return this.getVar().get(t)},t.prototype.getVar=function(){var t=String(this.nameRef.value()),e=this.scope.get(t);return this.varTag.update(e.tag),e},t}();t.default=n}),o("glimmer-runtime/lib/modifier/interfaces",["exports"],function(t){"use strict"}),o("glimmer-runtime/lib/opcode-builder",["exports"],function(t){"use strict"}),o("glimmer-runtime/lib/opcodes",["exports","glimmer-util"],function(t,e){"use strict";function n(t){var e=[];return t.toArray().forEach(function(t,n){i(t.toJSON(),e,0,n)}),e.join("")}function i(t,e,n,r){for(var s=[],o=0;o<n;o++)s.push("  ");if(e.push.apply(e,s),e.push(r+1+". "+t.type.toUpperCase()),t.args||t.details){if(e.push("("),t.args&&e.push(t.args.join(", ")),t.details){var a=Object.keys(t.details);a.length&&(t.args&&t.args.length&&e.push(", "),e.push(a.map(function(e){return e+"="+t.details[e]}).join(", ")))}e.push(")")}if(e.push("\n"),t.children&&t.children.length)for(var o=0;o<t.children.length;o++)i(t.children[o],e,n+1,o)}t.inspect=n;var r=function(){function t(){e.initializeGuid(this)}return t.prototype.toJSON=function(){return{guid:this._guid,type:this.type}},t}();t.AbstractOpcode=r;var s=function(t){function e(){t.apply(this,arguments),this.next=null,this.prev=null}return g.inherits(e,t),e}(r);t.Opcode=s;var o=function(t){function e(){t.apply(this,arguments),this.next=null,this.prev=null}return g.inherits(e,t),e}(r);t.UpdatingOpcode=o}),o("glimmer-runtime/lib/partial",["exports"],function(t){"use strict";var e=function(t,e){this.name=t,this.template=e};t.PartialDefinition=e}),o("glimmer-runtime/lib/references",["exports","glimmer-reference"],function(t,e){"use strict";var n=function(t){function e(e){t.call(this,e)}return g.inherits(e,t),e.create=function(t){return void 0===t?s:null===t?o:!0===t?a:!1===t?l:"number"==typeof t?new r(t):new i(t)},e.prototype.get=function(t){return s},e}(e.ConstReference);t.PrimitiveReference=n;var i=function(t){function e(){t.apply(this,arguments),this.lengthReference=null}return g.inherits(e,t),e.prototype.get=function(e){if("length"===e){var n=this.lengthReference;return null===n&&(n=this.lengthReference=new r(this.inner.length)),n}return t.prototype.get.call(this,e)},e}(n),r=function(t){function e(e){t.call(this,e)}return g.inherits(e,t),e}(n),s=new r(void 0);t.UNDEFINED_REFERENCE=s;var o=new r(null);t.NULL_REFERENCE=o;var a=new r(!0),l=new r(!1),c=function(){function t(t){this.inner=t,this.tag=t.tag}return t.prototype.value=function(){return this.toBool(this.inner.value())},t.prototype.toBool=function(t){return!!t},t}();t.ConditionalReference=c}),o("glimmer-runtime/lib/scanner",["exports","glimmer-runtime/lib/syntax/statements","glimmer-runtime/lib/compiled/blocks","glimmer-util","glimmer-runtime/lib/symbol-table"],function(t,e,n,i,r){"use strict";function s(t,e,n,i){var r=t.statements;return 0===r.length?a:new l(r,e,n,i).scan()}var o=function(){function t(t,e,n){this.block=t,this.meta=e,this.env=n}return t.prototype.scanEntryPoint=function(){var t=this.block,e=this.meta,i=r.default.forEntryPoint(e),o=s(t,t.blocks,i,this.env);return new n.EntryPoint(o,i)},t.prototype.scanLayout=function(){var t=this.block,e=this.meta,i=t.blocks,o=t.named,a=t.yields,l=t.hasPartials,c=r.default.forLayout(o,a,l,e),g=s(t,i,c,this.env);return new n.Layout(g,c,o,a,l)},t.prototype.scanPartial=function(t){var e=this.block,i=e.blocks,r=e.locals,o=s(e,i,t,this.env);return new n.PartialBlock(o,t,r)},t}();t.default=o;var a=i.EMPTY_SLICE,l=function(){function t(t,e,n,r){this.blocks=e,this.symbolTable=n,this.stack=new i.Stack,this.stack.push(new c(n)),this.reader=new g(t,n,this),this.env=r}return t.prototype.scan=function(){for(var t=void 0;t=this.reader.next();)this.addStatement(t);return this.stack.current.program},t.prototype.blockFor=function(t,e){var i=this.blocks[e],o=r.default.forBlock(this.symbolTable,i.locals),a=s(i,this.blocks,o,this.env);return new n.InlineBlock(a,o,i.locals)},t.prototype.startBlock=function(t){var e=r.default.forBlock(this.symbolTable,t);this.stack.push(new c(e))},t.prototype.endBlock=function(t){var e=this.stack.pop(),i=e.program,r=e.symbolTable,s=new n.InlineBlock(i,r,t);return this.addChild(s),s},t.prototype.addChild=function(t){this.stack.current.addChild(t)},t.prototype.addStatement=function(t){this.stack.current.addStatement(t.scan(this))},t.prototype.next=function(){return this.reader.next()},t}();t.BlockScanner=l;var c=function(){function t(t){this.symbolTable=t,this.children=[],this.program=new i.LinkedList}return t.prototype.addChild=function(t){this.children.push(t)},t.prototype.addStatement=function(t){this.program.append(t)},t}(),g=function(){function t(t,e,n){this.statements=t,this.symbolTable=e,this.scanner=n,this.current=0,this.last=null}return t.prototype.next=function(){var t=this.last;if(t)return this.last=null,t;if(this.current===this.statements.length)return null;var n=this.statements[this.current++];return e.default(n,this.symbolTable,this.scanner)},t}()}),o("glimmer-runtime/lib/symbol-table",["exports","glimmer-util"],function(t,e){"use strict";var n=function(){function t(t){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1];this.parent=t,this.meta=n,this.locals=e.dict(),this.named=e.dict(),this.yields=e.dict(),this.partialArgs=null,this.size=1,this.top=t?t.top:this}return t.forEntryPoint=function(e){return new t(null,e).initEntryPoint()},t.forLayout=function(e,n,i,r){return new t(null,r).initLayout(e,n,i)},t.forBlock=function(e,n){return new t(e,null).initBlock(n)},t.prototype.initEntryPoint=function(){return this},t.prototype.initBlock=function(t){return this.initPositionals(t),this},t.prototype.initLayout=function(t,e,n){return this.initNamed(t),this.initYields(e),this.initPartials(n),this},t.prototype.initPositionals=function(t){var e=this;return t&&t.forEach(function(t){return e.locals[t]=e.top.size++}),this},t.prototype.initNamed=function(t){var e=this;return t&&t.forEach(function(t){return e.named[t]=e.top.size++}),this},t.prototype.initYields=function(t){var e=this;return t&&t.forEach(function(t){return e.yields[t]=e.top.size++}),this},t.prototype.initPartials=function(t){return t&&(this.top.partialArgs=this.top.size++),this},t.prototype.getMeta=function(){var t=this.meta,e=this.parent;return!t&&e&&(t=e.getMeta()),t},t.prototype.getYield=function(t){var e=this.yields,n=this.parent,i=e[t];return!i&&n&&(i=n.getYield(t)),i},t.prototype.getNamed=function(t){var e=this.named,n=this.parent,i=e[t];return!i&&n&&(i=n.getNamed(t)),i},t.prototype.getLocal=function(t){var e=this.locals,n=this.parent,i=e[t];return!i&&n&&(i=n.getLocal(t)),i},t.prototype.getPartialArgs=function(){return this.top.partialArgs},t.prototype.isTop=function(){return this.top===this},t}();t.default=n}),o("glimmer-runtime/lib/syntax",["exports"],function(t){"use strict";function e(t){return t&&!0===t[r]}t.isAttribute=e;var n=function(){function t(){this.next=null,this.prev=null}return t.fromSpec=function(t,e,n){throw new Error("You need to implement fromSpec on "+this)},t.prototype.clone=function(){return new this.constructor(this)},t.prototype.scan=function(t){return this},t}();t.Statement=n;var i=function(){function t(){}return t.fromSpec=function(t,e){throw new Error("You need to implement fromSpec on "+this)},t}();t.Expression=i;var r="e1185d30-7cac-4b12-b26a-35327d905d92";t.ATTRIBUTE=r;t.ARGUMENT="0f3802314-d747-bbc5-0168-97875185c3rt";var s=function(t){function e(){t.apply(this,arguments),this["e1185d30-7cac-4b12-b26a-35327d905d92"]=!0}return g.inherits(e,t),e}(n);t.Attribute=s;var o=function(t){function e(){t.apply(this,arguments),this["0f3802314-d747-bbc5-0168-97875185c3rt"]=!0}return g.inherits(e,t),e}(n);t.Argument=o}),o("glimmer-runtime/lib/syntax/builtins/each",["exports","glimmer-runtime/lib/syntax"],function(t,e){"use strict";var n=function(t){function e(e){t.call(this),this.args=e,this.type="each-statement"}return g.inherits(e,t),e.prototype.compile=function(t,e){var n=this.args,i=this.args.blocks;t.block(n,function(t,e,n){t.putIterator(),i.inverse?t.jumpUnless("ELSE"):t.jumpUnless(n),t.iter(function(t,e,n){t.evaluate("default",i.default)}),i.inverse&&(t.jump(n),t.label("ELSE"),t.evaluate("inverse",i.inverse))})},e}(e.Statement);t.default=n}),o("glimmer-runtime/lib/syntax/builtins/if",["exports","glimmer-runtime/lib/syntax"],function(t,e){"use strict";var n=function(t){function e(e){t.call(this),this.args=e,this.type="if-statement"}return g.inherits(e,t),e.prototype.compile=function(t){var e=this.args,n=this.args.blocks;t.putArgs(e),t.test("environment"),t.block(null,function(t,e,i){n.inverse?(t.jumpUnless("ELSE"),t.evaluate("default",n.default),t.jump(i),t.label("ELSE"),t.evaluate("inverse",n.inverse)):(t.jumpUnless(i),t.evaluate("default",n.default))})},e}(e.Statement);t.default=n}),o("glimmer-runtime/lib/syntax/builtins/in-element",["exports","glimmer-runtime/lib/syntax"],function(t,e){"use strict";var n=function(t){function e(e){t.call(this),this.args=e,this.type="in-element-statement"}return g.inherits(e,t),e.prototype.compile=function(t,e){var n=this.args,i=this.args.blocks;t.putArgs(n),t.test("simple"),t.block(null,function(t,e,n){t.jumpUnless(n),t.pushRemoteElement(),t.evaluate("default",i.default),t.popRemoteElement()})},e}(e.Statement);t.default=n}),o("glimmer-runtime/lib/syntax/builtins/partial",["exports","glimmer-runtime/lib/syntax"],function(t,e){"use strict";var n=function(t){function e(e){t.call(this),this.name=e,this.type="static-partial"}return g.inherits(e,t),e.prototype.compile=function(t,e,n){var i=String(this.name.inner());if(!e.hasPartial(i,n))throw new Error("Compile Error: "+i+" is not a partial");var r=e.lookupPartial(i,n);t.putPartialDefinition(r),t.evaluatePartial()},e}(e.Statement);t.StaticPartialSyntax=n;var i=function(t){function e(e){t.call(this),this.name=e,this.type="dynamic-partial"}return g.inherits(e,t),e.prototype.compile=function(t){var e=this.name;t.startLabels(),t.putValue(e),t.test("simple"),t.enter("BEGIN","END"),t.label("BEGIN"),t.jumpUnless("END"),t.putDynamicPartialDefinition(),t.evaluatePartial(),t.label("END"),t.exit(),t.stopLabels()},e}(e.Statement);t.DynamicPartialSyntax=i}),o("glimmer-runtime/lib/syntax/builtins/unless",["exports","glimmer-runtime/lib/syntax"],function(t,e){"use strict";var n=function(t){function e(e){t.call(this),this.args=e,this.type="unless-statement"}return g.inherits(e,t),e.prototype.compile=function(t,e){var n=this.args,i=this.args.blocks;t.putArgs(n),t.test("environment"),t.block(null,function(t){i.inverse?(t.jumpIf("ELSE"),t.evaluate("default",i.default),t.jump("END"),t.label("ELSE"),t.evaluate("inverse",i.inverse)):(t.jumpIf("END"),t.evaluate("default",i.default))})},e}(e.Statement);t.default=n}),o("glimmer-runtime/lib/syntax/builtins/with-dynamic-vars",["exports","glimmer-runtime/lib/syntax"],function(t,e){"use strict";var n=function(t){function e(e){t.call(this),this.args=e,this.type="with-dynamic-vars-statement"}return g.inherits(e,t),e.prototype.compile=function(t,e){var n=this.args,i=this.args.blocks;t.unit(function(t){t.putArgs(n),t.pushDynamicScope(),t.bindDynamicScope(n.named.keys),t.evaluate("default",i.default),t.popDynamicScope()})},e}(e.Statement);t.default=n}),o("glimmer-runtime/lib/syntax/builtins/with",["exports","glimmer-runtime/lib/syntax"],function(t,e){"use strict";var n=function(t){function e(e){t.call(this),this.args=e,this.type="with-statement"}return g.inherits(e,t),e.prototype.compile=function(t,e){var n=this.args,i=this.args.blocks;t.putArgs(n),t.test("environment"),t.block(null,function(t,e,n){i.inverse?(t.jumpUnless("ELSE"),t.evaluate("default",i.default),t.jump(n),t.label("ELSE"),t.evaluate("inverse",i.inverse)):(t.jumpUnless(n),t.evaluate("default",i.default))})},e}(e.Statement);t.default=n}),o("glimmer-runtime/lib/syntax/core",["exports","glimmer-runtime/lib/syntax","glimmer-runtime/lib/syntax/builtins/partial","glimmer-runtime/lib/opcodes","glimmer-runtime/lib/compiled/opcodes/vm","glimmer-runtime/lib/compiled/opcodes/component","glimmer-runtime/lib/compiled/opcodes/dom","glimmer-runtime/lib/syntax/expressions","glimmer-runtime/lib/compiled/expressions/args","glimmer-runtime/lib/compiled/expressions/value","glimmer-runtime/lib/compiled/expressions/lookups","glimmer-runtime/lib/compiled/expressions/has-block","glimmer-runtime/lib/compiled/expressions/helper","glimmer-runtime/lib/compiled/expressions/concat","glimmer-runtime/lib/utils","glimmer-runtime/lib/compiled/opcodes/content"],function(t,e,n,i,r,s,o,a,l,c,u,Q,B,I,d,F){"use strict";function C(t){return"value"===t.type}var U=function(t){function e(e,n){t.call(this),this.path=e,this.args=n,this.type="block"}return g.inherits(e,t),e.fromSpec=function(t,n,i){var r=t[1],s=t[2],o=t[3],a=t[4],l=t[5],c=i.blockFor(n,a),g="number"==typeof l?i.blockFor(n,l):null,u=j.fromSpec(c,g);return new e(r,K.fromSpec(s,o,u))},e.build=function(t,e){return new this(t,e)},e.prototype.scan=function(t){var e=this.args.blocks,n=e.default,i=e.inverse;return n&&t.addChild(n),i&&t.addChild(i),this},e.prototype.compile=function(t){throw new Error("SyntaxError")},e}(e.Statement);t.Block=U;var h=function(t){function e(e){var n=e.value,i=e.trustingMorph;t.call(this),this.value=n,this.trustingMorph=i}return g.inherits(e,t),e.fromSpec=function(t){var e=t[1],n=t[2];return new m({value:a.default(e),trustingMorph:n})},e}(e.Statement);t.Append=h;var m=function(t){function e(){t.apply(this,arguments),this.type="optimized-append"}return g.inherits(e,t),e.prototype.deopt=function(){return new b(this)},e.prototype.compile=function(t,e,n){t.append(new r.PutValueOpcode(this.value.compile(t,e,n))),this.trustingMorph?t.append(new F.OptimizedTrustingAppendOpcode):t.append(new F.OptimizedCautiousAppendOpcode)},e}(h);t.OptimizedAppend=m;var b=function(t){function e(){t.apply(this,arguments),this.type="unoptimized-append"}return g.inherits(e,t),e.prototype.compile=function(t,e,n){var i=this.value.compile(t,e,n);this.trustingMorph?t.append(new F.GuardedTrustingAppendOpcode(i,n)):t.append(new F.GuardedCautiousAppendOpcode(i,n))},e}(h);t.UnoptimizedAppend=b;var p=function(t){function e(e){t.call(this),this["c0420397-8ff1-4241-882b-4b7a107c9632"]=!0,this.type="modifier",this.path=e.path,this.args=e.args}return g.inherits(e,t),e.fromSpec=function(t){var n=t[1],i=t[2],r=t[3];return new e({path:n,args:K.fromSpec(i,r,P)})},e.build=function(t,n){return new e({path:t,params:n.params,hash:n.hash})},e.prototype.compile=function(t,e,n){var i=this.args.compile(t,e,n);if(!e.hasModifier(this.path,n))throw new Error("Compile Error: "+this.path.join(".")+" is not a modifier");t.append(new o.ModifierOpcode(this.path[0],e.lookupModifier(this.path,n),i))},e}(e.Statement);t.Modifier=p;var A=function(t){function e(e,n){t.call(this),this.name=e,this.value=n,this.type="static-arg"}return g.inherits(e,t),e.fromSpec=function(t){return new e(t[1],t[2])},e.build=function(t,e){arguments.length<=2||void 0===arguments[2]||arguments[2];return new this(t,e)},e.prototype.compile=function(){throw new Error('Cannot compiler StaticArg "'+this.name+'" as it is a delegate for ValueSyntax<string>.')},e.prototype.valueSyntax=function(){return Y.build(this.value)},e}(e.Argument);t.StaticArg=A;var y=function(t){function e(e,n){var i=arguments.length<=2||void 0===arguments[2]?null:arguments[2];t.call(this),this.name=e,this.value=n,this.namespace=i,this.type="dynamic-arg"}return g.inherits(e,t),e.fromSpec=function(t){var n=t[1],i=t[2];return new e(n,a.default(i))},e.build=function(t,e){return new this(t,e)},e.prototype.compile=function(){throw new Error('Cannot compile DynamicArg for "'+this.name+'" as it is delegate for ExpressionSyntax<Opaque>.')},e.prototype.valueSyntax=function(){return this.value},e}(e.Argument);t.DynamicArg=y;var f=function(){function t(){}return t.fromSpec=function(t){var e=t[1],n=t[2],i=t[3];return new x(e,a.default(n),i,!0)},t.build=function(t,e,n){var i=arguments.length<=3||void 0===arguments[3]?null:arguments[3];return new x(t,e,i,n)},t.prototype.compile=function(){throw new Error("Attempting to compile a TrustingAttr which is just a delegate for DynamicAttr.")},t}();t.TrustingAttr=f;var G=function(t){function e(e,n,i){t.call(this),this.name=e,this.value=n,this.namespace=i,this["e1185d30-7cac-4b12-b26a-35327d905d92"]=!0,this.type="static-attr",this.isTrusting=!1}return g.inherits(e,t),e.fromSpec=function(t){return new e(t[1],t[2],t[3])},e.build=function(t,e){return new this(t,e,arguments.length<=2||void 0===arguments[2]?null:arguments[2])},e.prototype.compile=function(t){t.append(new o.StaticAttrOpcode(this.namespace,this.name,this.value))},e.prototype.valueSyntax=function(){return Y.build(this.value)},e}(e.Attribute);t.StaticAttr=G;var x=function(t){function e(e,n,i,r){void 0===i&&(i=void 0),t.call(this),this.name=e,this.value=n,this.namespace=i,this.isTrusting=r,this["e1185d30-7cac-4b12-b26a-35327d905d92"]=!0,this.type="dynamic-attr"}return g.inherits(e,t),e.fromSpec=function(t){var n=t[1],i=t[2],r=t[3];return new e(n,a.default(i),r)},e.build=function(t,e){var n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];return new this(t,e,arguments.length<=3||void 0===arguments[3]?null:arguments[3],n)},e.prototype.compile=function(t,e,n){var i=this.namespace,s=this.value;t.append(new r.PutValueOpcode(s.compile(t,e,n))),i?t.append(new o.DynamicAttrNSOpcode(this.name,this.namespace,this.isTrusting)):t.append(new o.DynamicAttrOpcode(this.name,this.isTrusting))},e.prototype.valueSyntax=function(){return this.value},e}(e.Attribute);t.DynamicAttr=x;var V=function(t){function e(){t.apply(this,arguments),this.type="flush-element"}return g.inherits(e,t),e.fromSpec=function(){return new e},e.build=function(){return new this},e.prototype.compile=function(t){t.append(new o.FlushElementOpcode)},e}(e.Statement);t.FlushElement=V;var Z=function(t){function e(){t.apply(this,arguments),this.type="close-element"}return g.inherits(e,t),e.fromSpec=function(){return new e},e.build=function(){return new this},e.prototype.compile=function(t){t.append(new o.CloseElementOpcode)},e}(e.Statement);t.CloseElement=Z;var R=function(t){function e(e){t.call(this),this.content=e,this.type="text"}return g.inherits(e,t),e.fromSpec=function(t){return new e(t[1])},e.build=function(t){return new this(t)},e.prototype.compile=function(t){t.text(this.content)},e}(e.Statement);t.Text=R;var X=function(t){function e(e){t.call(this),this.comment=e,this.type="comment"}return g.inherits(e,t),e.fromSpec=function(t){return new e(t[1])},e.build=function(t){return new this(t)},e.prototype.compile=function(t){t.comment(this.comment)},e}(e.Statement);t.Comment=X;var L=function(t){function n(e,n,i){t.call(this),this.tag=e,this.blockParams=n,this.symbolTable=i,this.type="open-element"}return g.inherits(n,t),n.fromSpec=function(t,e){return new n(t[1],t[2],e)},n.build=function(t,e,n){return new this(t,e,n)},n.prototype.scan=function(t){var e=this.tag;if(t.env.hasComponentDefinition([e],this.symbolTable)){var n=this.parameters(t),i=n.args,r=n.attrs;t.startBlock(this.blockParams),this.tagContents(t);var s=t.endBlock(this.blockParams);return i.blocks=j.fromSpec(s),new E(e,r,i)}return new v(e)},n.prototype.compile=function(t,e){t.append(new o.OpenPrimitiveElementOpcode(this.tag))},n.prototype.toIdentity=function(){var t=this.tag;return new v(t)},n.prototype.parameters=function(t){for(var n=t.next(),i=[],r=[],s=[];!(n instanceof V);){if(n["c0420397-8ff1-4241-882b-4b7a107c9632"])throw new Error("Compile Error: Element modifiers are not allowed in components");var o=n;if(n[e.ATTRIBUTE])i.push(o.name),r.push(o.name),s.push(o.valueSyntax());else{if(!n[e.ARGUMENT])throw new Error("Expected FlushElement, but got ${current}");r.push(o.name),s.push(o.valueSyntax())}n=t.next()}return{args:K.fromNamedArgs($.build(r,s)),attrs:i}},n.prototype.tagContents=function(t){for(var e=1;;){var i=t.next();if(i instanceof Z&&0==--e)break;t.addStatement(i),(i instanceof n||i instanceof v)&&e++}},n}(e.Statement);t.OpenElement=L;var E=function(t){function e(e,n,i){t.call(this),this.tag=e,this.attrs=n,this.args=i,this.type="component"}return g.inherits(e,t),e.prototype.compile=function(t,e,n){var i=e.getComponentDefinition([this.tag],n),r=this.args.compile(t,e,n),o=this.attrs;t.append(new s.PutComponentDefinitionOpcode(i)),t.append(new s.OpenComponentOpcode(r,o)),t.append(new s.CloseComponentOpcode)},e}(e.Statement);t.Component=E;var v=function(t){function e(e){t.call(this),this.tag=e,this.type="open-primitive-element"}return g.inherits(e,t),e.build=function(t){return new this(t)},e.prototype.compile=function(t){t.append(new o.OpenPrimitiveElementOpcode(this.tag))},e}(e.Statement);t.OpenPrimitiveElement=v;var S=function(t){function e(e,n){t.call(this),this.to=e,this.args=n,this.type="yield"}return g.inherits(e,t),e.fromSpec=function(t){var n=t[1],i=t[2];return new e(n,K.fromSpec(i,null,P))},e.build=function(t,e){return new this(e,K.fromPositionalArgs(_.build(t)))},e.prototype.compile=function(t,e,n){var i=this.to,r=this.args.compile(t,e,n);if(t.hasBlockSymbol(i)){var s=t.getBlockSymbol(i),o=new Q.CompiledGetBlockBySymbol(s,i);t.append(new N(o,r)),t.append(new J)}else{if(!t.hasPartialArgsSymbol())throw new Error("[BUG] ${to} is not a valid block name.");var s=t.getPartialArgsSymbol(),o=new Q.CompiledInPartialGetBlock(s,i);t.append(new N(o,r)),t.append(new J)}},e}(e.Statement);t.Yield=S;var W=function(t){function e(){t.apply(this,arguments)}return g.inherits(e,t),e.fromSpec=function(t){var e=t[1],i=a.default(e);return C(i)?new n.StaticPartialSyntax(i):new n.DynamicPartialSyntax(i)},e}(e.Statement);t.Partial=W;var N=function(t){function e(e,n){t.call(this),this.inner=e,this.args=n,this.type="open-block"}return g.inherits(e,t),e.prototype.evaluate=function(t){var e=this.inner.evaluate(t),n=void 0;e&&(n=this.args.evaluate(t)),t.pushCallerScope(),e&&t.invokeBlock(e,n)},e.prototype.toJSON=function(){return{guid:this._guid,type:this.type,details:{block:this.inner.toJSON(),positional:this.args.positional.toJSON(),named:this.args.named.toJSON()}}},e}(i.Opcode),J=function(t){function e(){t.apply(this,arguments),this.type="close-block"}return g.inherits(e,t),e.prototype.evaluate=function(t){t.popScope()},e}(i.Opcode);t.CloseBlockOpcode=J;var Y=function(t){function e(e){t.call(this),this.value=e,this.type="value"}return g.inherits(e,t),e.fromSpec=function(t){return new e(t)},e.build=function(t){return new this(t)},e.prototype.inner=function(){return this.value},e.prototype.compile=function(t){return new c.default(this.value)},e}(e.Expression);t.Value=Y;var H=function(t){function e(e){t.call(this),this.parts=e,this.type="get-argument"}return g.inherits(e,t),e.fromSpec=function(t){return new e(t[1])},e.build=function(t){return new this(t.split("."))},e.prototype.compile=function(t){var e=this.parts,n=e[0];if(t.hasNamedSymbol(n)){var i=t.getNamedSymbol(n),r=e.slice(1),s=new u.CompiledSymbol(i,n);return u.default.create(s,r)}if(t.hasPartialArgsSymbol()){var i=t.getPartialArgsSymbol(),r=e.slice(1),s=new u.CompiledInPartialName(i,n);return u.default.create(s,r)}throw new Error("[BUG] @"+this.parts.join(".")+" is not a valid lookup path.")},e}(e.Expression);t.GetArgument=H;var k=function(t){function e(e){t.call(this),this.parts=e,this.type="ref"}return g.inherits(e,t),e.build=function(t){var e=t.split(".");return"this"===e[0]&&(e[0]=null),new this(e)},e.prototype.compile=function(t){var e=this.parts,n=e[0];if(null===n){var i=new u.CompiledSelf,r=e.slice(1);return u.default.create(i,r)}if(t.hasLocalSymbol(n)){var s=t.getLocalSymbol(n),r=e.slice(1),i=new u.CompiledSymbol(s,n);return u.default.create(i,r)}var i=new u.CompiledSelf;return u.default.create(i,e)},e}(e.Expression);t.Ref=k;var T=function(t){function e(e){t.call(this),this.ref=e,this.type="get"}return g.inherits(e,t),e.fromSpec=function(t){var e=t[1];return new this(new k(e))},e.build=function(t){return new this(k.build(t))},e.prototype.compile=function(t){return this.ref.compile(t)},e}(e.Expression);t.Get=T;var D=function(t){function e(e){t.call(this),this.ref=e,this.type="unknown"}return g.inherits(e,t),e.fromSpec=function(t){var e=t[1];return new this(new k(e))},e.build=function(t){return new this(k.build(t))},e.prototype.compile=function(t,e,n){var i=this.ref;return e.hasHelper(i.parts,n)?new B.default(i.parts,e.lookupHelper(i.parts,n),l.CompiledArgs.empty(),n):this.ref.compile(t)},e}(e.Expression);t.Unknown=D;var w=function(t){function e(e,n){t.call(this),this.ref=e,this.args=n,this.type="helper"}return g.inherits(e,t),e.fromSpec=function(t){var n=t[1],i=t[2],r=t[3];return new e(new k(n),K.fromSpec(i,r,P))},e.build=function(t,e,n){return new this(k.build(t),K.build(e,n,P))},e.prototype.compile=function(t,e,n){if(e.hasHelper(this.ref.parts,n)){var i=this.args,r=this.ref;return new B.default(r.parts,e.lookupHelper(r.parts,n),i.compile(t,e,n),n)}throw new Error("Compile Error: "+this.ref.parts.join(".")+" is not a helper")},e}(e.Expression);t.Helper=w;var O=function(t){function e(e){t.call(this),this.blockName=e,this.type="has-block"}return g.inherits(e,t),e.fromSpec=function(t){return new e(t[1])},e.build=function(t){return new this(t)},e.prototype.compile=function(t,e){var n=this.blockName;if(t.hasBlockSymbol(n)){var i=t.getBlockSymbol(n),r=new Q.CompiledGetBlockBySymbol(i,n);return new Q.default(r)}if(t.hasPartialArgsSymbol()){var i=t.getPartialArgsSymbol(),r=new Q.CompiledInPartialGetBlock(i,n);return new Q.default(r)}throw new Error("[BUG] ${blockName} is not a valid block name.")},e}(e.Expression);t.HasBlock=O;var z=function(t){function e(e){t.call(this),this.blockName=e,this.type="has-block-params"}return g.inherits(e,t),e.fromSpec=function(t){return new e(t[1])},e.build=function(t){return new this(t)},e.prototype.compile=function(t,e){var n=this.blockName;if(t.hasBlockSymbol(n)){var i=t.getBlockSymbol(n),r=new Q.CompiledGetBlockBySymbol(i,n);return new Q.CompiledHasBlockParams(r)}if(t.hasPartialArgsSymbol()){var i=t.getPartialArgsSymbol(),r=new Q.CompiledInPartialGetBlock(i,n);return new Q.CompiledHasBlockParams(r)}throw new Error("[BUG] ${blockName} is not a valid block name.")},e}(e.Expression);t.HasBlockParams=z;var M=function(){function t(t){this.parts=t,this.type="concat"}return t.fromSpec=function(e){return new t(e[1].map(a.default))},t.build=function(t){return new this(t)},t.prototype.compile=function(t,e,n){return new I.default(this.parts.map(function(i){return i.compile(t,e,n)}))},t}();t.Concat=M;var j=function(){function t(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];this.type="blocks",this.default=t,this.inverse=e}return t.fromSpec=function(e){return new t(e,arguments.length<=1||void 0===arguments[1]?null:arguments[1])},t.empty=function(){return P},t}();t.Blocks=j;var P=new(function(t){function e(){t.call(this,null,null)}return g.inherits(e,t),e}(j));t.EMPTY_BLOCKS=P;var K=function(){function t(t,e,n){this.positional=t,this.named=e,this.blocks=n,this.type="args"}return t.empty=function(){return et},t.fromSpec=function(e,n,i){return new t(_.fromSpec(e),$.fromSpec(n),i)},t.fromPositionalArgs=function(e){var n=arguments.length<=1||void 0===arguments[1]?P:arguments[1];return new t(e,tt,n)},t.fromNamedArgs=function(e){var n=arguments.length<=1||void 0===arguments[1]?P:arguments[1];return new t(q,e,n)},t.build=function(t,e,n){return t===q&&e===tt&&n===P?et:new this(t,e,n)},t.prototype.compile=function(t,e,n){var i=this.positional,r=this.named,s=this.blocks;return l.CompiledArgs.create(i.compile(t,e,n),r.compile(t,e,n),s)},t}();t.Args=K;var _=function(){function t(t){this.values=t,this.type="positional",this.length=t.length}return t.empty=function(){return q},t.fromSpec=function(e){return e&&0!==e.length?new t(e.map(a.default)):q},t.build=function(t){return 0===t.length?q:new this(t)},t.prototype.slice=function(e,n){return t.build(this.values.slice(e,n))},t.prototype.at=function(t){return this.values[t]},t.prototype.compile=function(t,e,n){return l.CompiledPositionalArgs.create(this.values.map(function(i){return i.compile(t,e,n)}))},t}();t.PositionalArgs=_;var q=new(function(t){function e(){t.call(this,d.EMPTY_ARRAY)}return g.inherits(e,t),e.prototype.slice=function(t,e){return this},e.prototype.at=function(t){},e.prototype.compile=function(t,e){return l.CompiledPositionalArgs.empty()},e}(_)),$=function(){function t(t,e){this.keys=t,this.values=e,this.type="named",this.length=t.length}return t.empty=function(){return tt},t.fromSpec=function(t){if(null===t||void 0===t)return tt;var e=t[0],n=t[1];return 0===e.length?tt:new this(e,n.map(function(t){return a.default(t)}))},
t.build=function(t,e){return 0===t.length?tt:new this(t,e)},t.prototype.at=function(t){var e=this.keys;return this.values[e.indexOf(t)]},t.prototype.has=function(t){return-1!==this.keys.indexOf(t)},t.prototype.compile=function(t,e,n){var i=this.keys,r=this.values;return new l.CompiledNamedArgs(i,r.map(function(i){return i.compile(t,e,n)}))},t}();t.NamedArgs=$;var tt=new(function(t){function e(){t.call(this,d.EMPTY_ARRAY,d.EMPTY_ARRAY)}return g.inherits(e,t),e.prototype.at=function(t){},e.prototype.has=function(t){return!1},e.prototype.compile=function(t,e){return l.CompiledNamedArgs.empty()},e}($)),et=new(function(t){function e(){t.call(this,q,tt,P)}return g.inherits(e,t),e.prototype.compile=function(t,e){return l.CompiledArgs.empty()},e}(K))}),o("glimmer-runtime/lib/syntax/expressions",["exports","glimmer-runtime/lib/syntax/core","glimmer-wire-format"],function(t,e,n){"use strict";var i=n.Expressions.isArg,r=n.Expressions.isConcat,s=n.Expressions.isGet,o=n.Expressions.isHasBlock,a=n.Expressions.isHasBlockParams,l=n.Expressions.isHelper,c=n.Expressions.isUnknown,g=n.Expressions.isPrimitiveValue,u=n.Expressions.isUndefined;t.default=function(t){if(g(t))return e.Value.fromSpec(t);if(u(t))return e.Value.build(void 0);if(i(t))return e.GetArgument.fromSpec(t);if(r(t))return e.Concat.fromSpec(t);if(s(t))return e.Get.fromSpec(t);if(l(t))return e.Helper.fromSpec(t);if(c(t))return e.Unknown.fromSpec(t);if(o(t))return e.HasBlock.fromSpec(t);if(a(t))return e.HasBlockParams.fromSpec(t);throw new Error("Unexpected wire format: "+JSON.stringify(t))}}),o("glimmer-runtime/lib/syntax/statements",["exports","glimmer-runtime/lib/syntax/core","glimmer-wire-format"],function(t,e,n){"use strict";var i=n.Statements.isYield,r=n.Statements.isBlock,s=n.Statements.isPartial,o=n.Statements.isAppend,a=n.Statements.isDynamicAttr,l=n.Statements.isText,c=n.Statements.isComment,g=n.Statements.isOpenElement,u=n.Statements.isFlushElement,Q=n.Statements.isCloseElement,B=n.Statements.isStaticAttr,I=n.Statements.isModifier,d=n.Statements.isDynamicArg,F=n.Statements.isStaticArg,C=n.Statements.isTrustingAttr;t.default=function(t,n,U){return i(t)?e.Yield.fromSpec(t):s(t)?e.Partial.fromSpec(t):r(t)?e.Block.fromSpec(t,n,U):o(t)?e.OptimizedAppend.fromSpec(t):a(t)?e.DynamicAttr.fromSpec(t):d(t)?e.DynamicArg.fromSpec(t):C(t)?e.TrustingAttr.fromSpec(t):l(t)?e.Text.fromSpec(t):c(t)?e.Comment.fromSpec(t):g(t)?e.OpenElement.fromSpec(t,n):u(t)?e.FlushElement.fromSpec():Q(t)?e.CloseElement.fromSpec():B(t)?e.StaticAttr.fromSpec(t):F(t)?e.StaticArg.fromSpec(t):I(t)?e.Modifier.fromSpec(t):void 0}}),o("glimmer-runtime/lib/template",["exports","glimmer-util","glimmer-runtime/lib/builder","glimmer-runtime/lib/vm","glimmer-runtime/lib/scanner"],function(t,e,n,i,r){"use strict";function s(t){var n=t.id,i=t.meta,r=t.block,s=void 0;return n||(n="client-"+a++),{id:n,meta:i,create:function(t,a){var l=a?e.assign({},a,i):i;return s||(s=JSON.parse(r)),o(s,n,l,t)}}}function o(t,e,s,o){var a=new r.default(t,s,o),l=void 0,c=function(){return l||(l=a.scanEntryPoint()),l},g=void 0;return{id:e,meta:s,_block:t,asEntryPoint:c,asLayout:function(){return g||(g=a.scanLayout()),g},asPartial:function(t){return a.scanPartial(t)},render:function(t,e,r){var s=n.ElementStack.forInitialRender(o,e,null),a=c().compile(o);return i.VM.initial(o,t,r,s,a.symbols).execute(a.ops)}}}t.default=s;var a=0}),o("glimmer-runtime/lib/upsert",["exports","glimmer-runtime/lib/bounds"],function(t,e){"use strict";function n(t){return t&&"function"==typeof t.toHTML}function i(t){return null!==t&&"object"==typeof t&&"number"==typeof t.nodeType}function r(t){return"string"==typeof t}function s(t,e,s){return r(s)?l.insert(t,e,s):n(s)?u.insert(t,e,s):i(s)?Q.insert(t,e,s):void 0}function o(t,e,n){return r(n)?c.insert(t,e,n):i(n)?Q.insert(t,e,n):void 0}t.isSafeString=n,t.isNode=i,t.isString=r,t.cautiousInsert=s,t.trustingInsert=o;var a=function(t){this.bounds=t};t.default=a;var l=function(t){function n(e,n){t.call(this,e),this.textNode=n}return g.inherits(n,t),n.insert=function(t,i,r){var s=t.createTextNode(r);return t.insertBefore(i.element,s,i.nextSibling),new n(new e.SingleNodeBounds(i.element,s),s)},n.prototype.update=function(t,e){if(r(e)){return this.textNode.nodeValue=e,!0}return!1},n}(a),c=function(t){function n(){t.apply(this,arguments)}return g.inherits(n,t),n.insert=function(t,e,i){return new n(t.insertHTMLBefore(e.element,i,e.nextSibling))},n.prototype.update=function(t,n){if(r(n)){var i=this.bounds,s=i.parentElement(),o=e.clear(i);return this.bounds=t.insertHTMLBefore(s,o,n),!0}return!1},n}(a),u=function(t){function i(e,n){t.call(this,e),this.lastStringValue=n}return g.inherits(i,t),i.insert=function(t,e,n){var r=n.toHTML();return new i(t.insertHTMLBefore(e.element,r,e.nextSibling),r)},i.prototype.update=function(t,i){if(n(i)){var r=i.toHTML();if(r!==this.lastStringValue){var s=this.bounds,o=s.parentElement(),a=e.clear(s);this.bounds=t.insertHTMLBefore(o,a,r),this.lastStringValue=r}return!0}return!1},i}(a),Q=function(t){function n(){t.apply(this,arguments)}return g.inherits(n,t),n.insert=function(t,i,r){return t.insertBefore(i.element,r,i.nextSibling),new n(e.single(i.element,r))},n.prototype.update=function(t,n){if(i(n)){var r=this.bounds,s=r.parentElement(),o=e.clear(r);return this.bounds=t.insertNodeBefore(s,n,o),!0}return!1},n}(a)}),o("glimmer-runtime/lib/utils",["exports","glimmer-util"],function(t,e){"use strict";var n=Object.freeze([]);t.EMPTY_ARRAY=n;var i=Object.freeze(e.dict());t.EMPTY_DICT=i;var r=function(){function t(t,e,n){this.list=t,this.start=e,this.end=n}return t.prototype.at=function(t){return t>=this.list.length?null:this.list[t]},t.prototype.min=function(){return this.start},t.prototype.max=function(){return this.end},t}();t.ListRange=r}),o("glimmer-runtime/lib/vm",["exports","glimmer-runtime/lib/vm/append","glimmer-runtime/lib/vm/update","glimmer-runtime/lib/vm/render-result"],function(t,e,n,i){"use strict";t.VM=e.default,t.PublicVM=e.PublicVM,t.UpdatingVM=n.default,t.RenderResult=i.default}),o("glimmer-runtime/lib/vm/append",["exports","glimmer-runtime/lib/environment","glimmer-util","glimmer-reference","glimmer-runtime/lib/compiled/opcodes/vm","glimmer-runtime/lib/vm/update","glimmer-runtime/lib/vm/render-result","glimmer-runtime/lib/vm/frame"],function(t,e,n,i,r,s,o,a){"use strict";var l=function(){function t(t,e,i,r){this.env=t,this.elementStack=r,this.dynamicScopeStack=new n.Stack,this.scopeStack=new n.Stack,this.updatingOpcodeStack=new n.Stack,this.cacheGroups=new n.Stack,this.listBlockStack=new n.Stack,this.frame=new a.FrameStack,this.env=t,this.elementStack=r,this.scopeStack.push(e),this.dynamicScopeStack.push(i)}return t.initial=function(n,i,r,s,o){return new t(n,e.Scope.root(i,o),r,s)},t.prototype.capture=function(){return{env:this.env,scope:this.scope(),dynamicScope:this.dynamicScope(),frame:this.frame.capture()}},t.prototype.goto=function(t){this.frame.goto(t)},t.prototype.beginCacheGroup=function(){this.cacheGroups.push(this.updatingOpcodeStack.current.tail())},t.prototype.commitCacheGroup=function(){var t=new r.LabelOpcode("END"),e=this.updatingOpcodeStack.current,s=this.cacheGroups.pop(),o=s?e.nextNode(s):e.head(),a=e.tail(),l=i.combineSlice(new n.ListSlice(o,a)),c=new r.JumpIfNotModifiedOpcode(l,t);e.insertBefore(c,o),e.append(new r.DidModifyOpcode(c)),e.append(t)},t.prototype.enter=function(t){var e=new n.LinkedList,i=this.stack().pushUpdatableBlock(),r=this.capture(),o=new s.TryOpcode(t,r,i,e);this.didEnter(o,e)},t.prototype.enterWithKey=function(t,e){var i=new n.LinkedList,r=this.stack().pushUpdatableBlock(),o=this.capture(),a=new s.TryOpcode(e,o,r,i);this.listBlockStack.current.map[t]=a,this.didEnter(a,i)},t.prototype.enterList=function(t){var e=new n.LinkedList,i=this.stack().pushBlockList(e),r=this.capture(),o=this.frame.getIterator().artifacts,a=new s.ListBlockOpcode(t,r,i,e,o);this.listBlockStack.push(a),this.didEnter(a,e)},t.prototype.didEnter=function(t,e){this.updateWith(t),this.updatingOpcodeStack.push(e)},t.prototype.exit=function(){this.stack().popBlock(),this.updatingOpcodeStack.pop(),this.updatingOpcodeStack.current.tail().didInitializeChildren()},t.prototype.exitList=function(){this.exit(),this.listBlockStack.pop()},t.prototype.updateWith=function(t){this.updatingOpcodeStack.current.append(t)},t.prototype.stack=function(){return this.elementStack},t.prototype.scope=function(){return this.scopeStack.current},t.prototype.dynamicScope=function(){return this.dynamicScopeStack.current},t.prototype.pushFrame=function(t,e,n){this.frame.push(t.ops),e&&this.frame.setArgs(e),e&&e.blocks&&this.frame.setBlocks(e.blocks),n&&this.frame.setCallerScope(n)},t.prototype.pushComponentFrame=function(t,e,n,i,r,s){this.frame.push(t.ops,i,r,s),e&&this.frame.setArgs(e),e&&e.blocks&&this.frame.setBlocks(e.blocks),n&&this.frame.setCallerScope(n)},t.prototype.pushEvalFrame=function(t){this.frame.push(t)},t.prototype.pushChildScope=function(){this.scopeStack.push(this.scopeStack.current.child())},t.prototype.pushCallerScope=function(){this.scopeStack.push(this.scope().getCallerScope())},t.prototype.pushDynamicScope=function(){var t=this.dynamicScopeStack.current.child();return this.dynamicScopeStack.push(t),t},t.prototype.pushRootScope=function(t,n){var i=e.Scope.root(t,n);return this.scopeStack.push(i),i},t.prototype.popScope=function(){this.scopeStack.pop()},t.prototype.popDynamicScope=function(){this.dynamicScopeStack.pop()},t.prototype.newDestroyable=function(t){this.stack().newDestroyable(t)},t.prototype.getSelf=function(){return this.scope().getSelf()},t.prototype.referenceForSymbol=function(t){return this.scope().getSymbol(t)},t.prototype.getArgs=function(){return this.frame.getArgs()},t.prototype.resume=function(t,e){return this.execute(t,function(t){return t.frame.restore(e)})},t.prototype.execute=function(t,e){n.LOGGER.debug("[VM] Begin program execution");var i=this.elementStack,r=this.frame,s=this.updatingOpcodeStack,a=this.env;i.pushSimpleBlock(),s.push(new n.LinkedList),r.push(t),e&&e(this);for(var l=void 0;r.hasOpcodes();)(l=r.nextStatement())&&(n.LOGGER.debug("[VM] OP "+l.type),n.LOGGER.trace(l),l.evaluate(this));return n.LOGGER.debug("[VM] Completed program execution"),new o.default(a,s.pop(),i.popBlock())},t.prototype.evaluateOpcode=function(t){t.evaluate(this)},t.prototype.invokeBlock=function(t,e){var n=t.compile(this.env);this.pushFrame(n,e)},t.prototype.invokePartial=function(t){var e=t.compile(this.env);this.pushFrame(e)},t.prototype.invokeLayout=function(t,e,n,i,r,s){this.pushComponentFrame(e,t,n,i,r,s)},t.prototype.evaluateOperand=function(t){this.frame.setOperand(t.evaluate(this))},t.prototype.evaluateArgs=function(t){var e=this.frame.setArgs(t.evaluate(this));this.frame.setOperand(e.positional.at(0))},t.prototype.bindPositionalArgs=function(t){var e=this.frame.getArgs();n.assert(e,"Cannot bind positional args");for(var i=e.positional,r=this.scope(),s=0;s<t.length;s++)r.bindSymbol(t[s],i.at(s))},t.prototype.bindNamedArgs=function(t,e){var i=this.frame.getArgs(),r=this.scope();n.assert(i,"Cannot bind named args");for(var s=i.named,o=0;o<t.length;o++)r.bindSymbol(e[o],s.get(t[o]))},t.prototype.bindBlocks=function(t,e){for(var n=this.frame.getBlocks(),i=this.scope(),r=0;r<t.length;r++)i.bindBlock(e[r],n&&n[t[r]]||null)},t.prototype.bindPartialArgs=function(t){var e=this.frame.getArgs(),i=this.scope();n.assert(e,"Cannot bind named args"),i.bindPartialArgs(t,e)},t.prototype.bindCallerScope=function(){var t=this.frame.getCallerScope(),e=this.scope();n.assert(t,"Cannot bind caller scope"),e.bindCallerScope(t)},t.prototype.bindDynamicScope=function(t){var e=this.frame.getArgs(),i=this.dynamicScope();n.assert(e,"Cannot bind dynamic scope");for(var r=0;r<t.length;r++)i.set(t[r],e.named.get(t[r]))},t}();t.default=l}),o("glimmer-runtime/lib/vm/frame",["exports"],function(t){"use strict";var e=function(t,e,n){this.operand=t,this.args=e,this.condition=n};t.CapturedFrame=e;var n=function(){function t(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1],n=arguments.length<=2||void 0===arguments[2]?null:arguments[2],i=arguments.length<=3||void 0===arguments[3]?null:arguments[3];this.component=e,this.manager=n,this.shadow=i,this.operand=null,this.immediate=null,this.args=null,this.callerScope=null,this.blocks=null,this.condition=null,this.iterator=null,this.key=null,this.ops=t,this.op=t.head()}return t.prototype.capture=function(){return new e(this.operand,this.args,this.condition)},t.prototype.restore=function(t){this.operand=t.operand,this.args=t.args,this.condition=t.condition},t}(),i=function(){function t(){this.frames=[],this.frame=void 0}return t.prototype.push=function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=arguments.length<=2||void 0===arguments[2]?null:arguments[2],r=arguments.length<=3||void 0===arguments[3]?null:arguments[3],s=void 0===this.frame?this.frame=0:++this.frame;this.frames.length<=s&&this.frames.push(null),this.frames[s]=new n(t,e,i,r)},t.prototype.pop=function(){var t=this.frames,e=this.frame;t[e]=null,this.frame=0===e?void 0:e-1},t.prototype.capture=function(){return this.frames[this.frame].capture()},t.prototype.restore=function(t){this.frames[this.frame].restore(t)},t.prototype.getOps=function(){return this.frames[this.frame].ops},t.prototype.getCurrent=function(){return this.frames[this.frame].op},t.prototype.setCurrent=function(t){return this.frames[this.frame].op=t},t.prototype.getOperand=function(){return this.frames[this.frame].operand},t.prototype.setOperand=function(t){return this.frames[this.frame].operand=t},t.prototype.getImmediate=function(){return this.frames[this.frame].immediate},t.prototype.setImmediate=function(t){return this.frames[this.frame].immediate=t},t.prototype.getArgs=function(){return this.frames[this.frame].args},t.prototype.setArgs=function(t){return this.frames[this.frame].args=t},t.prototype.getCondition=function(){return this.frames[this.frame].condition},t.prototype.setCondition=function(t){return this.frames[this.frame].condition=t},t.prototype.getIterator=function(){return this.frames[this.frame].iterator},t.prototype.setIterator=function(t){return this.frames[this.frame].iterator=t},t.prototype.getKey=function(){return this.frames[this.frame].key},t.prototype.setKey=function(t){return this.frames[this.frame].key=t},t.prototype.getBlocks=function(){return this.frames[this.frame].blocks},t.prototype.setBlocks=function(t){return this.frames[this.frame].blocks=t},t.prototype.getCallerScope=function(){return this.frames[this.frame].callerScope},t.prototype.setCallerScope=function(t){return this.frames[this.frame].callerScope=t},t.prototype.getComponent=function(){return this.frames[this.frame].component},t.prototype.getManager=function(){return this.frames[this.frame].manager},t.prototype.getShadow=function(){return this.frames[this.frame].shadow},t.prototype.goto=function(t){this.setCurrent(t)},t.prototype.hasOpcodes=function(){return void 0!==this.frame},t.prototype.nextStatement=function(){var t=this.frames[this.frame].op,e=this.getOps();return t?(this.setCurrent(e.nextNode(t)),t):(this.pop(),null)},t}();t.FrameStack=i}),o("glimmer-runtime/lib/vm/render-result",["exports","glimmer-runtime/lib/bounds","glimmer-runtime/lib/vm/update"],function(t,e,n){"use strict";var i=function(){function t(t,e,n){this.env=t,this.updating=e,this.bounds=n}return t.prototype.rerender=function(){var t=arguments.length<=0||void 0===arguments[0]?{alwaysRevalidate:!1}:arguments[0],e=t.alwaysRevalidate,i=void 0!==e&&e,r=this.env,s=this.updating;new n.default(r,{alwaysRevalidate:i}).execute(s,this)},t.prototype.parentElement=function(){return this.bounds.parentElement()},t.prototype.firstNode=function(){return this.bounds.firstNode()},t.prototype.lastNode=function(){return this.bounds.lastNode()},t.prototype.opcodes=function(){return this.updating},t.prototype.handleException=function(){throw"this should never happen"},t.prototype.destroy=function(){this.bounds.destroy(),e.clear(this.bounds)},t}();t.default=i}),o("glimmer-runtime/lib/vm/update",["exports","glimmer-runtime/lib/bounds","glimmer-runtime/lib/builder","glimmer-util","glimmer-reference","glimmer-runtime/lib/compiled/expressions/args","glimmer-runtime/lib/opcodes","glimmer-runtime/lib/vm/append"],function(t,e,n,i,r,s,o,a){"use strict";var l=function(){function t(t,e){var n=e.alwaysRevalidate,r=void 0!==n&&n;this.frameStack=new i.Stack,this.env=t,this.dom=t.getDOM(),this.alwaysRevalidate=r}return t.prototype.execute=function(t,e){var n=this.frameStack;for(this.try(t,e);;){if(n.isEmpty())break;var r=this.frameStack.current.nextStatement();null!==r?(i.LOGGER.debug("[VM] OP "+r.type),i.LOGGER.trace(r),r.evaluate(this)):this.frameStack.pop()}},t.prototype.goto=function(t){this.frameStack.current.goto(t)},t.prototype.try=function(t,e){this.frameStack.push(new I(this,t,e))},t.prototype.throw=function(){this.frameStack.current.handleException(),this.frameStack.pop()},t.prototype.evaluateOpcode=function(t){t.evaluate(this)},t}();t.default=l;var c=function(t){function e(e,n,i,r){t.call(this),this.type="block",this.next=null,this.prev=null;var s=n.env,o=n.scope,a=n.dynamicScope,l=n.frame;this.ops=e,this.children=r,this.env=s,this.scope=o,this.dynamicScope=a,this.frame=l,this.bounds=i}return g.inherits(e,t),e.prototype.parentElement=function(){return this.bounds.parentElement()},e.prototype.firstNode=function(){return this.bounds.firstNode()},e.prototype.lastNode=function(){return this.bounds.lastNode()},e.prototype.evaluate=function(t){t.try(this.children,null)},e.prototype.destroy=function(){this.bounds.destroy()},e.prototype.didDestroy=function(){this.env.didDestroy(this.bounds)},e.prototype.toJSON=function(){var t=this.ops.head(),e=this.ops.tail(),n=i.dict();return n.guid=""+this._guid,n.begin=t.inspect(),n.end=e.inspect(),{guid:this._guid,type:this.type,details:n,children:this.children.toArray().map(function(t){return t.toJSON()})}},e}(o.UpdatingOpcode);t.BlockOpcode=c;var u=function(t){function e(e,n,i,s){t.call(this,e,n,i,s),this.type="try",this.tag=this._tag=new r.UpdatableTag(r.CONSTANT_TAG)}return g.inherits(e,t),e.prototype.didInitializeChildren=function(){this._tag.update(r.combineSlice(this.children))},e.prototype.evaluate=function(t){t.try(this.children,this)},e.prototype.handleException=function(){var t=this.env,e=this.scope,i=this.ops,r=this.dynamicScope,s=this.frame,o=n.ElementStack.resume(this.env,this.bounds,this.bounds.reset(t)),l=new a.default(t,e,r,o),c=l.resume(i,s);this.children=c.opcodes(),this.didInitializeChildren()},e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this),n=this.ops.head(),i=this.ops.tail();return e.details.begin=JSON.stringify(n.inspect()),e.details.end=JSON.stringify(i.inspect()),t.prototype.toJSON.call(this)},e}(c);t.TryOpcode=u;var Q=function(){function t(t,e){this.opcode=t,this.marker=e,this.didInsert=!1,this.didDelete=!1,this.map=t.map,this.updating=t.children}return t.prototype.insert=function(t,e,n,i){var o=this.map,a=this.opcode,l=this.updating,c=null,g=null;i?(g=o[i],c=g.bounds.firstNode()):c=this.marker;var Q=a.vmForInsertion(c),B=void 0;Q.execute(a.ops,function(i){i.frame.setArgs(s.EvaluatedArgs.positional([e,n])),i.frame.setOperand(e),i.frame.setCondition(new r.ConstReference(!0)),i.frame.setKey(t);var o=i.capture(),l=i.stack().pushUpdatableBlock();B=new u(a.ops,o,l,i.updatingOpcodeStack.current)}),B.didInitializeChildren(),l.insertBefore(B,g),o[t]=B,this.didInsert=!0},t.prototype.retain=function(t,e,n){},t.prototype.move=function(t,n,i,r){var s=this.map,o=this.updating,a=s[t],l=s[r]||null;r?e.move(a,l.firstNode()):e.move(a,this.marker),o.remove(a),o.insertBefore(a,l)},t.prototype.delete=function(t){var n=this.map,i=n[t];i.didDestroy(),e.clear(i),this.updating.remove(i),delete n[t],this.didDelete=!0},t.prototype.done=function(){this.opcode.didInitializeChildren(this.didInsert||this.didDelete)},t}(),B=function(t){function e(e,n,s,o,a){t.call(this,e,n,s,o),this.type="list-block",this.map=i.dict(),this.lastIterated=r.INITIAL,this.artifacts=a;var l=this._tag=new r.UpdatableTag(r.CONSTANT_TAG);this.tag=r.combine([a.tag,l])}return g.inherits(e,t),e.prototype.didInitializeChildren=function(){var t=arguments.length<=0||void 0===arguments[0]||arguments[0];this.lastIterated=this.artifacts.tag.value(),t&&this._tag.update(r.combineSlice(this.children))},e.prototype.evaluate=function(e){var n=this.artifacts,i=this.lastIterated;if(!n.tag.validate(i)){var s=this.bounds,o=e.dom,a=o.createComment("");o.insertAfter(s.parentElement(),a,s.lastNode());var l=new Q(this,a);new r.IteratorSynchronizer({target:l,artifacts:n}).sync(),this.parentElement().removeChild(a)}t.prototype.evaluate.call(this,e)},e.prototype.vmForInsertion=function(t){var e=this.env,i=this.scope,r=this.dynamicScope,s=n.ElementStack.forInitialRender(this.env,this.bounds.parentElement(),t);return new a.default(e,i,r,s)},e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this),n=this.map,i=Object.keys(n).map(function(t){return JSON.stringify(t)+": "+n[t]._guid}).join(", ");return e.details.map="{"+i+"}",e},e}(c);t.ListBlockOpcode=B;var I=function(){function t(t,e,n){this.vm=t,this.ops=e,this.current=e.head(),this.exceptionHandler=n}return t.prototype.goto=function(t){this.current=t},t.prototype.nextStatement=function(){var t=this.current,e=this.ops;return t&&(this.current=e.nextNode(t)),t},t.prototype.handleException=function(){this.exceptionHandler.handleException()},t}()}),o("glimmer-util/index",["exports","glimmer-util/lib/namespaces","glimmer-util/lib/platform-utils","glimmer-util/lib/assert","glimmer-util/lib/logger","glimmer-util/lib/object-utils","glimmer-util/lib/guid","glimmer-util/lib/collections","glimmer-util/lib/list-utils"],function(t,e,n,i,r,s,o,a,l){"use strict";t.getAttrNamespace=e.getAttrNamespace,t.Option=n.Option,t.Maybe=n.Maybe,t.Opaque=n.Opaque,t.assert=i.default,t.LOGGER=r.default,t.Logger=r.Logger,t.LogLevel=r.LogLevel,t.assign=s.assign,t.ensureGuid=o.ensureGuid,t.initializeGuid=o.initializeGuid,t.HasGuid=o.HasGuid,t.Stack=a.Stack,t.Dict=a.Dict,t.Set=a.Set,t.DictSet=a.DictSet,t.dict=a.dict,t.EMPTY_SLICE=l.EMPTY_SLICE,t.LinkedList=l.LinkedList,t.LinkedListNode=l.LinkedListNode,t.ListNode=l.ListNode,t.CloneableListNode=l.CloneableListNode,t.ListSlice=l.ListSlice,t.Slice=l.Slice}),o("glimmer-util/lib/assert",["exports"],function(t){"use strict";function e(t,e){if(!t)throw new Error(e||"assertion failure")}function n(){}t.debugAssert=e,t.prodAssert=n,t.default=e}),o("glimmer-util/lib/collections",["exports","glimmer-util/lib/guid"],function(t,e){"use strict";function n(){}function i(){return new n}t.dict=i;var r=Object.create(null,{constructor:{value:void 0,enumerable:!1,writable:!0}});n.prototype=r;var s=function(){function t(){this.dict=i()}return t.prototype.add=function(t){return"string"==typeof t?this.dict[t]=t:this.dict[e.ensureGuid(t)]=t,this},t.prototype.delete=function(t){"string"==typeof t?delete this.dict[t]:t._guid&&delete this.dict[t._guid]},t.prototype.forEach=function(t){var e=this.dict;Object.keys(e).forEach(function(n){return t(e[n])})},t.prototype.toArray=function(){return Object.keys(this.dict)},t}();t.DictSet=s;var o=function(){function t(){this.stack=[],this.current=null}return t.prototype.push=function(t){this.current=t,this.stack.push(t)},t.prototype.pop=function(){var t=this.stack.pop(),e=this.stack.length;return this.current=0===e?null:this.stack[e-1],t},t.prototype.isEmpty=function(){return 0===this.stack.length},t}();t.Stack=o}),o("glimmer-util/lib/guid",["exports"],function(t){"use strict";function e(t){return t._guid=++i}function n(t){return t._guid||e(t)}t.initializeGuid=e,t.ensureGuid=n;var i=0}),o("glimmer-util/lib/list-utils",["exports"],function(t){"use strict";var e=function(t){this.next=null,this.prev=null,this.value=t};t.ListNode=e;var n=function(){function t(){this.clear()}return t.fromSlice=function(e){var n=new t;return e.forEachNode(function(t){return n.append(t.clone())}),n},t.prototype.head=function(){return this._head},t.prototype.tail=function(){return this._tail},t.prototype.clear=function(){this._head=this._tail=null},t.prototype.isEmpty=function(){return null===this._head},t.prototype.toArray=function(){var t=[];return this.forEachNode(function(e){return t.push(e)}),t},t.prototype.splice=function(t,e,n){var i=void 0;null===n?(i=this._tail,this._tail=e):(i=n.prev,e.next=n,n.prev=e),i&&(i.next=t,t.prev=i)},t.prototype.spliceList=function(t,e){t.isEmpty()||this.splice(t.head(),t.tail(),e)},t.prototype.nextNode=function(t){return t.next},t.prototype.prevNode=function(t){return t.prev},t.prototype.forEachNode=function(t){for(var e=this._head;null!==e;)t(e),e=e.next},t.prototype.contains=function(t){for(var e=this._head;null!==e;){if(e===t)return!0;e=e.next}return!1},t.prototype.insertBefore=function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return null===e?this.append(t):(e.prev?e.prev.next=t:this._head=t,t.prev=e.prev,t.next=e,e.prev=t,t)},t.prototype.append=function(t){var e=this._tail;return e?(e.next=t,t.prev=e,t.next=null):this._head=t,this._tail=t},t.prototype.pop=function(){return this._tail?this.remove(this._tail):null},t.prototype.prepend=function(t){return this._head?this.insertBefore(t,this._head):this._head=this._tail=t},t.prototype.remove=function(t){return t.prev?t.prev.next=t.next:this._head=t.next,t.next?t.next.prev=t.prev:this._tail=t.prev,t},t}();t.LinkedList=n;var i=(function(){function t(t){this.node=t}t.prototype.destroy=function(){var t=this.node,e=t.prev,n=t.next;e.next=n,n.prev=e}}(),function(){function t(t,e){this._head=t,this._tail=e}return t.toList=function(t){var e=new n;return t.forEachNode(function(t){return e.append(t.clone())}),e},t.prototype.forEachNode=function(t){for(var e=this._head;null!==e;)t(e),e=this.nextNode(e)},t.prototype.contains=function(t){for(var e=this._head;null!==e;){if(e===t)return!0;e=e.next}return!1},t.prototype.head=function(){return this._head},t.prototype.tail=function(){return this._tail},t.prototype.toArray=function(){var t=[];return this.forEachNode(function(e){return t.push(e)}),t},t.prototype.nextNode=function(t){return t===this._tail?null:t.next},t.prototype.prevNode=function(t){return t===this._head?null:t.prev},t.prototype.isEmpty=function(){return!1},t}());t.ListSlice=i;var r=new i(null,null);t.EMPTY_SLICE=r}),o("glimmer-util/lib/logger",["exports"],function(t){"use strict";var e;t.LogLevel=e,function(t){t[t.Trace=0]="Trace",t[t.Debug=1]="Debug",t[t.Warn=2]="Warn",t[t.Error=3]="Error"}(e||(t.LogLevel=e={}));var n=function(){function t(){}return t.prototype.log=function(t){},t.prototype.warn=function(t){},t.prototype.error=function(t){},t.prototype.trace=function(){},t}(),i=function(){function t(t){var e=t.console,n=t.level;this.f=s,this.force=s,this.console=e,this.level=n}return t.prototype.skipped=function(t){return t<this.level},t.prototype.trace=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=n.stackTrace,r=void 0!==i&&i;this.skipped(e.Trace)||(this.console.log(t),r&&this.console.trace())},t.prototype.debug=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=n.stackTrace,r=void 0!==i&&i;this.skipped(e.Debug)||(this.console.log(t),r&&this.console.trace())},t.prototype.warn=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=n.stackTrace,r=void 0!==i&&i;this.skipped(e.Warn)||(this.console.warn(t),r&&this.console.trace())},t.prototype.error=function(t){this.skipped(e.Error)||this.console.error(t)},t}();t.Logger=i;var r="undefined"==typeof console?new n:console,s=new i({console:r,level:e.Trace}),o=e.Warn;t.default=new i({console:r,level:o})}),o("glimmer-util/lib/namespaces",["exports"],function(t){"use strict";function e(t){return s[t]||null}t.getAttrNamespace=e;var n="http://www.w3.org/1999/xlink",i="http://www.w3.org/XML/1998/namespace",r="http://www.w3.org/2000/xmlns/",s={"xlink:actuate":n,"xlink:arcrole":n,"xlink:href":n,"xlink:role":n,"xlink:show":n,"xlink:title":n,"xlink:type":n,"xml:base":i,"xml:lang":i,"xml:space":i,xmlns:r,"xmlns:xlink":r}}),o("glimmer-util/lib/object-utils",["exports"],function(t){"use strict";function e(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];if(null!==i&&"object"==typeof i)for(var r=n(i),s=0;s<r.length;s++){var o=r[s];t[o]=i[o]}}return t}t.assign=e;var n=Object.keys}),o("glimmer-util/lib/platform-utils",["exports"],function(t){"use strict";function e(t){if(null===t||void 0===t)throw new Error("Expected value to be present");return t}t.unwrap=e}),o("glimmer-util/lib/quoting",["exports"],function(t){"use strict";function e(t){return t=t.replace(/\\/g,"\\\\"),t=t.replace(/"/g,'\\"'),t=t.replace(/\n/g,"\\n")}function n(t){return'"'+e(t)+'"'}function i(t){return"["+t+"]"}function r(t){return"{"+t.join(", ")+"}"}function s(t,e){for(var n="";e--;)n+=t;return n}t.hash=r,t.repeat=s,t.escapeString=e,t.string=n,t.array=i}),o("glimmer-wire-format/index",["exports"],function(t){"use strict";function e(t){return function(e){return e[0]===t}}var n;t.Expressions=n,function(t){function n(t){return null===t||"object"!=typeof t}t.isUnknown=e("unknown"),t.isArg=e("arg"),t.isGet=e("get"),t.isConcat=e("concat"),t.isHelper=e("helper"),t.isHasBlock=e("has-block"),t.isHasBlockParams=e("has-block-params"),t.isUndefined=e("undefined"),t.isPrimitiveValue=n}(n||(t.Expressions=n={}));var i;t.Statements=i,function(t){t.isText=e("text"),t.isAppend=e("append"),t.isComment=e("comment"),t.isModifier=e("modifier"),t.isBlock=e("block"),t.isOpenElement=e("open-element"),t.isFlushElement=e("flush-element"),t.isCloseElement=e("close-element"),t.isStaticAttr=e("static-attr"),t.isDynamicAttr=e("dynamic-attr"),t.isYield=e("yield"),t.isPartial=e("partial"),t.isDynamicArg=e("dynamic-arg"),t.isStaticArg=e("static-arg"),t.isTrustingAttr=e("trusting-attr")}(i||(t.Statements=i={}))}),o("glimmer/index",["exports","glimmer-compiler"],function(t,e){"use strict";t.precompile=e.precompile}),o("route-recognizer",["exports"],function(t){"use strict";function e(t,e,n){this.path=t,this.matcher=e,this.delegate=n}function n(t){this.routes={},this.children={},this.target=t}function i(t,n,r){return function(s,o){var a=t+s;if(!o)return new e(t+s,n,r);o(i(a,n,r))}}function r(t,e,n){for(var i=0,r=0;r<t.length;r++)i+=t[r].path.length;e=e.substr(i);var s={path:e,handler:n};t.push(s)}function s(t,e,n,i){var o=e.routes;for(var a in o)if(o.hasOwnProperty(a)){var l=t.slice();r(l,a,o[a]),e.children[a]?s(l,e.children[a],n,i):n.call(i,l)}}function o(t,e){var r=new n;t(i("",r,this.delegate)),s([],r,function(t){e?e(this,t):this.add(t)},this)}function a(t){return t.split("/").map(l).join("/")}function l(t){return decodeURIComponent(t).replace(y,encodeURIComponent)}function c(t){return encodeURIComponent(t).replace(f,decodeURIComponent)}function g(t){return"[object Array]"===Object.prototype.toString.call(t)}function u(t,e){if("object"!=typeof t||null===t)throw new Error("You must pass an object as the second argument to `generate`.");if(!t.hasOwnProperty(e))throw new Error("You must provide param `"+e+"` to `generate`.");if(0===(""+t[e]).length)throw new Error("You must provide a param `"+e+"`.");return t[e]}function Q(t){this.string=l(t)}function B(t){this.name=l(t)}function I(t){this.name=t}function d(){}function F(t,e,n,i){"/"===t.charAt(0)&&(t=t.substr(1));for(var r=t.split("/"),s=new Array(r.length),o=0;o<r.length;o++){var a,l=r[o];(a=l.match(/^:([^\/]+)$/))?(s[o]=new B(a[1]),e.push(a[1]),i.push(!0),n.dynamics++):(a=l.match(/^\*([^\/]+)$/))?(s[o]=new I(a[1]),e.push(a[1]),i.push(!1),n.stars++):""===l?s[o]=new d:(s[o]=new Q(l),n.statics++)}return s}function C(t,e){return t.validChars===e.validChars&&t.invalidChars===e.invalidChars}function U(t){this.charSpec=t,this.nextStates=[],this.regex=void 0,this.handlers=void 0,this.specificity=void 0}function h(t){return t.sort(function(t,e){if(t.types.stars!==e.types.stars)return t.types.stars-e.types.stars;if(t.types.stars){
if(t.types.statics!==e.types.statics)return e.types.statics-t.types.statics;if(t.types.dynamics!==e.types.dynamics)return e.types.dynamics-t.types.dynamics}return t.types.dynamics!==e.types.dynamics?t.types.dynamics-e.types.dynamics:t.types.statics!==e.types.statics?e.types.statics-t.types.statics:0})}function m(t,e){for(var n=[],i=0,r=t.length;i<r;i++){var s=t[i];n=n.concat(s.match(e))}return n}function b(t){this.queryParams=t||{}}function p(t,e,n){var i=t.handlers,r=t.regex,s=e.match(r),o=1,a=new b(n);a.length=i.length;for(var l=0;l<i.length;l++){for(var c,g,u,Q=i[l],B=Q.names,I=Q.shouldDecodes,d={},F=0;F<B.length;F++)c=B[F],g=I[F],u=s[o++],Z.ENCODE_AND_DECODE_PATH_SEGMENTS?d[c]=g?decodeURIComponent(u):u:d[c]=u;a[l]={handler:Q.handler,params:d,isDynamic:!!B.length}}return a}function A(t){t=t.replace(/\+/gm,"%20");var e;try{e=decodeURIComponent(t)}catch(t){e=""}return e}e.prototype={to:function(t,e){var n=this.delegate;if(n&&n.willAddRoute&&(t=n.willAddRoute(this.matcher.target,t)),this.matcher.add(this.path,t),e){if(0===e.length)throw new Error("You must have an argument in the function passed to `to`");this.matcher.addChild(this.path,t,e,this.delegate)}return this}},n.prototype={add:function(t,e){this.routes[t]=e},addChild:function(t,e,r,s){var o=new n(e);this.children[t]=o;var a=i(t,o,s);s&&s.contextEntered&&s.contextEntered(e,a),r(a)}};var y=/%|\//g,f=/%(?:24|26|2B|2C|3B|3D|3A|40)/g,G=["/",".","*","+","?","|","(",")","[","]","{","}","\\"],x=new RegExp("(\\"+G.join("|\\")+")","g");Q.prototype={eachChar:function(t){for(var e,n=this.string,i=0;i<n.length;i++)e=n.charAt(i),t=t.put({invalidChars:void 0,repeat:!1,validChars:e});return t},regex:function(){return this.string.replace(x,"\\$1")},generate:function(){return this.string}},B.prototype={eachChar:function(t){return t.put({invalidChars:"/",repeat:!0,validChars:void 0})},regex:function(){return"([^/]+)"},generate:function(t){var e=u(t,this.name);return Z.ENCODE_AND_DECODE_PATH_SEGMENTS?c(e):e}},I.prototype={eachChar:function(t){return t.put({invalidChars:"",repeat:!0,validChars:void 0})},regex:function(){return"(.+)"},generate:function(t){return u(t,this.name)}},d.prototype={eachChar:function(t){return t},regex:function(){return""},generate:function(){return""}},U.prototype={get:function(t){for(var e=this.nextStates,n=0;n<e.length;n++){var i=e[n];if(C(i.charSpec,t))return i}},put:function(t){var e;return(e=this.get(t))?e:(e=new U(t),this.nextStates.push(e),t.repeat&&e.nextStates.push(e),e)},match:function(t){for(var e,n,i,r=this.nextStates,s=[],o=0;o<r.length;o++)e=r[o],n=e.charSpec,void 0!==(i=n.validChars)?-1!==i.indexOf(t)&&s.push(e):void 0!==(i=n.invalidChars)&&-1===i.indexOf(t)&&s.push(e);return s}};var V=Object.create||function(t){function e(){}return e.prototype=t,new e};b.prototype=V({splice:Array.prototype.splice,slice:Array.prototype.slice,push:Array.prototype.push,length:0,queryParams:null});var Z=function(){this.rootState=new U,this.names={}};Z.prototype={add:function(t,e){for(var n,i=this.rootState,r="^",s={statics:0,dynamics:0,stars:0},o=new Array(t.length),a=[],l=!0,c=0;c<t.length;c++){var g=t[c],u=[],Q=[],B=F(g.path,u,s,Q);a=a.concat(B);for(var I=0;I<B.length;I++){var C=B[I];C instanceof d||(l=!1,i=i.put({invalidChars:void 0,repeat:!1,validChars:"/"}),r+="/",i=C.eachChar(i),r+=C.regex())}var U={handler:g.handler,names:u,shouldDecodes:Q};o[c]=U}if(l&&(i=i.put({invalidChars:void 0,repeat:!1,validChars:"/"}),r+="/"),i.handlers=o,i.regex=new RegExp(r+"$"),i.types=s,"object"==typeof e&&null!==e&&e.hasOwnProperty("as")&&(n=e.as),this.names.hasOwnProperty(n))throw new Error("You may not add a duplicate route named `"+n+"`.");(n=e&&e.as)&&(this.names[n]={segments:a,handlers:o})},handlersFor:function(t){var e=this.names[t];if(!e)throw new Error("There is no route named "+t);for(var n=new Array(e.handlers.length),i=0;i<e.handlers.length;i++)n[i]=e.handlers[i];return n},hasRoute:function(t){return!!this.names[t]},generate:function(t,e){var n=this.names[t],i="";if(!n)throw new Error("There is no route named "+t);for(var r=n.segments,s=0;s<r.length;s++){var o=r[s];o instanceof d||(i+="/",i+=o.generate(e))}return"/"!==i.charAt(0)&&(i="/"+i),e&&e.queryParams&&(i+=this.generateQueryString(e.queryParams,n.handlers)),i},generateQueryString:function(t){var e=[],n=[];for(var i in t)t.hasOwnProperty(i)&&n.push(i);n.sort();for(var r=0;r<n.length;r++){i=n[r];var s=t[i];if(null!=s){var o=encodeURIComponent(i);if(g(s))for(var a=0;a<s.length;a++){var l=i+"[]="+encodeURIComponent(s[a]);e.push(l)}else o+="="+encodeURIComponent(s),e.push(o)}}return 0===e.length?"":"?"+e.join("&")},parseQueryString:function(t){for(var e=t.split("&"),n={},i=0;i<e.length;i++){var r,s=e[i].split("="),o=A(s[0]),a=o.length,l=!1;1===s.length?r="true":(a>2&&"[]"===o.slice(a-2)&&(l=!0,o=o.slice(0,a-2),n[o]||(n[o]=[])),r=s[1]?A(s[1]):""),l?n[o].push(r):n[o]=r}return n},recognize:function(t){var e,n,i,r,s=[this.rootState],o={},l=!1;if(r=t.indexOf("#"),-1!==r&&(t=t.substr(0,r)),-1!==(i=t.indexOf("?"))){var c=t.substr(i+1,t.length);t=t.substr(0,i),o=this.parseQueryString(c)}"/"!==t.charAt(0)&&(t="/"+t);var g=t;for(Z.ENCODE_AND_DECODE_PATH_SEGMENTS?t=a(t):(t=decodeURI(t),g=decodeURI(g)),e=t.length,e>1&&"/"===t.charAt(e-1)&&(t=t.substr(0,e-1),g=g.substr(0,g.length-1),l=!0),n=0;n<t.length&&(s=m(s,t.charAt(n)),s.length);n++);var u=[];for(n=0;n<s.length;n++)s[n].handlers&&u.push(s[n]);s=h(u);var Q=u[0];if(Q&&Q.handlers)return l&&"(.+)$"===Q.regex.source.slice(-5)&&(g+="/"),p(Q,g,o)}},Z.prototype.map=o,Z.VERSION="0.2.8",Z.ENCODE_AND_DECODE_PATH_SEGMENTS=!0,Z.Normalizer={normalizeSegment:l,normalizePath:a,encodePathSegment:c},t.default=Z,Object.defineProperty(t,"__esModule",{value:!0})}),o("router",["exports","route-recognizer","rsvp"],function(t,e,n){"use strict";function i(t){return("object"==typeof t&&null!==t||"function"==typeof t)&&"function"==typeof t.then}function r(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}function s(t){var e,n,i=t&&t.length;return i&&i>0&&t[i-1]&&t[i-1].hasOwnProperty("queryParams")?(n=t[i-1].queryParams,e=k.call(t,0,i-1),[e,n]):[t,null]}function o(t){for(var e in t)if("number"==typeof t[e])t[e]=""+t[e];else if(T(t[e]))for(var n=0,i=t[e].length;n<i;n++)t[e][n]=""+t[e][n]}function a(t,e,n){t.log&&(3===arguments.length?t.log("Transition #"+e+": "+n):(n=e,t.log(n)))}function l(t,e){var n=arguments;return function(i){var r=k.call(n,2);return r.push(i),e.apply(t,r)}}function c(t){return"string"==typeof t||t instanceof String||"number"==typeof t||t instanceof Number}function g(t,e){for(var n=0,i=t.length;n<i&&!1!==e(t[n]);n++);}function u(t,e,n,i){function r(t,e,n){n.events[t].apply(n,e)}if(t.triggerEvent)return void t.triggerEvent(e,n,i);var s=i.shift();if(!e){if(n)return;throw new Error("Could not trigger event '"+s+"'. There are no active handlers")}for(var o=!1,a=e.length-1;a>=0;a--){var c=e[a],g=c.handler;if(g){if(g.events&&g.events[s]){if(!0!==g.events[s].apply(g,i))return;o=!0}}else c.handlerPromise.then(l(null,r,s,i))}if("error"===s&&"UnrecognizedURLError"===i[0].name)throw i[0];if(!o&&!n)throw new Error("Nothing handled the event '"+s+"'.")}function Q(t,e){var n,i={all:{},changed:{},removed:{}};r(i.all,e);var s=!1;o(t),o(e);for(n in t)t.hasOwnProperty(n)&&(e.hasOwnProperty(n)||(s=!0,i.removed[n]=t[n]));for(n in e)if(e.hasOwnProperty(n))if(T(t[n])&&T(e[n]))if(t[n].length!==e[n].length)i.changed[n]=e[n],s=!0;else for(var a=0,l=t[n].length;a<l;a++)t[n][a]!==e[n][a]&&(i.changed[n]=e[n],s=!0);else t[n]!==e[n]&&(i.changed[n]=e[n],s=!0);return s&&i}function B(t){return"Router: "+t}function I(t,e){function n(e){t.call(this,e||{})}return n.prototype=D(t.prototype),r(n.prototype,e),n}function d(t,e){if(t){var n="_"+e;return t[n]&&n||t[e]&&e}}function F(t,e,n,i){var r=d(t,e);return r&&t[r].call(t,n,i)}function C(t,e,n){var i=d(t,e);if(i)return 0===n.length?t[i].call(t):1===n.length?t[i].call(t,n[0]):2===n.length?t[i].call(t,n[0],n[1]):t[i].apply(t,n)}function U(){this.handlerInfos=[],this.queryParams={},this.params={}}function h(t,e,i,r,s){function o(){if(a.isAborted)return n.Promise.reject(void 0,B("Transition aborted - reject"))}var a=this;if(this.state=i||t.state,this.intent=e,this.router=t,this.data=this.intent&&this.intent.data||{},this.resolvedModels={},this.queryParams={},this.promise=void 0,this.error=void 0,this.params=void 0,this.handlerInfos=void 0,this.targetName=void 0,this.pivotHandler=void 0,this.sequence=void 0,this.isAborted=!1,this.isActive=!0,r)return this.promise=n.Promise.reject(r),void(this.error=r);if(this.isCausedByAbortingTransition=!!s,this.isCausedByInitialTransition=s&&(s.isCausedByInitialTransition||0===s.sequence),i){this.params=i.params,this.queryParams=i.queryParams,this.handlerInfos=i.handlerInfos;var l=i.handlerInfos.length;l&&(this.targetName=i.handlerInfos[l-1].name);for(var c=0;c<l;++c){var g=i.handlerInfos[c];if(!g.isResolved)break;this.pivotHandler=g.handler}this.sequence=t.currentSequence++,this.promise=i.resolve(o,this).catch(m(a),B("Handle Abort"))}else this.promise=n.Promise.resolve(this.state),this.params={}}function m(t){return function(e){return e.wasAborted||t.isAborted?n.Promise.reject(b(t)):(t.trigger("error",e.error,t,e.handlerWithError),t.abort(),n.Promise.reject(e.error))}}function b(t){return a(t.router,t.sequence,"detected abort."),new p}function p(t){this.message=t||"TransitionAborted",this.name="TransitionAborted"}function A(t){this.initialize(t),this.data=this.data||{}}function y(t){var e=t||{};if(this._handler=w,e.handler){var s=e.name;this.handlerPromise=n.Promise.resolve(e.handler),i(e.handler)?(this.handlerPromise=this.handlerPromise.then(l(this,this.updateHandler)),e.handler=void 0):e.handler&&(e.handler._handlerName=s)}r(this,e),this.initialize(e)}function f(t,e){if(!t^!e)return!1;if(!t)return!0;for(var n in t)if(t.hasOwnProperty(n)&&t[n]!==e[n])return!1;return!0}function G(t,e){var n=G.klasses[t],i=new n(e||{});return i.factory=G,i}function x(t){this.message=t||"UnrecognizedURLError",this.name="UnrecognizedURLError",Error.call(this)}function V(t){var n=t||{};this.getHandler=n.getHandler||this.getHandler,this.getSerializer=n.getSerializer||this.getSerializer,this.updateURL=n.updateURL||this.updateURL,this.replaceURL=n.replaceURL||this.replaceURL,this.didTransition=n.didTransition||this.didTransition,this.willTransition=n.willTransition||this.willTransition,this.delegate=n.delegate||this.delegate,this.triggerEvent=n.triggerEvent||this.triggerEvent,this.log=n.log||this.log,this.dslCallBacks=[],this.state=void 0,this.activeTransition=void 0,this._changedQueryParams=void 0,this.oldState=void 0,this.currentHandlerInfos=void 0,this.state=void 0,this.currentSequence=0,this.recognizer=new e,this.reset()}function Z(t,e){var n,i=!!this.activeTransition,r=i?this.activeTransition.state:this.state,s=t.applyToState(r,this.recognizer,this.getHandler,e,this.getSerializer),o=Q(r.queryParams,s.queryParams);return N(s.handlerInfos,r.handlerInfos)?o&&(n=this.queryParamsTransition(o,i,r,s))?n:this.activeTransition||new h(this):e?void X(this,s):(n=new h(this,t,s,void 0,this.activeTransition),this.activeTransition&&this.activeTransition.abort(),this.activeTransition=n,n.promise=n.promise.then(function(t){return S(n,t.state)},null,B("Settle transition promise when transition is finalized")),i||Y(this,s,n),R(this,s,o),n)}function R(t,e,n){n&&(t._changedQueryParams=n.all,u(t,e.handlerInfos,!0,["queryParamsDidChange",n.changed,n.all,n.removed]),t._changedQueryParams=null)}function X(t,e,n){var i,r,s,o=E(t.state,e);for(i=0,r=o.exited.length;i<r;i++)s=o.exited[i].handler,delete s.context,F(s,"reset",!0,n),F(s,"exit",n);var a=t.oldState=t.state;t.state=e;var l=t.currentHandlerInfos=o.unchanged.slice();try{for(i=0,r=o.reset.length;i<r;i++)s=o.reset[i].handler,F(s,"reset",!1,n);for(i=0,r=o.updatedContext.length;i<r;i++)L(l,o.updatedContext[i],!1,n);for(i=0,r=o.entered.length;i<r;i++)L(l,o.entered[i],!0,n)}catch(e){throw t.state=a,t.currentHandlerInfos=a.handlerInfos,e}t.state.queryParams=J(t,l,e.queryParams,n)}function L(t,e,n,i){function r(r){if(n&&F(r,"enter",i),i&&i.isAborted)throw new p;if(r.context=o,F(r,"contextDidChange"),F(r,"setup",o,i),i&&i.isAborted)throw new p;t.push(e)}var s=e.handler,o=e.context;return s?r(s):e.handlerPromise=e.handlerPromise.then(r),!0}function E(t,e){var n,i,r,s=t.handlerInfos,o=e.handlerInfos,a={updatedContext:[],exited:[],entered:[],unchanged:[],reset:void 0},l=!1;for(i=0,r=o.length;i<r;i++){var c=s[i],g=o[i];c&&c.handler===g.handler||(n=!0),n?(a.entered.push(g),c&&a.exited.unshift(c)):l||c.context!==g.context?(l=!0,a.updatedContext.push(g)):a.unchanged.push(c)}for(i=o.length,r=s.length;i<r;i++)a.exited.unshift(s[i]);return a.reset=a.updatedContext.slice(),a.reset.reverse(),a}function v(t,e){var n=t.urlMethod;if(n){for(var i=t.router,s=e.handlerInfos,o=s[s.length-1].name,a={},l=s.length-1;l>=0;--l){var c=s[l];r(a,c.params),c.handler.inaccessibleByURL&&(n=null)}if(n){a.queryParams=t._visibleQueryParams||e.queryParams;var g=i.recognizer.generate(o,a),u=t.isCausedByInitialTransition,Q="replace"===n&&!t.isCausedByAbortingTransition;u||Q?i.replaceURL(g):i.updateURL(g)}}}function S(t,e){try{a(t.router,t.sequence,"Resolved all models on destination route; finalizing transition.");var i=t.router,r=e.handlerInfos;return X(i,e,t),t.isAborted?(i.state.handlerInfos=i.currentHandlerInfos,n.Promise.reject(b(t))):(v(t,e,t.intent.url),t.isActive=!1,i.activeTransition=null,u(i,i.currentHandlerInfos,!0,["didTransition"]),i.didTransition&&i.didTransition(i.currentHandlerInfos),a(i,t.sequence,"TRANSITION COMPLETE."),r[r.length-1].handler)}catch(e){if(!(e instanceof p)){var s=t.state.handlerInfos;t.trigger(!0,"error",e,t,s[s.length-1].handler),t.abort()}throw e}}function W(t,e,n){var i=e[0]||"/",r=e[e.length-1],s={};r&&r.hasOwnProperty("queryParams")&&(s=K.call(e).queryParams);var o;if(0===e.length){a(t,"Updating query params");var l=t.state.handlerInfos;o=new j({name:l[l.length-1].name,contexts:[],queryParams:s})}else"/"===i.charAt(0)?(a(t,"Attempting URL transition to "+i),o=new P({url:i})):(a(t,"Attempting transition to "+i),o=new j({name:e[0],contexts:k.call(e,1),queryParams:s}));return t.transitionByIntent(o,n)}function N(t,e){if(t.length!==e.length)return!1;for(var n=0,i=t.length;n<i;++n)if(t[n]!==e[n])return!1;return!0}function J(t,e,n,i){for(var r in n)n.hasOwnProperty(r)&&null===n[r]&&delete n[r];var s=[];u(t,e,!0,["finalizeQueryParamChange",n,s,i]),i&&(i._visibleQueryParams={});for(var o={},a=0,l=s.length;a<l;++a){var c=s[a];o[c.key]=c.value,i&&!1!==c.visible&&(i._visibleQueryParams[c.key]=c.value)}return o}function Y(t,e,n){var i,r,s,o,a,l=t.state.handlerInfos,c=[],g=null;for(s=l.length,r=0;r<s;r++){if(o=l[r],!(a=e.handlerInfos[r])||o.name!==a.name){g=r;break}a.isResolved||c.push(o)}null!==g&&(i=l.slice(g,s)),u(t,l,!0,["willTransition",n]),t.willTransition&&t.willTransition(l,e.handlerInfos,n)}e="default"in e?e.default:e;var H,k=Array.prototype.slice;H=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var T=H,D=Object.create||function(t){function e(){}return e.prototype=t,new e};U.prototype={promiseLabel:function(t){var e="";return g(this.handlerInfos,function(t){""!==e&&(e+="."),e+=t.name}),B("'"+e+"': "+t)},resolve:function(t,e){function i(){return n.Promise.resolve(t(),l.promiseLabel("Check if should continue")).catch(function(t){return c=!0,n.Promise.reject(t)},l.promiseLabel("Handle abort"))}function r(t){var i=l.handlerInfos,r=e.resolveIndex>=i.length?i.length-1:e.resolveIndex;return n.Promise.reject({error:t,handlerWithError:l.handlerInfos[r].handler,wasAborted:c,state:l})}function s(t){var n=l.handlerInfos[e.resolveIndex].isResolved;if(l.handlerInfos[e.resolveIndex++]=t,!n){F(t.handler,"redirect",t.context,e)}return i().then(o,null,l.promiseLabel("Resolve handler"))}function o(){return e.resolveIndex===l.handlerInfos.length?{error:null,state:l}:l.handlerInfos[e.resolveIndex].resolve(i,e).then(s,null,l.promiseLabel("Proceed"))}var a=this.params;g(this.handlerInfos,function(t){a[t.name]=t.params||{}}),e=e||{},e.resolveIndex=0;var l=this,c=!1;return n.Promise.resolve(null,this.promiseLabel("Start transition")).then(o,null,this.promiseLabel("Resolve handler")).catch(r,this.promiseLabel("Handle error"))}},h.prototype={targetName:null,urlMethod:"update",intent:null,pivotHandler:null,resolveIndex:0,resolvedModels:null,state:null,queryParamsOnly:!1,isTransition:!0,isExiting:function(t){for(var e=this.handlerInfos,n=0,i=e.length;n<i;++n){var r=e[n];if(r.name===t||r.handler===t)return!1}return!0},promise:null,data:null,then:function(t,e,n){return this.promise.then(t,e,n)},catch:function(t,e){return this.promise.catch(t,e)},finally:function(t,e){return this.promise.finally(t,e)},abort:function(){return this.isAborted?this:(a(this.router,this.sequence,this.targetName+": transition was aborted"),this.intent.preTransitionState=this.router.state,this.isAborted=!0,this.isActive=!1,this.router.activeTransition=null,this)},retry:function(){return this.abort(),this.router.transitionByIntent(this.intent,!1)},method:function(t){return this.urlMethod=t,this},trigger:function(t){var e=k.call(arguments);"boolean"==typeof t?e.shift():t=!1,u(this.router,this.state.handlerInfos.slice(0,this.resolveIndex+1),t,e)},followRedirects:function(){var t=this.router;return this.promise.catch(function(e){return t.activeTransition?t.activeTransition.followRedirects():n.Promise.reject(e)})},toString:function(){return"Transition (sequence "+this.sequence+")"},log:function(t){a(this.router,this.sequence,t)}},h.prototype.send=h.prototype.trigger,A.prototype={initialize:null,applyToState:null};var w=Object.freeze({});y.prototype={name:null,getHandler:function(){},fetchHandler:function(){var t=this.getHandler(this.name);if(this.handlerPromise=n.Promise.resolve(t),i(t))this.handlerPromise=this.handlerPromise.then(l(this,this.updateHandler));else if(t)return t._handlerName=this.name,this.handler=t;return this.handler=void 0},_handlerPromise:void 0,params:null,context:null,factory:null,initialize:function(){},log:function(t,e){t.log&&t.log(this.name+": "+e)},promiseLabel:function(t){return B("'"+this.name+"' "+t)},getUnresolved:function(){return this},serialize:function(){return this.params||{}},updateHandler:function(t){return t._handlerName=this.name,this.handler=t},resolve:function(t,e){var i=l(this,this.checkForAbort,t),r=l(this,this.runBeforeModelHook,e),s=l(this,this.getModel,e),o=l(this,this.runAfterModelHook,e),a=l(this,this.becomeResolved,e),c=this;return n.Promise.resolve(this.handlerPromise,this.promiseLabel("Start handler")).then(function(t){return n.Promise.resolve(t).then(i,null,c.promiseLabel("Check for abort")).then(r,null,c.promiseLabel("Before model")).then(i,null,c.promiseLabel("Check if aborted during 'beforeModel' hook")).then(s,null,c.promiseLabel("Model")).then(i,null,c.promiseLabel("Check if aborted in 'model' hook")).then(o,null,c.promiseLabel("After model")).then(i,null,c.promiseLabel("Check if aborted in 'afterModel' hook")).then(a,null,c.promiseLabel("Become resolved"))},function(t){throw t})},runBeforeModelHook:function(t){return t.trigger&&t.trigger(!0,"willResolveModel",t,this.handler),this.runSharedModelHook(t,"beforeModel",[])},runAfterModelHook:function(t,e){var n=this.name;return this.stashResolvedModel(t,e),this.runSharedModelHook(t,"afterModel",[e]).then(function(){return t.resolvedModels[n]},null,this.promiseLabel("Ignore fulfillment value and return model value"))},runSharedModelHook:function(t,e,i){this.log(t,"calling "+e+" hook"),this.queryParams&&i.push(this.queryParams),i.push(t);var r=C(this.handler,e,i);return r&&r.isTransition&&(r=null),n.Promise.resolve(r,this.promiseLabel("Resolve value returned from one of the model hooks"))},getModel:null,checkForAbort:function(t,e){return n.Promise.resolve(t(),this.promiseLabel("Check for abort")).then(function(){return e},null,this.promiseLabel("Ignore fulfillment value and continue"))},stashResolvedModel:function(t,e){t.resolvedModels=t.resolvedModels||{},t.resolvedModels[this.name]=e},becomeResolved:function(t,e){var n=this.serialize(e);return t&&(this.stashResolvedModel(t,e),t.params=t.params||{},t.params[this.name]=n),this.factory("resolved",{context:e,name:this.name,handler:this.handler,params:n})},shouldSupercede:function(t){if(!t)return!0;var e=t.context===this.context;return t.name!==this.name||this.hasOwnProperty("context")&&!e||this.hasOwnProperty("params")&&!f(this.params,t.params)}},Object.defineProperty(y.prototype,"handler",{get:function(){return this._handler!==w?this._handler:this.fetchHandler()},set:function(t){return this._handler=t}}),Object.defineProperty(y.prototype,"handlerPromise",{get:function(){return this._handlerPromise?this._handlerPromise:(this.fetchHandler(),this._handlerPromise)},set:function(t){return this._handlerPromise=t}});var O=I(y,{resolve:function(t,e){return e&&e.resolvedModels&&(e.resolvedModels[this.name]=this.context),n.Promise.resolve(this,this.promiseLabel("Resolve"))},getUnresolved:function(){return this.factory("param",{name:this.name,handler:this.handler,params:this.params})},isResolved:!0}),z=I(y,{getModel:function(t){return this.log(t,this.name+": resolving provided model"),n.Promise.resolve(this.context)},initialize:function(t){this.names=t.names||[],this.context=t.context},serialize:function(t){var e=t||this.context,n=this.names,i=this.serializer||this.handler&&this.handler.serialize,r={};if(c(e))return r[n[0]]=e,r;if(i)return i(e,n);if(1===n.length){var s=n[0];return/_id$/.test(s)?r[s]=e.id:r[s]=e,r}}}),M=I(y,{initialize:function(t){this.params=t.params||{}},getModel:function(t){var e=this.params;t&&t.queryParams&&(e={},r(e,this.params),e.queryParams=t.queryParams);var n=this.handler,i=d(n,"deserialize")||d(n,"model");return this.runSharedModelHook(t,i,[e])}});G.klasses={resolved:O,param:M,object:z};var j=I(A,{name:null,pivotHandler:null,contexts:null,queryParams:null,initialize:function(t){this.name=t.name,this.pivotHandler=t.pivotHandler,this.contexts=t.contexts||[],this.queryParams=t.queryParams},applyToState:function(t,e,n,i,r){var o=s([this.name].concat(this.contexts)),a=o[0],l=e.handlersFor(a[0]),c=l[l.length-1].handler;return this.applyToHandlers(t,l,n,c,i,null,r)},applyToHandlers:function(t,e,n,i,s,o,a){var l,c,g=new U,u=this.contexts.slice(0),Q=e.length;if(this.pivotHandler)for(l=0,c=e.length;l<c;++l)if(e[l].handler===this.pivotHandler._handlerName){Q=l;break}for(l=e.length-1;l>=0;--l){var B=e[l],I=B.handler,d=t.handlerInfos[l],F=null;if(B.names.length>0)if(l>=Q)F=this.createParamHandlerInfo(I,n,B.names,u,d);else{var C=a(I);F=this.getHandlerInfoForDynamicSegment(I,n,B.names,u,d,i,l,C)}else F=this.createParamHandlerInfo(I,n,B.names,u,d);if(o){F=F.becomeResolved(null,F.context);var h=d&&d.context;B.names.length>0&&F.context===h&&(F.params=d&&d.params),F.context=h}var m=d;(l>=Q||F.shouldSupercede(d))&&(Q=Math.min(l,Q),m=F),s&&!o&&(m=m.becomeResolved(null,m.context)),g.handlerInfos.unshift(m)}if(u.length>0)throw new Error("More context objects were passed than there are dynamic segments for the route: "+i);return s||this.invalidateChildren(g.handlerInfos,Q),r(g.queryParams,this.queryParams||{}),g},invalidateChildren:function(t,e){for(var n=e,i=t.length;n<i;++n){var r=t[n];t[n]=r.getUnresolved()}},getHandlerInfoForDynamicSegment:function(t,e,n,i,r,s,o,a){var l;if(i.length>0){if(l=i[i.length-1],c(l))return this.createParamHandlerInfo(t,e,n,i,r);i.pop()}else{if(r&&r.name===t)return r;if(!this.preTransitionState)return r;var g=this.preTransitionState.handlerInfos[o];l=g&&g.context}return G("object",{name:t,getHandler:e,serializer:a,context:l,names:n})},createParamHandlerInfo:function(t,e,n,i,r){for(var s={},o=n.length;o--;){var a=r&&t===r.name&&r.params||{},l=i[i.length-1],g=n[o];if(c(l))s[g]=""+i.pop();else{if(!a.hasOwnProperty(g))throw new Error("You didn't provide enough string/numeric parameters to satisfy all of the dynamic segments for route "+t);s[g]=a[g]}}return G("param",{name:t,getHandler:e,params:s})}});x.prototype=D(Error.prototype);var P=I(A,{url:null,initialize:function(t){this.url=t.url},applyToState:function(t,e,n){function i(t){if(t&&t.inaccessibleByURL)throw new x(g);return t}var s,o,a=new U,l=e.recognize(this.url);if(!l)throw new x(this.url);var c=!1,g=this.url;for(s=0,o=l.length;s<o;++s){var u=l[s],Q=u.handler,B=G("param",{name:Q,getHandler:n,params:u.params}),I=B.handler;I?i(I):B.handlerPromise=B.handlerPromise.then(i);var d=t.handlerInfos[s];c||B.shouldSupercede(d)?(c=!0,a.handlerInfos[s]=B):a.handlerInfos[s]=d}return r(a.queryParams,l.queryParams),a}}),K=Array.prototype.pop;V.prototype={map:function(t){this.recognizer.delegate=this.delegate,this.recognizer.map(t,function(t,e){for(var n=e.length-1,i=!0;n>=0&&i;--n){var r=e[n];t.add(e,{as:r.handler}),i="/"===r.path||""===r.path||".index"===r.handler.slice(-6)}})},hasRoute:function(t){return this.recognizer.hasRoute(t)},getHandler:function(){},getSerializer:function(){},queryParamsTransition:function(t,e,n,i){var r=this;if(R(this,i,t),!e&&this.activeTransition)return this.activeTransition;var s=new h(this);return s.queryParamsOnly=!0,n.queryParams=J(this,i.handlerInfos,i.queryParams,s),s.promise=s.promise.then(function(t){return v(s,n,!0),r.didTransition&&r.didTransition(r.currentHandlerInfos),t},null,B("Transition complete")),s},transitionByIntent:function(t){try{return Z.apply(this,arguments)}catch(e){return new h(this,t,null,e)}},reset:function(){this.state&&g(this.state.handlerInfos.slice().reverse(),function(t){F(t.handler,"exit")}),this.oldState=void 0,this.state=new U,this.currentHandlerInfos=null},activeTransition:null,handleURL:function(t){var e=k.call(arguments);return"/"!==t.charAt(0)&&(e[0]="/"+t),W(this,e).method(null)},updateURL:function(){throw new Error("updateURL is not implemented")},replaceURL:function(t){this.updateURL(t)},transitionTo:function(){return W(this,arguments)},intermediateTransitionTo:function(){return W(this,arguments,!0)},refresh:function(t){for(var e=this.activeTransition?this.activeTransition.state:this.state,n=e.handlerInfos,i={},r=0,s=n.length;r<s;++r){var o=n[r];i[o.name]=o.params||{}}a(this,"Starting a refresh transition");var l=new j({name:n[n.length-1].name,pivotHandler:t||n[0].handler,contexts:[],queryParams:this._changedQueryParams||e.queryParams||{}});return this.transitionByIntent(l,!1)},replaceWith:function(){return W(this,arguments).method("replace")},generate:function(t){for(var e=s(k.call(arguments,1)),n=e[0],i=e[1],o=new j({name:t,contexts:n}),a=o.applyToState(this.state,this.recognizer,this.getHandler,null,this.getSerializer),l={},c=0,g=a.handlerInfos.length;c<g;++c){r(l,a.handlerInfos[c].serialize())}return l.queryParams=i,this.recognizer.generate(t,l)},applyIntent:function(t,e){var n=new j({name:t,contexts:e}),i=this.activeTransition&&this.activeTransition.state||this.state;return n.applyToState(i,this.recognizer,this.getHandler,null,this.getSerializer)},isActiveIntent:function(t,e,n,i){var s,o,a=i||this.state,l=a.handlerInfos;if(!l.length)return!1;var c=l[l.length-1].name,g=this.recognizer.handlersFor(c),u=0;for(o=g.length;u<o&&(s=l[u],s.name!==t);++u);if(u===g.length)return!1;var B=new U;B.handlerInfos=l.slice(0,u+1),g=g.slice(0,u+1);var I=new j({name:c,contexts:e}),d=I.applyToHandlers(B,g,this.getHandler,c,!0,!0,this.getSerializer),F=N(d.handlerInfos,B.handlerInfos);if(!n||!F)return F;var C={};r(C,n);var h=a.queryParams;for(var m in h)h.hasOwnProperty(m)&&C.hasOwnProperty(m)&&(C[m]=h[m]);return F&&!Q(C,n)},isActive:function(t){var e=s(k.call(arguments,1));return this.isActiveIntent(t,e[0],e[1])},trigger:function(){var t=k.call(arguments);u(this,this.currentHandlerInfos,!1,t)},log:null},t.default=V,t.Transition=h,Object.defineProperty(t,"__esModule",{value:!0})}),o("rsvp",["exports"],function(t){"use strict";function e(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}function n(t){var e=t._promiseCallbacks;return e||(e=t._promiseCallbacks={}),e}function i(t,e){return"onerror"===t?void dt.on("error",e):2!==arguments.length?dt[t]:void(dt[t]=e)}function r(t){return"function"==typeof t||"object"==typeof t&&null!==t}function s(t){return"function"==typeof t}function o(t){return"object"==typeof t&&null!==t}function a(){}function l(){setTimeout(function(){for(var t,e=0;e<mt.length;e++){t=mt[e];var n=t.payload;n.guid=n.key+n.id,n.childGuid=n.key+n.childId,n.error&&(n.stack=n.error.stack),dt.trigger(t.name,t.payload)}mt.length=0},50)}function c(t,e,n){1===mt.push({name:t,payload:{key:e._guidKey,id:e._id,eventName:t,detail:e._result,childId:n&&n._id,label:e._label,timeStamp:Ut(),error:dt["instrument-with-stack"]?new Error(e._label):null}})&&l()}function g(t,e){var n=this;if(t&&"object"==typeof t&&t.constructor===n)return t;var i=new n(Q,e);return U(i,t),i}function u(){return new TypeError("A promises callback cannot return that same promise.")}function Q(){}function B(t){try{return t.then}catch(t){return yt.error=t,yt}}function I(t,e,n,i){try{t.call(e,n,i)}catch(t){return t}}function d(t,e,n){dt.async(function(t){var i=!1,r=I(n,e,function(n){i||(i=!0,e!==n?U(t,n,void 0):m(t,n))},function(e){i||(i=!0,b(t,e))},"Settle: "+(t._label||" unknown promise"));!i&&r&&(i=!0,b(t,r))},t)}function F(t,e){e._state===pt?m(t,e._result):e._state===At?(e._onError=null,b(t,e._result)):p(e,void 0,function(n){e!==n?U(t,n,void 0):m(t,n)},function(e){b(t,e)})}function C(t,e,n){e.constructor===t.constructor&&n===V&&constructor.resolve===g?F(t,e):n===yt?b(t,yt.error):void 0===n?m(t,e):s(n)?d(t,e,n):m(t,e)}function U(t,e){t===e?m(t,e):r(e)?C(t,e,B(e)):m(t,e)}function h(t){t._onError&&t._onError(t._result),A(t)}function m(t,e){t._state===bt&&(t._result=e,t._state=pt,0===t._subscribers.length?dt.instrument&&c("fulfilled",t):dt.async(A,t))}function b(t,e){t._state===bt&&(t._state=At,t._result=e,dt.async(h,t))}function p(t,e,n,i){var r=t._subscribers,s=r.length;t._onError=null,r[s]=e,r[s+pt]=n,r[s+At]=i,0===s&&t._state&&dt.async(A,t)}function A(t){var e=t._subscribers,n=t._state;if(dt.instrument&&c(n===pt?"fulfilled":"rejected",t),0!==e.length){for(var i,r,s=t._result,o=0;o<e.length;o+=3)i=e[o],r=e[o+n],i?G(n,i,r,s):r(s);t._subscribers.length=0}}function y(){this.error=null}function f(t,e){try{return t(e)}catch(t){return ft.error=t,ft}}function G(t,e,n,i){var r,o,a,l,c=s(n);if(c){if(r=f(n,i),r===ft?(l=!0,o=r.error,r=null):a=!0,e===r)return void b(e,u())}else r=i,a=!0;e._state!==bt||(c&&a?U(e,r):l?b(e,o):t===pt?m(e,r):t===At&&b(e,r))}function x(t,e){var n=!1;try{e(function(e){n||(n=!0,U(t,e))},function(e){n||(n=!0,b(t,e))})}catch(e){b(t,e)}}function V(t,e,n){var i=this,r=i._state;if(r===pt&&!t||r===At&&!e)return dt.instrument&&c("chained",i,i),i;i._onError=null;var s=new i.constructor(Q,n),o=i._result;if(dt.instrument&&c("chained",i,s),r){var a=arguments[r-1];dt.async(function(){G(r,s,a,o)})}else p(i,s,t,e);return s}function Z(t,e,n){return t===pt?{state:"fulfilled",value:n}:{state:"rejected",reason:n}}function R(t,e,n,i){this._instanceConstructor=t,this.promise=new t(Q,i),this._abortOnReject=n,this._validateInput(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._init(),0===this.length?m(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&m(this.promise,this._result))):b(this.promise,this._validationError())}function X(t,e){return new R(this,t,!0,e).promise}function L(t,e){function n(t){U(s,t)}function i(t){b(s,t)}var r=this,s=new r(Q,e);if(!Ct(t))return b(s,new TypeError("You must pass an array to race.")),s;for(var o=t.length,a=0;s._state===bt&&a<o;a++)p(r.resolve(t[a]),void 0,n,i);return s}function E(t,e){var n=this,i=new n(Q,e);return b(i,t),i}function v(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function S(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function W(t,e){this._id=xt++,this._label=e,this._state=void 0,
this._result=void 0,this._subscribers=[],dt.instrument&&c("created",this),Q!==t&&("function"!=typeof t&&v(),this instanceof W?x(this,t):S())}function N(){this.value=void 0}function J(t){try{return t.then}catch(t){return Vt.value=t,Vt}}function Y(t,e,n){try{t.apply(e,n)}catch(t){return Vt.value=t,Vt}}function H(t,e){for(var n,i,r={},s=t.length,o=new Array(s),a=0;a<s;a++)o[a]=t[a];for(i=0;i<e.length;i++)n=e[i],r[n]=o[i+1];return r}function k(t){for(var e=t.length,n=new Array(e-1),i=1;i<e;i++)n[i-1]=t[i];return n}function T(t,e){return{then:function(n,i){return t.call(e,n,i)}}}function D(t,e){var n=function(){for(var n,i=this,r=arguments.length,s=new Array(r+1),o=!1,a=0;a<r;++a){if(n=arguments[a],!o){if((o=z(n))===Zt){var l=new W(Q);return b(l,Zt.value),l}o&&!0!==o&&(n=T(o,n))}s[a]=n}var c=new W(Q);return s[r]=function(t,n){t?b(c,t):void 0===e?U(c,n):!0===e?U(c,k(arguments)):Ct(e)?U(c,H(arguments,e)):U(c,n)},o?O(c,s,t,i):w(c,s,t,i)};return n.__proto__=t,n}function w(t,e,n,i){var r=Y(n,i,e);return r===Vt&&b(t,r.value),t}function O(t,e,n,i){return W.all(e).then(function(e){var r=Y(n,i,e);return r===Vt&&b(t,r.value),t})}function z(t){return!(!t||"object"!=typeof t)&&(t.constructor===W||J(t))}function M(t,e){return W.all(t,e)}function j(t,e,n){this._superConstructor(t,e,!1,n)}function P(t,e){return new j(W,t,e).promise}function K(t,e){return W.race(t,e)}function _(t,e,n){this._superConstructor(t,e,!0,n)}function q(t,e){return new _(W,t,e).promise}function $(t,e,n){this._superConstructor(t,e,!1,n)}function tt(t,e){return new $(W,t,e).promise}function et(t){throw setTimeout(function(){throw t}),t}function nt(t){var e={};return e.promise=new W(function(t,n){e.resolve=t,e.reject=n},t),e}function it(t,e,n){return W.all(t,n).then(function(t){if(!s(e))throw new TypeError("You must pass a function as map's second argument.");for(var i=t.length,r=new Array(i),o=0;o<i;o++)r[o]=e(t[o]);return W.all(r,n)})}function rt(t,e){return W.resolve(t,e)}function st(t,e){return W.reject(t,e)}function ot(t,e,n){return W.all(t,n).then(function(t){if(!s(e))throw new TypeError("You must pass a function as filter's second argument.");for(var i=t.length,r=new Array(i),o=0;o<i;o++)r[o]=e(t[o]);return W.all(r,n).then(function(e){for(var n=new Array(i),r=0,s=0;s<i;s++)e[s]&&(n[r]=t[s],r++);return n.length=r,n})})}function at(t,e){Jt[Lt]=t,Jt[Lt+1]=e,2===(Lt+=2)&&Xt()}function lt(){return function(){Rt(gt)}}function ct(){return function(){setTimeout(gt,1)}}function gt(){for(var t=0;t<Lt;t+=2){(0,Jt[t])(Jt[t+1]),Jt[t]=void 0,Jt[t+1]=void 0}Lt=0}function ut(t,e){dt.async(t,e)}function Qt(){dt.on.apply(dt,arguments)}function Bt(){dt.off.apply(dt,arguments)}var It={mixin:function(t){return t.on=this.on,t.off=this.off,t.trigger=this.trigger,t._promiseCallbacks=void 0,t},on:function(t,i){if("function"!=typeof i)throw new TypeError("Callback must be a function");var r,s=n(this);r=s[t],r||(r=s[t]=[]),-1===e(r,i)&&r.push(i)},off:function(t,i){var r,s,o=n(this);if(!i)return void(o[t]=[]);r=o[t],-1!==(s=e(r,i))&&r.splice(s,1)},trigger:function(t,e,i){var r,s=n(this);if(r=s[t])for(var o=0;o<r.length;o++)(0,r[o])(e,i)}},dt={instrument:!1};It.mixin(dt);var Ft;Ft=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var Ct=Ft,Ut=Date.now||function(){return(new Date).getTime()},ht=Object.create||function(t){if(arguments.length>1)throw new Error("Second argument not supported");if("object"!=typeof t)throw new TypeError("Argument must be an object");return a.prototype=t,new a},mt=[],bt=void 0,pt=1,At=2,yt=new y,ft=new y;R.prototype._validateInput=function(t){return Ct(t)},R.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},R.prototype._init=function(){this._result=new Array(this.length)},R.prototype._enumerate=function(){for(var t=this.length,e=this.promise,n=this._input,i=0;e._state===bt&&i<t;i++)this._eachEntry(n[i],i)},R.prototype._settleMaybeThenable=function(t,e){var n=this._instanceConstructor,i=n.resolve;if(i===g){var r=B(t);if(r===V&&t._state!==bt)t._onError=null,this._settledAt(t._state,e,t._result);else if("function"!=typeof r)this._remaining--,this._result[e]=this._makeResult(pt,e,t);else if(n===W){var s=new n(Q);C(s,t,r),this._willSettleAt(s,e)}else this._willSettleAt(new n(function(e){e(t)}),e)}else this._willSettleAt(i(t),e)},R.prototype._eachEntry=function(t,e){o(t)?this._settleMaybeThenable(t,e):(this._remaining--,this._result[e]=this._makeResult(pt,e,t))},R.prototype._settledAt=function(t,e,n){var i=this.promise;i._state===bt&&(this._remaining--,this._abortOnReject&&t===At?b(i,n):this._result[e]=this._makeResult(t,e,n)),0===this._remaining&&m(i,this._result)},R.prototype._makeResult=function(t,e,n){return n},R.prototype._willSettleAt=function(t,e){var n=this;p(t,void 0,function(t){n._settledAt(pt,e,t)},function(t){n._settledAt(At,e,t)})};var Gt="rsvp_"+Ut()+"-",xt=0;W.cast=g,W.all=X,W.race=L,W.resolve=g,W.reject=E,W.prototype={constructor:W,_guidKey:Gt,_onError:function(t){var e=this;dt.after(function(){e._onError&&dt.trigger("error",t,e._label)})},then:V,catch:function(t,e){return this.then(void 0,t,e)},finally:function(t,e){var n=this,i=n.constructor;return n.then(function(e){return i.resolve(t()).then(function(){return e})},function(e){return i.resolve(t()).then(function(){return i.reject(e)})},e)}};var Vt=new N,Zt=new N;j.prototype=ht(R.prototype),j.prototype._superConstructor=R,j.prototype._makeResult=Z,j.prototype._validationError=function(){return new Error("allSettled must be called with an array")},_.prototype=ht(R.prototype),_.prototype._superConstructor=R,_.prototype._init=function(){this._result={}},_.prototype._validateInput=function(t){return t&&"object"==typeof t},_.prototype._validationError=function(){return new Error("Promise.hash must be called with an object")},_.prototype._enumerate=function(){var t=this,e=t.promise,n=t._input,i=[];for(var r in n)e._state===bt&&Object.prototype.hasOwnProperty.call(n,r)&&i.push({position:r,entry:n[r]});var s=i.length;t._remaining=s;for(var o,a=0;e._state===bt&&a<s;a++)o=i[a],t._eachEntry(o.entry,o.position)},$.prototype=ht(_.prototype),$.prototype._superConstructor=R,$.prototype._makeResult=Z,$.prototype._validationError=function(){return new Error("hashSettled must be called with an object")};var Rt,Xt,Lt=0,Et="undefined"!=typeof window?window:void 0,vt=Et||{},St=vt.MutationObserver||vt.WebKitMutationObserver,Wt="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),Nt="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Jt=new Array(1e3);Xt=Wt?function(){var t=process.nextTick,e=process.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(e)&&"0"===e[1]&&"10"===e[2]&&(t=setImmediate),function(){t(gt)}}():St?function(){var t=0,e=new St(gt),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}():Nt?function(){var t=new MessageChannel;return t.port1.onmessage=gt,function(){t.port2.postMessage(0)}}():void 0===Et&&"function"==typeof require?function(){try{var t=require,e=t("vertx");return Rt=e.runOnLoop||e.runOnContext,lt()}catch(t){return ct()}}():ct(),dt.async=at,dt.after=function(t){setTimeout(t,0)};var Yt=rt;if("undefined"!=typeof window&&"object"==typeof window.__PROMISE_INSTRUMENTATION__){var Ht=window.__PROMISE_INSTRUMENTATION__;i("instrument",!0);for(var kt in Ht)Ht.hasOwnProperty(kt)&&Qt(kt,Ht[kt])}t.cast=Yt,t.Promise=W,t.EventTarget=It,t.all=M,t.allSettled=P,t.race=K,t.hash=q,t.hashSettled=tt,t.rethrow=et,t.defer=nt,t.denodeify=D,t.configure=i,t.on=Qt,t.off=Bt,t.resolve=rt,t.reject=st,t.async=ut,t.map=it,t.filter=ot,Object.defineProperty(t,"__esModule",{value:!0})}),a("ember")}(),function(){function t(t,e){define(t,[],function(){"use strict";return Object.defineProperty(e,"__esModule",{value:!0}),e})}!function(){var e={ember:{default:Ember},"ember-application":{default:Ember.Application},"ember-array":{default:Ember.Array},"ember-array/mutable":{default:Ember.MutableArray},"ember-array/utils":{A:Ember.A,isEmberArray:Ember.isArray,wrap:Ember.makeArray},"ember-component":{default:Ember.Component},"ember-components/checkbox":{default:Ember.Checkbox},"ember-components/text-area":{default:Ember.TextArea},"ember-components/text-field":{default:Ember.TextField},"ember-controller":{default:Ember.Controller},"ember-controller/inject":{default:Ember.inject.controller},"ember-controller/proxy":{default:Ember.ArrayProxy},"ember-controllers/sortable":{default:Ember.SortableMixin},"ember-debug":{log:Ember.debug,inspect:Ember.inspect,run:Ember.runInDebug,warn:Ember.warn},"ember-debug/container-debug-adapter":{default:Ember.ContainerDebugAdapter},"ember-debug/data-adapter":{default:Ember.DataAdapter},"ember-deprecations":{deprecate:Ember.deprecate,deprecateFunc:Ember.deprecateFunc},"ember-enumerable":{default:Ember.Enumerable},"ember-evented":{default:Ember.Evented},"ember-evented/on":{default:Ember.on},"ember-globals-resolver":{default:Ember.DefaultResolver},"ember-helper":{default:Ember.Helper,helper:Ember.Helper&&Ember.Helper.helper},"ember-instrumentation":{instrument:Ember.Instrumentation.instrument,reset:Ember.Instrumentation.reset,subscribe:Ember.Instrumentation.subscribe,unsubscribe:Ember.Instrumentation.unsubscribe},"ember-locations/hash":{default:Ember.HashLocation},"ember-locations/history":{default:Ember.HistoryLocation},"ember-locations/none":{default:Ember.NoneLocation},"ember-map":{default:Ember.Map,withDefault:Ember.MapWithDefault},"ember-metal/destroy":{default:Ember.destroy},"ember-metal/events":{addListener:Ember.addListener,removeListener:Ember.removeListener,send:Ember.sendEvent},"ember-metal/get":{default:Ember.get,getProperties:Ember.getProperties},"ember-metal/mixin":{default:Ember.Mixin},"ember-metal/observer":{default:Ember.observer,addObserver:Ember.addObserver,removeObserver:Ember.removeObserver},"ember-metal/on-load":{default:Ember.onLoad,run:Ember.runLoadHooks},"ember-metal/set":{default:Ember.set,setProperties:Ember.setProperties,trySet:Ember.trySet},"ember-metal/utils":{aliasMethod:Ember.aliasMethod,assert:Ember.assert,cacheFor:Ember.cacheFor,copy:Ember.copy,guidFor:Ember.guidFor},"ember-object":{default:Ember.Object},"ember-owner/get":{default:Ember.getOwner},"ember-owner/set":{default:Ember.setOwner},"ember-platform":{assign:Ember.assign||Ember.merge,create:Ember.create,defineProperty:Ember.platform.defineProperty,hasAccessors:Ember.platform.hasPropertyAccessors,keys:Ember.keys},"ember-route":{default:Ember.Route},"ember-router":{default:Ember.Router},"ember-runloop":{default:Ember.run,begin:Ember.run.begin,bind:Ember.run.bind,cancel:Ember.run.cancel,debounce:Ember.run.debounce,end:Ember.run.end,join:Ember.run.join,later:Ember.run.later,next:Ember.run.next,once:Ember.run.once,schedule:Ember.run.schedule,scheduleOnce:Ember.run.scheduleOnce,throttle:Ember.run.throttle},"ember-service":{default:Ember.Service},"ember-service/inject":{default:Ember.inject.service},"ember-set/ordered":{default:Ember.OrderedSet},"ember-string":{camelize:Ember.String.camelize,capitalize:Ember.String.capitalize,classify:Ember.String.classify,dasherize:Ember.String.dasherize,decamelize:Ember.String.decamelize,fmt:Ember.String.fmt,htmlSafe:Ember.String.htmlSafe,loc:Ember.String.loc,underscore:Ember.String.underscore,w:Ember.String.w},"ember-utils":{isBlank:Ember.isBlank,isEmpty:Ember.isEmpty,isNone:Ember.isNone,isPresent:Ember.isPresent,tryInvoke:Ember.tryInvoke,typeOf:Ember.typeOf}};e["ember-computed"]={default:Ember.computed};for(var n=["empty","notEmpty","none","not","bool","match","equal","gt","gte","lt","lte","alias","oneWay","reads","readOnly","deprecatingAlias","and","or","collect","sum","min","max","map","sort","setDiff","mapBy","mapProperty","filter","filterBy","filterProperty","uniq","union","intersect"],i=0,r=n.length;i<r;i++){var s=n[i];e["ember-computed"][s]=Ember.computed[s]}for(var o in e)t(o,e[o])}(),function(){if(Ember.Test){var e={"ember-test":{default:Ember.Test},"ember-test/adapter":{default:Ember.Test.Adapter},"ember-test/qunit-adapter":{default:Ember.Test.QUnitAdapter}};for(var n in e)t(n,e[n])}}(),t("jquery",{default:self.jQuery}),t("rsvp",{default:Ember.RSVP})}(),function t(e,n,i){function r(o,a){if(!n[o]){if(!e[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(s)return s(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var g=n[o]={exports:{}};e[o][0].call(g.exports,function(t){var n=e[o][1][t];return r(n||t)},g,g.exports,t,e,n,i)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(require,module,exports){!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("RemoteStorage",[],e):"object"==typeof exports?exports.RemoteStorage=e():t.RemoteStorage=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(16)},function(module,exports,__webpack_require__){eval("'use strict';\n\nvar config = __webpack_require__(5);\n\n/**\n * Method: log\n *\n * Log using console.log, when remoteStorage logging is enabled.\n *\n * You can enable logging with <enableLog>.\n *\n * (In node.js you can also enable logging during remoteStorage object\n * creation. See: <RemoteStorage>).\n */\nfunction log() {\n  if (config.logging) {\n    console.log.apply(console, arguments);\n  }\n}\n\nmodule.exports = log;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbG9nLmpzPzkzMjAiXSwibmFtZXMiOlsiY29uZmlnIiwicmVxdWlyZSIsImxvZyIsImxvZ2dpbmciLCJjb25zb2xlIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLFNBQVMsbUJBQUFDLENBQVEsQ0FBUixDQUFiOztBQUVBOzs7Ozs7Ozs7O0FBVUEsU0FBU0MsR0FBVCxHQUFlO0FBQ2IsTUFBSUYsT0FBT0csT0FBWCxFQUFvQjtBQUNsQkMsWUFBUUYsR0FBUixDQUFZRyxLQUFaLENBQWtCRCxPQUFsQixFQUEyQkUsU0FBM0I7QUFDRDtBQUNGOztBQUVEQyxPQUFPQyxPQUFQLEdBQWlCTixHQUFqQiIsImZpbGUiOiIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGNvbmZpZyA9IHJlcXVpcmUoJy4vY29uZmlnJyk7XG5cbi8qKlxuICogTWV0aG9kOiBsb2dcbiAqXG4gKiBMb2cgdXNpbmcgY29uc29sZS5sb2csIHdoZW4gcmVtb3RlU3RvcmFnZSBsb2dnaW5nIGlzIGVuYWJsZWQuXG4gKlxuICogWW91IGNhbiBlbmFibGUgbG9nZ2luZyB3aXRoIDxlbmFibGVMb2c+LlxuICpcbiAqIChJbiBub2RlLmpzIHlvdSBjYW4gYWxzbyBlbmFibGUgbG9nZ2luZyBkdXJpbmcgcmVtb3RlU3RvcmFnZSBvYmplY3RcbiAqIGNyZWF0aW9uLiBTZWU6IDxSZW1vdGVTdG9yYWdlPikuXG4gKi9cbmZ1bmN0aW9uIGxvZygpIHtcbiAgaWYgKGNvbmZpZy5sb2dnaW5nKSB7XG4gICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgYXJndW1lbnRzKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGxvZztcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvbG9nLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports){
eval("/* WEBPACK VAR INJECTION */(function(global) {'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n// Reusable utility functions\n\n\n/**\n * Function: fixArrayBuffers\n *\n * Takes an object and its copy as produced by the _deepClone function\n * below, and finds and fixes any ArrayBuffers that were cast to `{}` instead\n * of being cloned to new ArrayBuffers with the same content.\n *\n * It recurses into sub-objects, but skips arrays if they occur.\n */\nfunction fixArrayBuffers(srcObj, dstObj) {\n  var field, srcArr, dstArr;\n  if ((typeof srcObj === 'undefined' ? 'undefined' : _typeof(srcObj)) !== 'object' || Array.isArray(srcObj) || srcObj === null) {\n    return;\n  }\n  for (field in srcObj) {\n    if (_typeof(srcObj[field]) === 'object' && srcObj[field] !== null) {\n      if (srcObj[field].toString() === '[object ArrayBuffer]') {\n        dstObj[field] = new ArrayBuffer(srcObj[field].byteLength);\n        srcArr = new Int8Array(srcObj[field]);\n        dstArr = new Int8Array(dstObj[field]);\n        dstArr.set(srcArr);\n      } else {\n        fixArrayBuffers(srcObj[field], dstObj[field]);\n      }\n    }\n  }\n}\n\nvar util = {\n  logError: function logError(error) {\n    if (typeof error === 'string') {\n      console.error(error);\n    } else {\n      console.error(error.message, error.stack);\n    }\n  },\n\n\n  globalContext: typeof window !== 'undefined' ? window : global,\n\n  getGlobalContext: function getGlobalContext() {\n    return typeof window !== 'undefined' ? window : global;\n  },\n  extend: function extend(target) {\n    var sources = Array.prototype.slice.call(arguments, 1);\n    sources.forEach(function (source) {\n      for (var key in source) {\n        target[key] = source[key];\n      }\n    });\n    return target;\n  },\n  asyncEach: function asyncEach(array, callback) {\n    return this.asyncMap(array, callback).then(function () {\n      return array;\n    });\n  },\n  asyncMap: function asyncMap(array, callback) {\n    var pending = Promise.defer();\n    var n = array.length,\n        i = 0;\n    var results = [],\n        errors = [];\n\n    function oneDone() {\n      i++;\n      if (i === n) {\n        pending.resolve(results, errors);\n      }\n    }\n\n    array.forEach(function (item, index) {\n      var result;\n      try {\n        result = callback(item);\n      } catch (exc) {\n        oneDone();\n        errors[index] = exc;\n      }\n      if ((typeof result === 'undefined' ? 'undefined' : _typeof(result)) === 'object' && typeof result.then === 'function') {\n        result.then(function (res) {\n          results[index] = res;oneDone();\n        }, function (error) {\n          errors[index] = error;oneDone();\n        });\n      } else {\n        oneDone();\n        results[index] = result;\n      }\n    });\n\n    return pending.promise;\n  },\n  containingFolder: function containingFolder(path) {\n    if (path === '') {\n      return '/';\n    }\n    if (!path) {\n      throw \"Path not given!\";\n    }\n\n    return path.replace(/\\/+/g, '/').replace(/[^\\/]+\\/?$/, '');\n  },\n  isFolder: function isFolder(path) {\n    return path.substr(-1) === '/';\n  },\n  isDocument: function isDocument(path) {\n    return !util.isFolder(path);\n  },\n  baseName: function baseName(path) {\n    var parts = path.split('/');\n    if (util.isFolder(path)) {\n      return parts[parts.length - 2] + '/';\n    } else {\n      return parts[parts.length - 1];\n    }\n  },\n  cleanPath: function cleanPath(path) {\n    return path.replace(/\\/+/g, '/').split('/').map(encodeURIComponent).join('/').replace(/'/g, '%27');\n  },\n  bindAll: function bindAll(object) {\n    for (var key in this) {\n      if (typeof object[key] === 'function') {\n        object[key] = object[key].bind(object);\n      }\n    }\n  },\n  equal: function equal(a, b, seen) {\n    var key;\n    seen = seen || [];\n\n    if ((typeof a === 'undefined' ? 'undefined' : _typeof(a)) !== (typeof b === 'undefined' ? 'undefined' : _typeof(b))) {\n      return false;\n    }\n\n    if (typeof a === 'number' || typeof a === 'boolean' || typeof a === 'string') {\n      return a === b;\n    }\n\n    if (typeof a === 'function') {\n      return a.toString() === b.toString();\n    }\n\n    if (a instanceof ArrayBuffer && b instanceof ArrayBuffer) {\n      // Without the following conversion the browsers wouldn't be able to\n      // tell the ArrayBuffer instances apart.\n      a = new Uint8Array(a);\n      b = new Uint8Array(b);\n    }\n\n    // If this point has been reached, a and b are either arrays or objects.\n\n    if (a instanceof Array) {\n      if (a.length !== b.length) {\n        return false;\n      }\n\n      for (var i = 0, c = a.length; i < c; i++) {\n        if (!util.equal(a[i], b[i], seen)) {\n          return false;\n        }\n      }\n    } else {\n      // Check that keys from a exist in b\n      for (key in a) {\n        if (a.hasOwnProperty(key) && !(key in b)) {\n          return false;\n        }\n      }\n\n      // Check that keys from b exist in a, and compare the values\n      for (key in b) {\n        if (!b.hasOwnProperty(key)) {\n          continue;\n        }\n\n        if (!(key in a)) {\n          return false;\n        }\n\n        var seenArg;\n\n        if (_typeof(b[key]) === 'object') {\n          if (seen.indexOf(b[key]) >= 0) {\n            // Circular reference, don't attempt to compare this object.\n            // If nothing else returns false, the objects match.\n            continue;\n          }\n\n          seenArg = seen.slice();\n          seenArg.push(b[key]);\n        }\n\n        if (!util.equal(a[key], b[key], seenArg)) {\n          return false;\n        }\n      }\n    }\n\n    return true;\n  },\n  equalObj: function equalObj(obj1, obj2) {\n    console.warn('DEPRECATION WARNING: util.equalObj has been replaced by util.equal.');\n    return util.equal(obj1, obj2);\n  },\n  deepClone: function deepClone(obj) {\n    var clone;\n    if (obj === undefined) {\n      return undefined;\n    } else {\n      clone = JSON.parse(JSON.stringify(obj));\n      fixArrayBuffers(obj, clone);\n      return clone;\n    }\n  },\n  pathsFromRoot: function pathsFromRoot(path) {\n    var paths = [path];\n    var parts = path.replace(/\\/$/, '').split('/');\n\n    while (parts.length > 1) {\n      parts.pop();\n      paths.push(parts.join('/') + '/');\n    }\n    return paths;\n  },\n\n\n  /* jshint ignore:start */\n  md5sum: function md5sum(str) {\n    //\n    // http://www.myersdaily.org/joseph/javascript/md5.js\n    //\n    function md5cycle(x, k) {\n      var a = x[0],\n          b = x[1],\n          c = x[2],\n          d = x[3];\n\n      a = ff(a, b, c, d, k[0], 7, -680876936);\n      d = ff(d, a, b, c, k[1], 12, -389564586);\n      c = ff(c, d, a, b, k[2], 17, 606105819);\n      b = ff(b, c, d, a, k[3], 22, -1044525330);\n      a = ff(a, b, c, d, k[4], 7, -176418897);\n      d = ff(d, a, b, c, k[5], 12, 1200080426);\n      c = ff(c, d, a, b, k[6], 17, -1473231341);\n      b = ff(b, c, d, a, k[7], 22, -45705983);\n      a = ff(a, b, c, d, k[8], 7, 1770035416);\n      d = ff(d, a, b, c, k[9], 12, -1958414417);\n      c = ff(c, d, a, b, k[10], 17, -42063);\n      b = ff(b, c, d, a, k[11], 22, -1990404162);\n      a = ff(a, b, c, d, k[12], 7, 1804603682);\n      d = ff(d, a, b, c, k[13], 12, -40341101);\n      c = ff(c, d, a, b, k[14], 17, -1502002290);\n      b = ff(b, c, d, a, k[15], 22, 1236535329);\n\n      a = gg(a, b, c, d, k[1], 5, -165796510);\n      d = gg(d, a, b, c, k[6], 9, -1069501632);\n      c = gg(c, d, a, b, k[11], 14, 643717713);\n      b = gg(b, c, d, a, k[0], 20, -373897302);\n      a = gg(a, b, c, d, k[5], 5, -701558691);\n      d = gg(d, a, b, c, k[10], 9, 38016083);\n      c = gg(c, d, a, b, k[15], 14, -660478335);\n      b = gg(b, c, d, a, k[4], 20, -405537848);\n      a = gg(a, b, c, d, k[9], 5, 568446438);\n      d = gg(d, a, b, c, k[14], 9, -1019803690);\n      c = gg(c, d, a, b, k[3], 14, -187363961);\n      b = gg(b, c, d, a, k[8], 20, 1163531501);\n      a = gg(a, b, c, d, k[13], 5, -1444681467);\n      d = gg(d, a, b, c, k[2], 9, -51403784);\n      c = gg(c, d, a, b, k[7], 14, 1735328473);\n      b = gg(b, c, d, a, k[12], 20, -1926607734);\n\n      a = hh(a, b, c, d, k[5], 4, -378558);\n      d = hh(d, a, b, c, k[8], 11, -2022574463);\n      c = hh(c, d, a, b, k[11], 16, 1839030562);\n      b = hh(b, c, d, a, k[14], 23, -35309556);\n      a = hh(a, b, c, d, k[1], 4, -1530992060);\n      d = hh(d, a, b, c, k[4], 11, 1272893353);\n      c = hh(c, d, a, b, k[7], 16, -155497632);\n      b = hh(b, c, d, a, k[10], 23, -1094730640);\n      a = hh(a, b, c, d, k[13], 4, 681279174);\n      d = hh(d, a, b, c, k[0], 11, -358537222);\n      c = hh(c, d, a, b, k[3], 16, -722521979);\n      b = hh(b, c, d, a, k[6], 23, 76029189);\n      a = hh(a, b, c, d, k[9], 4, -640364487);\n      d = hh(d, a, b, c, k[12], 11, -421815835);\n      c = hh(c, d, a, b, k[15], 16, 530742520);\n      b = hh(b, c, d, a, k[2], 23, -995338651);\n\n      a = ii(a, b, c, d, k[0], 6, -198630844);\n      d = ii(d, a, b, c, k[7], 10, 1126891415);\n      c = ii(c, d, a, b, k[14], 15, -1416354905);\n      b = ii(b, c, d, a, k[5], 21, -57434055);\n      a = ii(a, b, c, d, k[12], 6, 1700485571);\n      d = ii(d, a, b, c, k[3], 10, -1894986606);\n      c = ii(c, d, a, b, k[10], 15, -1051523);\n      b = ii(b, c, d, a, k[1], 21, -2054922799);\n      a = ii(a, b, c, d, k[8], 6, 1873313359);\n      d = ii(d, a, b, c, k[15], 10, -30611744);\n      c = ii(c, d, a, b, k[6], 15, -1560198380);\n      b = ii(b, c, d, a, k[13], 21, 1309151649);\n      a = ii(a, b, c, d, k[4], 6, -145523070);\n      d = ii(d, a, b, c, k[11], 10, -1120210379);\n      c = ii(c, d, a, b, k[2], 15, 718787259);\n      b = ii(b, c, d, a, k[9], 21, -343485551);\n\n      x[0] = add32(a, x[0]);\n      x[1] = add32(b, x[1]);\n      x[2] = add32(c, x[2]);\n      x[3] = add32(d, x[3]);\n    }\n\n    function cmn(q, a, b, x, s, t) {\n      a = add32(add32(a, q), add32(x, t));\n      return add32(a << s | a >>> 32 - s, b);\n    }\n\n    function ff(a, b, c, d, x, s, t) {\n      return cmn(b & c | ~b & d, a, b, x, s, t);\n    }\n\n    function gg(a, b, c, d, x, s, t) {\n      return cmn(b & d | c & ~d, a, b, x, s, t);\n    }\n\n    function hh(a, b, c, d, x, s, t) {\n      return cmn(b ^ c ^ d, a, b, x, s, t);\n    }\n\n    function ii(a, b, c, d, x, s, t) {\n      return cmn(c ^ (b | ~d), a, b, x, s, t);\n    }\n\n    function md51(s) {\n      txt = '';\n      var n = s.length,\n          state = [1732584193, -271733879, -1732584194, 271733878],\n          i;\n      for (i = 64; i <= s.length; i += 64) {\n        md5cycle(state, md5blk(s.substring(i - 64, i)));\n      }\n      s = s.substring(i - 64);\n      var tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n      for (i = 0; i < s.length; i++) {\n        tail[i >> 2] |= s.charCodeAt(i) << (i % 4 << 3);\n      }tail[i >> 2] |= 0x80 << (i % 4 << 3);\n      if (i > 55) {\n        md5cycle(state, tail);\n        for (i = 0; i < 16; i++) {\n          tail[i] = 0;\n        }\n      }\n      tail[14] = n * 8;\n      md5cycle(state, tail);\n      return state;\n    }\n\n    function md5blk(s) {\n      var md5blks = [],\n          i;\n      for (i = 0; i < 64; i += 4) {\n        md5blks[i >> 2] = s.charCodeAt(i) + (s.charCodeAt(i + 1) << 8) + (s.charCodeAt(i + 2) << 16) + (s.charCodeAt(i + 3) << 24);\n      }\n      return md5blks;\n    }\n\n    var hex_chr = '0123456789abcdef'.split('');\n\n    function rhex(n) {\n      var s = '',\n          j = 0;\n      for (; j < 4; j++) {\n        s += hex_chr[n >> j * 8 + 4 & 0x0F] + hex_chr[n >> j * 8 & 0x0F];\n      }return s;\n    }\n\n    function hex(x) {\n      for (var i = 0; i < x.length; i++) {\n        x[i] = rhex(x[i]);\n      }return x.join('');\n    }\n\n    function md5(s) {\n      return hex(md51(s));\n    }\n\n    var add32 = function add32(a, b) {\n      return a + b & 0xFFFFFFFF;\n    };\n\n    if (md5('hello') !== '5d41402abc4b2a76b9719d911017c592') {\n      add32 = function add32(x, y) {\n        var lsw = (x & 0xFFFF) + (y & 0xFFFF),\n            msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n        return msw << 16 | lsw & 0xFFFF;\n      };\n    }\n\n    return md5(str);\n  },\n\n  /* jshint ignore:end */\n\n  localStorageAvailable: function localStorageAvailable() {\n    var context = util.getGlobalContext();\n\n    if (!('localStorage' in context)) {\n      return false;\n    }\n\n    try {\n      context.localStorage.setItem('rs-check', 1);\n      context.localStorage.removeItem('rs-check');\n      return true;\n    } catch (error) {\n      return false;\n    }\n  }\n};\n\nmodule.exports = util;\n/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbC5qcz9hZDAwIl0sIm5hbWVzIjpbImZpeEFycmF5QnVmZmVycyIsInNyY09iaiIsImRzdE9iaiIsImZpZWxkIiwic3JjQXJyIiwiZHN0QXJyIiwiQXJyYXkiLCJpc0FycmF5IiwidG9TdHJpbmciLCJBcnJheUJ1ZmZlciIsImJ5dGVMZW5ndGgiLCJJbnQ4QXJyYXkiLCJzZXQiLCJ1dGlsIiwibG9nRXJyb3IiLCJlcnJvciIsImNvbnNvbGUiLCJtZXNzYWdlIiwic3RhY2siLCJnbG9iYWxDb250ZXh0Iiwid2luZG93IiwiZ2xvYmFsIiwiZ2V0R2xvYmFsQ29udGV4dCIsImV4dGVuZCIsInRhcmdldCIsInNvdXJjZXMiLCJwcm90b3R5cGUiLCJzbGljZSIsImNhbGwiLCJhcmd1bWVudHMiLCJmb3JFYWNoIiwic291cmNlIiwia2V5IiwiYXN5bmNFYWNoIiwiYXJyYXkiLCJjYWxsYmFjayIsImFzeW5jTWFwIiwidGhlbiIsInBlbmRpbmciLCJQcm9taXNlIiwiZGVmZXIiLCJuIiwibGVuZ3RoIiwiaSIsInJlc3VsdHMiLCJlcnJvcnMiLCJvbmVEb25lIiwicmVzb2x2ZSIsIml0ZW0iLCJpbmRleCIsInJlc3VsdCIsImV4YyIsInJlcyIsInByb21pc2UiLCJjb250YWluaW5nRm9sZGVyIiwicGF0aCIsInJlcGxhY2UiLCJpc0ZvbGRlciIsInN1YnN0ciIsImlzRG9jdW1lbnQiLCJiYXNlTmFtZSIsInBhcnRzIiwic3BsaXQiLCJjbGVhblBhdGgiLCJtYXAiLCJlbmNvZGVVUklDb21wb25lbnQiLCJqb2luIiwiYmluZEFsbCIsIm9iamVjdCIsImJpbmQiLCJlcXVhbCIsImEiLCJiIiwic2VlbiIsIlVpbnQ4QXJyYXkiLCJjIiwiaGFzT3duUHJvcGVydHkiLCJzZWVuQXJnIiwiaW5kZXhPZiIsInB1c2giLCJlcXVhbE9iaiIsIm9iajEiLCJvYmoyIiwid2FybiIsImRlZXBDbG9uZSIsIm9iaiIsImNsb25lIiwidW5kZWZpbmVkIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwicGF0aHNGcm9tUm9vdCIsInBhdGhzIiwicG9wIiwibWQ1c3VtIiwic3RyIiwibWQ1Y3ljbGUiLCJ4IiwiayIsImQiLCJmZiIsImdnIiwiaGgiLCJpaSIsImFkZDMyIiwiY21uIiwicSIsInMiLCJ0IiwibWQ1MSIsInR4dCIsInN0YXRlIiwibWQ1YmxrIiwic3Vic3RyaW5nIiwidGFpbCIsImNoYXJDb2RlQXQiLCJtZDVibGtzIiwiaGV4X2NociIsInJoZXgiLCJqIiwiaGV4IiwibWQ1IiwieSIsImxzdyIsIm1zdyIsImxvY2FsU3RvcmFnZUF2YWlsYWJsZSIsImNvbnRleHQiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwicmVtb3ZlSXRlbSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7O0FBR0U7Ozs7Ozs7OztBQVNBLFNBQVNBLGVBQVQsQ0FBeUJDLE1BQXpCLEVBQWlDQyxNQUFqQyxFQUF5QztBQUN2QyxNQUFJQyxLQUFKLEVBQVdDLE1BQVgsRUFBbUJDLE1BQW5CO0FBQ0EsTUFBSSxRQUFPSixNQUFQLHlDQUFPQSxNQUFQLE9BQW1CLFFBQW5CLElBQStCSyxNQUFNQyxPQUFOLENBQWNOLE1BQWQsQ0FBL0IsSUFBd0RBLFdBQVcsSUFBdkUsRUFBNkU7QUFDM0U7QUFDRDtBQUNELE9BQUtFLEtBQUwsSUFBY0YsTUFBZCxFQUFzQjtBQUNwQixRQUFJLFFBQU9BLE9BQU9FLEtBQVAsQ0FBUCxNQUEwQixRQUExQixJQUFzQ0YsT0FBT0UsS0FBUCxNQUFrQixJQUE1RCxFQUFrRTtBQUNoRSxVQUFJRixPQUFPRSxLQUFQLEVBQWNLLFFBQWQsT0FBNkIsc0JBQWpDLEVBQXlEO0FBQ3ZETixlQUFPQyxLQUFQLElBQWdCLElBQUlNLFdBQUosQ0FBZ0JSLE9BQU9FLEtBQVAsRUFBY08sVUFBOUIsQ0FBaEI7QUFDQU4saUJBQVMsSUFBSU8sU0FBSixDQUFjVixPQUFPRSxLQUFQLENBQWQsQ0FBVDtBQUNBRSxpQkFBUyxJQUFJTSxTQUFKLENBQWNULE9BQU9DLEtBQVAsQ0FBZCxDQUFUO0FBQ0FFLGVBQU9PLEdBQVAsQ0FBV1IsTUFBWDtBQUNELE9BTEQsTUFLTztBQUNMSix3QkFBZ0JDLE9BQU9FLEtBQVAsQ0FBaEIsRUFBK0JELE9BQU9DLEtBQVAsQ0FBL0I7QUFDRDtBQUNGO0FBQ0Y7QUFDRjs7QUFFRCxJQUFJVSxPQUFPO0FBQ1RDLFVBRFMsb0JBQ0FDLEtBREEsRUFDTztBQUNkLFFBQUksT0FBT0EsS0FBUCxLQUFrQixRQUF0QixFQUFnQztBQUM5QkMsY0FBUUQsS0FBUixDQUFjQSxLQUFkO0FBQ0QsS0FGRCxNQUVPO0FBQ0xDLGNBQVFELEtBQVIsQ0FBY0EsTUFBTUUsT0FBcEIsRUFBNkJGLE1BQU1HLEtBQW5DO0FBQ0Q7QUFDRixHQVBROzs7QUFTVEMsaUJBQWdCLE9BQU9DLE1BQVAsS0FBbUIsV0FBbkIsR0FBaUNBLE1BQWpDLEdBQTBDQyxNQVRqRDs7QUFXVEMsa0JBWFMsOEJBV1c7QUFDbEIsV0FBUSxPQUFPRixNQUFQLEtBQW1CLFdBQW5CLEdBQWlDQSxNQUFqQyxHQUEwQ0MsTUFBbEQ7QUFDRCxHQWJRO0FBZVRFLFFBZlMsa0JBZURDLE1BZkMsRUFlTztBQUNkLFFBQUlDLFVBQVVuQixNQUFNb0IsU0FBTixDQUFnQkMsS0FBaEIsQ0FBc0JDLElBQXRCLENBQTJCQyxTQUEzQixFQUFzQyxDQUF0QyxDQUFkO0FBQ0FKLFlBQVFLLE9BQVIsQ0FBZ0IsVUFBVUMsTUFBVixFQUFrQjtBQUNoQyxXQUFLLElBQUlDLEdBQVQsSUFBZ0JELE1BQWhCLEVBQXdCO0FBQ3RCUCxlQUFPUSxHQUFQLElBQWNELE9BQU9DLEdBQVAsQ0FBZDtBQUNEO0FBQ0YsS0FKRDtBQUtBLFdBQU9SLE1BQVA7QUFDRCxHQXZCUTtBQXlCVFMsV0F6QlMscUJBeUJFQyxLQXpCRixFQXlCU0MsUUF6QlQsRUF5Qm1CO0FBQzFCLFdBQU8sS0FBS0MsUUFBTCxDQUFjRixLQUFkLEVBQXFCQyxRQUFyQixFQUNMRSxJQURLLENBQ0EsWUFBWTtBQUFFLGFBQU9ILEtBQVA7QUFBZSxLQUQ3QixDQUFQO0FBRUQsR0E1QlE7QUE4QlRFLFVBOUJTLG9CQThCQ0YsS0E5QkQsRUE4QlFDLFFBOUJSLEVBOEJrQjtBQUN6QixRQUFJRyxVQUFVQyxRQUFRQyxLQUFSLEVBQWQ7QUFDQSxRQUFJQyxJQUFJUCxNQUFNUSxNQUFkO0FBQUEsUUFBc0JDLElBQUksQ0FBMUI7QUFDQSxRQUFJQyxVQUFVLEVBQWQ7QUFBQSxRQUFrQkMsU0FBUyxFQUEzQjs7QUFFQSxhQUFTQyxPQUFULEdBQW1CO0FBQ2pCSDtBQUNBLFVBQUlBLE1BQU1GLENBQVYsRUFBYTtBQUNYSCxnQkFBUVMsT0FBUixDQUFnQkgsT0FBaEIsRUFBeUJDLE1BQXpCO0FBQ0Q7QUFDRjs7QUFFRFgsVUFBTUosT0FBTixDQUFjLFVBQVVrQixJQUFWLEVBQWdCQyxLQUFoQixFQUF1QjtBQUNuQyxVQUFJQyxNQUFKO0FBQ0EsVUFBSTtBQUNGQSxpQkFBU2YsU0FBU2EsSUFBVCxDQUFUO0FBQ0QsT0FGRCxDQUVFLE9BQU1HLEdBQU4sRUFBVztBQUNYTDtBQUNBRCxlQUFPSSxLQUFQLElBQWdCRSxHQUFoQjtBQUNEO0FBQ0QsVUFBSSxRQUFPRCxNQUFQLHlDQUFPQSxNQUFQLE9BQW1CLFFBQW5CLElBQStCLE9BQU9BLE9BQU9iLElBQWQsS0FBd0IsVUFBM0QsRUFBdUU7QUFDckVhLGVBQU9iLElBQVAsQ0FBWSxVQUFVZSxHQUFWLEVBQWU7QUFBRVIsa0JBQVFLLEtBQVIsSUFBaUJHLEdBQWpCLENBQXNCTjtBQUFZLFNBQS9ELEVBQ1ksVUFBVS9CLEtBQVYsRUFBaUI7QUFBRThCLGlCQUFPSSxLQUFQLElBQWdCbEMsS0FBaEIsQ0FBdUIrQjtBQUFZLFNBRGxFO0FBRUQsT0FIRCxNQUdPO0FBQ0xBO0FBQ0FGLGdCQUFRSyxLQUFSLElBQWlCQyxNQUFqQjtBQUNEO0FBQ0YsS0FmRDs7QUFpQkEsV0FBT1osUUFBUWUsT0FBZjtBQUNELEdBNURRO0FBOERUQyxrQkE5RFMsNEJBOERTQyxJQTlEVCxFQThEZTtBQUN0QixRQUFJQSxTQUFTLEVBQWIsRUFBaUI7QUFDZixhQUFPLEdBQVA7QUFDRDtBQUNELFFBQUksQ0FBRUEsSUFBTixFQUFZO0FBQ1YsWUFBTSxpQkFBTjtBQUNEOztBQUVELFdBQU9BLEtBQUtDLE9BQUwsQ0FBYSxNQUFiLEVBQXFCLEdBQXJCLEVBQTBCQSxPQUExQixDQUFrQyxZQUFsQyxFQUFnRCxFQUFoRCxDQUFQO0FBQ0QsR0F2RVE7QUF5RVRDLFVBekVTLG9CQXlFQ0YsSUF6RUQsRUF5RU87QUFDZCxXQUFPQSxLQUFLRyxNQUFMLENBQVksQ0FBQyxDQUFiLE1BQW9CLEdBQTNCO0FBQ0QsR0EzRVE7QUE2RVRDLFlBN0VTLHNCQTZFR0osSUE3RUgsRUE2RVM7QUFDaEIsV0FBTyxDQUFDMUMsS0FBSzRDLFFBQUwsQ0FBY0YsSUFBZCxDQUFSO0FBQ0QsR0EvRVE7QUFpRlRLLFVBakZTLG9CQWlGQ0wsSUFqRkQsRUFpRk87QUFDZCxRQUFJTSxRQUFRTixLQUFLTyxLQUFMLENBQVcsR0FBWCxDQUFaO0FBQ0EsUUFBSWpELEtBQUs0QyxRQUFMLENBQWNGLElBQWQsQ0FBSixFQUF5QjtBQUN2QixhQUFPTSxNQUFNQSxNQUFNbkIsTUFBTixHQUFhLENBQW5CLElBQXNCLEdBQTdCO0FBQ0QsS0FGRCxNQUVPO0FBQ0wsYUFBT21CLE1BQU1BLE1BQU1uQixNQUFOLEdBQWEsQ0FBbkIsQ0FBUDtBQUNEO0FBQ0YsR0F4RlE7QUEwRlRxQixXQTFGUyxxQkEwRkVSLElBMUZGLEVBMEZRO0FBQ2YsV0FBT0EsS0FBS0MsT0FBTCxDQUFhLE1BQWIsRUFBcUIsR0FBckIsRUFDS00sS0FETCxDQUNXLEdBRFgsRUFDZ0JFLEdBRGhCLENBQ29CQyxrQkFEcEIsRUFDd0NDLElBRHhDLENBQzZDLEdBRDdDLEVBRUtWLE9BRkwsQ0FFYSxJQUZiLEVBRW1CLEtBRm5CLENBQVA7QUFHRCxHQTlGUTtBQWdHVFcsU0FoR1MsbUJBZ0dBQyxNQWhHQSxFQWdHUTtBQUNmLFNBQUssSUFBSXBDLEdBQVQsSUFBZ0IsSUFBaEIsRUFBc0I7QUFDcEIsVUFBSSxPQUFPb0MsT0FBT3BDLEdBQVAsQ0FBUCxLQUF3QixVQUE1QixFQUF3QztBQUN0Q29DLGVBQU9wQyxHQUFQLElBQWNvQyxPQUFPcEMsR0FBUCxFQUFZcUMsSUFBWixDQUFpQkQsTUFBakIsQ0FBZDtBQUNEO0FBQ0Y7QUFDRixHQXRHUTtBQXdHVEUsT0F4R1MsaUJBd0dGQyxDQXhHRSxFQXdHQ0MsQ0F4R0QsRUF3R0lDLElBeEdKLEVBd0dVO0FBQ2pCLFFBQUl6QyxHQUFKO0FBQ0F5QyxXQUFPQSxRQUFRLEVBQWY7O0FBRUEsUUFBSSxRQUFPRixDQUFQLHlDQUFPQSxDQUFQLGVBQXFCQyxDQUFyQix5Q0FBcUJBLENBQXJCLEVBQUosRUFBNkI7QUFDM0IsYUFBTyxLQUFQO0FBQ0Q7O0FBRUQsUUFBSSxPQUFPRCxDQUFQLEtBQWMsUUFBZCxJQUEwQixPQUFPQSxDQUFQLEtBQWMsU0FBeEMsSUFBcUQsT0FBT0EsQ0FBUCxLQUFjLFFBQXZFLEVBQWlGO0FBQy9FLGFBQU9BLE1BQU1DLENBQWI7QUFDRDs7QUFFRCxRQUFJLE9BQU9ELENBQVAsS0FBYyxVQUFsQixFQUE4QjtBQUM1QixhQUFPQSxFQUFFL0QsUUFBRixPQUFpQmdFLEVBQUVoRSxRQUFGLEVBQXhCO0FBQ0Q7O0FBRUQsUUFBSStELGFBQWE5RCxXQUFiLElBQTRCK0QsYUFBYS9ELFdBQTdDLEVBQTBEO0FBQ3hEO0FBQ0E7QUFDQThELFVBQUksSUFBSUcsVUFBSixDQUFlSCxDQUFmLENBQUo7QUFDQUMsVUFBSSxJQUFJRSxVQUFKLENBQWVGLENBQWYsQ0FBSjtBQUNEOztBQUVEOztBQUVBLFFBQUlELGFBQWFqRSxLQUFqQixFQUF3QjtBQUN0QixVQUFJaUUsRUFBRTdCLE1BQUYsS0FBYThCLEVBQUU5QixNQUFuQixFQUEyQjtBQUN6QixlQUFPLEtBQVA7QUFDRDs7QUFFRCxXQUFLLElBQUlDLElBQUksQ0FBUixFQUFXZ0MsSUFBSUosRUFBRTdCLE1BQXRCLEVBQThCQyxJQUFJZ0MsQ0FBbEMsRUFBcUNoQyxHQUFyQyxFQUEwQztBQUN4QyxZQUFJLENBQUM5QixLQUFLeUQsS0FBTCxDQUFXQyxFQUFFNUIsQ0FBRixDQUFYLEVBQWlCNkIsRUFBRTdCLENBQUYsQ0FBakIsRUFBdUI4QixJQUF2QixDQUFMLEVBQW1DO0FBQ2pDLGlCQUFPLEtBQVA7QUFDRDtBQUNGO0FBQ0YsS0FWRCxNQVVPO0FBQ0w7QUFDQSxXQUFLekMsR0FBTCxJQUFZdUMsQ0FBWixFQUFlO0FBQ2IsWUFBSUEsRUFBRUssY0FBRixDQUFpQjVDLEdBQWpCLEtBQXlCLEVBQUVBLE9BQU93QyxDQUFULENBQTdCLEVBQTBDO0FBQ3hDLGlCQUFPLEtBQVA7QUFDRDtBQUNGOztBQUVEO0FBQ0EsV0FBS3hDLEdBQUwsSUFBWXdDLENBQVosRUFBZTtBQUNiLFlBQUksQ0FBQ0EsRUFBRUksY0FBRixDQUFpQjVDLEdBQWpCLENBQUwsRUFBNEI7QUFDMUI7QUFDRDs7QUFFRCxZQUFJLEVBQUVBLE9BQU91QyxDQUFULENBQUosRUFBaUI7QUFDZixpQkFBTyxLQUFQO0FBQ0Q7O0FBRUQsWUFBSU0sT0FBSjs7QUFFQSxZQUFJLFFBQU9MLEVBQUV4QyxHQUFGLENBQVAsTUFBbUIsUUFBdkIsRUFBaUM7QUFDL0IsY0FBSXlDLEtBQUtLLE9BQUwsQ0FBYU4sRUFBRXhDLEdBQUYsQ0FBYixLQUF3QixDQUE1QixFQUErQjtBQUM3QjtBQUNBO0FBQ0E7QUFDRDs7QUFFRDZDLG9CQUFVSixLQUFLOUMsS0FBTCxFQUFWO0FBQ0FrRCxrQkFBUUUsSUFBUixDQUFhUCxFQUFFeEMsR0FBRixDQUFiO0FBQ0Q7O0FBRUQsWUFBSSxDQUFDbkIsS0FBS3lELEtBQUwsQ0FBV0MsRUFBRXZDLEdBQUYsQ0FBWCxFQUFtQndDLEVBQUV4QyxHQUFGLENBQW5CLEVBQTJCNkMsT0FBM0IsQ0FBTCxFQUEwQztBQUN4QyxpQkFBTyxLQUFQO0FBQ0Q7QUFDRjtBQUNGOztBQUVELFdBQU8sSUFBUDtBQUNELEdBakxRO0FBbUxURyxVQW5MUyxvQkFtTENDLElBbkxELEVBbUxPQyxJQW5MUCxFQW1MYTtBQUNwQmxFLFlBQVFtRSxJQUFSLENBQWEscUVBQWI7QUFDQSxXQUFPdEUsS0FBS3lELEtBQUwsQ0FBV1csSUFBWCxFQUFpQkMsSUFBakIsQ0FBUDtBQUNELEdBdExRO0FBd0xURSxXQXhMUyxxQkF3TEVDLEdBeExGLEVBd0xPO0FBQ2QsUUFBSUMsS0FBSjtBQUNBLFFBQUlELFFBQVFFLFNBQVosRUFBdUI7QUFDckIsYUFBT0EsU0FBUDtBQUNELEtBRkQsTUFFTztBQUNMRCxjQUFRRSxLQUFLQyxLQUFMLENBQVdELEtBQUtFLFNBQUwsQ0FBZUwsR0FBZixDQUFYLENBQVI7QUFDQXJGLHNCQUFnQnFGLEdBQWhCLEVBQXFCQyxLQUFyQjtBQUNBLGFBQU9BLEtBQVA7QUFDRDtBQUNGLEdBak1RO0FBbU1USyxlQW5NUyx5QkFtTU1wQyxJQW5NTixFQW1NWTtBQUNuQixRQUFJcUMsUUFBUSxDQUFDckMsSUFBRCxDQUFaO0FBQ0EsUUFBSU0sUUFBUU4sS0FBS0MsT0FBTCxDQUFhLEtBQWIsRUFBb0IsRUFBcEIsRUFBd0JNLEtBQXhCLENBQThCLEdBQTlCLENBQVo7O0FBRUEsV0FBT0QsTUFBTW5CLE1BQU4sR0FBZSxDQUF0QixFQUF5QjtBQUN2Qm1CLFlBQU1nQyxHQUFOO0FBQ0FELFlBQU1iLElBQU4sQ0FBV2xCLE1BQU1LLElBQU4sQ0FBVyxHQUFYLElBQWdCLEdBQTNCO0FBQ0Q7QUFDRCxXQUFPMEIsS0FBUDtBQUNELEdBNU1ROzs7QUE4TVQ7QUFDQUUsUUEvTVMsa0JBK01EQyxHQS9NQyxFQStNSTtBQUNYO0FBQ0E7QUFDQTtBQUNBLGFBQVNDLFFBQVQsQ0FBa0JDLENBQWxCLEVBQXFCQyxDQUFyQixFQUF3QjtBQUN0QixVQUFJM0IsSUFBSTBCLEVBQUUsQ0FBRixDQUFSO0FBQUEsVUFBY3pCLElBQUl5QixFQUFFLENBQUYsQ0FBbEI7QUFBQSxVQUF3QnRCLElBQUlzQixFQUFFLENBQUYsQ0FBNUI7QUFBQSxVQUFrQ0UsSUFBSUYsRUFBRSxDQUFGLENBQXRDOztBQUVBMUIsVUFBSTZCLEdBQUc3QixDQUFILEVBQU1DLENBQU4sRUFBU0csQ0FBVCxFQUFZd0IsQ0FBWixFQUFlRCxFQUFFLENBQUYsQ0FBZixFQUFxQixDQUFyQixFQUF3QixDQUFDLFNBQXpCLENBQUo7QUFDQUMsVUFBSUMsR0FBR0QsQ0FBSCxFQUFNNUIsQ0FBTixFQUFTQyxDQUFULEVBQVlHLENBQVosRUFBZXVCLEVBQUUsQ0FBRixDQUFmLEVBQXFCLEVBQXJCLEVBQXlCLENBQUMsU0FBMUIsQ0FBSjtBQUNBdkIsVUFBSXlCLEdBQUd6QixDQUFILEVBQU13QixDQUFOLEVBQVM1QixDQUFULEVBQVlDLENBQVosRUFBZTBCLEVBQUUsQ0FBRixDQUFmLEVBQXFCLEVBQXJCLEVBQTBCLFNBQTFCLENBQUo7QUFDQTFCLFVBQUk0QixHQUFHNUIsQ0FBSCxFQUFNRyxDQUFOLEVBQVN3QixDQUFULEVBQVk1QixDQUFaLEVBQWUyQixFQUFFLENBQUYsQ0FBZixFQUFxQixFQUFyQixFQUF5QixDQUFDLFVBQTFCLENBQUo7QUFDQTNCLFVBQUk2QixHQUFHN0IsQ0FBSCxFQUFNQyxDQUFOLEVBQVNHLENBQVQsRUFBWXdCLENBQVosRUFBZUQsRUFBRSxDQUFGLENBQWYsRUFBcUIsQ0FBckIsRUFBd0IsQ0FBQyxTQUF6QixDQUFKO0FBQ0FDLFVBQUlDLEdBQUdELENBQUgsRUFBTTVCLENBQU4sRUFBU0MsQ0FBVCxFQUFZRyxDQUFaLEVBQWV1QixFQUFFLENBQUYsQ0FBZixFQUFxQixFQUFyQixFQUEwQixVQUExQixDQUFKO0FBQ0F2QixVQUFJeUIsR0FBR3pCLENBQUgsRUFBTXdCLENBQU4sRUFBUzVCLENBQVQsRUFBWUMsQ0FBWixFQUFlMEIsRUFBRSxDQUFGLENBQWYsRUFBcUIsRUFBckIsRUFBeUIsQ0FBQyxVQUExQixDQUFKO0FBQ0ExQixVQUFJNEIsR0FBRzVCLENBQUgsRUFBTUcsQ0FBTixFQUFTd0IsQ0FBVCxFQUFZNUIsQ0FBWixFQUFlMkIsRUFBRSxDQUFGLENBQWYsRUFBcUIsRUFBckIsRUFBeUIsQ0FBQyxRQUExQixDQUFKO0FBQ0EzQixVQUFJNkIsR0FBRzdCLENBQUgsRUFBTUMsQ0FBTixFQUFTRyxDQUFULEVBQVl3QixDQUFaLEVBQWVELEVBQUUsQ0FBRixDQUFmLEVBQXFCLENBQXJCLEVBQXlCLFVBQXpCLENBQUo7QUFDQUMsVUFBSUMsR0FBR0QsQ0FBSCxFQUFNNUIsQ0FBTixFQUFTQyxDQUFULEVBQVlHLENBQVosRUFBZXVCLEVBQUUsQ0FBRixDQUFmLEVBQXFCLEVBQXJCLEVBQXlCLENBQUMsVUFBMUIsQ0FBSjtBQUNBdkIsVUFBSXlCLEdBQUd6QixDQUFILEVBQU13QixDQUFOLEVBQVM1QixDQUFULEVBQVlDLENBQVosRUFBZTBCLEVBQUUsRUFBRixDQUFmLEVBQXNCLEVBQXRCLEVBQTBCLENBQUMsS0FBM0IsQ0FBSjtBQUNBMUIsVUFBSTRCLEdBQUc1QixDQUFILEVBQU1HLENBQU4sRUFBU3dCLENBQVQsRUFBWTVCLENBQVosRUFBZTJCLEVBQUUsRUFBRixDQUFmLEVBQXNCLEVBQXRCLEVBQTBCLENBQUMsVUFBM0IsQ0FBSjtBQUNBM0IsVUFBSTZCLEdBQUc3QixDQUFILEVBQU1DLENBQU4sRUFBU0csQ0FBVCxFQUFZd0IsQ0FBWixFQUFlRCxFQUFFLEVBQUYsQ0FBZixFQUFzQixDQUF0QixFQUEwQixVQUExQixDQUFKO0FBQ0FDLFVBQUlDLEdBQUdELENBQUgsRUFBTTVCLENBQU4sRUFBU0MsQ0FBVCxFQUFZRyxDQUFaLEVBQWV1QixFQUFFLEVBQUYsQ0FBZixFQUFzQixFQUF0QixFQUEwQixDQUFDLFFBQTNCLENBQUo7QUFDQXZCLFVBQUl5QixHQUFHekIsQ0FBSCxFQUFNd0IsQ0FBTixFQUFTNUIsQ0FBVCxFQUFZQyxDQUFaLEVBQWUwQixFQUFFLEVBQUYsQ0FBZixFQUFzQixFQUF0QixFQUEwQixDQUFDLFVBQTNCLENBQUo7QUFDQTFCLFVBQUk0QixHQUFHNUIsQ0FBSCxFQUFNRyxDQUFOLEVBQVN3QixDQUFULEVBQVk1QixDQUFaLEVBQWUyQixFQUFFLEVBQUYsQ0FBZixFQUFzQixFQUF0QixFQUEyQixVQUEzQixDQUFKOztBQUVBM0IsVUFBSThCLEdBQUc5QixDQUFILEVBQU1DLENBQU4sRUFBU0csQ0FBVCxFQUFZd0IsQ0FBWixFQUFlRCxFQUFFLENBQUYsQ0FBZixFQUFxQixDQUFyQixFQUF3QixDQUFDLFNBQXpCLENBQUo7QUFDQUMsVUFBSUUsR0FBR0YsQ0FBSCxFQUFNNUIsQ0FBTixFQUFTQyxDQUFULEVBQVlHLENBQVosRUFBZXVCLEVBQUUsQ0FBRixDQUFmLEVBQXFCLENBQXJCLEVBQXdCLENBQUMsVUFBekIsQ0FBSjtBQUNBdkIsVUFBSTBCLEdBQUcxQixDQUFILEVBQU13QixDQUFOLEVBQVM1QixDQUFULEVBQVlDLENBQVosRUFBZTBCLEVBQUUsRUFBRixDQUFmLEVBQXNCLEVBQXRCLEVBQTJCLFNBQTNCLENBQUo7QUFDQTFCLFVBQUk2QixHQUFHN0IsQ0FBSCxFQUFNRyxDQUFOLEVBQVN3QixDQUFULEVBQVk1QixDQUFaLEVBQWUyQixFQUFFLENBQUYsQ0FBZixFQUFxQixFQUFyQixFQUF5QixDQUFDLFNBQTFCLENBQUo7QUFDQTNCLFVBQUk4QixHQUFHOUIsQ0FBSCxFQUFNQyxDQUFOLEVBQVNHLENBQVQsRUFBWXdCLENBQVosRUFBZUQsRUFBRSxDQUFGLENBQWYsRUFBcUIsQ0FBckIsRUFBd0IsQ0FBQyxTQUF6QixDQUFKO0FBQ0FDLFVBQUlFLEdBQUdGLENBQUgsRUFBTTVCLENBQU4sRUFBU0MsQ0FBVCxFQUFZRyxDQUFaLEVBQWV1QixFQUFFLEVBQUYsQ0FBZixFQUFzQixDQUF0QixFQUEwQixRQUExQixDQUFKO0FBQ0F2QixVQUFJMEIsR0FBRzFCLENBQUgsRUFBTXdCLENBQU4sRUFBUzVCLENBQVQsRUFBWUMsQ0FBWixFQUFlMEIsRUFBRSxFQUFGLENBQWYsRUFBc0IsRUFBdEIsRUFBMEIsQ0FBQyxTQUEzQixDQUFKO0FBQ0ExQixVQUFJNkIsR0FBRzdCLENBQUgsRUFBTUcsQ0FBTixFQUFTd0IsQ0FBVCxFQUFZNUIsQ0FBWixFQUFlMkIsRUFBRSxDQUFGLENBQWYsRUFBcUIsRUFBckIsRUFBeUIsQ0FBQyxTQUExQixDQUFKO0FBQ0EzQixVQUFJOEIsR0FBRzlCLENBQUgsRUFBTUMsQ0FBTixFQUFTRyxDQUFULEVBQVl3QixDQUFaLEVBQWVELEVBQUUsQ0FBRixDQUFmLEVBQXFCLENBQXJCLEVBQXlCLFNBQXpCLENBQUo7QUFDQUMsVUFBSUUsR0FBR0YsQ0FBSCxFQUFNNUIsQ0FBTixFQUFTQyxDQUFULEVBQVlHLENBQVosRUFBZXVCLEVBQUUsRUFBRixDQUFmLEVBQXNCLENBQXRCLEVBQXlCLENBQUMsVUFBMUIsQ0FBSjtBQUNBdkIsVUFBSTBCLEdBQUcxQixDQUFILEVBQU13QixDQUFOLEVBQVM1QixDQUFULEVBQVlDLENBQVosRUFBZTBCLEVBQUUsQ0FBRixDQUFmLEVBQXFCLEVBQXJCLEVBQXlCLENBQUMsU0FBMUIsQ0FBSjtBQUNBMUIsVUFBSTZCLEdBQUc3QixDQUFILEVBQU1HLENBQU4sRUFBU3dCLENBQVQsRUFBWTVCLENBQVosRUFBZTJCLEVBQUUsQ0FBRixDQUFmLEVBQXFCLEVBQXJCLEVBQTBCLFVBQTFCLENBQUo7QUFDQTNCLFVBQUk4QixHQUFHOUIsQ0FBSCxFQUFNQyxDQUFOLEVBQVNHLENBQVQsRUFBWXdCLENBQVosRUFBZUQsRUFBRSxFQUFGLENBQWYsRUFBc0IsQ0FBdEIsRUFBeUIsQ0FBQyxVQUExQixDQUFKO0FBQ0FDLFVBQUlFLEdBQUdGLENBQUgsRUFBTTVCLENBQU4sRUFBU0MsQ0FBVCxFQUFZRyxDQUFaLEVBQWV1QixFQUFFLENBQUYsQ0FBZixFQUFxQixDQUFyQixFQUF3QixDQUFDLFFBQXpCLENBQUo7QUFDQXZCLFVBQUkwQixHQUFHMUIsQ0FBSCxFQUFNd0IsQ0FBTixFQUFTNUIsQ0FBVCxFQUFZQyxDQUFaLEVBQWUwQixFQUFFLENBQUYsQ0FBZixFQUFxQixFQUFyQixFQUEwQixVQUExQixDQUFKO0FBQ0ExQixVQUFJNkIsR0FBRzdCLENBQUgsRUFBTUcsQ0FBTixFQUFTd0IsQ0FBVCxFQUFZNUIsQ0FBWixFQUFlMkIsRUFBRSxFQUFGLENBQWYsRUFBc0IsRUFBdEIsRUFBMEIsQ0FBQyxVQUEzQixDQUFKOztBQUVBM0IsVUFBSStCLEdBQUcvQixDQUFILEVBQU1DLENBQU4sRUFBU0csQ0FBVCxFQUFZd0IsQ0FBWixFQUFlRCxFQUFFLENBQUYsQ0FBZixFQUFxQixDQUFyQixFQUF3QixDQUFDLE1BQXpCLENBQUo7QUFDQUMsVUFBSUcsR0FBR0gsQ0FBSCxFQUFNNUIsQ0FBTixFQUFTQyxDQUFULEVBQVlHLENBQVosRUFBZXVCLEVBQUUsQ0FBRixDQUFmLEVBQXFCLEVBQXJCLEVBQXlCLENBQUMsVUFBMUIsQ0FBSjtBQUNBdkIsVUFBSTJCLEdBQUczQixDQUFILEVBQU13QixDQUFOLEVBQVM1QixDQUFULEVBQVlDLENBQVosRUFBZTBCLEVBQUUsRUFBRixDQUFmLEVBQXNCLEVBQXRCLEVBQTJCLFVBQTNCLENBQUo7QUFDQTFCLFVBQUk4QixHQUFHOUIsQ0FBSCxFQUFNRyxDQUFOLEVBQVN3QixDQUFULEVBQVk1QixDQUFaLEVBQWUyQixFQUFFLEVBQUYsQ0FBZixFQUFzQixFQUF0QixFQUEwQixDQUFDLFFBQTNCLENBQUo7QUFDQTNCLFVBQUkrQixHQUFHL0IsQ0FBSCxFQUFNQyxDQUFOLEVBQVNHLENBQVQsRUFBWXdCLENBQVosRUFBZUQsRUFBRSxDQUFGLENBQWYsRUFBcUIsQ0FBckIsRUFBd0IsQ0FBQyxVQUF6QixDQUFKO0FBQ0FDLFVBQUlHLEdBQUdILENBQUgsRUFBTTVCLENBQU4sRUFBU0MsQ0FBVCxFQUFZRyxDQUFaLEVBQWV1QixFQUFFLENBQUYsQ0FBZixFQUFxQixFQUFyQixFQUEwQixVQUExQixDQUFKO0FBQ0F2QixVQUFJMkIsR0FBRzNCLENBQUgsRUFBTXdCLENBQU4sRUFBUzVCLENBQVQsRUFBWUMsQ0FBWixFQUFlMEIsRUFBRSxDQUFGLENBQWYsRUFBcUIsRUFBckIsRUFBeUIsQ0FBQyxTQUExQixDQUFKO0FBQ0ExQixVQUFJOEIsR0FBRzlCLENBQUgsRUFBTUcsQ0FBTixFQUFTd0IsQ0FBVCxFQUFZNUIsQ0FBWixFQUFlMkIsRUFBRSxFQUFGLENBQWYsRUFBc0IsRUFBdEIsRUFBMEIsQ0FBQyxVQUEzQixDQUFKO0FBQ0EzQixVQUFJK0IsR0FBRy9CLENBQUgsRUFBTUMsQ0FBTixFQUFTRyxDQUFULEVBQVl3QixDQUFaLEVBQWVELEVBQUUsRUFBRixDQUFmLEVBQXNCLENBQXRCLEVBQTBCLFNBQTFCLENBQUo7QUFDQUMsVUFBSUcsR0FBR0gsQ0FBSCxFQUFNNUIsQ0FBTixFQUFTQyxDQUFULEVBQVlHLENBQVosRUFBZXVCLEVBQUUsQ0FBRixDQUFmLEVBQXFCLEVBQXJCLEVBQXlCLENBQUMsU0FBMUIsQ0FBSjtBQUNBdkIsVUFBSTJCLEdBQUczQixDQUFILEVBQU13QixDQUFOLEVBQVM1QixDQUFULEVBQVlDLENBQVosRUFBZTBCLEVBQUUsQ0FBRixDQUFmLEVBQXFCLEVBQXJCLEVBQXlCLENBQUMsU0FBMUIsQ0FBSjtBQUNBMUIsVUFBSThCLEdBQUc5QixDQUFILEVBQU1HLENBQU4sRUFBU3dCLENBQVQsRUFBWTVCLENBQVosRUFBZTJCLEVBQUUsQ0FBRixDQUFmLEVBQXFCLEVBQXJCLEVBQTBCLFFBQTFCLENBQUo7QUFDQTNCLFVBQUkrQixHQUFHL0IsQ0FBSCxFQUFNQyxDQUFOLEVBQVNHLENBQVQsRUFBWXdCLENBQVosRUFBZUQsRUFBRSxDQUFGLENBQWYsRUFBcUIsQ0FBckIsRUFBd0IsQ0FBQyxTQUF6QixDQUFKO0FBQ0FDLFVBQUlHLEdBQUdILENBQUgsRUFBTTVCLENBQU4sRUFBU0MsQ0FBVCxFQUFZRyxDQUFaLEVBQWV1QixFQUFFLEVBQUYsQ0FBZixFQUFzQixFQUF0QixFQUEwQixDQUFDLFNBQTNCLENBQUo7QUFDQXZCLFVBQUkyQixHQUFHM0IsQ0FBSCxFQUFNd0IsQ0FBTixFQUFTNUIsQ0FBVCxFQUFZQyxDQUFaLEVBQWUwQixFQUFFLEVBQUYsQ0FBZixFQUFzQixFQUF0QixFQUEyQixTQUEzQixDQUFKO0FBQ0ExQixVQUFJOEIsR0FBRzlCLENBQUgsRUFBTUcsQ0FBTixFQUFTd0IsQ0FBVCxFQUFZNUIsQ0FBWixFQUFlMkIsRUFBRSxDQUFGLENBQWYsRUFBcUIsRUFBckIsRUFBeUIsQ0FBQyxTQUExQixDQUFKOztBQUVBM0IsVUFBSWdDLEdBQUdoQyxDQUFILEVBQU1DLENBQU4sRUFBU0csQ0FBVCxFQUFZd0IsQ0FBWixFQUFlRCxFQUFFLENBQUYsQ0FBZixFQUFxQixDQUFyQixFQUF3QixDQUFDLFNBQXpCLENBQUo7QUFDQUMsVUFBSUksR0FBR0osQ0FBSCxFQUFNNUIsQ0FBTixFQUFTQyxDQUFULEVBQVlHLENBQVosRUFBZXVCLEVBQUUsQ0FBRixDQUFmLEVBQXFCLEVBQXJCLEVBQTBCLFVBQTFCLENBQUo7QUFDQXZCLFVBQUk0QixHQUFHNUIsQ0FBSCxFQUFNd0IsQ0FBTixFQUFTNUIsQ0FBVCxFQUFZQyxDQUFaLEVBQWUwQixFQUFFLEVBQUYsQ0FBZixFQUFzQixFQUF0QixFQUEwQixDQUFDLFVBQTNCLENBQUo7QUFDQTFCLFVBQUkrQixHQUFHL0IsQ0FBSCxFQUFNRyxDQUFOLEVBQVN3QixDQUFULEVBQVk1QixDQUFaLEVBQWUyQixFQUFFLENBQUYsQ0FBZixFQUFxQixFQUFyQixFQUF5QixDQUFDLFFBQTFCLENBQUo7QUFDQTNCLFVBQUlnQyxHQUFHaEMsQ0FBSCxFQUFNQyxDQUFOLEVBQVNHLENBQVQsRUFBWXdCLENBQVosRUFBZUQsRUFBRSxFQUFGLENBQWYsRUFBc0IsQ0FBdEIsRUFBMEIsVUFBMUIsQ0FBSjtBQUNBQyxVQUFJSSxHQUFHSixDQUFILEVBQU01QixDQUFOLEVBQVNDLENBQVQsRUFBWUcsQ0FBWixFQUFldUIsRUFBRSxDQUFGLENBQWYsRUFBcUIsRUFBckIsRUFBeUIsQ0FBQyxVQUExQixDQUFKO0FBQ0F2QixVQUFJNEIsR0FBRzVCLENBQUgsRUFBTXdCLENBQU4sRUFBUzVCLENBQVQsRUFBWUMsQ0FBWixFQUFlMEIsRUFBRSxFQUFGLENBQWYsRUFBc0IsRUFBdEIsRUFBMEIsQ0FBQyxPQUEzQixDQUFKO0FBQ0ExQixVQUFJK0IsR0FBRy9CLENBQUgsRUFBTUcsQ0FBTixFQUFTd0IsQ0FBVCxFQUFZNUIsQ0FBWixFQUFlMkIsRUFBRSxDQUFGLENBQWYsRUFBcUIsRUFBckIsRUFBeUIsQ0FBQyxVQUExQixDQUFKO0FBQ0EzQixVQUFJZ0MsR0FBR2hDLENBQUgsRUFBTUMsQ0FBTixFQUFTRyxDQUFULEVBQVl3QixDQUFaLEVBQWVELEVBQUUsQ0FBRixDQUFmLEVBQXFCLENBQXJCLEVBQXlCLFVBQXpCLENBQUo7QUFDQUMsVUFBSUksR0FBR0osQ0FBSCxFQUFNNUIsQ0FBTixFQUFTQyxDQUFULEVBQVlHLENBQVosRUFBZXVCLEVBQUUsRUFBRixDQUFmLEVBQXNCLEVBQXRCLEVBQTBCLENBQUMsUUFBM0IsQ0FBSjtBQUNBdkIsVUFBSTRCLEdBQUc1QixDQUFILEVBQU13QixDQUFOLEVBQVM1QixDQUFULEVBQVlDLENBQVosRUFBZTBCLEVBQUUsQ0FBRixDQUFmLEVBQXFCLEVBQXJCLEVBQXlCLENBQUMsVUFBMUIsQ0FBSjtBQUNBMUIsVUFBSStCLEdBQUcvQixDQUFILEVBQU1HLENBQU4sRUFBU3dCLENBQVQsRUFBWTVCLENBQVosRUFBZTJCLEVBQUUsRUFBRixDQUFmLEVBQXNCLEVBQXRCLEVBQTJCLFVBQTNCLENBQUo7QUFDQTNCLFVBQUlnQyxHQUFHaEMsQ0FBSCxFQUFNQyxDQUFOLEVBQVNHLENBQVQsRUFBWXdCLENBQVosRUFBZUQsRUFBRSxDQUFGLENBQWYsRUFBcUIsQ0FBckIsRUFBd0IsQ0FBQyxTQUF6QixDQUFKO0FBQ0FDLFVBQUlJLEdBQUdKLENBQUgsRUFBTTVCLENBQU4sRUFBU0MsQ0FBVCxFQUFZRyxDQUFaLEVBQWV1QixFQUFFLEVBQUYsQ0FBZixFQUFzQixFQUF0QixFQUEwQixDQUFDLFVBQTNCLENBQUo7QUFDQXZCLFVBQUk0QixHQUFHNUIsQ0FBSCxFQUFNd0IsQ0FBTixFQUFTNUIsQ0FBVCxFQUFZQyxDQUFaLEVBQWUwQixFQUFFLENBQUYsQ0FBZixFQUFxQixFQUFyQixFQUEwQixTQUExQixDQUFKO0FBQ0ExQixVQUFJK0IsR0FBRy9CLENBQUgsRUFBTUcsQ0FBTixFQUFTd0IsQ0FBVCxFQUFZNUIsQ0FBWixFQUFlMkIsRUFBRSxDQUFGLENBQWYsRUFBcUIsRUFBckIsRUFBeUIsQ0FBQyxTQUExQixDQUFKOztBQUVBRCxRQUFFLENBQUYsSUFBT08sTUFBTWpDLENBQU4sRUFBUzBCLEVBQUUsQ0FBRixDQUFULENBQVA7QUFDQUEsUUFBRSxDQUFGLElBQU9PLE1BQU1oQyxDQUFOLEVBQVN5QixFQUFFLENBQUYsQ0FBVCxDQUFQO0FBQ0FBLFFBQUUsQ0FBRixJQUFPTyxNQUFNN0IsQ0FBTixFQUFTc0IsRUFBRSxDQUFGLENBQVQsQ0FBUDtBQUNBQSxRQUFFLENBQUYsSUFBT08sTUFBTUwsQ0FBTixFQUFTRixFQUFFLENBQUYsQ0FBVCxDQUFQO0FBRUQ7O0FBRUQsYUFBU1EsR0FBVCxDQUFhQyxDQUFiLEVBQWdCbkMsQ0FBaEIsRUFBbUJDLENBQW5CLEVBQXNCeUIsQ0FBdEIsRUFBeUJVLENBQXpCLEVBQTRCQyxDQUE1QixFQUErQjtBQUM3QnJDLFVBQUlpQyxNQUFNQSxNQUFNakMsQ0FBTixFQUFTbUMsQ0FBVCxDQUFOLEVBQW1CRixNQUFNUCxDQUFOLEVBQVNXLENBQVQsQ0FBbkIsQ0FBSjtBQUNBLGFBQU9KLE1BQU9qQyxLQUFLb0MsQ0FBTixHQUFZcEMsTUFBTyxLQUFLb0MsQ0FBOUIsRUFBbUNuQyxDQUFuQyxDQUFQO0FBQ0Q7O0FBRUQsYUFBUzRCLEVBQVQsQ0FBWTdCLENBQVosRUFBZUMsQ0FBZixFQUFrQkcsQ0FBbEIsRUFBcUJ3QixDQUFyQixFQUF3QkYsQ0FBeEIsRUFBMkJVLENBQTNCLEVBQThCQyxDQUE5QixFQUFpQztBQUMvQixhQUFPSCxJQUFLakMsSUFBSUcsQ0FBTCxHQUFZLENBQUNILENBQUYsR0FBTzJCLENBQXRCLEVBQTBCNUIsQ0FBMUIsRUFBNkJDLENBQTdCLEVBQWdDeUIsQ0FBaEMsRUFBbUNVLENBQW5DLEVBQXNDQyxDQUF0QyxDQUFQO0FBQ0Q7O0FBRUQsYUFBU1AsRUFBVCxDQUFZOUIsQ0FBWixFQUFlQyxDQUFmLEVBQWtCRyxDQUFsQixFQUFxQndCLENBQXJCLEVBQXdCRixDQUF4QixFQUEyQlUsQ0FBM0IsRUFBOEJDLENBQTlCLEVBQWlDO0FBQy9CLGFBQU9ILElBQUtqQyxJQUFJMkIsQ0FBTCxHQUFXeEIsSUFBSyxDQUFDd0IsQ0FBckIsRUFBMEI1QixDQUExQixFQUE2QkMsQ0FBN0IsRUFBZ0N5QixDQUFoQyxFQUFtQ1UsQ0FBbkMsRUFBc0NDLENBQXRDLENBQVA7QUFDRDs7QUFFRCxhQUFTTixFQUFULENBQVkvQixDQUFaLEVBQWVDLENBQWYsRUFBa0JHLENBQWxCLEVBQXFCd0IsQ0FBckIsRUFBd0JGLENBQXhCLEVBQTJCVSxDQUEzQixFQUE4QkMsQ0FBOUIsRUFBaUM7QUFDL0IsYUFBT0gsSUFBSWpDLElBQUlHLENBQUosR0FBUXdCLENBQVosRUFBZTVCLENBQWYsRUFBa0JDLENBQWxCLEVBQXFCeUIsQ0FBckIsRUFBd0JVLENBQXhCLEVBQTJCQyxDQUEzQixDQUFQO0FBQ0Q7O0FBRUQsYUFBU0wsRUFBVCxDQUFZaEMsQ0FBWixFQUFlQyxDQUFmLEVBQWtCRyxDQUFsQixFQUFxQndCLENBQXJCLEVBQXdCRixDQUF4QixFQUEyQlUsQ0FBM0IsRUFBOEJDLENBQTlCLEVBQWlDO0FBQy9CLGFBQU9ILElBQUk5QixLQUFLSCxJQUFLLENBQUMyQixDQUFYLENBQUosRUFBb0I1QixDQUFwQixFQUF1QkMsQ0FBdkIsRUFBMEJ5QixDQUExQixFQUE2QlUsQ0FBN0IsRUFBZ0NDLENBQWhDLENBQVA7QUFDRDs7QUFFRCxhQUFTQyxJQUFULENBQWNGLENBQWQsRUFBaUI7QUFDZkcsWUFBTSxFQUFOO0FBQ0EsVUFBSXJFLElBQUlrRSxFQUFFakUsTUFBVjtBQUFBLFVBQ0lxRSxRQUFRLENBQUMsVUFBRCxFQUFhLENBQUMsU0FBZCxFQUF5QixDQUFDLFVBQTFCLEVBQXNDLFNBQXRDLENBRFo7QUFBQSxVQUM4RHBFLENBRDlEO0FBRUEsV0FBS0EsSUFBRSxFQUFQLEVBQVdBLEtBQUdnRSxFQUFFakUsTUFBaEIsRUFBd0JDLEtBQUcsRUFBM0IsRUFBK0I7QUFDN0JxRCxpQkFBU2UsS0FBVCxFQUFnQkMsT0FBT0wsRUFBRU0sU0FBRixDQUFZdEUsSUFBRSxFQUFkLEVBQWtCQSxDQUFsQixDQUFQLENBQWhCO0FBQ0Q7QUFDRGdFLFVBQUlBLEVBQUVNLFNBQUYsQ0FBWXRFLElBQUUsRUFBZCxDQUFKO0FBQ0EsVUFBSXVFLE9BQU8sQ0FBQyxDQUFELEVBQUcsQ0FBSCxFQUFLLENBQUwsRUFBTyxDQUFQLEVBQVUsQ0FBVixFQUFZLENBQVosRUFBYyxDQUFkLEVBQWdCLENBQWhCLEVBQW1CLENBQW5CLEVBQXFCLENBQXJCLEVBQXVCLENBQXZCLEVBQXlCLENBQXpCLEVBQTRCLENBQTVCLEVBQThCLENBQTlCLEVBQWdDLENBQWhDLEVBQWtDLENBQWxDLENBQVg7QUFDQSxXQUFLdkUsSUFBRSxDQUFQLEVBQVVBLElBQUVnRSxFQUFFakUsTUFBZCxFQUFzQkMsR0FBdEI7QUFDRXVFLGFBQUt2RSxLQUFHLENBQVIsS0FBY2dFLEVBQUVRLFVBQUYsQ0FBYXhFLENBQWIsTUFBcUJBLElBQUUsQ0FBSCxJQUFTLENBQTdCLENBQWQ7QUFERixPQUVBdUUsS0FBS3ZFLEtBQUcsQ0FBUixLQUFjLFNBQVVBLElBQUUsQ0FBSCxJQUFTLENBQWxCLENBQWQ7QUFDQSxVQUFJQSxJQUFJLEVBQVIsRUFBWTtBQUNWcUQsaUJBQVNlLEtBQVQsRUFBZ0JHLElBQWhCO0FBQ0EsYUFBS3ZFLElBQUUsQ0FBUCxFQUFVQSxJQUFFLEVBQVosRUFBZ0JBLEdBQWhCO0FBQXFCdUUsZUFBS3ZFLENBQUwsSUFBVSxDQUFWO0FBQXJCO0FBQ0Q7QUFDRHVFLFdBQUssRUFBTCxJQUFXekUsSUFBRSxDQUFiO0FBQ0F1RCxlQUFTZSxLQUFULEVBQWdCRyxJQUFoQjtBQUNBLGFBQU9ILEtBQVA7QUFDRDs7QUFFRCxhQUFTQyxNQUFULENBQWdCTCxDQUFoQixFQUFtQjtBQUNqQixVQUFJUyxVQUFVLEVBQWQ7QUFBQSxVQUFrQnpFLENBQWxCO0FBQ0EsV0FBS0EsSUFBRSxDQUFQLEVBQVVBLElBQUUsRUFBWixFQUFnQkEsS0FBRyxDQUFuQixFQUFzQjtBQUNwQnlFLGdCQUFRekUsS0FBRyxDQUFYLElBQWdCZ0UsRUFBRVEsVUFBRixDQUFheEUsQ0FBYixLQUFtQmdFLEVBQUVRLFVBQUYsQ0FBYXhFLElBQUUsQ0FBZixLQUFxQixDQUF4QyxLQUE4Q2dFLEVBQUVRLFVBQUYsQ0FBYXhFLElBQUUsQ0FBZixLQUFxQixFQUFuRSxLQUEwRWdFLEVBQUVRLFVBQUYsQ0FBYXhFLElBQUUsQ0FBZixLQUFxQixFQUEvRixDQUFoQjtBQUNEO0FBQ0QsYUFBT3lFLE9BQVA7QUFDRDs7QUFFRCxRQUFJQyxVQUFVLG1CQUFtQnZELEtBQW5CLENBQXlCLEVBQXpCLENBQWQ7O0FBRUEsYUFBU3dELElBQVQsQ0FBYzdFLENBQWQsRUFDQTtBQUNFLFVBQUlrRSxJQUFFLEVBQU47QUFBQSxVQUFVWSxJQUFFLENBQVo7QUFDQSxhQUFNQSxJQUFFLENBQVIsRUFBV0EsR0FBWDtBQUNFWixhQUFLVSxRQUFTNUUsS0FBTThFLElBQUksQ0FBSixHQUFRLENBQWYsR0FBcUIsSUFBN0IsSUFBcUNGLFFBQVM1RSxLQUFNOEUsSUFBSSxDQUFYLEdBQWlCLElBQXpCLENBQTFDO0FBREYsT0FFQSxPQUFPWixDQUFQO0FBQ0Q7O0FBRUQsYUFBU2EsR0FBVCxDQUFhdkIsQ0FBYixFQUFnQjtBQUNkLFdBQUssSUFBSXRELElBQUUsQ0FBWCxFQUFjQSxJQUFFc0QsRUFBRXZELE1BQWxCLEVBQTBCQyxHQUExQjtBQUNFc0QsVUFBRXRELENBQUYsSUFBTzJFLEtBQUtyQixFQUFFdEQsQ0FBRixDQUFMLENBQVA7QUFERixPQUVBLE9BQU9zRCxFQUFFL0IsSUFBRixDQUFPLEVBQVAsQ0FBUDtBQUNEOztBQUVELGFBQVN1RCxHQUFULENBQWFkLENBQWIsRUFBZ0I7QUFDZCxhQUFPYSxJQUFJWCxLQUFLRixDQUFMLENBQUosQ0FBUDtBQUNEOztBQUVELFFBQUlILFFBQVEsZUFBVWpDLENBQVYsRUFBYUMsQ0FBYixFQUFnQjtBQUMxQixhQUFRRCxJQUFJQyxDQUFMLEdBQVUsVUFBakI7QUFDRCxLQUZEOztBQUlBLFFBQUlpRCxJQUFJLE9BQUosTUFBaUIsa0NBQXJCLEVBQXlEO0FBQ3ZEakIsY0FBUSxlQUFVUCxDQUFWLEVBQWF5QixDQUFiLEVBQWdCO0FBQ3RCLFlBQUlDLE1BQU0sQ0FBQzFCLElBQUksTUFBTCxLQUFnQnlCLElBQUksTUFBcEIsQ0FBVjtBQUFBLFlBQ0lFLE1BQU0sQ0FBQzNCLEtBQUssRUFBTixLQUFheUIsS0FBSyxFQUFsQixLQUF5QkMsT0FBTyxFQUFoQyxDQURWO0FBRUEsZUFBUUMsT0FBTyxFQUFSLEdBQWVELE1BQU0sTUFBNUI7QUFDRCxPQUpEO0FBS0Q7O0FBRUQsV0FBT0YsSUFBSTFCLEdBQUosQ0FBUDtBQUNELEdBcFhROztBQXFYVDs7QUFHQThCLHVCQXhYUyxtQ0F3WGdCO0FBQ3ZCLFFBQU1DLFVBQVVqSCxLQUFLUyxnQkFBTCxFQUFoQjs7QUFFQSxRQUFJLEVBQUUsa0JBQWtCd0csT0FBcEIsQ0FBSixFQUFrQztBQUFFLGFBQU8sS0FBUDtBQUFlOztBQUVuRCxRQUFJO0FBQ0ZBLGNBQVFDLFlBQVIsQ0FBcUJDLE9BQXJCLENBQTZCLFVBQTdCLEVBQXlDLENBQXpDO0FBQ0FGLGNBQVFDLFlBQVIsQ0FBcUJFLFVBQXJCLENBQWdDLFVBQWhDO0FBQ0EsYUFBTyxJQUFQO0FBQ0QsS0FKRCxDQUlFLE9BQU1sSCxLQUFOLEVBQWE7QUFDYixhQUFPLEtBQVA7QUFDRDtBQUNGO0FBcFlRLENBQVg7O0FBd1lBbUgsT0FBT0MsT0FBUCxHQUFpQnRILElBQWpCLEMiLCJmaWxlIjoiMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIFJldXNhYmxlIHV0aWxpdHkgZnVuY3Rpb25zXG5cblxuICAvKipcbiAgICogRnVuY3Rpb246IGZpeEFycmF5QnVmZmVyc1xuICAgKlxuICAgKiBUYWtlcyBhbiBvYmplY3QgYW5kIGl0cyBjb3B5IGFzIHByb2R1Y2VkIGJ5IHRoZSBfZGVlcENsb25lIGZ1bmN0aW9uXG4gICAqIGJlbG93LCBhbmQgZmluZHMgYW5kIGZpeGVzIGFueSBBcnJheUJ1ZmZlcnMgdGhhdCB3ZXJlIGNhc3QgdG8gYHt9YCBpbnN0ZWFkXG4gICAqIG9mIGJlaW5nIGNsb25lZCB0byBuZXcgQXJyYXlCdWZmZXJzIHdpdGggdGhlIHNhbWUgY29udGVudC5cbiAgICpcbiAgICogSXQgcmVjdXJzZXMgaW50byBzdWItb2JqZWN0cywgYnV0IHNraXBzIGFycmF5cyBpZiB0aGV5IG9jY3VyLlxuICAgKi9cbiAgZnVuY3Rpb24gZml4QXJyYXlCdWZmZXJzKHNyY09iaiwgZHN0T2JqKSB7XG4gICAgdmFyIGZpZWxkLCBzcmNBcnIsIGRzdEFycjtcbiAgICBpZiAodHlwZW9mKHNyY09iaikgIT09ICdvYmplY3QnIHx8IEFycmF5LmlzQXJyYXkoc3JjT2JqKSB8fCBzcmNPYmogPT09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yIChmaWVsZCBpbiBzcmNPYmopIHtcbiAgICAgIGlmICh0eXBlb2Yoc3JjT2JqW2ZpZWxkXSkgPT09ICdvYmplY3QnICYmIHNyY09ialtmaWVsZF0gIT09IG51bGwpIHtcbiAgICAgICAgaWYgKHNyY09ialtmaWVsZF0udG9TdHJpbmcoKSA9PT0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJykge1xuICAgICAgICAgIGRzdE9ialtmaWVsZF0gPSBuZXcgQXJyYXlCdWZmZXIoc3JjT2JqW2ZpZWxkXS5ieXRlTGVuZ3RoKTtcbiAgICAgICAgICBzcmNBcnIgPSBuZXcgSW50OEFycmF5KHNyY09ialtmaWVsZF0pO1xuICAgICAgICAgIGRzdEFyciA9IG5ldyBJbnQ4QXJyYXkoZHN0T2JqW2ZpZWxkXSk7XG4gICAgICAgICAgZHN0QXJyLnNldChzcmNBcnIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZpeEFycmF5QnVmZmVycyhzcmNPYmpbZmllbGRdLCBkc3RPYmpbZmllbGRdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHZhciB1dGlsID0ge1xuICAgIGxvZ0Vycm9yKGVycm9yKSB7XG4gICAgICBpZiAodHlwZW9mKGVycm9yKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLm1lc3NhZ2UsIGVycm9yLnN0YWNrKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgZ2xvYmFsQ29udGV4dDogKHR5cGVvZih3aW5kb3cpICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IGdsb2JhbCksXG5cbiAgICBnZXRHbG9iYWxDb250ZXh0ICgpIHtcbiAgICAgIHJldHVybiAodHlwZW9mKHdpbmRvdykgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogZ2xvYmFsKTtcbiAgICB9LFxuXG4gICAgZXh0ZW5kICh0YXJnZXQpIHtcbiAgICAgIHZhciBzb3VyY2VzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgIHNvdXJjZXMuZm9yRWFjaChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfSxcblxuICAgIGFzeW5jRWFjaCAoYXJyYXksIGNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gdGhpcy5hc3luY01hcChhcnJheSwgY2FsbGJhY2spLlxuICAgICAgICB0aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGFycmF5OyB9KTtcbiAgICB9LFxuXG4gICAgYXN5bmNNYXAgKGFycmF5LCBjYWxsYmFjaykge1xuICAgICAgdmFyIHBlbmRpbmcgPSBQcm9taXNlLmRlZmVyKCk7XG4gICAgICB2YXIgbiA9IGFycmF5Lmxlbmd0aCwgaSA9IDA7XG4gICAgICB2YXIgcmVzdWx0cyA9IFtdLCBlcnJvcnMgPSBbXTtcblxuICAgICAgZnVuY3Rpb24gb25lRG9uZSgpIHtcbiAgICAgICAgaSsrO1xuICAgICAgICBpZiAoaSA9PT0gbikge1xuICAgICAgICAgIHBlbmRpbmcucmVzb2x2ZShyZXN1bHRzLCBlcnJvcnMpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGFycmF5LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmVzdWx0ID0gY2FsbGJhY2soaXRlbSk7XG4gICAgICAgIH0gY2F0Y2goZXhjKSB7XG4gICAgICAgICAgb25lRG9uZSgpO1xuICAgICAgICAgIGVycm9yc1tpbmRleF0gPSBleGM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZihyZXN1bHQpID09PSAnb2JqZWN0JyAmJiB0eXBlb2YocmVzdWx0LnRoZW4pID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgcmVzdWx0LnRoZW4oZnVuY3Rpb24gKHJlcykgeyByZXN1bHRzW2luZGV4XSA9IHJlczsgb25lRG9uZSgpOyB9LFxuICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlcnJvcikgeyBlcnJvcnNbaW5kZXhdID0gZXJyb3I7IG9uZURvbmUoKTsgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb25lRG9uZSgpO1xuICAgICAgICAgIHJlc3VsdHNbaW5kZXhdID0gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHBlbmRpbmcucHJvbWlzZTtcbiAgICB9LFxuXG4gICAgY29udGFpbmluZ0ZvbGRlciAocGF0aCkge1xuICAgICAgaWYgKHBhdGggPT09ICcnKSB7XG4gICAgICAgIHJldHVybiAnLyc7XG4gICAgICB9XG4gICAgICBpZiAoISBwYXRoKSB7XG4gICAgICAgIHRocm93IFwiUGF0aCBub3QgZ2l2ZW4hXCI7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwYXRoLnJlcGxhY2UoL1xcLysvZywgJy8nKS5yZXBsYWNlKC9bXlxcL10rXFwvPyQvLCAnJyk7XG4gICAgfSxcblxuICAgIGlzRm9sZGVyIChwYXRoKSB7XG4gICAgICByZXR1cm4gcGF0aC5zdWJzdHIoLTEpID09PSAnLyc7XG4gICAgfSxcblxuICAgIGlzRG9jdW1lbnQgKHBhdGgpIHtcbiAgICAgIHJldHVybiAhdXRpbC5pc0ZvbGRlcihwYXRoKTtcbiAgICB9LFxuXG4gICAgYmFzZU5hbWUgKHBhdGgpIHtcbiAgICAgIHZhciBwYXJ0cyA9IHBhdGguc3BsaXQoJy8nKTtcbiAgICAgIGlmICh1dGlsLmlzRm9sZGVyKHBhdGgpKSB7XG4gICAgICAgIHJldHVybiBwYXJ0c1twYXJ0cy5sZW5ndGgtMl0rJy8nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHBhcnRzW3BhcnRzLmxlbmd0aC0xXTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgY2xlYW5QYXRoIChwYXRoKSB7XG4gICAgICByZXR1cm4gcGF0aC5yZXBsYWNlKC9cXC8rL2csICcvJylcbiAgICAgICAgICAgICAgICAgLnNwbGl0KCcvJykubWFwKGVuY29kZVVSSUNvbXBvbmVudCkuam9pbignLycpXG4gICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8nL2csICclMjcnKTtcbiAgICB9LFxuXG4gICAgYmluZEFsbCAob2JqZWN0KSB7XG4gICAgICBmb3IgKHZhciBrZXkgaW4gdGhpcykge1xuICAgICAgICBpZiAodHlwZW9mKG9iamVjdFtrZXldKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIG9iamVjdFtrZXldID0gb2JqZWN0W2tleV0uYmluZChvYmplY3QpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIGVxdWFsIChhLCBiLCBzZWVuKSB7XG4gICAgICB2YXIga2V5O1xuICAgICAgc2VlbiA9IHNlZW4gfHwgW107XG5cbiAgICAgIGlmICh0eXBlb2YoYSkgIT09IHR5cGVvZihiKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YoYSkgPT09ICdudW1iZXInIHx8IHR5cGVvZihhKSA9PT0gJ2Jvb2xlYW4nIHx8IHR5cGVvZihhKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGEgPT09IGI7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YoYSkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIGEudG9TdHJpbmcoKSA9PT0gYi50b1N0cmluZygpO1xuICAgICAgfVxuXG4gICAgICBpZiAoYSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyICYmIGIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgICAvLyBXaXRob3V0IHRoZSBmb2xsb3dpbmcgY29udmVyc2lvbiB0aGUgYnJvd3NlcnMgd291bGRuJ3QgYmUgYWJsZSB0b1xuICAgICAgICAvLyB0ZWxsIHRoZSBBcnJheUJ1ZmZlciBpbnN0YW5jZXMgYXBhcnQuXG4gICAgICAgIGEgPSBuZXcgVWludDhBcnJheShhKTtcbiAgICAgICAgYiA9IG5ldyBVaW50OEFycmF5KGIpO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiB0aGlzIHBvaW50IGhhcyBiZWVuIHJlYWNoZWQsIGEgYW5kIGIgYXJlIGVpdGhlciBhcnJheXMgb3Igb2JqZWN0cy5cblxuICAgICAgaWYgKGEgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGMgPSBhLmxlbmd0aDsgaSA8IGM7IGkrKykge1xuICAgICAgICAgIGlmICghdXRpbC5lcXVhbChhW2ldLCBiW2ldLCBzZWVuKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQ2hlY2sgdGhhdCBrZXlzIGZyb20gYSBleGlzdCBpbiBiXG4gICAgICAgIGZvciAoa2V5IGluIGEpIHtcbiAgICAgICAgICBpZiAoYS5oYXNPd25Qcm9wZXJ0eShrZXkpICYmICEoa2V5IGluIGIpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgdGhhdCBrZXlzIGZyb20gYiBleGlzdCBpbiBhLCBhbmQgY29tcGFyZSB0aGUgdmFsdWVzXG4gICAgICAgIGZvciAoa2V5IGluIGIpIHtcbiAgICAgICAgICBpZiAoIWIuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCEoa2V5IGluIGEpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHNlZW5Bcmc7XG5cbiAgICAgICAgICBpZiAodHlwZW9mKGJba2V5XSkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBpZiAoc2Vlbi5pbmRleE9mKGJba2V5XSkgPj0gMCkge1xuICAgICAgICAgICAgICAvLyBDaXJjdWxhciByZWZlcmVuY2UsIGRvbid0IGF0dGVtcHQgdG8gY29tcGFyZSB0aGlzIG9iamVjdC5cbiAgICAgICAgICAgICAgLy8gSWYgbm90aGluZyBlbHNlIHJldHVybnMgZmFsc2UsIHRoZSBvYmplY3RzIG1hdGNoLlxuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2VlbkFyZyA9IHNlZW4uc2xpY2UoKTtcbiAgICAgICAgICAgIHNlZW5BcmcucHVzaChiW2tleV0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghdXRpbC5lcXVhbChhW2tleV0sIGJba2V5XSwgc2VlbkFyZykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIGVxdWFsT2JqIChvYmoxLCBvYmoyKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0RFUFJFQ0FUSU9OIFdBUk5JTkc6IHV0aWwuZXF1YWxPYmogaGFzIGJlZW4gcmVwbGFjZWQgYnkgdXRpbC5lcXVhbC4nKTtcbiAgICAgIHJldHVybiB1dGlsLmVxdWFsKG9iajEsIG9iajIpO1xuICAgIH0sXG5cbiAgICBkZWVwQ2xvbmUgKG9iaikge1xuICAgICAgdmFyIGNsb25lO1xuICAgICAgaWYgKG9iaiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjbG9uZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSk7XG4gICAgICAgIGZpeEFycmF5QnVmZmVycyhvYmosIGNsb25lKTtcbiAgICAgICAgcmV0dXJuIGNsb25lO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBwYXRoc0Zyb21Sb290IChwYXRoKSB7XG4gICAgICB2YXIgcGF0aHMgPSBbcGF0aF07XG4gICAgICB2YXIgcGFydHMgPSBwYXRoLnJlcGxhY2UoL1xcLyQvLCAnJykuc3BsaXQoJy8nKTtcblxuICAgICAgd2hpbGUgKHBhcnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgcGFydHMucG9wKCk7XG4gICAgICAgIHBhdGhzLnB1c2gocGFydHMuam9pbignLycpKycvJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcGF0aHM7XG4gICAgfSxcblxuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICBtZDVzdW0gKHN0cikge1xuICAgICAgLy9cbiAgICAgIC8vIGh0dHA6Ly93d3cubXllcnNkYWlseS5vcmcvam9zZXBoL2phdmFzY3JpcHQvbWQ1LmpzXG4gICAgICAvL1xuICAgICAgZnVuY3Rpb24gbWQ1Y3ljbGUoeCwgaykge1xuICAgICAgICB2YXIgYSA9IHhbMF0sIGIgPSB4WzFdLCBjID0geFsyXSwgZCA9IHhbM107XG5cbiAgICAgICAgYSA9IGZmKGEsIGIsIGMsIGQsIGtbMF0sIDcsIC02ODA4NzY5MzYpO1xuICAgICAgICBkID0gZmYoZCwgYSwgYiwgYywga1sxXSwgMTIsIC0zODk1NjQ1ODYpO1xuICAgICAgICBjID0gZmYoYywgZCwgYSwgYiwga1syXSwgMTcsICA2MDYxMDU4MTkpO1xuICAgICAgICBiID0gZmYoYiwgYywgZCwgYSwga1szXSwgMjIsIC0xMDQ0NTI1MzMwKTtcbiAgICAgICAgYSA9IGZmKGEsIGIsIGMsIGQsIGtbNF0sIDcsIC0xNzY0MTg4OTcpO1xuICAgICAgICBkID0gZmYoZCwgYSwgYiwgYywga1s1XSwgMTIsICAxMjAwMDgwNDI2KTtcbiAgICAgICAgYyA9IGZmKGMsIGQsIGEsIGIsIGtbNl0sIDE3LCAtMTQ3MzIzMTM0MSk7XG4gICAgICAgIGIgPSBmZihiLCBjLCBkLCBhLCBrWzddLCAyMiwgLTQ1NzA1OTgzKTtcbiAgICAgICAgYSA9IGZmKGEsIGIsIGMsIGQsIGtbOF0sIDcsICAxNzcwMDM1NDE2KTtcbiAgICAgICAgZCA9IGZmKGQsIGEsIGIsIGMsIGtbOV0sIDEyLCAtMTk1ODQxNDQxNyk7XG4gICAgICAgIGMgPSBmZihjLCBkLCBhLCBiLCBrWzEwXSwgMTcsIC00MjA2Myk7XG4gICAgICAgIGIgPSBmZihiLCBjLCBkLCBhLCBrWzExXSwgMjIsIC0xOTkwNDA0MTYyKTtcbiAgICAgICAgYSA9IGZmKGEsIGIsIGMsIGQsIGtbMTJdLCA3LCAgMTgwNDYwMzY4Mik7XG4gICAgICAgIGQgPSBmZihkLCBhLCBiLCBjLCBrWzEzXSwgMTIsIC00MDM0MTEwMSk7XG4gICAgICAgIGMgPSBmZihjLCBkLCBhLCBiLCBrWzE0XSwgMTcsIC0xNTAyMDAyMjkwKTtcbiAgICAgICAgYiA9IGZmKGIsIGMsIGQsIGEsIGtbMTVdLCAyMiwgIDEyMzY1MzUzMjkpO1xuXG4gICAgICAgIGEgPSBnZyhhLCBiLCBjLCBkLCBrWzFdLCA1LCAtMTY1Nzk2NTEwKTtcbiAgICAgICAgZCA9IGdnKGQsIGEsIGIsIGMsIGtbNl0sIDksIC0xMDY5NTAxNjMyKTtcbiAgICAgICAgYyA9IGdnKGMsIGQsIGEsIGIsIGtbMTFdLCAxNCwgIDY0MzcxNzcxMyk7XG4gICAgICAgIGIgPSBnZyhiLCBjLCBkLCBhLCBrWzBdLCAyMCwgLTM3Mzg5NzMwMik7XG4gICAgICAgIGEgPSBnZyhhLCBiLCBjLCBkLCBrWzVdLCA1LCAtNzAxNTU4NjkxKTtcbiAgICAgICAgZCA9IGdnKGQsIGEsIGIsIGMsIGtbMTBdLCA5LCAgMzgwMTYwODMpO1xuICAgICAgICBjID0gZ2coYywgZCwgYSwgYiwga1sxNV0sIDE0LCAtNjYwNDc4MzM1KTtcbiAgICAgICAgYiA9IGdnKGIsIGMsIGQsIGEsIGtbNF0sIDIwLCAtNDA1NTM3ODQ4KTtcbiAgICAgICAgYSA9IGdnKGEsIGIsIGMsIGQsIGtbOV0sIDUsICA1Njg0NDY0MzgpO1xuICAgICAgICBkID0gZ2coZCwgYSwgYiwgYywga1sxNF0sIDksIC0xMDE5ODAzNjkwKTtcbiAgICAgICAgYyA9IGdnKGMsIGQsIGEsIGIsIGtbM10sIDE0LCAtMTg3MzYzOTYxKTtcbiAgICAgICAgYiA9IGdnKGIsIGMsIGQsIGEsIGtbOF0sIDIwLCAgMTE2MzUzMTUwMSk7XG4gICAgICAgIGEgPSBnZyhhLCBiLCBjLCBkLCBrWzEzXSwgNSwgLTE0NDQ2ODE0NjcpO1xuICAgICAgICBkID0gZ2coZCwgYSwgYiwgYywga1syXSwgOSwgLTUxNDAzNzg0KTtcbiAgICAgICAgYyA9IGdnKGMsIGQsIGEsIGIsIGtbN10sIDE0LCAgMTczNTMyODQ3Myk7XG4gICAgICAgIGIgPSBnZyhiLCBjLCBkLCBhLCBrWzEyXSwgMjAsIC0xOTI2NjA3NzM0KTtcblxuICAgICAgICBhID0gaGgoYSwgYiwgYywgZCwga1s1XSwgNCwgLTM3ODU1OCk7XG4gICAgICAgIGQgPSBoaChkLCBhLCBiLCBjLCBrWzhdLCAxMSwgLTIwMjI1NzQ0NjMpO1xuICAgICAgICBjID0gaGgoYywgZCwgYSwgYiwga1sxMV0sIDE2LCAgMTgzOTAzMDU2Mik7XG4gICAgICAgIGIgPSBoaChiLCBjLCBkLCBhLCBrWzE0XSwgMjMsIC0zNTMwOTU1Nik7XG4gICAgICAgIGEgPSBoaChhLCBiLCBjLCBkLCBrWzFdLCA0LCAtMTUzMDk5MjA2MCk7XG4gICAgICAgIGQgPSBoaChkLCBhLCBiLCBjLCBrWzRdLCAxMSwgIDEyNzI4OTMzNTMpO1xuICAgICAgICBjID0gaGgoYywgZCwgYSwgYiwga1s3XSwgMTYsIC0xNTU0OTc2MzIpO1xuICAgICAgICBiID0gaGgoYiwgYywgZCwgYSwga1sxMF0sIDIzLCAtMTA5NDczMDY0MCk7XG4gICAgICAgIGEgPSBoaChhLCBiLCBjLCBkLCBrWzEzXSwgNCwgIDY4MTI3OTE3NCk7XG4gICAgICAgIGQgPSBoaChkLCBhLCBiLCBjLCBrWzBdLCAxMSwgLTM1ODUzNzIyMik7XG4gICAgICAgIGMgPSBoaChjLCBkLCBhLCBiLCBrWzNdLCAxNiwgLTcyMjUyMTk3OSk7XG4gICAgICAgIGIgPSBoaChiLCBjLCBkLCBhLCBrWzZdLCAyMywgIDc2MDI5MTg5KTtcbiAgICAgICAgYSA9IGhoKGEsIGIsIGMsIGQsIGtbOV0sIDQsIC02NDAzNjQ0ODcpO1xuICAgICAgICBkID0gaGgoZCwgYSwgYiwgYywga1sxMl0sIDExLCAtNDIxODE1ODM1KTtcbiAgICAgICAgYyA9IGhoKGMsIGQsIGEsIGIsIGtbMTVdLCAxNiwgIDUzMDc0MjUyMCk7XG4gICAgICAgIGIgPSBoaChiLCBjLCBkLCBhLCBrWzJdLCAyMywgLTk5NTMzODY1MSk7XG5cbiAgICAgICAgYSA9IGlpKGEsIGIsIGMsIGQsIGtbMF0sIDYsIC0xOTg2MzA4NDQpO1xuICAgICAgICBkID0gaWkoZCwgYSwgYiwgYywga1s3XSwgMTAsICAxMTI2ODkxNDE1KTtcbiAgICAgICAgYyA9IGlpKGMsIGQsIGEsIGIsIGtbMTRdLCAxNSwgLTE0MTYzNTQ5MDUpO1xuICAgICAgICBiID0gaWkoYiwgYywgZCwgYSwga1s1XSwgMjEsIC01NzQzNDA1NSk7XG4gICAgICAgIGEgPSBpaShhLCBiLCBjLCBkLCBrWzEyXSwgNiwgIDE3MDA0ODU1NzEpO1xuICAgICAgICBkID0gaWkoZCwgYSwgYiwgYywga1szXSwgMTAsIC0xODk0OTg2NjA2KTtcbiAgICAgICAgYyA9IGlpKGMsIGQsIGEsIGIsIGtbMTBdLCAxNSwgLTEwNTE1MjMpO1xuICAgICAgICBiID0gaWkoYiwgYywgZCwgYSwga1sxXSwgMjEsIC0yMDU0OTIyNzk5KTtcbiAgICAgICAgYSA9IGlpKGEsIGIsIGMsIGQsIGtbOF0sIDYsICAxODczMzEzMzU5KTtcbiAgICAgICAgZCA9IGlpKGQsIGEsIGIsIGMsIGtbMTVdLCAxMCwgLTMwNjExNzQ0KTtcbiAgICAgICAgYyA9IGlpKGMsIGQsIGEsIGIsIGtbNl0sIDE1LCAtMTU2MDE5ODM4MCk7XG4gICAgICAgIGIgPSBpaShiLCBjLCBkLCBhLCBrWzEzXSwgMjEsICAxMzA5MTUxNjQ5KTtcbiAgICAgICAgYSA9IGlpKGEsIGIsIGMsIGQsIGtbNF0sIDYsIC0xNDU1MjMwNzApO1xuICAgICAgICBkID0gaWkoZCwgYSwgYiwgYywga1sxMV0sIDEwLCAtMTEyMDIxMDM3OSk7XG4gICAgICAgIGMgPSBpaShjLCBkLCBhLCBiLCBrWzJdLCAxNSwgIDcxODc4NzI1OSk7XG4gICAgICAgIGIgPSBpaShiLCBjLCBkLCBhLCBrWzldLCAyMSwgLTM0MzQ4NTU1MSk7XG5cbiAgICAgICAgeFswXSA9IGFkZDMyKGEsIHhbMF0pO1xuICAgICAgICB4WzFdID0gYWRkMzIoYiwgeFsxXSk7XG4gICAgICAgIHhbMl0gPSBhZGQzMihjLCB4WzJdKTtcbiAgICAgICAgeFszXSA9IGFkZDMyKGQsIHhbM10pO1xuXG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGNtbihxLCBhLCBiLCB4LCBzLCB0KSB7XG4gICAgICAgIGEgPSBhZGQzMihhZGQzMihhLCBxKSwgYWRkMzIoeCwgdCkpO1xuICAgICAgICByZXR1cm4gYWRkMzIoKGEgPDwgcykgfCAoYSA+Pj4gKDMyIC0gcykpLCBiKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZmYoYSwgYiwgYywgZCwgeCwgcywgdCkge1xuICAgICAgICByZXR1cm4gY21uKChiICYgYykgfCAoKH5iKSAmIGQpLCBhLCBiLCB4LCBzLCB0KTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZ2coYSwgYiwgYywgZCwgeCwgcywgdCkge1xuICAgICAgICByZXR1cm4gY21uKChiICYgZCkgfCAoYyAmICh+ZCkpLCBhLCBiLCB4LCBzLCB0KTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gaGgoYSwgYiwgYywgZCwgeCwgcywgdCkge1xuICAgICAgICByZXR1cm4gY21uKGIgXiBjIF4gZCwgYSwgYiwgeCwgcywgdCk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGlpKGEsIGIsIGMsIGQsIHgsIHMsIHQpIHtcbiAgICAgICAgcmV0dXJuIGNtbihjIF4gKGIgfCAofmQpKSwgYSwgYiwgeCwgcywgdCk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIG1kNTEocykge1xuICAgICAgICB0eHQgPSAnJztcbiAgICAgICAgdmFyIG4gPSBzLmxlbmd0aCxcbiAgICAgICAgICAgIHN0YXRlID0gWzE3MzI1ODQxOTMsIC0yNzE3MzM4NzksIC0xNzMyNTg0MTk0LCAyNzE3MzM4NzhdLCBpO1xuICAgICAgICBmb3IgKGk9NjQ7IGk8PXMubGVuZ3RoOyBpKz02NCkge1xuICAgICAgICAgIG1kNWN5Y2xlKHN0YXRlLCBtZDVibGsocy5zdWJzdHJpbmcoaS02NCwgaSkpKTtcbiAgICAgICAgfVxuICAgICAgICBzID0gcy5zdWJzdHJpbmcoaS02NCk7XG4gICAgICAgIHZhciB0YWlsID0gWzAsMCwwLDAsIDAsMCwwLDAsIDAsMCwwLDAsIDAsMCwwLDBdO1xuICAgICAgICBmb3IgKGk9MDsgaTxzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgIHRhaWxbaT4+Ml0gfD0gcy5jaGFyQ29kZUF0KGkpIDw8ICgoaSU0KSA8PCAzKTtcbiAgICAgICAgdGFpbFtpPj4yXSB8PSAweDgwIDw8ICgoaSU0KSA8PCAzKTtcbiAgICAgICAgaWYgKGkgPiA1NSkge1xuICAgICAgICAgIG1kNWN5Y2xlKHN0YXRlLCB0YWlsKTtcbiAgICAgICAgICBmb3IgKGk9MDsgaTwxNjsgaSsrKSB0YWlsW2ldID0gMDtcbiAgICAgICAgfVxuICAgICAgICB0YWlsWzE0XSA9IG4qODtcbiAgICAgICAgbWQ1Y3ljbGUoc3RhdGUsIHRhaWwpO1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIG1kNWJsayhzKSB7XG4gICAgICAgIHZhciBtZDVibGtzID0gW10sIGk7XG4gICAgICAgIGZvciAoaT0wOyBpPDY0OyBpKz00KSB7XG4gICAgICAgICAgbWQ1Ymxrc1tpPj4yXSA9IHMuY2hhckNvZGVBdChpKSArIChzLmNoYXJDb2RlQXQoaSsxKSA8PCA4KSArIChzLmNoYXJDb2RlQXQoaSsyKSA8PCAxNikgKyAocy5jaGFyQ29kZUF0KGkrMykgPDwgMjQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZDVibGtzO1xuICAgICAgfVxuXG4gICAgICB2YXIgaGV4X2NociA9ICcwMTIzNDU2Nzg5YWJjZGVmJy5zcGxpdCgnJyk7XG5cbiAgICAgIGZ1bmN0aW9uIHJoZXgobilcbiAgICAgIHtcbiAgICAgICAgdmFyIHM9JycsIGo9MDtcbiAgICAgICAgZm9yKDsgajw0OyBqKyspXG4gICAgICAgICAgcyArPSBoZXhfY2hyWyhuID4+IChqICogOCArIDQpKSAmIDB4MEZdICsgaGV4X2NoclsobiA+PiAoaiAqIDgpKSAmIDB4MEZdO1xuICAgICAgICByZXR1cm4gcztcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gaGV4KHgpIHtcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPHgubGVuZ3RoOyBpKyspXG4gICAgICAgICAgeFtpXSA9IHJoZXgoeFtpXSk7XG4gICAgICAgIHJldHVybiB4LmpvaW4oJycpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBtZDUocykge1xuICAgICAgICByZXR1cm4gaGV4KG1kNTEocykpO1xuICAgICAgfVxuXG4gICAgICB2YXIgYWRkMzIgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gKGEgKyBiKSAmIDB4RkZGRkZGRkY7XG4gICAgICB9O1xuXG4gICAgICBpZiAobWQ1KCdoZWxsbycpICE9PSAnNWQ0MTQwMmFiYzRiMmE3NmI5NzE5ZDkxMTAxN2M1OTInKSB7XG4gICAgICAgIGFkZDMyID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgICB2YXIgbHN3ID0gKHggJiAweEZGRkYpICsgKHkgJiAweEZGRkYpLFxuICAgICAgICAgICAgICBtc3cgPSAoeCA+PiAxNikgKyAoeSA+PiAxNikgKyAobHN3ID4+IDE2KTtcbiAgICAgICAgICByZXR1cm4gKG1zdyA8PCAxNikgfCAobHN3ICYgMHhGRkZGKTtcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1kNShzdHIpO1xuICAgIH0sXG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuXG4gICAgbG9jYWxTdG9yYWdlQXZhaWxhYmxlICgpIHtcbiAgICAgIGNvbnN0IGNvbnRleHQgPSB1dGlsLmdldEdsb2JhbENvbnRleHQoKTtcblxuICAgICAgaWYgKCEoJ2xvY2FsU3RvcmFnZScgaW4gY29udGV4dCkpIHsgcmV0dXJuIGZhbHNlOyB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnRleHQubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3JzLWNoZWNrJywgMSk7XG4gICAgICAgIGNvbnRleHQubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3JzLWNoZWNrJyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBjYXRjaChlcnJvcikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gIH07XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSB1dGlsO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3V0aWwuanMiXSwic291cmNlUm9vdCI6IiJ9")
},function(module,exports,__webpack_require__){eval("'use strict';\n\nvar log = __webpack_require__(1);\n\n/**\n * Interface: eventhandling\n */\nvar methods = {\n  /**\n   * Method: addEventListener\n   *\n   * Install an event handler for the given event name\n   */\n  addEventListener: function addEventListener(eventName, handler) {\n    if (typeof eventName !== 'string') {\n      throw new Error('Argument eventName should be a string');\n    }\n    if (typeof handler !== 'function') {\n      throw new Error('Argument handler should be a function');\n    }\n    log('[Eventhandling] Adding event listener', eventName);\n    this._validateEvent(eventName);\n    this._handlers[eventName].push(handler);\n  },\n\n  /**\n   * Method: removeEventListener\n   *\n   * Remove a previously installed event handler\n   */\n  removeEventListener: function removeEventListener(eventName, handler) {\n    this._validateEvent(eventName);\n    var hl = this._handlers[eventName].length;\n    for (var i = 0; i < hl; i++) {\n      if (this._handlers[eventName][i] === handler) {\n        this._handlers[eventName].splice(i, 1);\n        return;\n      }\n    }\n  },\n\n  _emit: function _emit(eventName) {\n    this._validateEvent(eventName);\n    var args = Array.prototype.slice.call(arguments, 1);\n    this._handlers[eventName].slice().forEach(function (handler) {\n      handler.apply(this, args);\n    });\n  },\n\n  _validateEvent: function _validateEvent(eventName) {\n    if (!(eventName in this._handlers)) {\n      throw new Error(\"Unknown event: \" + eventName);\n    }\n  },\n\n  _delegateEvent: function _delegateEvent(eventName, target) {\n    target.on(eventName, function (event) {\n      this._emit(eventName, event);\n    }.bind(this));\n  },\n\n  _addEvent: function _addEvent(eventName) {\n    this._handlers[eventName] = [];\n  }\n};\n\n/**\n * Method: eventhandling.on\n *\n * Alias for <addEventListener>\n **/\nmethods.on = methods.addEventListener;\n\n/**\n * Method: eventhandling.off\n *\n * Alias for <removeEventListener>\n **/\nmethods.off = methods.removeEventListener;\n\n/**\n * Function: eventHandling\n *\n * Mixes event handling functionality into an object.\n *\n * The first parameter is always the object to be extended.\n * All remaining parameter are expected to be strings, interpreted as valid event\n * names.\n *\n * Example:\n *   (start code)\n *   var MyConstructor = function () {\n *     eventHandling(this, 'connected', 'disconnected');\n *\n *     this._emit('connected');\n *     this._emit('disconnected');\n *     // This would throw an exception:\n *     // this._emit('something-else');\n *   };\n *\n *   var myObject = new MyConstructor();\n *   myObject.on('connected', function () { console.log('connected'); });\n *   myObject.on('disconnected', function () { console.log('disconnected'); });\n *   // This would throw an exception as well:\n *   // myObject.on('something-else', function () {});\n *   (end code)\n */\nmodule.exports = function (object) {\n  var eventNames = Array.prototype.slice.call(arguments, 1);\n  for (var key in methods) {\n    object[key] = methods[key];\n  }\n  object._handlers = {};\n  eventNames.forEach(function (eventName) {\n    object._addEvent(eventName);\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZXZlbnRoYW5kbGluZy5qcz83NjIzIl0sIm5hbWVzIjpbImxvZyIsInJlcXVpcmUiLCJtZXRob2RzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50TmFtZSIsImhhbmRsZXIiLCJFcnJvciIsIl92YWxpZGF0ZUV2ZW50IiwiX2hhbmRsZXJzIiwicHVzaCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJobCIsImxlbmd0aCIsImkiLCJzcGxpY2UiLCJfZW1pdCIsImFyZ3MiLCJBcnJheSIsInByb3RvdHlwZSIsInNsaWNlIiwiY2FsbCIsImFyZ3VtZW50cyIsImZvckVhY2giLCJhcHBseSIsIl9kZWxlZ2F0ZUV2ZW50IiwidGFyZ2V0Iiwib24iLCJldmVudCIsImJpbmQiLCJfYWRkRXZlbnQiLCJvZmYiLCJtb2R1bGUiLCJleHBvcnRzIiwib2JqZWN0IiwiZXZlbnROYW1lcyIsImtleSJdLCJtYXBwaW5ncyI6Ijs7QUFBRSxJQUFJQSxNQUFNLG1CQUFBQyxDQUFRLENBQVIsQ0FBVjs7QUFFQTs7O0FBR0EsSUFBSUMsVUFBVTtBQUNaOzs7OztBQUtBQyxvQkFBa0IsMEJBQVVDLFNBQVYsRUFBcUJDLE9BQXJCLEVBQThCO0FBQzlDLFFBQUksT0FBT0QsU0FBUCxLQUFzQixRQUExQixFQUFvQztBQUNsQyxZQUFNLElBQUlFLEtBQUosQ0FBVSx1Q0FBVixDQUFOO0FBQ0Q7QUFDRCxRQUFJLE9BQU9ELE9BQVAsS0FBb0IsVUFBeEIsRUFBb0M7QUFDbEMsWUFBTSxJQUFJQyxLQUFKLENBQVUsdUNBQVYsQ0FBTjtBQUNEO0FBQ0ROLFFBQUksdUNBQUosRUFBNkNJLFNBQTdDO0FBQ0EsU0FBS0csY0FBTCxDQUFvQkgsU0FBcEI7QUFDQSxTQUFLSSxTQUFMLENBQWVKLFNBQWYsRUFBMEJLLElBQTFCLENBQStCSixPQUEvQjtBQUNELEdBaEJXOztBQWtCWjs7Ozs7QUFLQUssdUJBQXFCLDZCQUFVTixTQUFWLEVBQXFCQyxPQUFyQixFQUE4QjtBQUNqRCxTQUFLRSxjQUFMLENBQW9CSCxTQUFwQjtBQUNBLFFBQUlPLEtBQUssS0FBS0gsU0FBTCxDQUFlSixTQUFmLEVBQTBCUSxNQUFuQztBQUNBLFNBQUssSUFBSUMsSUFBRSxDQUFYLEVBQWFBLElBQUVGLEVBQWYsRUFBa0JFLEdBQWxCLEVBQXVCO0FBQ3JCLFVBQUksS0FBS0wsU0FBTCxDQUFlSixTQUFmLEVBQTBCUyxDQUExQixNQUFpQ1IsT0FBckMsRUFBOEM7QUFDNUMsYUFBS0csU0FBTCxDQUFlSixTQUFmLEVBQTBCVSxNQUExQixDQUFpQ0QsQ0FBakMsRUFBb0MsQ0FBcEM7QUFDQTtBQUNEO0FBQ0Y7QUFDRixHQWhDVzs7QUFrQ1pFLFNBQU8sZUFBVVgsU0FBVixFQUFxQjtBQUMxQixTQUFLRyxjQUFMLENBQW9CSCxTQUFwQjtBQUNBLFFBQUlZLE9BQU9DLE1BQU1DLFNBQU4sQ0FBZ0JDLEtBQWhCLENBQXNCQyxJQUF0QixDQUEyQkMsU0FBM0IsRUFBc0MsQ0FBdEMsQ0FBWDtBQUNBLFNBQUtiLFNBQUwsQ0FBZUosU0FBZixFQUEwQmUsS0FBMUIsR0FBa0NHLE9BQWxDLENBQTBDLFVBQVVqQixPQUFWLEVBQW1CO0FBQzNEQSxjQUFRa0IsS0FBUixDQUFjLElBQWQsRUFBb0JQLElBQXBCO0FBQ0QsS0FGRDtBQUdELEdBeENXOztBQTBDWlQsa0JBQWdCLHdCQUFVSCxTQUFWLEVBQXFCO0FBQ25DLFFBQUksRUFBR0EsYUFBYSxLQUFLSSxTQUFyQixDQUFKLEVBQXFDO0FBQ25DLFlBQU0sSUFBSUYsS0FBSixDQUFVLG9CQUFvQkYsU0FBOUIsQ0FBTjtBQUNEO0FBQ0YsR0E5Q1c7O0FBZ0Rab0Isa0JBQWdCLHdCQUFVcEIsU0FBVixFQUFxQnFCLE1BQXJCLEVBQTZCO0FBQzNDQSxXQUFPQyxFQUFQLENBQVV0QixTQUFWLEVBQXFCLFVBQVV1QixLQUFWLEVBQWlCO0FBQ3BDLFdBQUtaLEtBQUwsQ0FBV1gsU0FBWCxFQUFzQnVCLEtBQXRCO0FBQ0QsS0FGb0IsQ0FFbkJDLElBRm1CLENBRWQsSUFGYyxDQUFyQjtBQUdELEdBcERXOztBQXNEWkMsYUFBVyxtQkFBVXpCLFNBQVYsRUFBcUI7QUFDOUIsU0FBS0ksU0FBTCxDQUFlSixTQUFmLElBQTRCLEVBQTVCO0FBQ0Q7QUF4RFcsQ0FBZDs7QUEyREE7Ozs7O0FBS0FGLFFBQVF3QixFQUFSLEdBQWF4QixRQUFRQyxnQkFBckI7O0FBRUE7Ozs7O0FBS0FELFFBQVE0QixHQUFSLEdBQWM1QixRQUFRUSxtQkFBdEI7O0FBR0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQTJCRHFCLE9BQU9DLE9BQVAsR0FBaUIsVUFBVUMsTUFBVixFQUFrQjtBQUNoQyxNQUFJQyxhQUFhakIsTUFBTUMsU0FBTixDQUFnQkMsS0FBaEIsQ0FBc0JDLElBQXRCLENBQTJCQyxTQUEzQixFQUFzQyxDQUF0QyxDQUFqQjtBQUNBLE9BQUssSUFBSWMsR0FBVCxJQUFnQmpDLE9BQWhCLEVBQXlCO0FBQ3ZCK0IsV0FBT0UsR0FBUCxJQUFjakMsUUFBUWlDLEdBQVIsQ0FBZDtBQUNEO0FBQ0RGLFNBQU96QixTQUFQLEdBQW1CLEVBQW5CO0FBQ0EwQixhQUFXWixPQUFYLENBQW1CLFVBQVVsQixTQUFWLEVBQXFCO0FBQ3RDNkIsV0FBT0osU0FBUCxDQUFpQnpCLFNBQWpCO0FBQ0QsR0FGRDtBQUdELENBVEYiLCJmaWxlIjoiMy5qcyIsInNvdXJjZXNDb250ZW50IjpbIiAgdmFyIGxvZyA9IHJlcXVpcmUoJy4vbG9nJyk7XG4gIFxuICAvKipcbiAgICogSW50ZXJmYWNlOiBldmVudGhhbmRsaW5nXG4gICAqL1xuICB2YXIgbWV0aG9kcyA9IHtcbiAgICAvKipcbiAgICAgKiBNZXRob2Q6IGFkZEV2ZW50TGlzdGVuZXJcbiAgICAgKlxuICAgICAqIEluc3RhbGwgYW4gZXZlbnQgaGFuZGxlciBmb3IgdGhlIGdpdmVuIGV2ZW50IG5hbWVcbiAgICAgKi9cbiAgICBhZGRFdmVudExpc3RlbmVyOiBmdW5jdGlvbiAoZXZlbnROYW1lLCBoYW5kbGVyKSB7XG4gICAgICBpZiAodHlwZW9mKGV2ZW50TmFtZSkgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQXJndW1lbnQgZXZlbnROYW1lIHNob3VsZCBiZSBhIHN0cmluZycpO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZihoYW5kbGVyKSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FyZ3VtZW50IGhhbmRsZXIgc2hvdWxkIGJlIGEgZnVuY3Rpb24nKTtcbiAgICAgIH1cbiAgICAgIGxvZygnW0V2ZW50aGFuZGxpbmddIEFkZGluZyBldmVudCBsaXN0ZW5lcicsIGV2ZW50TmFtZSk7XG4gICAgICB0aGlzLl92YWxpZGF0ZUV2ZW50KGV2ZW50TmFtZSk7XG4gICAgICB0aGlzLl9oYW5kbGVyc1tldmVudE5hbWVdLnB1c2goaGFuZGxlcik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1ldGhvZDogcmVtb3ZlRXZlbnRMaXN0ZW5lclxuICAgICAqXG4gICAgICogUmVtb3ZlIGEgcHJldmlvdXNseSBpbnN0YWxsZWQgZXZlbnQgaGFuZGxlclxuICAgICAqL1xuICAgIHJlbW92ZUV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uIChldmVudE5hbWUsIGhhbmRsZXIpIHtcbiAgICAgIHRoaXMuX3ZhbGlkYXRlRXZlbnQoZXZlbnROYW1lKTtcbiAgICAgIHZhciBobCA9IHRoaXMuX2hhbmRsZXJzW2V2ZW50TmFtZV0ubGVuZ3RoO1xuICAgICAgZm9yICh2YXIgaT0wO2k8aGw7aSsrKSB7XG4gICAgICAgIGlmICh0aGlzLl9oYW5kbGVyc1tldmVudE5hbWVdW2ldID09PSBoYW5kbGVyKSB7XG4gICAgICAgICAgdGhpcy5faGFuZGxlcnNbZXZlbnROYW1lXS5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIF9lbWl0OiBmdW5jdGlvbiAoZXZlbnROYW1lKSB7XG4gICAgICB0aGlzLl92YWxpZGF0ZUV2ZW50KGV2ZW50TmFtZSk7XG4gICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICB0aGlzLl9oYW5kbGVyc1tldmVudE5hbWVdLnNsaWNlKCkuZm9yRWFjaChmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICBoYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIF92YWxpZGF0ZUV2ZW50OiBmdW5jdGlvbiAoZXZlbnROYW1lKSB7XG4gICAgICBpZiAoISAoZXZlbnROYW1lIGluIHRoaXMuX2hhbmRsZXJzKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGV2ZW50OiBcIiArIGV2ZW50TmFtZSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIF9kZWxlZ2F0ZUV2ZW50OiBmdW5jdGlvbiAoZXZlbnROYW1lLCB0YXJnZXQpIHtcbiAgICAgIHRhcmdldC5vbihldmVudE5hbWUsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB0aGlzLl9lbWl0KGV2ZW50TmFtZSwgZXZlbnQpO1xuICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICB9LFxuXG4gICAgX2FkZEV2ZW50OiBmdW5jdGlvbiAoZXZlbnROYW1lKSB7XG4gICAgICB0aGlzLl9oYW5kbGVyc1tldmVudE5hbWVdID0gW107XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBNZXRob2Q6IGV2ZW50aGFuZGxpbmcub25cbiAgICpcbiAgICogQWxpYXMgZm9yIDxhZGRFdmVudExpc3RlbmVyPlxuICAgKiovXG4gIG1ldGhvZHMub24gPSBtZXRob2RzLmFkZEV2ZW50TGlzdGVuZXI7XG5cbiAgLyoqXG4gICAqIE1ldGhvZDogZXZlbnRoYW5kbGluZy5vZmZcbiAgICpcbiAgICogQWxpYXMgZm9yIDxyZW1vdmVFdmVudExpc3RlbmVyPlxuICAgKiovXG4gIG1ldGhvZHMub2ZmID0gbWV0aG9kcy5yZW1vdmVFdmVudExpc3RlbmVyO1xuXG5cbiAgLyoqXG4gICAqIEZ1bmN0aW9uOiBldmVudEhhbmRsaW5nXG4gICAqXG4gICAqIE1peGVzIGV2ZW50IGhhbmRsaW5nIGZ1bmN0aW9uYWxpdHkgaW50byBhbiBvYmplY3QuXG4gICAqXG4gICAqIFRoZSBmaXJzdCBwYXJhbWV0ZXIgaXMgYWx3YXlzIHRoZSBvYmplY3QgdG8gYmUgZXh0ZW5kZWQuXG4gICAqIEFsbCByZW1haW5pbmcgcGFyYW1ldGVyIGFyZSBleHBlY3RlZCB0byBiZSBzdHJpbmdzLCBpbnRlcnByZXRlZCBhcyB2YWxpZCBldmVudFxuICAgKiBuYW1lcy5cbiAgICpcbiAgICogRXhhbXBsZTpcbiAgICogICAoc3RhcnQgY29kZSlcbiAgICogICB2YXIgTXlDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uICgpIHtcbiAgICogICAgIGV2ZW50SGFuZGxpbmcodGhpcywgJ2Nvbm5lY3RlZCcsICdkaXNjb25uZWN0ZWQnKTtcbiAgICpcbiAgICogICAgIHRoaXMuX2VtaXQoJ2Nvbm5lY3RlZCcpO1xuICAgKiAgICAgdGhpcy5fZW1pdCgnZGlzY29ubmVjdGVkJyk7XG4gICAqICAgICAvLyBUaGlzIHdvdWxkIHRocm93IGFuIGV4Y2VwdGlvbjpcbiAgICogICAgIC8vIHRoaXMuX2VtaXQoJ3NvbWV0aGluZy1lbHNlJyk7XG4gICAqICAgfTtcbiAgICpcbiAgICogICB2YXIgbXlPYmplY3QgPSBuZXcgTXlDb25zdHJ1Y3RvcigpO1xuICAgKiAgIG15T2JqZWN0Lm9uKCdjb25uZWN0ZWQnLCBmdW5jdGlvbiAoKSB7IGNvbnNvbGUubG9nKCdjb25uZWN0ZWQnKTsgfSk7XG4gICAqICAgbXlPYmplY3Qub24oJ2Rpc2Nvbm5lY3RlZCcsIGZ1bmN0aW9uICgpIHsgY29uc29sZS5sb2coJ2Rpc2Nvbm5lY3RlZCcpOyB9KTtcbiAgICogICAvLyBUaGlzIHdvdWxkIHRocm93IGFuIGV4Y2VwdGlvbiBhcyB3ZWxsOlxuICAgKiAgIC8vIG15T2JqZWN0Lm9uKCdzb21ldGhpbmctZWxzZScsIGZ1bmN0aW9uICgpIHt9KTtcbiAgICogICAoZW5kIGNvZGUpXG4gICAqL1xuIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iamVjdCkge1xuICAgIHZhciBldmVudE5hbWVzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICBmb3IgKHZhciBrZXkgaW4gbWV0aG9kcykge1xuICAgICAgb2JqZWN0W2tleV0gPSBtZXRob2RzW2tleV07XG4gICAgfVxuICAgIG9iamVjdC5faGFuZGxlcnMgPSB7fTtcbiAgICBldmVudE5hbWVzLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50TmFtZSkge1xuICAgICAgb2JqZWN0Ll9hZGRFdmVudChldmVudE5hbWUpO1xuICAgIH0pO1xuICB9O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2V2ZW50aGFuZGxpbmcuanMiXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports,__webpack_require__){
eval("'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar log = __webpack_require__(1);\nvar util = __webpack_require__(2);\n\nfunction extractParams(url) {\n  //FF already decodes the URL fragment in document.location.hash, so use this instead:\n  var location = url || Authorize.getLocation().href,\n      hashPos = location.indexOf('#'),\n      hash;\n  if (hashPos === -1) {\n    return;\n  }\n  hash = location.substring(hashPos + 1);\n  // if hash is not of the form #key=val&key=val, it's probably not for us\n  if (hash.indexOf('=') === -1) {\n    return;\n  }\n  return hash.split('&').reduce(function (params, kvs) {\n    var kv = kvs.split('=');\n\n    if (kv[0] === 'state' && kv[1].match(/rsDiscovery/)) {\n      // extract rsDiscovery data from the state param\n      var stateValue = decodeURIComponent(kv[1]);\n      var encodedData = stateValue.substr(stateValue.indexOf('rsDiscovery=')).split('&')[0].split('=')[1];\n\n      params['rsDiscovery'] = JSON.parse(atob(encodedData));\n\n      // remove rsDiscovery param\n      stateValue = stateValue.replace(new RegExp('\\&?rsDiscovery=' + encodedData), '');\n\n      if (stateValue.length > 0) {\n        params['state'] = stateValue;\n      }\n    } else {\n      params[decodeURIComponent(kv[0])] = decodeURIComponent(kv[1]);\n    }\n\n    return params;\n  }, {});\n}\n\nvar Authorize = function Authorize(remoteStorage, authURL, scope, redirectUri, clientId) {\n  log('[Authorize] authURL = ', authURL, 'scope = ', scope, 'redirectUri = ', redirectUri, 'clientId = ', clientId);\n\n  // keep track of the discovery data during redirect if we can't save it in localStorage\n  if (!util.localStorageAvailable() && remoteStorage.backend === 'remotestorage') {\n    redirectUri += redirectUri.indexOf('#') > 0 ? '&' : '#';\n\n    var discoveryData = {\n      userAddress: remoteStorage.remote.userAddress,\n      href: remoteStorage.remote.href,\n      storageApi: remoteStorage.remote.storageApi,\n      properties: remoteStorage.remote.properties\n    };\n\n    redirectUri += 'rsDiscovery=' + btoa(JSON.stringify(discoveryData));\n  }\n\n  var url = authURL,\n      hashPos = redirectUri.indexOf('#');\n  url += authURL.indexOf('?') > 0 ? '&' : '?';\n  url += 'redirect_uri=' + encodeURIComponent(redirectUri.replace(/#.*$/, ''));\n  url += '&scope=' + encodeURIComponent(scope);\n  url += '&client_id=' + encodeURIComponent(clientId);\n  if (hashPos !== -1 && hashPos + 1 !== redirectUri.length) {\n    url += '&state=' + encodeURIComponent(redirectUri.substring(hashPos + 1));\n  }\n  url += '&response_type=token';\n\n  if (util.globalContext.cordova) {\n    return Authorize.openWindow(url, redirectUri, 'location=yes,clearsessioncache=yes,clearcache=yes').then(function (authResult) {\n      remoteStorage.remote.configure({\n        token: authResult.access_token\n      });\n    });\n  }\n\n  Authorize.setLocation(url);\n};\n\nAuthorize.IMPLIED_FAKE_TOKEN = false;\n\nAuthorize.Unauthorized = function () {\n  Error.apply(this, arguments);\n};\nAuthorize.Unauthorized.prototype = Object.create(Error.prototype);\n\n/**\n * Get current document location\n *\n * Override this method if access to document.location is forbidden\n */\nAuthorize.getLocation = function () {\n  return document.location;\n};\n\n/**\n * Set current document location\n *\n * Override this method if access to document.location is forbidden\n */\nAuthorize.setLocation = function (location) {\n  if (typeof location === 'string') {\n    document.location.href = location;\n  } else if ((typeof location === 'undefined' ? 'undefined' : _typeof(location)) === 'object') {\n    document.location = location;\n  } else {\n    throw \"Invalid location \" + location;\n  }\n};\n\n/**\n * Open new InAppBrowser window for OAuth in Cordova\n */\nAuthorize.openWindow = function (url, redirectUri, options) {\n  return new Promise(function (resolve, reject) {\n\n    var newWindow = open(url, '_blank', options);\n\n    if (!newWindow || newWindow.closed) {\n      return reject('Authorization popup was blocked');\n    }\n\n    var handleExit = function handleExit() {\n      return reject('Authorization was canceled');\n    };\n\n    var handleLoadstart = function handleLoadstart(event) {\n      if (event.url.indexOf(redirectUri) !== 0) {\n        return;\n      }\n\n      newWindow.removeEventListener('exit', handleExit);\n      newWindow.close();\n\n      var authResult = extractParams(event.url);\n\n      if (!authResult) {\n        return reject('Authorization error');\n      }\n\n      return resolve(authResult);\n    };\n\n    newWindow.addEventListener('loadstart', handleLoadstart);\n    newWindow.addEventListener('exit', handleExit);\n  });\n};\n\nAuthorize._rs_supported = function () {\n  return typeof document !== 'undefined';\n};\n\nvar onFeaturesLoaded;\nAuthorize._rs_init = function (remoteStorage) {\n\n  onFeaturesLoaded = function onFeaturesLoaded() {\n    var authParamsUsed = false;\n    if (params) {\n      if (params.error) {\n        throw \"Authorization server errored: \" + params.error;\n      }\n\n      // rsDiscovery came with the redirect, because it couldn't be\n      // saved in localStorage\n      if (params.rsDiscovery) {\n        remoteStorage.remote.configure(params.rsDiscovery);\n      }\n\n      if (params.access_token) {\n        remoteStorage.remote.configure({\n          token: params.access_token\n        });\n        authParamsUsed = true;\n      }\n      if (params.remotestorage) {\n        remoteStorage.connect(params.remotestorage);\n        authParamsUsed = true;\n      }\n      if (params.state) {\n        location = Authorize.getLocation();\n        Authorize.setLocation(location.href.split('#')[0] + '#' + params.state);\n      }\n    }\n    if (!authParamsUsed) {\n      remoteStorage.remote.stopWaitingForToken();\n    }\n  };\n  var params = extractParams(),\n      location;\n  if (params) {\n    location = Authorize.getLocation();\n    location.hash = '';\n  }\n  remoteStorage.on('features-loaded', onFeaturesLoaded);\n};\n\nAuthorize._rs_cleanup = function (remoteStorage) {\n  remoteStorage.removeEventListener('features-loaded', onFeaturesLoaded);\n};\n\nmodule.exports = Authorize;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXV0aG9yaXplLmpzPzI4NTEiXSwibmFtZXMiOlsibG9nIiwicmVxdWlyZSIsInV0aWwiLCJleHRyYWN0UGFyYW1zIiwidXJsIiwibG9jYXRpb24iLCJBdXRob3JpemUiLCJnZXRMb2NhdGlvbiIsImhyZWYiLCJoYXNoUG9zIiwiaW5kZXhPZiIsImhhc2giLCJzdWJzdHJpbmciLCJzcGxpdCIsInJlZHVjZSIsInBhcmFtcyIsImt2cyIsImt2IiwibWF0Y2giLCJzdGF0ZVZhbHVlIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiZW5jb2RlZERhdGEiLCJzdWJzdHIiLCJKU09OIiwicGFyc2UiLCJhdG9iIiwicmVwbGFjZSIsIlJlZ0V4cCIsImxlbmd0aCIsInJlbW90ZVN0b3JhZ2UiLCJhdXRoVVJMIiwic2NvcGUiLCJyZWRpcmVjdFVyaSIsImNsaWVudElkIiwibG9jYWxTdG9yYWdlQXZhaWxhYmxlIiwiYmFja2VuZCIsImRpc2NvdmVyeURhdGEiLCJ1c2VyQWRkcmVzcyIsInJlbW90ZSIsInN0b3JhZ2VBcGkiLCJwcm9wZXJ0aWVzIiwiYnRvYSIsInN0cmluZ2lmeSIsImVuY29kZVVSSUNvbXBvbmVudCIsImdsb2JhbENvbnRleHQiLCJjb3Jkb3ZhIiwib3BlbldpbmRvdyIsInRoZW4iLCJhdXRoUmVzdWx0IiwiY29uZmlndXJlIiwidG9rZW4iLCJhY2Nlc3NfdG9rZW4iLCJzZXRMb2NhdGlvbiIsIklNUExJRURfRkFLRV9UT0tFTiIsIlVuYXV0aG9yaXplZCIsIkVycm9yIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJkb2N1bWVudCIsIm9wdGlvbnMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIm5ld1dpbmRvdyIsIm9wZW4iLCJjbG9zZWQiLCJoYW5kbGVFeGl0IiwiaGFuZGxlTG9hZHN0YXJ0IiwiZXZlbnQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY2xvc2UiLCJhZGRFdmVudExpc3RlbmVyIiwiX3JzX3N1cHBvcnRlZCIsIm9uRmVhdHVyZXNMb2FkZWQiLCJfcnNfaW5pdCIsImF1dGhQYXJhbXNVc2VkIiwiZXJyb3IiLCJyc0Rpc2NvdmVyeSIsInJlbW90ZXN0b3JhZ2UiLCJjb25uZWN0Iiwic3RhdGUiLCJzdG9wV2FpdGluZ0ZvclRva2VuIiwib24iLCJfcnNfY2xlYW51cCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxJQUFJQSxNQUFNLG1CQUFBQyxDQUFRLENBQVIsQ0FBVjtBQUNBLElBQUlDLE9BQU8sbUJBQUFELENBQVEsQ0FBUixDQUFYOztBQUVFLFNBQVNFLGFBQVQsQ0FBdUJDLEdBQXZCLEVBQTRCO0FBQzFCO0FBQ0EsTUFBSUMsV0FBV0QsT0FBT0UsVUFBVUMsV0FBVixHQUF3QkMsSUFBOUM7QUFBQSxNQUNJQyxVQUFXSixTQUFTSyxPQUFULENBQWlCLEdBQWpCLENBRGY7QUFBQSxNQUVJQyxJQUZKO0FBR0EsTUFBSUYsWUFBWSxDQUFDLENBQWpCLEVBQW9CO0FBQUU7QUFBUztBQUMvQkUsU0FBT04sU0FBU08sU0FBVCxDQUFtQkgsVUFBUSxDQUEzQixDQUFQO0FBQ0E7QUFDQSxNQUFJRSxLQUFLRCxPQUFMLENBQWEsR0FBYixNQUFzQixDQUFDLENBQTNCLEVBQThCO0FBQUU7QUFBUztBQUN6QyxTQUFPQyxLQUFLRSxLQUFMLENBQVcsR0FBWCxFQUFnQkMsTUFBaEIsQ0FBdUIsVUFBVUMsTUFBVixFQUFrQkMsR0FBbEIsRUFBdUI7QUFDbkQsUUFBSUMsS0FBS0QsSUFBSUgsS0FBSixDQUFVLEdBQVYsQ0FBVDs7QUFFQSxRQUFJSSxHQUFHLENBQUgsTUFBVSxPQUFWLElBQXFCQSxHQUFHLENBQUgsRUFBTUMsS0FBTixDQUFZLGFBQVosQ0FBekIsRUFBcUQ7QUFDbkQ7QUFDQSxVQUFJQyxhQUFhQyxtQkFBbUJILEdBQUcsQ0FBSCxDQUFuQixDQUFqQjtBQUNBLFVBQUlJLGNBQWNGLFdBQVdHLE1BQVgsQ0FBa0JILFdBQVdU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QStCO0FBQzdCQyxpQkFBT25DLE9BQU9vQztBQURlLFNBQS9CO0FBR0EyQix5QkFBaUIsSUFBakI7QUFDRDtBQUNELFVBQUkvRCxPQUFPa0UsYUFBWCxFQUEwQjtBQUN4QnBELHNCQUFjcUQsT0FBZCxDQUFzQm5FLE9BQU9rRSxhQUE3QjtBQUNBSCx5QkFBaUIsSUFBakI7QUFDRDtBQUNELFVBQUkvRCxPQUFPb0UsS0FBWCxFQUFrQjtBQUNoQjlFLG1CQUFXQyxVQUFVQyxXQUFWLEVBQVg7QUFDQUQsa0JBQVU4QyxXQUFWLENBQXNCL0MsU0FBU0csSUFBVCxDQUFjSyxLQUFkLENBQW9CLEdBQXBCLEVBQXlCLENBQXpCLElBQTRCLEdBQTVCLEdBQWdDRSxPQUFPb0UsS0FBN0Q7QUFDRDtBQUNGO0FBQ0QsUUFBSSxDQUFDTCxjQUFMLEVBQXFCO0FBQ25CakQsb0JBQWNTLE1BQWQsQ0FBcUI4QyxtQkFBckI7QUFDRDtBQUNGLEdBL0JEO0FBZ0NBLE1BQUlyRSxTQUFTWixlQUFiO0FBQUEsTUFDSUUsUUFESjtBQUVBLE1BQUlVLE1BQUosRUFBWTtBQUNWVixlQUFXQyxVQUFVQyxXQUFWLEVBQVg7QUFDQUYsYUFBU00sSUFBVCxHQUFnQixFQUFoQjtBQUNEO0FBQ0RrQixnQkFBY3dELEVBQWQsQ0FBaUIsaUJBQWpCLEVBQW9DVCxnQkFBcEM7QUFDRCxDQXpDRDs7QUEyQ0F0RSxVQUFVZ0YsV0FBVixHQUF3QixVQUFVekQsYUFBVixFQUF5QjtBQUMvQ0EsZ0JBQWMyQyxtQkFBZCxDQUFrQyxpQkFBbEMsRUFBcURJLGdCQUFyRDtBQUNELENBRkQ7O0FBSUFXLE9BQU9DLE9BQVAsR0FBaUJsRixTQUFqQiIsImZpbGUiOiI0LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGxvZyA9IHJlcXVpcmUoJy4vbG9nJyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuICBcbiAgZnVuY3Rpb24gZXh0cmFjdFBhcmFtcyh1cmwpIHtcbiAgICAvL0ZGIGFscmVhZHkgZGVjb2RlcyB0aGUgVVJMIGZyYWdtZW50IGluIGRvY3VtZW50LmxvY2F0aW9uLmhhc2gsIHNvIHVzZSB0aGlzIGluc3RlYWQ6XG4gICAgdmFyIGxvY2F0aW9uID0gdXJsIHx8IEF1dGhvcml6ZS5nZXRMb2NhdGlvbigpLmhyZWYsXG4gICAgICAgIGhhc2hQb3MgID0gbG9jYXRpb24uaW5kZXhPZignIycpLFxuICAgICAgICBoYXNoO1xuICAgIGlmIChoYXNoUG9zID09PSAtMSkgeyByZXR1cm47IH1cbiAgICBoYXNoID0gbG9jYXRpb24uc3Vic3RyaW5nKGhhc2hQb3MrMSk7XG4gICAgLy8gaWYgaGFzaCBpcyBub3Qgb2YgdGhlIGZvcm0gI2tleT12YWwma2V5PXZhbCwgaXQncyBwcm9iYWJseSBub3QgZm9yIHVzXG4gICAgaWYgKGhhc2guaW5kZXhPZignPScpID09PSAtMSkgeyByZXR1cm47IH1cbiAgICByZXR1cm4gaGFzaC5zcGxpdCgnJicpLnJlZHVjZShmdW5jdGlvbiAocGFyYW1zLCBrdnMpIHtcbiAgICAgIHZhciBrdiA9IGt2cy5zcGxpdCgnPScpO1xuXG4gICAgICBpZiAoa3ZbMF0gPT09ICdzdGF0ZScgJiYga3ZbMV0ubWF0Y2goL3JzRGlzY292ZXJ5LykpIHtcbiAgICAgICAgLy8gZXh0cmFjdCByc0Rpc2NvdmVyeSBkYXRhIGZyb20gdGhlIHN0YXRlIHBhcmFtXG4gICAgICAgIHZhciBzdGF0ZVZhbHVlID0gZGVjb2RlVVJJQ29tcG9uZW50KGt2WzFdKTtcbiAgICAgICAgdmFyIGVuY29kZWREYXRhID0gc3RhdGVWYWx1ZS5zdWJzdHIoc3RhdGVWYWx1ZS5pbmRleE9mKCdyc0Rpc2NvdmVyeT0nKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zcGxpdCgnJicpWzBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3BsaXQoJz0nKVsxXTtcblxuICAgICAgICBwYXJhbXNbJ3JzRGlzY292ZXJ5J10gPSBKU09OLnBhcnNlKGF0b2IoZW5jb2RlZERhdGEpKTtcblxuICAgICAgICAvLyByZW1vdmUgcnNEaXNjb3ZlcnkgcGFyYW1cbiAgICAgICAgc3RhdGVWYWx1ZSA9IHN0YXRlVmFsdWUucmVwbGFjZShuZXcgUmVnRXhwKCdcXCY/cnNEaXNjb3Zlcnk9JyArIGVuY29kZWREYXRhKSwgJycpO1xuXG4gICAgICAgIGlmIChzdGF0ZVZhbHVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBwYXJhbXNbJ3N0YXRlJ10gPSBzdGF0ZVZhbHVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJhbXNbZGVjb2RlVVJJQ29tcG9uZW50KGt2WzBdKV0gPSBkZWNvZGVVUklDb21wb25lbnQoa3ZbMV0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGFyYW1zO1xuICAgIH0sIHt9KTtcbiAgfVxuXG5cbiAgdmFyIEF1dGhvcml6ZSA9IGZ1bmN0aW9uIChyZW1vdGVTdG9yYWdlLCBhdXRoVVJMLCBzY29wZSwgcmVkaXJlY3RVcmksIGNsaWVudElkKSB7XG4gICAgbG9nKCdbQXV0aG9yaXplXSBhdXRoVVJMID0gJywgYXV0aFVSTCwgJ3Njb3BlID0gJywgc2NvcGUsICdyZWRpcmVjdFVyaSA9ICcsIHJlZGlyZWN0VXJpLCAnY2xpZW50SWQgPSAnLCBjbGllbnRJZCk7XG5cbiAgICAvLyBrZWVwIHRyYWNrIG9mIHRoZSBkaXNjb3ZlcnkgZGF0YSBkdXJpbmcgcmVkaXJlY3QgaWYgd2UgY2FuJ3Qgc2F2ZSBpdCBpbiBsb2NhbFN0b3JhZ2VcbiAgICBpZiAoIXV0aWwubG9jYWxTdG9yYWdlQXZhaWxhYmxlKCkgJiZcbiAgICAgICAgcmVtb3RlU3RvcmFnZS5iYWNrZW5kID09PSAncmVtb3Rlc3RvcmFnZScpIHtcbiAgICAgIHJlZGlyZWN0VXJpICs9IHJlZGlyZWN0VXJpLmluZGV4T2YoJyMnKSA+IDAgPyAnJicgOiAnIyc7XG5cbiAgICAgIHZhciBkaXNjb3ZlcnlEYXRhID0ge1xuICAgICAgICB1c2VyQWRkcmVzczogcmVtb3RlU3RvcmFnZS5yZW1vdGUudXNlckFkZHJlc3MsXG4gICAgICAgIGhyZWY6IHJlbW90ZVN0b3JhZ2UucmVtb3RlLmhyZWYsXG4gICAgICAgIHN0b3JhZ2VBcGk6IHJlbW90ZVN0b3JhZ2UucmVtb3RlLnN0b3JhZ2VBcGksXG4gICAgICAgIHByb3BlcnRpZXM6IHJlbW90ZVN0b3JhZ2UucmVtb3RlLnByb3BlcnRpZXNcbiAgICAgIH07XG5cbiAgICAgIHJlZGlyZWN0VXJpICs9ICdyc0Rpc2NvdmVyeT0nICsgYnRvYShKU09OLnN0cmluZ2lmeShkaXNjb3ZlcnlEYXRhKSk7XG4gICAgfVxuXG4gICAgdmFyIHVybCA9IGF1dGhVUkwsIGhhc2hQb3MgPSByZWRpcmVjdFVyaS5pbmRleE9mKCcjJyk7XG4gICAgdXJsICs9IGF1dGhVUkwuaW5kZXhPZignPycpID4gMCA/ICcmJyA6ICc/JztcbiAgICB1cmwgKz0gJ3JlZGlyZWN0X3VyaT0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHJlZGlyZWN0VXJpLnJlcGxhY2UoLyMuKiQvLCAnJykpO1xuICAgIHVybCArPSAnJnNjb3BlPScgKyBlbmNvZGVVUklDb21wb25lbnQoc2NvcGUpO1xuICAgIHVybCArPSAnJmNsaWVudF9pZD0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGNsaWVudElkKTtcbiAgICBpZiAoaGFzaFBvcyAhPT0gLSAxICYmIGhhc2hQb3MrMSAhPT0gcmVkaXJlY3RVcmkubGVuZ3RoKSB7XG4gICAgICB1cmwgKz0gJyZzdGF0ZT0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHJlZGlyZWN0VXJpLnN1YnN0cmluZyhoYXNoUG9zKzEpKTtcbiAgICB9XG4gICAgdXJsICs9ICcmcmVzcG9uc2VfdHlwZT10b2tlbic7XG5cbiAgICBpZiAodXRpbC5nbG9iYWxDb250ZXh0LmNvcmRvdmEpIHtcbiAgICAgIHJldHVybiBBdXRob3JpemUub3BlbldpbmRvdyhcbiAgICAgICAgICB1cmwsXG4gICAgICAgICAgcmVkaXJlY3RVcmksXG4gICAgICAgICAgJ2xvY2F0aW9uPXllcyxjbGVhcnNlc3Npb25jYWNoZT15ZXMsY2xlYXJjYWNoZT15ZXMnXG4gICAgICAgIClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oYXV0aFJlc3VsdCkge1xuICAgICAgICAgIHJlbW90ZVN0b3JhZ2UucmVtb3RlLmNvbmZpZ3VyZSh7XG4gICAgICAgICAgICB0b2tlbjogYXV0aFJlc3VsdC5hY2Nlc3NfdG9rZW5cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgQXV0aG9yaXplLnNldExvY2F0aW9uKHVybCk7XG4gIH07XG5cbiAgQXV0aG9yaXplLklNUExJRURfRkFLRV9UT0tFTiA9IGZhbHNlO1xuICBcbiAgQXV0aG9yaXplLlVuYXV0aG9yaXplZCA9IGZ1bmN0aW9uICgpIHsgRXJyb3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfTtcbiAgQXV0aG9yaXplLlVuYXV0aG9yaXplZC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG5cblxuICAvKipcbiAgICogR2V0IGN1cnJlbnQgZG9jdW1lbnQgbG9jYXRpb25cbiAgICpcbiAgICogT3ZlcnJpZGUgdGhpcyBtZXRob2QgaWYgYWNjZXNzIHRvIGRvY3VtZW50LmxvY2F0aW9uIGlzIGZvcmJpZGRlblxuICAgKi9cbiAgQXV0aG9yaXplLmdldExvY2F0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBkb2N1bWVudC5sb2NhdGlvbjtcbiAgfTtcblxuICAvKipcbiAgICogU2V0IGN1cnJlbnQgZG9jdW1lbnQgbG9jYXRpb25cbiAgICpcbiAgICogT3ZlcnJpZGUgdGhpcyBtZXRob2QgaWYgYWNjZXNzIHRvIGRvY3VtZW50LmxvY2F0aW9uIGlzIGZvcmJpZGRlblxuICAgKi9cbiAgQXV0aG9yaXplLnNldExvY2F0aW9uID0gZnVuY3Rpb24gKGxvY2F0aW9uKSB7XG4gICAgaWYgKHR5cGVvZiBsb2NhdGlvbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGRvY3VtZW50LmxvY2F0aW9uLmhyZWYgPSBsb2NhdGlvbjtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBsb2NhdGlvbiA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGRvY3VtZW50LmxvY2F0aW9uID0gbG9jYXRpb247XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IFwiSW52YWxpZCBsb2NhdGlvbiBcIiArIGxvY2F0aW9uO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogT3BlbiBuZXcgSW5BcHBCcm93c2VyIHdpbmRvdyBmb3IgT0F1dGggaW4gQ29yZG92YVxuICAgKi9cbiAgQXV0aG9yaXplLm9wZW5XaW5kb3cgPSBmdW5jdGlvbiAodXJsLCByZWRpcmVjdFVyaSwgb3B0aW9ucykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSggKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXG4gICAgICB2YXIgbmV3V2luZG93ID0gb3Blbih1cmwsICdfYmxhbmsnLCBvcHRpb25zKTtcblxuICAgICAgaWYgKCFuZXdXaW5kb3cgfHwgbmV3V2luZG93LmNsb3NlZCkge1xuICAgICAgICByZXR1cm4gcmVqZWN0KCdBdXRob3JpemF0aW9uIHBvcHVwIHdhcyBibG9ja2VkJyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBoYW5kbGVFeGl0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gcmVqZWN0KCdBdXRob3JpemF0aW9uIHdhcyBjYW5jZWxlZCcpO1xuICAgICAgfTtcblxuICAgICAgdmFyIGhhbmRsZUxvYWRzdGFydCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQudXJsLmluZGV4T2YocmVkaXJlY3RVcmkpICE9PSAwKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbmV3V2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2V4aXQnLCBoYW5kbGVFeGl0KTtcbiAgICAgICAgbmV3V2luZG93LmNsb3NlKCk7XG5cbiAgICAgICAgdmFyIGF1dGhSZXN1bHQgPSBleHRyYWN0UGFyYW1zKGV2ZW50LnVybCk7XG5cbiAgICAgICAgaWYgKCFhdXRoUmVzdWx0KSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdCgnQXV0aG9yaXphdGlvbiBlcnJvcicpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc29sdmUoYXV0aFJlc3VsdCk7XG4gICAgICB9O1xuXG4gICAgICBuZXdXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZHN0YXJ0JywgaGFuZGxlTG9hZHN0YXJ0KTtcbiAgICAgIG5ld1dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdleGl0JywgaGFuZGxlRXhpdCk7XG5cbiAgICB9KTtcbiAgfTtcblxuXG4gIEF1dGhvcml6ZS5fcnNfc3VwcG9ydGVkID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0eXBlb2YoZG9jdW1lbnQpICE9PSAndW5kZWZpbmVkJztcbiAgfTtcblxuICB2YXIgb25GZWF0dXJlc0xvYWRlZDtcbiAgQXV0aG9yaXplLl9yc19pbml0ID0gZnVuY3Rpb24gKHJlbW90ZVN0b3JhZ2UpIHtcblxuICAgIG9uRmVhdHVyZXNMb2FkZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgYXV0aFBhcmFtc1VzZWQgPSBmYWxzZTtcbiAgICAgIGlmIChwYXJhbXMpIHtcbiAgICAgICAgaWYgKHBhcmFtcy5lcnJvcikge1xuICAgICAgICAgIHRocm93IFwiQXV0aG9yaXphdGlvbiBzZXJ2ZXIgZXJyb3JlZDogXCIgKyBwYXJhbXMuZXJyb3I7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByc0Rpc2NvdmVyeSBjYW1lIHdpdGggdGhlIHJlZGlyZWN0LCBiZWNhdXNlIGl0IGNvdWxkbid0IGJlXG4gICAgICAgIC8vIHNhdmVkIGluIGxvY2FsU3RvcmFnZVxuICAgICAgICBpZiAocGFyYW1zLnJzRGlzY292ZXJ5KSB7XG4gICAgICAgICAgcmVtb3RlU3RvcmFnZS5yZW1vdGUuY29uZmlndXJlKHBhcmFtcy5yc0Rpc2NvdmVyeSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFyYW1zLmFjY2Vzc190b2tlbikge1xuICAgICAgICAgIHJlbW90ZVN0b3JhZ2UucmVtb3RlLmNvbmZpZ3VyZSh7XG4gICAgICAgICAgICB0b2tlbjogcGFyYW1zLmFjY2Vzc190b2tlblxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGF1dGhQYXJhbXNVc2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyYW1zLnJlbW90ZXN0b3JhZ2UpIHtcbiAgICAgICAgICByZW1vdGVTdG9yYWdlLmNvbm5lY3QocGFyYW1zLnJlbW90ZXN0b3JhZ2UpO1xuICAgICAgICAgIGF1dGhQYXJhbXNVc2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyYW1zLnN0YXRlKSB7XG4gICAgICAgICAgbG9jYXRpb24gPSBBdXRob3JpemUuZ2V0TG9jYXRpb24oKTtcbiAgICAgICAgICBBdXRob3JpemUuc2V0TG9jYXRpb24obG9jYXRpb24uaHJlZi5zcGxpdCgnIycpWzBdKycjJytwYXJhbXMuc3RhdGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIWF1dGhQYXJhbXNVc2VkKSB7XG4gICAgICAgIHJlbW90ZVN0b3JhZ2UucmVtb3RlLnN0b3BXYWl0aW5nRm9yVG9rZW4oKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBwYXJhbXMgPSBleHRyYWN0UGFyYW1zKCksXG4gICAgICAgIGxvY2F0aW9uO1xuICAgIGlmIChwYXJhbXMpIHtcbiAgICAgIGxvY2F0aW9uID0gQXV0aG9yaXplLmdldExvY2F0aW9uKCk7XG4gICAgICBsb2NhdGlvbi5oYXNoID0gJyc7XG4gICAgfVxuICAgIHJlbW90ZVN0b3JhZ2Uub24oJ2ZlYXR1cmVzLWxvYWRlZCcsIG9uRmVhdHVyZXNMb2FkZWQpO1xuICB9O1xuXG4gIEF1dGhvcml6ZS5fcnNfY2xlYW51cCA9IGZ1bmN0aW9uIChyZW1vdGVTdG9yYWdlKSB7XG4gICAgcmVtb3RlU3RvcmFnZS5yZW1vdmVFdmVudExpc3RlbmVyKCdmZWF0dXJlcy1sb2FkZWQnLCBvbkZlYXR1cmVzTG9hZGVkKTtcbiAgfTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IEF1dGhvcml6ZTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9hdXRob3JpemUuanMiXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports){eval('"use strict";\n\nvar config = {\n     logging: false,\n     changeEvents: {\n          local: true,\n          window: false,\n          remote: true,\n          conflict: true\n     },\n     cache: true,\n     disableFeatures: [],\n     discoveryTimeout: 10000,\n     syncInterval: 10000,\n     backgroundSyncInterval: 60000,\n     isBackground: false,\n     cordovaRedirectUri: undefined\n};\n\nmodule.exports = config;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnLmpzPzQyNjQiXSwibmFtZXMiOlsiY29uZmlnIiwibG9nZ2luZyIsImNoYW5nZUV2ZW50cyIsImxvY2FsIiwid2luZG93IiwicmVtb3RlIiwiY29uZmxpY3QiLCJjYWNoZSIsImRpc2FibGVGZWF0dXJlcyIsImRpc2NvdmVyeVRpbWVvdXQiLCJzeW5jSW50ZXJ2YWwiLCJiYWNrZ3JvdW5kU3luY0ludGVydmFsIiwiaXNCYWNrZ3JvdW5kIiwiY29yZG92YVJlZGlyZWN0VXJpIiwidW5kZWZpbmVkIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxTQUFTO0FBQ1pDLGNBQVMsS0FERztBQUVaQyxtQkFBYztBQUNUQyxpQkFBVSxJQUREO0FBRVRDLGtCQUFVLEtBRkQ7QUFHVEMsa0JBQVUsSUFIRDtBQUlUQyxvQkFBVTtBQUpELE1BRkY7QUFRWEMsWUFBTyxJQVJJO0FBU1hDLHNCQUFpQixFQVROO0FBVVhDLHVCQUFrQixLQVZQO0FBV1hDLG1CQUFjLEtBWEg7QUFZWEMsNkJBQXdCLEtBWmI7QUFhWEMsbUJBQWMsS0FiSDtBQWNYQyx5QkFBb0JDO0FBZFQsQ0FBYjs7QUFpQkFDLE9BQU9DLE9BQVAsR0FBaUJoQixNQUFqQiIsImZpbGUiOiI1LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGNvbmZpZyA9IHtcblx0bG9nZ2luZzogZmFsc2UsXG5cdGNoYW5nZUV2ZW50czoge1xuICAgICAgbG9jYWw6ICAgIHRydWUsXG4gICAgICB3aW5kb3c6ICAgZmFsc2UsXG4gICAgICByZW1vdGU6ICAgdHJ1ZSxcbiAgICAgIGNvbmZsaWN0OiB0cnVlXG4gIH0sXG4gIGNhY2hlOiB0cnVlLFxuICBkaXNhYmxlRmVhdHVyZXM6IFtdLFxuICBkaXNjb3ZlcnlUaW1lb3V0OiAxMDAwMCxcbiAgc3luY0ludGVydmFsOiAxMDAwMCxcbiAgYmFja2dyb3VuZFN5bmNJbnRlcnZhbDogNjAwMDAsXG4gIGlzQmFja2dyb3VuZDogZmFsc2UsXG4gIGNvcmRvdmFSZWRpcmVjdFVyaTogdW5kZWZpbmVkXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbmZpZztcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29uZmlnLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==')},function(module,exports,__webpack_require__){
eval("'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction deprecate(thing, replacement) {\n  console.log('WARNING: ' + thing + ' is deprecated. Use ' + replacement + ' instead.');\n}\n\nvar eventHandling = __webpack_require__(3);\nvar util = __webpack_require__(2);\nvar config = __webpack_require__(5);\nvar _uuid = __webpack_require__(31);\n\n/**\n * Class: BaseClient\n *\n * Provides a high-level interface to access data below a given root path.\n *\n * A BaseClient deals with three types of data: folders, objects and files.\n *\n * <getListing> returns a mapping of all items within a folder. Items that\n * end with a forward slash (\"/\") are child folders. For instance:\n * {\n *   'folder/': true,\n *   'document.txt': true\n * }\n *\n * <getObject> / <storeObject> operate on JSON objects. Each object has a type.\n *\n * <getFile> / <storeFile> operates on files. Each file has a MIME type.\n *\n * <remove> operates on either objects or files (but not folders, folders are\n * created and removed implictly).\n */\nvar BaseClient = function BaseClient(storage, base) {\n  if (base[base.length - 1] !== '/') {\n    throw \"Not a folder: \" + base;\n  }\n\n  if (base === '/') {\n    // allow absolute and relative paths for the root scope.\n    this.makePath = function (path) {\n      return (path[0] === '/' ? '' : '/') + path;\n    };\n  }\n\n  /**\n   * Property: storage\n   *\n   * The <RemoteStorage> instance this <BaseClient> operates on.\n   */\n  this.storage = storage;\n\n  /**\n   * Property: base\n   *\n   * Base path this <BaseClient> operates on.\n   *\n   * For the module's privateClient this would be /<moduleName>/, for the\n   * corresponding publicClient /public/<moduleName>/.\n   */\n  this.base = base;\n\n  var parts = this.base.split('/');\n  if (parts.length > 2) {\n    this.moduleName = parts[1];\n  } else {\n    this.moduleName = 'root';\n  }\n\n  // Defined in baseclient/types.js\n  /**\n   * Property: schemas\n   *\n   * Contains schema objects of all types known to the BaseClient instance\n   **/\n\n  /**\n   * Event: change\n   *\n   * Emitted when a node changes\n   *\n   * Arguments:\n   *   event - Event object containing information about the changed node\n   *\n   * (start code)\n   * {\n   *    path: path, // Absolute path of the changed node, from the storage root\n   *    relativePath: relativePath, // Path of the changed node, relative to this baseclient's scope root\n   *    origin: 'window', 'local', 'remote', or 'conflict' // emitted by user action within the app, local data store, remote sync, or versioning conflicts\n   *    oldValue: oldBody, // Old body of the changed node (local version in conflicts; undefined if creation)\n   *    newValue: newBody, // New body of the changed node (remote version in conflicts; undefined if deletion)\n   *    lastCommonValue: lastCommonValue, //most recent known common ancestor body of 'yours' and 'theirs' in case of conflict\n   *    oldContentType: oldContentType, // Old contentType of the changed node ('yours' for conflicts; undefined if creation)\n   *    newContentType: newContentType, // New contentType of the changed node ('theirs' for conflicts; undefined if deletion)\n   *    lastCommonContentType: lastCommonContentType // Most recent known common ancestor contentType of 'yours' and 'theirs' in case of conflict\n   *  }\n   * (end code)\n   *\n   * Example of an event with origin 'local' (fired on page load):\n   *\n   * (start code)\n   * {\n   *    path: '/public/design/color.txt',\n   *    relativePath: 'color.txt',\n   *    origin: 'local',\n   *    oldValue: undefined,\n   *    newValue: 'white',\n   *    oldContentType: undefined,\n   *    newContentType: 'text/plain'\n   *  }\n   * (end code)\n   *\n   * Example of a conflict:\n   * Say you changed 'color.txt' from 'white' to 'blue'; if you have set `config.changeEvents.window` to `true`,\n   * then you will receive:\n   *\n   * (start code)\n   * {\n   *    path: '/public/design/color.txt',\n   *    relativePath: 'color.txt',\n   *    origin: 'window',\n   *    oldValue: 'white',\n   *    newValue: 'blue',\n   *    oldContentType: 'text/plain',\n   *    newContentType: 'text/plain'\n   *  }\n   * (end code)\n   *\n   * But when this change is pushed out by asynchronous synchronization, this change may rejected by the\n   * server, if the remote version has in the meantime changed from 'white' to  for instance 'red'; this will then lead to a change\n   * event with origin 'conflict' (usually a few seconds after the event with origin 'window', if you had that activated). Note\n   * that since you already changed it from 'white' to 'blue' in the local version a few seconds ago, `oldValue` is now your local\n   * value of 'blue':\n   *\n   * (start code)\n   * {\n   *    path: '/public/design/color.txt',\n   *    relativePath: 'color.txt',\n   *    origin: 'conflict',\n   *    oldValue: 'blue',\n   *    newValue: 'red',\n   *    lastCommonValue: 'white',\n   *    oldContentType: 'text/plain,\n   *    newContentType: 'text/plain'\n   *    lastCommonContentType: 'text/plain'\n   *  }\n   * (end code)\n   *\n   * In practice, you should always redraw your views to display the content of the `newValue` field when a change event is received,\n   * regardless of its origin. Events with origin 'local' are fired conveniently during the page load, so that you can fill your views\n   * when the page loads. Events with origin 'window' are fired whenever you change a value by calling a method on the baseClient;\n   * these are disabled by default. Events with origin 'remote' are fired when remote changes are discovered during sync (only for caching\n   * startegies 'SEEN' and 'ALL'). Events with origin 'conflict' are fired when a conflict occurs while pushing out your local changes to\n   * the remote store in asynchronous synchronization (see example above).\n   **/\n\n  eventHandling(this, 'change');\n  this.on = this.on.bind(this);\n  storage.onChange(this.base, this._fireChange.bind(this));\n};\n\nBaseClient.prototype = {\n\n  extend: function extend(object) {\n    for (var key in object) {\n      this[key] = object[key];\n    }\n    return this;\n  },\n\n  /**\n   * Method: scope\n   *\n   * Returns a new <BaseClient> operating on a subpath of the current <base> path.\n   */\n  scope: function scope(path) {\n    return new BaseClient(this.storage, this.makePath(path));\n  },\n\n  // folder operations\n\n  /**\n   * Method: getListing\n   *\n   * Get a list of child nodes below a given path.\n   *\n   * The callback semantics of getListing are identical to those of getObject.\n   *\n   * Parameters:\n   *   path   - The path to query. It MUST end with a forward slash.\n   *   maxAge - Either false or the maximum age of cached listing in\n   *            milliseconds. Defaults to false in anonymous mode and to\n   *            2*syncInterval in connected mode.\n   *\n   * Returns:\n   *\n   *   A promise for an object, representing child nodes. If the maxAge\n   *   requirement cannot be met because of network problems, this promise\n   *   will be rejected. If the maxAge requirement is set to false or the\n   *   library is in offline state, the promise will always be fulfilled with\n   *   data from the local store.\n   *\n   *   Keys ending in a forward slash represent *folder nodes*, while all\n   *   other keys represent *data nodes*.\n   *\n   *   For spec versions <= 01, the data node information will contain only\n   *   the item's ETag. For later spec versions, it will also contain the\n   *   content type and -length of the item.\n   *\n   * Example:\n   *   (start code)\n   *   client.getListing('', false).then(function (listing) {\n   *     // listing is for instance:\n   *     // {\n   *     //   'folder/': true,\n   *     //   'document.txt': true\n   *     // }\n   *   });\n   *   (end code)\n   */\n  getListing: function getListing(path, maxAge) {\n    if (typeof path !== 'string') {\n      path = '';\n    } else if (path.length > 0 && path[path.length - 1] !== '/') {\n      return Promise.reject(\"Not a folder: \" + path);\n    }\n    return this.storage.get(this.makePath(path), maxAge).then(function (r) {\n      return r.statusCode === 404 ? {} : r.body;\n    });\n  },\n\n  /**\n   * Method: getAll\n   *\n   * Get all objects directly below a given path.\n   *\n   * Parameters:\n   *   path   - Path to the folder.\n   *   maxAge - Either false or the maximum age of cached objects in\n   *            milliseconds. Defaults to false in anonymous mode and to\n   *            2*syncInterval in connected mode.\n   *\n   * Returns:\n   *   A promise for an object in the form { path : object, ... }. If the\n   *   maxAge requirement cannot be met because of network problems, this\n   *   promise will be rejected. If the maxAge requirement is set to false,\n   *   the promise will always be fulfilled with data from the local store.\n   *\n   *   For items that are not JSON-stringified objects (e.g. stored using\n   *   `storeFile` instead of `storeObject`), the object's value is filled in\n   *   with `true`.\n   *\n   * Example:\n   *   (start code)\n   *   client.getAll('', false).then(function (objects) {\n   *     for (var key in objects) {\n   *       console.log('- ' + key + ': ', objects[key]);\n   *     }\n   *   });\n   *   (end code)\n   */\n  getAll: function getAll(path, maxAge) {\n    if (typeof path !== 'string') {\n      path = '';\n    } else if (path.length > 0 && path[path.length - 1] !== '/') {\n      return Promise.reject(\"Not a folder: \" + path);\n    }\n\n    return this.storage.get(this.makePath(path), maxAge).then(function (r) {\n      if (r.statusCode === 404) {\n        return {};\n      }\n      if (_typeof(r.body) === 'object') {\n        var keys = Object.keys(r.body);\n        if (keys.length === 0) {\n          // treat this like 404. it probably means a folder listing that\n          // has changes that haven't been pushed out yet.\n          return {};\n        }\n\n        var calls = keys.map(function (key) {\n          return this.storage.get(this.makePath(path + key), maxAge).then(function (o) {\n            if (typeof o.body === 'string') {\n              try {\n                o.body = JSON.parse(o.body);\n              } catch (e) {}\n            }\n            if (_typeof(o.body) === 'object') {\n              r.body[key] = o.body;\n            }\n          });\n        }.bind(this));\n        return Promise.all(calls).then(function () {\n          return r.body;\n        });\n      }\n    }.bind(this));\n  },\n\n  // file operations\n\n  /**\n   * Method: getFile\n   *\n   * Get the file at the given path. A file is raw data, as opposed to\n   * a JSON object (use <getObject> for that).\n   *\n   * Except for the return value structure, getFile works exactly like\n   * getObject.\n   *\n   * Parameters:\n   *   path   - See getObject.\n   *   maxAge - Either false or the maximum age of cached file in\n   *            milliseconds. Defaults to false in anonymous mode and to\n   *            2*syncInterval in connected mode.\n   *\n   * Returns:\n   *   A promise for an object:\n   *\n   *   mimeType - String representing the MIME Type of the document.\n   *   data     - Raw data of the document (either a string or an ArrayBuffer)\n   *\n   *   If the maxAge requirement cannot be met because of network problems, this\n   *   promise will be rejected. If the maxAge requirement is set to false, the\n   *   promise will always be fulfilled with data from the local store.\n   *\n   * Example:\n   *   (start code)\n   *   // Display an image:\n   *   client.getFile('path/to/some/image', false).then(function (file) {\n   *     var blob = new Blob([file.data], { type: file.mimeType });\n   *     var targetElement = document.findElementById('my-image-element');\n   *     targetElement.src = window.URL.createObjectURL(blob);\n   *   });\n   *   (end code)\n   */\n  getFile: function getFile(path, maxAge) {\n    if (typeof path !== 'string') {\n      return Promise.reject('Argument \\'path\\' of baseClient.getFile must be a string');\n    }\n    return this.storage.get(this.makePath(path), maxAge).then(function (r) {\n      return {\n        data: r.body,\n        contentType: r.contentType,\n        revision: r.revision // (this is new)\n      };\n    });\n  },\n\n  /**\n   * Method: storeFile\n   *\n   * Store raw data at a given path.\n   *\n   * Parameters:\n   *   mimeType - MIME media type of the data being stored\n   *   path     - path relative to the module root. MAY NOT end in a forward slash.\n   *   data     - string, ArrayBuffer or ArrayBufferView of raw data to store\n   *\n   * The given mimeType will later be returned, when retrieving the data\n   * using <getFile>.\n   *\n   * Example (UTF-8 data):\n   *   (start code)\n   *   client.storeFile('text/html', 'index.html', '<h1>Hello World!</h1>');\n   *   (end code)\n   *\n   * Example (Binary data):\n   *   (start code)\n   *   // MARKUP:\n   *   <input type=\"file\" id=\"file-input\">\n   *   // CODE:\n   *   var input = document.getElementById('file-input');\n   *   var file = input.files[0];\n   *   var fileReader = new FileReader();\n   *\n   *   fileReader.onload = function () {\n   *     client.storeFile(file.type, file.name, fileReader.result);\n   *   };\n   *\n   *   fileReader.readAsArrayBuffer(file);\n   *   (end code)\n   *\n   */\n  storeFile: function storeFile(mimeType, path, body) {\n    if (typeof mimeType !== 'string') {\n      return Promise.reject('Argument \\'mimeType\\' of baseClient.storeFile must be a string');\n    }\n    if (typeof path !== 'string') {\n      return Promise.reject('Argument \\'path\\' of baseClient.storeFile must be a string');\n    }\n    if (typeof body !== 'string' && (typeof body === 'undefined' ? 'undefined' : _typeof(body)) !== 'object') {\n      return Promise.reject('Argument \\'body\\' of baseClient.storeFile must be a string, ArrayBuffer, or ArrayBufferView');\n    }\n    if (!this.storage.access.checkPathPermission(this.makePath(path), 'rw')) {\n      console.warn('WARNING: Editing a document to which only read access (\\'r\\') was claimed');\n    }\n\n    return this.storage.put(this.makePath(path), body, mimeType).then(function (r) {\n      if (r.statusCode === 200 || r.statusCode === 201) {\n        return r.revision;\n      } else {\n        return Promise.reject(\"Request (PUT \" + this.makePath(path) + \") failed with status: \" + r.statusCode);\n      }\n    }.bind(this));\n  },\n\n  // object operations\n\n  /**\n   * Method: getObject\n   *\n   * Get a JSON object from given path.\n   *\n   * Parameters:\n   *   path   - Relative path from the module root (without leading slash).\n   *   maxAge - Either false or the maximum age of cached object in\n   *            milliseconds. Defaults to false in anonymous mode and to\n   *            2*syncInterval in connected mode.\n   *\n   * Returns:\n   *   A promise for the object. If the maxAge requirement cannot be met\n   *   because of network problems, this promise will be rejected. If the\n   *   maxAge requirement is set to false, the promise will always be\n   *   fulfilled with data from the local store.\n   *\n   * Example:\n   *   (start code)\n   *   client.getObject('/path/to/object', false).\n   *     then(function (object) {\n   *       // object is either an object or null\n   *     });\n   *   (end code)\n   */\n  getObject: function getObject(path, maxAge) {\n    if (typeof path !== 'string') {\n      return Promise.reject('Argument \\'path\\' of baseClient.getObject must be a string');\n    }\n    return this.storage.get(this.makePath(path), maxAge).then(function (r) {\n      if (_typeof(r.body) === 'object') {\n        // will be the case for documents stored with rs.js <= 0.10.0-beta2\n        return r.body;\n      } else if (typeof r.body === 'string') {\n        try {\n          return JSON.parse(r.body);\n        } catch (e) {\n          throw \"Not valid JSON: \" + this.makePath(path);\n        }\n      } else if (typeof r.body !== 'undefined' && r.statusCode === 200) {\n        return Promise.reject(\"Not an object: \" + this.makePath(path));\n      }\n    }.bind(this));\n  },\n\n  /**\n   * Method: storeObject\n   *\n   * Store object at given path. Triggers synchronization.\n   *\n   * Parameters:\n   *\n   *   type     - unique type of this object within this module. See description below.\n   *   path     - path relative to the module root.\n   *   object   - an object to be saved to the given node. It must be serializable as JSON.\n   *\n   * Returns:\n   *   A promise to store the object. The promise fails with a ValidationError, when validations fail.\n   *\n   *\n   * What about the type?:\n   *\n   *   A great thing about having data on the web, is to be able to link to\n   *   it and rearrange it to fit the current circumstances. To facilitate\n   *   that, eventually you need to know how the data at hand is structured.\n   *   For documents on the web, this is usually done via a MIME type. The\n   *   MIME type of JSON objects however, is always application/json.\n   *   To add that extra layer of \"knowing what this object is\", remoteStorage\n   *   aims to use <JSON-LD at http://json-ld.org/>.\n   *   A first step in that direction, is to add a *@context attribute* to all\n   *   JSON data put into remoteStorage.\n   *   Now that is what the *type* is for.\n   *\n   *   Within remoteStorage.js, @context values are built using three components:\n   *     http://remotestorage.io/spec/modules/ - A prefix to guarantee uniqueness\n   *     the module name     - module names should be unique as well\n   *     the type given here - naming this particular kind of object within this module\n   *\n   *   In retrospect that means, that whenever you introduce a new \"type\" in calls to\n   *   storeObject, you should make sure that once your code is in the wild, future\n   *   versions of the code are compatible with the same JSON structure.\n   *\n   * How to define types?:\n   *\n   *   See <declareType> for examples.\n   */\n  storeObject: function storeObject(typeAlias, path, object) {\n    if (typeof typeAlias !== 'string') {\n      return Promise.reject('Argument \\'typeAlias\\' of baseClient.storeObject must be a string');\n    }\n    if (typeof path !== 'string') {\n      return Promise.reject('Argument \\'path\\' of baseClient.storeObject must be a string');\n    }\n    if ((typeof object === 'undefined' ? 'undefined' : _typeof(object)) !== 'object') {\n      return Promise.reject('Argument \\'object\\' of baseClient.storeObject must be an object');\n    }\n\n    this._attachType(object, typeAlias);\n\n    try {\n      var validationResult = this.validate(object);\n      if (!validationResult.valid) {\n        return Promise.reject(validationResult);\n      }\n    } catch (exc) {\n      return Promise.reject(exc);\n    }\n\n    return this.storage.put(this.makePath(path), JSON.stringify(object), 'application/json; charset=UTF-8').then(function (r) {\n      if (r.statusCode === 200 || r.statusCode === 201) {\n        return r.revision;\n      } else {\n        return Promise.reject(\"Request (PUT \" + this.makePath(path) + \") failed with status: \" + r.statusCode);\n      }\n    }.bind(this));\n  },\n\n  // generic operations\n\n  /**\n   * Method: remove\n   *\n   * Remove node at given path from storage. Triggers synchronization.\n   *\n   * Parameters:\n   *   path     - Path relative to the module root.\n   */\n  remove: function remove(path) {\n    if (typeof path !== 'string') {\n      return Promise.reject('Argument \\'path\\' of baseClient.remove must be a string');\n    }\n    if (!this.storage.access.checkPathPermission(this.makePath(path), 'rw')) {\n      console.warn('WARNING: Removing a document to which only read access (\\'r\\') was claimed');\n    }\n\n    return this.storage.delete(this.makePath(path));\n  },\n\n  cache: function cache(path, strategy) {\n    if (typeof path !== 'string') {\n      throw 'Argument \\'path\\' of baseClient.cache must be a string';\n    }\n    if (strategy === false) {\n      deprecate('caching strategy <false>', '<\"FLUSH\">');\n      strategy = 'FLUSH';\n    } else if (strategy === undefined) {\n      strategy = 'ALL';\n    } else if (typeof strategy !== 'string') {\n      deprecate('that caching strategy', '<\"ALL\">');\n      strategy = 'ALL';\n    }\n    if (strategy !== 'FLUSH' && strategy !== 'SEEN' && strategy !== 'ALL') {\n      throw 'Argument \\'strategy\\' of baseclient.cache must be one of ' + '[\"FLUSH\", \"SEEN\", \"ALL\"]';\n    }\n    this.storage.caching.set(this.makePath(path), strategy);\n    return this;\n  },\n\n  flush: function flush(path) {\n    return this.storage.local.flush(path);\n  },\n\n  makePath: function makePath(path) {\n    return this.base + (path || '');\n  },\n\n  _fireChange: function _fireChange(event) {\n    if (config.changeEvents[event.origin]) {\n      ['new', 'old', 'lastCommon'].forEach(function (fieldNamePrefix) {\n        if (!event[fieldNamePrefix + 'ContentType'] || /^application\\/(.*)json(.*)/.exec(event[fieldNamePrefix + 'ContentType'])) {\n          if (typeof event[fieldNamePrefix + 'Value'] === 'string') {\n            try {\n              event[fieldNamePrefix + 'Value'] = JSON.parse(event[fieldNamePrefix + 'Value']);\n            } catch (e) {}\n          }\n        }\n      });\n      this._emit('change', event);\n    }\n  },\n\n  _cleanPath: util.cleanPath,\n\n  /**\n   * Method: getItemURL\n   *\n   * Retrieve full URL of item\n   *\n   * Parameters:\n   *   path     - Path relative to the module root.\n   */\n  getItemURL: function getItemURL(path) {\n    if (typeof path !== 'string') {\n      throw 'Argument \\'path\\' of baseClient.getItemURL must be a string';\n    }\n    if (this.storage.connected) {\n      path = this._cleanPath(this.makePath(path));\n      return this.storage.remote.href + path;\n    } else {\n      return undefined;\n    }\n  },\n\n  uuid: function uuid() {\n    return _uuid();\n  }\n\n};\n\n/**\n * Method: RS#scope\n *\n * Returns a new <RS.BaseClient> scoped to the given path.\n *\n * Parameters:\n *   path - Root path of new BaseClient.\n *\n *\n * Example:\n *   (start code)\n *\n *   var foo = remoteStorage.scope('/foo/');\n *\n *   // PUTs data \"baz\" to path /foo/bar\n *   foo.storeFile('text/plain', 'bar', 'baz');\n *\n *   var something = foo.scope('something/');\n *\n *   // GETs listing from path /foo/something/bla/\n *   something.getListing('bla/');\n *\n *   (end code)\n *\n */\nBaseClient._rs_init = function () {};\n\n/* e.g.:\nremoteStorage.defineModule('locations', function (priv, pub) {\n  return {\n    exports: {\n      features: priv.scope('features/').defaultType('feature'),\n      collections: priv.scope('collections/').defaultType('feature-collection');\n    }\n  };\n});\n*/\n\n// Defined in baseclient/types.js\n/**\n * Method: declareType\n *\n * Declare a remoteStorage object type using a JSON schema. See\n * <BaseClient.Types>\n **/\n\nmodule.exports = BaseClient;\n\n// needs to be after the export to change prototype\n// this should be different (we need to import `types` functionality, not modifing BaseClient.prototype from there)\n__webpack_require__(23);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYmFzZWNsaWVudC5qcz9jMDk1Il0sIm5hbWVzIjpbImRlcHJlY2F0ZSIsInRoaW5nIiwicmVwbGFjZW1lbnQiLCJjb25zb2xlIiwibG9nIiwiZXZlbnRIYW5kbGluZyIsInJlcXVpcmUiLCJ1dGlsIiwiY29uZmlnIiwidXVpZCIsIkJhc2VDbGllbnQiLCJzdG9yYWdlIiwiYmFzZSIsImxlbmd0aCIsIm1ha2VQYXRoIiwicGF0aCIsInBhcnRzIiwic3BsaXQiLCJtb2R1bGVOYW1lIiwib24iLCJiaW5kIiwib25DaGFuZ2UiLCJfZmlyZUNoYW5nZSIsInByb3RvdHlwZSIsImV4dGVuZCIsIm9iamVjdCIsImtleSIsInNjb3BlIiwiZ2V0TGlzdGluZyIsIm1heEFnZSIsIlByb21pc2UiLCJyZWplY3QiLCJnZXQiLCJ0aGVuIiwiciIsInN0YXR1c0NvZGUiLCJib2R5IiwiZ2V0QWxsIiwia2V5cyIsIk9iamVjdCIsImNhbGxzIiwibWFwIiwibyIsIkpTT04iLCJwYXJzZSIsImUiLCJhbGwiLCJnZXRGaWxlIiwiZGF0YSIsImNvbnRlbnRUeXBlIiwicmV2aXNpb24iLCJzdG9yZUZpbGUiLCJtaW1lVHlwZSIsImFjY2VzcyIsImNoZWNrUGF0aFBlcm1pc3Npb24iLCJ3YXJuIiwicHV0IiwiZ2V0T2JqZWN0Iiwic3RvcmVPYmplY3QiLCJ0eXBlQWxpYXMiLCJfYXR0YWNoVHlwZSIsInZhbGlkYXRpb25SZXN1bHQiLCJ2YWxpZGF0ZSIsInZhbGlkIiwiZXhjIiwic3RyaW5naWZ5IiwicmVtb3ZlIiwiZGVsZXRlIiwiY2FjaGUiLCJzdHJhdGVneSIsInVuZGVmaW5lZCIsImNhY2hpbmciLCJzZXQiLCJmbHVzaCIsImxvY2FsIiwiZXZlbnQiLCJjaGFuZ2VFdmVudHMiLCJvcmlnaW4iLCJmb3JFYWNoIiwiZmllbGROYW1lUHJlZml4IiwiZXhlYyIsIl9lbWl0IiwiX2NsZWFuUGF0aCIsImNsZWFuUGF0aCIsImdldEl0ZW1VUkwiLCJjb25u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UyxDQUNWO0FBQ0Y7QUFDRjtBQUNGLE9BVkQ7QUFXQSxXQUFLb0MsS0FBTCxDQUFXLFFBQVgsRUFBcUJOLEtBQXJCO0FBQ0Q7QUFDRixHQWxib0I7O0FBb2JyQk8sY0FBWTNFLEtBQUs0RSxTQXBiSTs7QUFzYnJCOzs7Ozs7OztBQVFBQyxjQUFZLG9CQUFVckUsSUFBVixFQUFnQjtBQUMxQixRQUFJLE9BQU9BLElBQVAsS0FBaUIsUUFBckIsRUFBK0I7QUFDN0IsWUFBTSw2REFBTjtBQUNEO0FBQ0QsUUFBSSxLQUFLSixPQUFMLENBQWEwRSxTQUFqQixFQUE0QjtBQUMxQnRFLGFBQU8sS0FBS21FLFVBQUwsQ0FBaUIsS0FBS3BFLFFBQUwsQ0FBY0MsSUFBZCxDQUFqQixDQUFQO0FBQ0EsYUFBTyxLQUFLSixPQUFMLENBQWEyRSxNQUFiLENBQW9CQyxJQUFwQixHQUEyQnhFLElBQWxDO0FBQ0QsS0FIRCxNQUdPO0FBQ0wsYUFBT3VELFNBQVA7QUFDRDtBQUNGLEdBeGNvQjs7QUEwY3JCN0QsUUFBTSxnQkFBWTtBQUNoQixXQUFPQSxPQUFQO0FBQ0Q7O0FBNWNvQixDQUF2Qjs7QUFnZEE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUF5QkFDLFdBQVc4RSxRQUFYLEdBQXNCLFlBQVksQ0FFakMsQ0FGRDs7QUFJQTs7Ozs7Ozs7Ozs7QUFXQTtBQUNBOzs7Ozs7O0FBT0ZDLE9BQU9DLE9BQVAsR0FBaUJoRixVQUFqQjs7QUFFQTtBQUNBO0FBQ0EsbUJBQUFKLENBQVEsRUFBUiIsImZpbGUiOiI2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG4gIGZ1bmN0aW9uIGRlcHJlY2F0ZSh0aGluZywgcmVwbGFjZW1lbnQpIHtcbiAgICBjb25zb2xlLmxvZygnV0FSTklORzogJyArIHRoaW5nICsgJyBpcyBkZXByZWNhdGVkLiBVc2UgJyArXG4gICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQgKyAnIGluc3RlYWQuJyk7XG4gIH1cblxuICB2YXIgZXZlbnRIYW5kbGluZyA9IHJlcXVpcmUoJy4vZXZlbnRoYW5kbGluZycpO1xuICB2YXIgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuICB2YXIgY29uZmlnID0gcmVxdWlyZSgnLi9jb25maWcnKTtcbiAgdmFyIHV1aWQgPSByZXF1aXJlKCd1dWlkL3Y0Jyk7XG5cblxuICAvKipcbiAgICogQ2xhc3M6IEJhc2VDbGllbnRcbiAgICpcbiAgICogUHJvdmlkZXMgYSBoaWdoLWxldmVsIGludGVyZmFjZSB0byBhY2Nlc3MgZGF0YSBiZWxvdyBhIGdpdmVuIHJvb3QgcGF0aC5cbiAgICpcbiAgICogQSBCYXNlQ2xpZW50IGRlYWxzIHdpdGggdGhyZWUgdHlwZXMgb2YgZGF0YTogZm9sZGVycywgb2JqZWN0cyBhbmQgZmlsZXMuXG4gICAqXG4gICAqIDxnZXRMaXN0aW5nPiByZXR1cm5zIGEgbWFwcGluZyBvZiBhbGwgaXRlbXMgd2l0aGluIGEgZm9sZGVyLiBJdGVtcyB0aGF0XG4gICAqIGVuZCB3aXRoIGEgZm9yd2FyZCBzbGFzaCAoXCIvXCIpIGFyZSBjaGlsZCBmb2xkZXJzLiBGb3IgaW5zdGFuY2U6XG4gICAqIHtcbiAgICogICAnZm9sZGVyLyc6IHRydWUsXG4gICAqICAgJ2RvY3VtZW50LnR4dCc6IHRydWVcbiAgICogfVxuICAgKlxuICAgKiA8Z2V0T2JqZWN0PiAvIDxzdG9yZU9iamVjdD4gb3BlcmF0ZSBvbiBKU09OIG9iamVjdHMuIEVhY2ggb2JqZWN0IGhhcyBhIHR5cGUuXG4gICAqXG4gICAqIDxnZXRGaWxlPiAvIDxzdG9yZUZpbGU+IG9wZXJhdGVzIG9uIGZpbGVzLiBFYWNoIGZpbGUgaGFzIGEgTUlNRSB0eXBlLlxuICAgKlxuICAgKiA8cmVtb3ZlPiBvcGVyYXRlcyBvbiBlaXRoZXIgb2JqZWN0cyBvciBmaWxlcyAoYnV0IG5vdCBmb2xkZXJzLCBmb2xkZXJzIGFyZVxuICAgKiBjcmVhdGVkIGFuZCByZW1vdmVkIGltcGxpY3RseSkuXG4gICAqL1xuICB2YXIgQmFzZUNsaWVudCA9IGZ1bmN0aW9uIChzdG9yYWdlLCBiYXNlKSB7XG4gICAgaWYgKGJhc2VbYmFzZS5sZW5ndGggLSAxXSAhPT0gJy8nKSB7XG4gICAgICB0aHJvdyBcIk5vdCBhIGZvbGRlcjogXCIgKyBiYXNlO1xuICAgIH1cblxuICAgIGlmIChiYXNlID09PSAnLycpIHtcbiAgICAgIC8vIGFsbG93IGFic29sdXRlIGFuZCByZWxhdGl2ZSBwYXRocyBmb3IgdGhlIHJvb3Qgc2NvcGUuXG4gICAgICB0aGlzLm1ha2VQYXRoID0gZnVuY3Rpb24gKHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIChwYXRoWzBdID09PSAnLycgPyAnJyA6ICcvJykgKyBwYXRoO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eTogc3RvcmFnZVxuICAgICAqXG4gICAgICogVGhlIDxSZW1vdGVTdG9yYWdlPiBpbnN0YW5jZSB0aGlzIDxCYXNlQ2xpZW50PiBvcGVyYXRlcyBvbi5cbiAgICAgKi9cbiAgICB0aGlzLnN0b3JhZ2UgPSBzdG9yYWdlO1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydHk6IGJhc2VcbiAgICAgKlxuICAgICAqIEJhc2UgcGF0aCB0aGlzIDxCYXNlQ2xpZW50PiBvcGVyYXRlcyBvbi5cbiAgICAgKlxuICAgICAqIEZvciB0aGUgbW9kdWxlJ3MgcHJpdmF0ZUNsaWVudCB0aGlzIHdvdWxkIGJlIC88bW9kdWxlTmFtZT4vLCBmb3IgdGhlXG4gICAgICogY29ycmVzcG9uZGluZyBwdWJsaWNDbGllbnQgL3B1YmxpYy88bW9kdWxlTmFtZT4vLlxuICAgICAqL1xuICAgIHRoaXMuYmFzZSA9IGJhc2U7XG5cbiAgICB2YXIgcGFydHMgPSB0aGlzLmJhc2Uuc3BsaXQoJy8nKTtcbiAgICBpZiAocGFydHMubGVuZ3RoID4gMikge1xuICAgICAgdGhpcy5tb2R1bGVOYW1lID0gcGFydHNbMV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubW9kdWxlTmFtZSA9ICdyb290JztcbiAgICB9XG5cbiAgICAvLyBEZWZpbmVkIGluIGJhc2VjbGllbnQvdHlwZXMuanNcbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eTogc2NoZW1hc1xuICAgICAqXG4gICAgICogQ29udGFpbnMgc2NoZW1hIG9iamVjdHMgb2YgYWxsIHR5cGVzIGtub3duIHRvIHRoZSBCYXNlQ2xpZW50IGluc3RhbmNlXG4gICAgICoqL1xuXG4gICAgLyoqXG4gICAgICogRXZlbnQ6IGNoYW5nZVxuICAgICAqXG4gICAgICogRW1pdHRlZCB3aGVuIGEgbm9kZSBjaGFuZ2VzXG4gICAgICpcbiAgICAgKiBBcmd1bWVudHM6XG4gICAgICogICBldmVudCAtIEV2ZW50IG9iamVjdCBjb250YWluaW5nIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjaGFuZ2VkIG5vZGVcbiAgICAgKlxuICAgICAqIChzdGFydCBjb2RlKVxuICAgICAqIHtcbiAgICAgKiAgICBwYXRoOiBwYXRoLCAvLyBBYnNvbHV0ZSBwYXRoIG9mIHRoZSBjaGFuZ2VkIG5vZGUsIGZyb20gdGhlIHN0b3JhZ2Ugcm9vdFxuICAgICAqICAgIHJlbGF0aXZlUGF0aDogcmVsYXRpdmVQYXRoLCAvLyBQYXRoIG9mIHRoZSBjaGFuZ2VkIG5vZGUsIHJlbGF0aXZlIHRvIHRoaXMgYmFzZWNsaWVudCdzIHNjb3BlIHJvb3RcbiAgICAgKiAgICBvcmlnaW46ICd3aW5kb3cnLCAnbG9jYWwnLCAncmVtb3RlJywgb3IgJ2NvbmZsaWN0JyAvLyBlbWl0dGVkIGJ5IHVzZXIgYWN0aW9uIHdpdGhpbiB0aGUgYXBwLCBsb2NhbCBkYXRhIHN0b3JlLCByZW1vdGUgc3luYywgb3IgdmVyc2lvbmluZyBjb25mbGljdHNcbiAgICAgKiAgICBvbGRWYWx1ZTogb2xkQm9keSwgLy8gT2xkIGJvZHkgb2YgdGhlIGNoYW5nZWQgbm9kZSAobG9jYWwgdmVyc2lvbiBpbiBjb25mbGljdHM7IHVuZGVmaW5lZCBpZiBjcmVhdGlvbilcbiAgICAgKiAgICBuZXdWYWx1ZTogbmV3Qm9keSwgLy8gTmV3IGJvZHkgb2YgdGhlIGNoYW5nZWQgbm9kZSAocmVtb3RlIHZlcnNpb24gaW4gY29uZmxpY3RzOyB1bmRlZmluZWQgaWYgZGVsZXRpb24pXG4gICAgICogICAgbGFzdENvbW1vblZhbHVlOiBsYXN0Q29tbW9uVmFsdWUsIC8vbW9zdCByZWNlbnQga25vd24gY29tbW9uIGFuY2VzdG9yIGJvZHkgb2YgJ3lvdXJzJyBhbmQgJ3RoZWlycycgaW4gY2FzZSBvZiBjb25mbGljdFxuICAgICAqICAgIG9sZENvbnRlbnRUeXBlOiBvbGRDb250ZW50VHlwZSwgLy8gT2xkIGNvbnRlbnRUeXBlIG9mIHRoZSBjaGFuZ2VkIG5vZGUgKCd5b3VycycgZm9yIGNvbmZsaWN0czsgdW5kZWZpbmVkIGlmIGNyZWF0aW9uKVxuICAgICAqICAgIG5ld0NvbnRlbnRUeXBlOiBuZXdDb250ZW50VHlwZSwgLy8gTmV3IGNvbnRlbnRUeXBlIG9mIHRoZSBjaGFuZ2VkIG5vZGUgKCd0aGVpcnMnIGZvciBjb25mbGljdHM7IHVuZGVmaW5lZCBpZiBkZWxldGlvbilcbiAgICAgKiAgICBsYXN0Q29tbW9uQ29udGVudFR5cGU6IGxhc3RDb21tb25Db250ZW50VHlwZSAvLyBNb3N0IHJlY2VudCBrbm93biBjb21tb24gYW5jZXN0b3IgY29udGVudFR5cGUgb2YgJ3lvdXJzJyBhbmQgJ3RoZWlycycgaW4gY2FzZSBvZiBjb25mbGljdFxuICAgICAqICB9XG4gICAgICogKGVuZCBjb2RlKVxuICAgICAqXG4gICAgICogRXhhbXBsZSBvZiBhbiBldmVudCB3aXRoIG9yaWdpbiAnbG9jYWwnIChmaXJlZCBvbiBwYWdlIGxvYWQpOlxuICAgICAqXG4gICAgICogKHN0YXJ0IGNvZGUpXG4gICAgICoge1xuICAgICAqICAgIHBhdGg6ICcvcHVibGljL2Rlc2lnbi9jb2xvci50eHQnLFxuICAgICAqICAgIHJlbGF0aXZlUGF0aDogJ2NvbG9yLnR4dCcsXG4gICAgICogICAgb3JpZ2luOiAnbG9jYWwnLFxuICAgICAqICAgIG9sZFZhbHVlOiB1bmRlZmluZWQsXG4gICAgICogICAgbmV3VmFsdWU6ICd3aGl0ZScsXG4gICAgICogICAgb2xkQ29udGVudFR5cGU6IHVuZGVmaW5lZCxcbiAgICAgKiAgICBuZXdDb250ZW50VHlwZTogJ3RleHQvcGxhaW4nXG4gICAgICogIH1cbiAgICAgKiAoZW5kIGNvZGUpXG4gICAgICpcbiAgICAgKiBFeGFtcGxlIG9mIGEgY29uZmxpY3Q6XG4gICAgICogU2F5IHlvdSBjaGFuZ2VkICdjb2xvci50eHQnIGZyb20gJ3doaXRlJyB0byAnYmx1ZSc7IGlmIHlvdSBoYXZlIHNldCBgY29uZmlnLmNoYW5nZUV2ZW50cy53aW5kb3dgIHRvIGB0cnVlYCxcbiAgICAgKiB0aGVuIHlvdSB3aWxsIHJlY2VpdmU6XG4gICAgICpcbiAgICAgKiAoc3RhcnQgY29kZSlcbiAgICAgKiB7XG4gICAgICogICAgcGF0aDogJy9wdWJsaWMvZGVzaWduL2NvbG9yLnR4dCcsXG4gICAgICogICAgcmVsYXRpdmVQYXRoOiAnY29sb3IudHh0JyxcbiAgICAgKiAgICBvcmlnaW46ICd3aW5kb3cnLFxuICAgICAqICAgIG9sZFZhbHVlOiAnd2hpdGUnLFxuICAgICAqICAgIG5ld1ZhbHVlOiAnYmx1ZScsXG4gICAgICogICAgb2xkQ29udGVudFR5cGU6ICd0ZXh0L3BsYWluJyxcbiAgICAgKiAgICBuZXdDb250ZW50VHlwZTogJ3RleHQvcGxhaW4nXG4gICAgICogIH1cbiAgICAgKiAoZW5kIGNvZGUpXG4gICAgICpcbiAgICAgKiBCdXQgd2hlbiB0aGlzIGNoYW5nZSBpcyBwdXNoZWQgb3V0IGJ5IGFzeW5jaHJvbm91cyBzeW5jaHJvbml6YXRpb24sIHRoaXMgY2hhbmdlIG1heSByZWplY3RlZCBieSB0aGVcbiAgICAgKiBzZXJ2ZXIsIGlmIHRoZSByZW1vdGUgdmVyc2lvbiBoYXMgaW4gdGhlIG1lYW50aW1lIGNoYW5nZWQgZnJvbSAnd2hpdGUnIHRvICBmb3IgaW5zdGFuY2UgJ3JlZCc7IHRoaXMgd2lsbCB0aGVuIGxlYWQgdG8gYSBjaGFuZ2VcbiAgICAgKiBldmVudCB3aXRoIG9yaWdpbiAnY29uZmxpY3QnICh1c3VhbGx5IGEgZmV3IHNlY29uZHMgYWZ0ZXIgdGhlIGV2ZW50IHdpdGggb3JpZ2luICd3aW5kb3cnLCBpZiB5b3UgaGFkIHRoYXQgYWN0aXZhdGVkKS4gTm90ZVxuICAgICAqIHRoYXQgc2luY2UgeW91IGFscmVhZHkgY2hhbmdlZCBpdCBmcm9tICd3aGl0ZScgdG8gJ2JsdWUnIGluIHRoZSBsb2NhbCB2ZXJzaW9uIGEgZmV3IHNlY29uZHMgYWdvLCBgb2xkVmFsdWVgIGlzIG5vdyB5b3VyIGxvY2FsXG4gICAgICogdmFsdWUgb2YgJ2JsdWUnOlxuICAgICAqXG4gICAgICogKHN0YXJ0IGNvZGUpXG4gICAgICoge1xuICAgICAqICAgIHBhdGg6ICcvcHVibGljL2Rlc2lnbi9jb2xvci50eHQnLFxuICAgICAqICAgIHJlbGF0aXZlUGF0aDogJ2NvbG9yLnR4dCcsXG4gICAgICogICAgb3JpZ2luOiAnY29uZmxpY3QnLFxuICAgICAqICAgIG9sZFZhbHVlOiAnYmx1ZScsXG4gICAgICogICAgbmV3VmFsdWU6ICdyZWQnLFxuICAgICAqICAgIGxhc3RDb21tb25WYWx1ZTogJ3doaXRlJyxcbiAgICAgKiAgICBvbGRDb250ZW50VHlwZTogJ3RleHQvcGxhaW4sXG4gICAgICogICAgbmV3Q29udGVudFR5cGU6ICd0ZXh0L3BsYWluJ1xuICAgICAqICAgIGxhc3RDb21tb25Db250ZW50VHlwZTogJ3RleHQvcGxhaW4nXG4gICAgICogIH1cbiAgICAgKiAoZW5kIGNvZGUpXG4gICAgICpcbiAgICAgKiBJbiBwcmFjdGljZSwgeW91IHNob3VsZCBhbHdheXMgcmVkcmF3IHlvdXIgdmlld3MgdG8gZGlzcGxheSB0aGUgY29udGVudCBvZiB0aGUgYG5ld1ZhbHVlYCBmaWVsZCB3aGVuIGEgY2hhbmdlIGV2ZW50IGlzIHJlY2VpdmVkLFxuICAgICAqIHJlZ2FyZGxlc3Mgb2YgaXRzIG9yaWdpbi4gRXZlbnRzIHdpdGggb3JpZ2luICdsb2NhbCcgYXJlIGZpcmVkIGNvbnZlbmllbnRseSBkdXJpbmcgdGhlIHBhZ2UgbG9hZCwgc28gdGhhdCB5b3UgY2FuIGZpbGwgeW91ciB2aWV3c1xuICAgICAqIHdoZW4gdGhlIHBhZ2UgbG9hZHMuIEV2ZW50cyB3aXRoIG9yaWdpbiAnd2luZG93JyBhcmUgZmlyZWQgd2hlbmV2ZXIgeW91IGNoYW5nZSBhIHZhbHVlIGJ5IGNhbGxpbmcgYSBtZXRob2Qgb24gdGhlIGJhc2VDbGllbnQ7XG4gICAgICogdGhlc2UgYXJlIGRpc2FibGVkIGJ5IGRlZmF1bHQuIEV2ZW50cyB3aXRoIG9yaWdpbiAncmVtb3RlJyBhcmUgZmlyZWQgd2hlbiByZW1vdGUgY2hhbmdlcyBhcmUgZGlzY292ZXJlZCBkdXJpbmcgc3luYyAob25seSBmb3IgY2FjaGluZ1xuICAgICAqIHN0YXJ0ZWdpZXMgJ1NFRU4nIGFuZCAnQUxMJykuIEV2ZW50cyB3aXRoIG9yaWdpbiAnY29uZmxpY3QnIGFyZSBmaXJlZCB3aGVuIGEgY29uZmxpY3Qgb2NjdXJzIHdoaWxlIHB1c2hpbmcgb3V0IHlvdXIgbG9jYWwgY2hhbmdlcyB0b1xuICAgICAqIHRoZSByZW1vdGUgc3RvcmUgaW4gYXN5bmNocm9ub3VzIHN5bmNocm9uaXphdGlvbiAoc2VlIGV4YW1wbGUgYWJvdmUpLlxuICAgICAqKi9cblxuICAgIGV2ZW50SGFuZGxpbmcodGhpcywgJ2NoYW5nZScpO1xuICAgIHRoaXMub24gPSB0aGlzLm9uLmJpbmQodGhpcyk7XG4gICAgc3RvcmFnZS5vbkNoYW5nZSh0aGlzLmJhc2UsIHRoaXMuX2ZpcmVDaGFuZ2UuYmluZCh0aGlzKSk7XG4gIH07XG5cbiAgQmFzZUNsaWVudC5wcm90b3R5cGUgPSB7XG5cbiAgICBleHRlbmQ6IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgdGhpc1trZXldID0gb2JqZWN0W2tleV07XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kOiBzY29wZVxuICAgICAqXG4gICAgICogUmV0dXJucyBhIG5ldyA8QmFzZUNsaWVudD4gb3BlcmF0aW5nIG9uIGEgc3VicGF0aCBvZiB0aGUgY3VycmVudCA8YmFzZT4gcGF0aC5cbiAgICAgKi9cbiAgICBzY29wZTogZnVuY3Rpb24gKHBhdGgpIHtcbiAgICAgIHJldHVybiBuZXcgQmFzZUNsaWVudCh0aGlzLnN0b3JhZ2UsIHRoaXMubWFrZVBhdGgocGF0aCkpO1xuICAgIH0sXG5cbiAgICAvLyBmb2xkZXIgb3BlcmF0aW9uc1xuXG4gICAgLyoqXG4gICAgICogTWV0aG9kOiBnZXRMaXN0aW5nXG4gICAgICpcbiAgICAgKiBHZXQgYSBsaXN0IG9mIGNoaWxkIG5vZGVzIGJlbG93IGEgZ2l2ZW4gcGF0aC5cbiAgICAgKlxuICAgICAqIFRoZSBjYWxsYmFjayBzZW1hbnRpY3Mgb2YgZ2V0TGlzdGluZyBhcmUgaWRlbnRpY2FsIHRvIHRob3NlIG9mIGdldE9iamVjdC5cbiAgICAgKlxuICAgICAqIFBhcmFtZXRlcnM6XG4gICAgICogICBwYXRoICAgLSBUaGUgcGF0aCB0byBxdWVyeS4gSXQgTVVTVCBlbmQgd2l0aCBhIGZvcndhcmQgc2xhc2guXG4gICAgICogICBtYXhBZ2UgLSBFaXRoZXIgZmFsc2Ugb3IgdGhlIG1heGltdW0gYWdlIG9mIGNhY2hlZCBsaXN0aW5nIGluXG4gICAgICogICAgICAgICAgICBtaWxsaXNlY29uZHMuIERlZmF1bHRzIHRvIGZhbHNlIGluIGFub255bW91cyBtb2RlIGFuZCB0b1xuICAgICAqICAgICAgICAgICAgMipzeW5jSW50ZXJ2YWwgaW4gY29ubmVjdGVkIG1vZGUuXG4gICAgICpcbiAgICAgKiBSZXR1cm5zOlxuICAgICAqXG4gICAgICogICBBIHByb21pc2UgZm9yIGFuIG9iamVjdCwgcmVwcmVzZW50aW5nIGNoaWxkIG5vZGVzLiBJZiB0aGUgbWF4QWdlXG4gICAgICogICByZXF1aXJlbWVudCBjYW5ub3QgYmUgbWV0IGJlY2F1c2Ugb2YgbmV0d29yayBwcm9ibGVtcywgdGhpcyBwcm9taXNlXG4gICAgICogICB3aWxsIGJlIHJlamVjdGVkLiBJZiB0aGUgbWF4QWdlIHJlcXVpcmVtZW50IGlzIHNldCB0byBmYWxzZSBvciB0aGVcbiAgICAgKiAgIGxpYnJhcnkgaXMgaW4gb2ZmbGluZSBzdGF0ZSwgdGhlIHByb21pc2Ugd2lsbCBhbHdheXMgYmUgZnVsZmlsbGVkIHdpdGhcbiAgICAgKiAgIGRhdGEgZnJvbSB0aGUgbG9jYWwgc3RvcmUuXG4gICAgICpcbiAgICAgKiAgIEtleXMgZW5kaW5nIGluIGEgZm9yd2FyZCBzbGFzaCByZXByZXNlbnQgKmZvbGRlciBub2RlcyosIHdoaWxlIGFsbFxuICAgICAqICAgb3RoZXIga2V5cyByZXByZXNlbnQgKmRhdGEgbm9kZXMqLlxuICAgICAqXG4gICAgICogICBGb3Igc3BlYyB2ZXJzaW9ucyA8PSAwMSwgdGhlIGRhdGEgbm9kZSBpbmZvcm1hdGlvbiB3aWxsIGNvbnRhaW4gb25seVxuICAgICAqICAgdGhlIGl0ZW0ncyBFVGFnLiBGb3IgbGF0ZXIgc3BlYyB2ZXJzaW9ucywgaXQgd2lsbCBhbHNvIGNvbnRhaW4gdGhlXG4gICAgICogICBjb250ZW50IHR5cGUgYW5kIC1sZW5ndGggb2YgdGhlIGl0ZW0uXG4gICAgICpcbiAgICAgKiBFeGFtcGxlOlxuICAgICAqICAgKHN0YXJ0IGNvZGUpXG4gICAgICogICBjbGllbnQuZ2V0TGlzdGluZygnJywgZmFsc2UpLnRoZW4oZnVuY3Rpb24gKGxpc3RpbmcpIHtcbiAgICAgKiAgICAgLy8gbGlzdGluZyBpcyBmb3IgaW5zdGFuY2U6XG4gICAgICogICAgIC8vIHtcbiAgICAgKiAgICAgLy8gICAnZm9sZGVyLyc6IHRydWUsXG4gICAgICogICAgIC8vICAgJ2RvY3VtZW50LnR4dCc6IHRydWVcbiAgICAgKiAgICAgLy8gfVxuICAgICAqICAgfSk7XG4gICAgICogICAoZW5kIGNvZGUpXG4gICAgICovXG4gICAgZ2V0TGlzdGluZzogZnVuY3Rpb24gKHBhdGgsIG1heEFnZSkge1xuICAgICAgaWYgKHR5cGVvZihwYXRoKSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcGF0aCA9ICcnO1xuICAgICAgfSBlbHNlIGlmIChwYXRoLmxlbmd0aCA+IDAgJiYgcGF0aFtwYXRoLmxlbmd0aCAtIDFdICE9PSAnLycpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiTm90IGEgZm9sZGVyOiBcIiArIHBhdGgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuc3RvcmFnZS5nZXQodGhpcy5tYWtlUGF0aChwYXRoKSwgbWF4QWdlKS50aGVuKFxuICAgICAgICBmdW5jdGlvbiAocikge1xuICAgICAgICAgIHJldHVybiAoci5zdGF0dXNDb2RlID09PSA0MDQpID8ge30gOiByLmJvZHk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1ldGhvZDogZ2V0QWxsXG4gICAgICpcbiAgICAgKiBHZXQgYWxsIG9iamVjdHMgZGlyZWN0bHkgYmVsb3cgYSBnaXZlbiBwYXRoLlxuICAgICAqXG4gICAgICogUGFyYW1ldGVyczpcbiAgICAgKiAgIHBhdGggICAtIFBhdGggdG8gdGhlIGZvbGRlci5cbiAgICAgKiAgIG1heEFnZSAtIEVpdGhlciBmYWxzZSBvciB0aGUgbWF4aW11bSBhZ2Ugb2YgY2FjaGVkIG9iamVjdHMgaW5cbiAgICAgKiAgICAgICAgICAgIG1pbGxpc2Vjb25kcy4gRGVmYXVsdHMgdG8gZmFsc2UgaW4gYW5vbnltb3VzIG1vZGUgYW5kIHRvXG4gICAgICogICAgICAgICAgICAyKnN5bmNJbnRlcnZhbCBpbiBjb25uZWN0ZWQgbW9kZS5cbiAgICAgKlxuICAgICAqIFJldHVybnM6XG4gICAgICogICBBIHByb21pc2UgZm9yIGFuIG9iamVjdCBpbiB0aGUgZm9ybSB7IHBhdGggOiBvYmplY3QsIC4uLiB9LiBJZiB0aGVcbiAgICAgKiAgIG1heEFnZSByZXF1aXJlbWVudCBjYW5ub3QgYmUgbWV0IGJlY2F1c2Ugb2YgbmV0d29yayBwcm9ibGVtcywgdGhpc1xuICAgICAqICAgcHJvbWlzZSB3aWxsIGJlIHJlamVjdGVkLiBJZiB0aGUgbWF4QWdlIHJlcXVpcmVtZW50IGlzIHNldCB0byBmYWxzZSxcbiAgICAgKiAgIHRoZSBwcm9taXNlIHdpbGwgYWx3YXlzIGJlIGZ1bGZpbGxlZCB3aXRoIGRhdGEgZnJvbSB0aGUgbG9jYWwgc3RvcmUuXG4gICAgICpcbiAgICAgKiAgIEZvciBpdGVtcyB0aGF0IGFyZSBub3QgSlNPTi1zdHJpbmdpZmllZCBvYmplY3RzIChlLmcuIHN0b3JlZCB1c2luZ1xuICAgICAqICAgYHN0b3JlRmlsZWAgaW5zdGVhZCBvZiBgc3RvcmVPYmplY3RgKSwgdGhlIG9iamVjdCdzIHZhbHVlIGlzIGZpbGxlZCBpblxuICAgICAqICAgd2l0aCBgdHJ1ZWAuXG4gICAgICpcbiAgICAgKiBFeGFtcGxlOlxuICAgICAqICAgKHN0YXJ0IGNvZGUpXG4gICAgICogICBjbGllbnQuZ2V0QWxsKCcnLCBmYWxzZSkudGhlbihmdW5jdGlvbiAob2JqZWN0cykge1xuICAgICAqICAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0cykge1xuICAgICAqICAgICAgIGNvbnNvbGUubG9nKCctICcgKyBrZXkgKyAnOiAnLCBvYmplY3RzW2tleV0pO1xuICAgICAqICAgICB9XG4gICAgICogICB9KTtcbiAgICAgKiAgIChlbmQgY29kZSlcbiAgICAgKi9cbiAgICBnZXRBbGw6IGZ1bmN0aW9uIChwYXRoLCBtYXhBZ2UpIHtcbiAgICAgIGlmICh0eXBlb2YocGF0aCkgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHBhdGggPSAnJztcbiAgICAgIH0gZWxzZSBpZiAocGF0aC5sZW5ndGggPiAwICYmIHBhdGhbcGF0aC5sZW5ndGggLSAxXSAhPT0gJy8nKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcIk5vdCBhIGZvbGRlcjogXCIgKyBwYXRoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuc3RvcmFnZS5nZXQodGhpcy5tYWtlUGF0aChwYXRoKSwgbWF4QWdlKS50aGVuKGZ1bmN0aW9uIChyKSB7XG4gICAgICAgIGlmIChyLnN0YXR1c0NvZGUgPT09IDQwNCkgeyByZXR1cm4ge307IH1cbiAgICAgICAgaWYgKHR5cGVvZihyLmJvZHkpID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoci5ib2R5KTtcbiAgICAgICAgICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIC8vIHRyZWF0IHRoaXMgbGlrZSA0MDQuIGl0IHByb2JhYmx5IG1lYW5zIGEgZm9sZGVyIGxpc3RpbmcgdGhhdFxuICAgICAgICAgICAgLy8gaGFzIGNoYW5nZXMgdGhhdCBoYXZlbid0IGJlZW4gcHVzaGVkIG91dCB5ZXQuXG4gICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIGNhbGxzID0ga2V5cy5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RvcmFnZS5nZXQodGhpcy5tYWtlUGF0aChwYXRoICsga2V5KSwgbWF4QWdlKVxuICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAobykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Yoby5ib2R5KSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIG8uYm9keSA9IEpTT04ucGFyc2Uoby5ib2R5KTtcbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZihvLmJvZHkpID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgci5ib2R5W2tleV0gPSBvLmJvZHk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChjYWxscykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gci5ib2R5O1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LmJpbmQodGhpcykpO1xuICAgIH0sXG5cbiAgICAvLyBmaWxlIG9wZXJhdGlvbnNcblxuICAgIC8qKlxuICAgICAqIE1ldGhvZDogZ2V0RmlsZVxuICAgICAqXG4gICAgICogR2V0IHRoZSBmaWxlIGF0IHRoZSBnaXZlbiBwYXRoLiBBIGZpbGUgaXMgcmF3IGRhdGEsIGFzIG9wcG9zZWQgdG9cbiAgICAgKiBhIEpTT04gb2JqZWN0ICh1c2UgPGdldE9iamVjdD4gZm9yIHRoYXQpLlxuICAgICAqXG4gICAgICogRXhjZXB0IGZvciB0aGUgcmV0dXJuIHZhbHVlIHN0cnVjdHVyZSwgZ2V0RmlsZSB3b3JrcyBleGFjdGx5IGxpa2VcbiAgICAgKiBnZXRPYmplY3QuXG4gICAgICpcbiAgICAgKiBQYXJhbWV0ZXJzOlxuICAgICAqICAgcGF0aCAgIC0gU2VlIGdldE9iamVjdC5cbiAgICAgKiAgIG1heEFnZSAtIEVpdGhlciBmYWxzZSBvciB0aGUgbWF4aW11bSBhZ2Ugb2YgY2FjaGVkIGZpbGUgaW5cbiAgICAgKiAgICAgICAgICAgIG1pbGxpc2Vjb25kcy4gRGVmYXVsdHMgdG8gZmFsc2UgaW4gYW5vbnltb3VzIG1vZGUgYW5kIHRvXG4gICAgICogICAgICAgICAgICAyKnN5bmNJbnRlcnZhbCBpbiBjb25uZWN0ZWQgbW9kZS5cbiAgICAgKlxuICAgICAqIFJldHVybnM6XG4gICAgICogICBBIHByb21pc2UgZm9yIGFuIG9iamVjdDpcbiAgICAgKlxuICAgICAqICAgbWltZVR5cGUgLSBTdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBNSU1FIFR5cGUgb2YgdGhlIGRvY3VtZW50LlxuICAgICAqICAgZGF0YSAgICAgLSBSYXcgZGF0YSBvZiB0aGUgZG9jdW1lbnQgKGVpdGhlciBhIHN0cmluZyBvciBhbiBBcnJheUJ1ZmZlcilcbiAgICAgKlxuICAgICAqICAgSWYgdGhlIG1heEFnZSByZXF1aXJlbWVudCBjYW5ub3QgYmUgbWV0IGJlY2F1c2Ugb2YgbmV0d29yayBwcm9ibGVtcywgdGhpc1xuICAgICAqICAgcHJvbWlzZSB3aWxsIGJlIHJlamVjdGVkLiBJZiB0aGUgbWF4QWdlIHJlcXVpcmVtZW50IGlzIHNldCB0byBmYWxzZSwgdGhlXG4gICAgICogICBwcm9taXNlIHdpbGwgYWx3YXlzIGJlIGZ1bGZpbGxlZCB3aXRoIGRhdGEgZnJvbSB0aGUgbG9jYWwgc3RvcmUuXG4gICAgICpcbiAgICAgKiBFeGFtcGxlOlxuICAgICAqICAgKHN0YXJ0IGNvZGUpXG4gICAgICogICAvLyBEaXNwbGF5IGFuIGltYWdlOlxuICAgICAqICAgY2xpZW50LmdldEZpbGUoJ3BhdGgvdG8vc29tZS9pbWFnZScsIGZhbHNlKS50aGVuKGZ1bmN0aW9uIChmaWxlKSB7XG4gICAgICogICAgIHZhciBibG9iID0gbmV3IEJsb2IoW2ZpbGUuZGF0YV0sIHsgdHlwZTogZmlsZS5taW1lVHlwZSB9KTtcbiAgICAgKiAgICAgdmFyIHRhcmdldEVsZW1lbnQgPSBkb2N1bWVudC5maW5kRWxlbWVudEJ5SWQoJ215LWltYWdlLWVsZW1lbnQnKTtcbiAgICAgKiAgICAgdGFyZ2V0RWxlbWVudC5zcmMgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgKiAgIH0pO1xuICAgICAqICAgKGVuZCBjb2RlKVxuICAgICAqL1xuICAgIGdldEZpbGU6IGZ1bmN0aW9uIChwYXRoLCBtYXhBZ2UpIHtcbiAgICAgIGlmICh0eXBlb2YocGF0aCkgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnQXJndW1lbnQgXFwncGF0aFxcJyBvZiBiYXNlQ2xpZW50LmdldEZpbGUgbXVzdCBiZSBhIHN0cmluZycpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuc3RvcmFnZS5nZXQodGhpcy5tYWtlUGF0aChwYXRoKSwgbWF4QWdlKS50aGVuKGZ1bmN0aW9uIChyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZGF0YTogci5ib2R5LFxuICAgICAgICAgIGNvbnRlbnRUeXBlOiByLmNvbnRlbnRUeXBlLFxuICAgICAgICAgIHJldmlzaW9uOiByLnJldmlzaW9uIC8vICh0aGlzIGlzIG5ldylcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNZXRob2Q6IHN0b3JlRmlsZVxuICAgICAqXG4gICAgICogU3RvcmUgcmF3IGRhdGEgYXQgYSBnaXZlbiBwYXRoLlxuICAgICAqXG4gICAgICogUGFyYW1ldGVyczpcbiAgICAgKiAgIG1pbWVUeXBlIC0gTUlNRSBtZWRpYSB0eXBlIG9mIHRoZSBkYXRhIGJlaW5nIHN0b3JlZFxuICAgICAqICAgcGF0aCAgICAgLSBwYXRoIHJlbGF0aXZlIHRvIHRoZSBtb2R1bGUgcm9vdC4gTUFZIE5PVCBlbmQgaW4gYSBmb3J3YXJkIHNsYXNoLlxuICAgICAqICAgZGF0YSAgICAgLSBzdHJpbmcsIEFycmF5QnVmZmVyIG9yIEFycmF5QnVmZmVyVmlldyBvZiByYXcgZGF0YSB0byBzdG9yZVxuICAgICAqXG4gICAgICogVGhlIGdpdmVuIG1pbWVUeXBlIHdpbGwgbGF0ZXIgYmUgcmV0dXJuZWQsIHdoZW4gcmV0cmlldmluZyB0aGUgZGF0YVxuICAgICAqIHVzaW5nIDxnZXRGaWxlPi5cbiAgICAgKlxuICAgICAqIEV4YW1wbGUgKFVURi04IGRhdGEpOlxuICAgICAqICAgKHN0YXJ0IGNvZGUpXG4gICAgICogICBjbGllbnQuc3RvcmVGaWxlKCd0ZXh0L2h0bWwnLCAnaW5kZXguaHRtbCcsICc8aDE+SGVsbG8gV29ybGQhPC9oMT4nKTtcbiAgICAgKiAgIChlbmQgY29kZSlcbiAgICAgKlxuICAgICAqIEV4YW1wbGUgKEJpbmFyeSBkYXRhKTpcbiAgICAgKiAgIChzdGFydCBjb2RlKVxuICAgICAqICAgLy8gTUFSS1VQOlxuICAgICAqICAgPGlucHV0IHR5cGU9XCJmaWxlXCIgaWQ9XCJmaWxlLWlucHV0XCI+XG4gICAgICogICAvLyBDT0RFOlxuICAgICAqICAgdmFyIGlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbGUtaW5wdXQnKTtcbiAgICAgKiAgIHZhciBmaWxlID0gaW5wdXQuZmlsZXNbMF07XG4gICAgICogICB2YXIgZmlsZVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICpcbiAgICAgKiAgIGZpbGVSZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAqICAgICBjbGllbnQuc3RvcmVGaWxlKGZpbGUudHlwZSwgZmlsZS5uYW1lLCBmaWxlUmVhZGVyLnJlc3VsdCk7XG4gICAgICogICB9O1xuICAgICAqXG4gICAgICogICBmaWxlUmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGZpbGUpO1xuICAgICAqICAgKGVuZCBjb2RlKVxuICAgICAqXG4gICAgICovXG4gICAgc3RvcmVGaWxlOiBmdW5jdGlvbiAobWltZVR5cGUsIHBhdGgsIGJvZHkpIHtcbiAgICAgIGlmICh0eXBlb2YobWltZVR5cGUpICE9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ0FyZ3VtZW50IFxcJ21pbWVUeXBlXFwnIG9mIGJhc2VDbGllbnQuc3RvcmVGaWxlIG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YocGF0aCkgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnQXJndW1lbnQgXFwncGF0aFxcJyBvZiBiYXNlQ2xpZW50LnN0b3JlRmlsZSBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mKGJvZHkpICE9PSAnc3RyaW5nJyAmJiB0eXBlb2YoYm9keSkgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnQXJndW1lbnQgXFwnYm9keVxcJyBvZiBiYXNlQ2xpZW50LnN0b3JlRmlsZSBtdXN0IGJlIGEgc3RyaW5nLCBBcnJheUJ1ZmZlciwgb3IgQXJyYXlCdWZmZXJWaWV3Jyk7XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuc3RvcmFnZS5hY2Nlc3MuY2hlY2tQYXRoUGVybWlzc2lvbih0aGlzLm1ha2VQYXRoKHBhdGgpLCAncncnKSkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1dBUk5JTkc6IEVkaXRpbmcgYSBkb2N1bWVudCB0byB3aGljaCBvbmx5IHJlYWQgYWNjZXNzIChcXCdyXFwnKSB3YXMgY2xhaW1lZCcpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5zdG9yYWdlLnB1dCh0aGlzLm1ha2VQYXRoKHBhdGgpLCBib2R5LCBtaW1lVHlwZSkudGhlbihmdW5jdGlvbiAocikge1xuICAgICAgICBpZiAoci5zdGF0dXNDb2RlID09PSAyMDAgfHwgci5zdGF0dXNDb2RlID09PSAyMDEpIHtcbiAgICAgICAgICByZXR1cm4gci5yZXZpc2lvbjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJSZXF1ZXN0IChQVVQgXCIgKyB0aGlzLm1ha2VQYXRoKHBhdGgpICsgXCIpIGZhaWxlZCB3aXRoIHN0YXR1czogXCIgKyByLnN0YXR1c0NvZGUpO1xuICAgICAgICB9XG4gICAgICB9LmJpbmQodGhpcykpO1xuICAgIH0sXG5cbiAgICAvLyBvYmplY3Qgb3BlcmF0aW9uc1xuXG4gICAgLyoqXG4gICAgICogTWV0aG9kOiBnZXRPYmplY3RcbiAgICAgKlxuICAgICAqIEdldCBhIEpTT04gb2JqZWN0IGZyb20gZ2l2ZW4gcGF0aC5cbiAgICAgKlxuICAgICAqIFBhcmFtZXRlcnM6XG4gICAgICogICBwYXRoICAgLSBSZWxhdGl2ZSBwYXRoIGZyb20gdGhlIG1vZHVsZSByb290ICh3aXRob3V0IGxlYWRpbmcgc2xhc2gpLlxuICAgICAqICAgbWF4QWdlIC0gRWl0aGVyIGZhbHNlIG9yIHRoZSBtYXhpbXVtIGFnZSBvZiBjYWNoZWQgb2JqZWN0IGluXG4gICAgICogICAgICAgICAgICBtaWxsaXNlY29uZHMuIERlZmF1bHRzIHRvIGZhbHNlIGluIGFub255bW91cyBtb2RlIGFuZCB0b1xuICAgICAqICAgICAgICAgICAgMipzeW5jSW50ZXJ2YWwgaW4gY29ubmVjdGVkIG1vZGUuXG4gICAgICpcbiAgICAgKiBSZXR1cm5zOlxuICAgICAqICAgQSBwcm9taXNlIGZvciB0aGUgb2JqZWN0LiBJZiB0aGUgbWF4QWdlIHJlcXVpcmVtZW50IGNhbm5vdCBiZSBtZXRcbiAgICAgKiAgIGJlY2F1c2Ugb2YgbmV0d29yayBwcm9ibGVtcywgdGhpcyBwcm9taXNlIHdpbGwgYmUgcmVqZWN0ZWQuIElmIHRoZVxuICAgICAqICAgbWF4QWdlIHJlcXVpcmVtZW50IGlzIHNldCB0byBmYWxzZSwgdGhlIHByb21pc2Ugd2lsbCBhbHdheXMgYmVcbiAgICAgKiAgIGZ1bGZpbGxlZCB3aXRoIGRhdGEgZnJvbSB0aGUgbG9jYWwgc3RvcmUuXG4gICAgICpcbiAgICAgKiBFeGFtcGxlOlxuICAgICAqICAgKHN0YXJ0IGNvZGUpXG4gICAgICogICBjbGllbnQuZ2V0T2JqZWN0KCcvcGF0aC90by9vYmplY3QnLCBmYWxzZSkuXG4gICAgICogICAgIHRoZW4oZnVuY3Rpb24gKG9iamVjdCkge1xuICAgICAqICAgICAgIC8vIG9iamVjdCBpcyBlaXRoZXIgYW4gb2JqZWN0IG9yIG51bGxcbiAgICAgKiAgICAgfSk7XG4gICAgICogICAoZW5kIGNvZGUpXG4gICAgICovXG4gICAgZ2V0T2JqZWN0OiBmdW5jdGlvbiAocGF0aCwgbWF4QWdlKSB7XG4gICAgICBpZiAodHlwZW9mKHBhdGgpICE9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ0FyZ3VtZW50IFxcJ3BhdGhcXCcgb2YgYmFzZUNsaWVudC5nZXRPYmplY3QgbXVzdCBiZSBhIHN0cmluZycpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuc3RvcmFnZS5nZXQodGhpcy5tYWtlUGF0aChwYXRoKSwgbWF4QWdlKS50aGVuKGZ1bmN0aW9uIChyKSB7XG4gICAgICAgIGlmICh0eXBlb2Yoci5ib2R5KSA9PT0gJ29iamVjdCcpIHsgLy8gd2lsbCBiZSB0aGUgY2FzZSBmb3IgZG9jdW1lbnRzIHN0b3JlZCB3aXRoIHJzLmpzIDw9IDAuMTAuMC1iZXRhMlxuICAgICAgICAgIHJldHVybiByLmJvZHk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mKHIuYm9keSkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHIuYm9keSk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhyb3cgXCJOb3QgdmFsaWQgSlNPTjogXCIgKyB0aGlzLm1ha2VQYXRoKHBhdGgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Yoci5ib2R5KSAhPT0gJ3VuZGVmaW5lZCcgJiYgci5zdGF0dXNDb2RlID09PSAyMDApIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJOb3QgYW4gb2JqZWN0OiBcIiArIHRoaXMubWFrZVBhdGgocGF0aCkpO1xuICAgICAgICB9XG4gICAgICB9LmJpbmQodGhpcykpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNZXRob2Q6IHN0b3JlT2JqZWN0XG4gICAgICpcbiAgICAgKiBTdG9yZSBvYmplY3QgYXQgZ2l2ZW4gcGF0aC4gVHJpZ2dlcnMgc3luY2hyb25pemF0aW9uLlxuICAgICAqXG4gICAgICogUGFyYW1ldGVyczpcbiAgICAgKlxuICAgICAqICAgdHlwZSAgICAgLSB1bmlxdWUgdHlwZSBvZiB0aGlzIG9iamVjdCB3aXRoaW4gdGhpcyBtb2R1bGUuIFNlZSBkZXNjcmlwdGlvbiBiZWxvdy5cbiAgICAgKiAgIHBhdGggICAgIC0gcGF0aCByZWxhdGl2ZSB0byB0aGUgbW9kdWxlIHJvb3QuXG4gICAgICogICBvYmplY3QgICAtIGFuIG9iamVjdCB0byBiZSBzYXZlZCB0byB0aGUgZ2l2ZW4gbm9kZS4gSXQgbXVzdCBiZSBzZXJpYWxpemFibGUgYXMgSlNPTi5cbiAgICAgKlxuICAgICAqIFJldHVybnM6XG4gICAgICogICBBIHByb21pc2UgdG8gc3RvcmUgdGhlIG9iamVjdC4gVGhlIHByb21pc2UgZmFpbHMgd2l0aCBhIFZhbGlkYXRpb25FcnJvciwgd2hlbiB2YWxpZGF0aW9ucyBmYWlsLlxuICAgICAqXG4gICAgICpcbiAgICAgKiBXaGF0IGFib3V0IHRoZSB0eXBlPzpcbiAgICAgKlxuICAgICAqICAgQSBncmVhdCB0aGluZyBhYm91dCBoYXZpbmcgZGF0YSBvbiB0aGUgd2ViLCBpcyB0byBiZSBhYmxlIHRvIGxpbmsgdG9cbiAgICAgKiAgIGl0IGFuZCByZWFycmFuZ2UgaXQgdG8gZml0IHRoZSBjdXJyZW50IGNpcmN1bXN0YW5jZXMuIFRvIGZhY2lsaXRhdGVcbiAgICAgKiAgIHRoYXQsIGV2ZW50dWFsbHkgeW91IG5lZWQgdG8ga25vdyBob3cgdGhlIGRhdGEgYXQgaGFuZCBpcyBzdHJ1Y3R1cmVkLlxuICAgICAqICAgRm9yIGRvY3VtZW50cyBvbiB0aGUgd2ViLCB0aGlzIGlzIHVzdWFsbHkgZG9uZSB2aWEgYSBNSU1FIHR5cGUuIFRoZVxuICAgICAqICAgTUlNRSB0eXBlIG9mIEpTT04gb2JqZWN0cyBob3dldmVyLCBpcyBhbHdheXMgYXBwbGljYXRpb24vanNvbi5cbiAgICAgKiAgIFRvIGFkZCB0aGF0IGV4dHJhIGxheWVyIG9mIFwia25vd2luZyB3aGF0IHRoaXMgb2JqZWN0IGlzXCIsIHJlbW90ZVN0b3JhZ2VcbiAgICAgKiAgIGFpbXMgdG8gdXNlIDxKU09OLUxEIGF0IGh0dHA6Ly9qc29uLWxkLm9yZy8+LlxuICAgICAqICAgQSBmaXJzdCBzdGVwIGluIHRoYXQgZGlyZWN0aW9uLCBpcyB0byBhZGQgYSAqQGNvbnRleHQgYXR0cmlidXRlKiB0byBhbGxcbiAgICAgKiAgIEpTT04gZGF0YSBwdXQgaW50byByZW1vdGVTdG9yYWdlLlxuICAgICAqICAgTm93IHRoYXQgaXMgd2hhdCB0aGUgKnR5cGUqIGlzIGZvci5cbiAgICAgKlxuICAgICAqICAgV2l0aGluIHJlbW90ZVN0b3JhZ2UuanMsIEBjb250ZXh0IHZhbHVlcyBhcmUgYnVpbHQgdXNpbmcgdGhyZWUgY29tcG9uZW50czpcbiAgICAgKiAgICAgaHR0cDovL3JlbW90ZXN0b3JhZ2UuaW8vc3BlYy9tb2R1bGVzLyAtIEEgcHJlZml4IHRvIGd1YXJhbnRlZSB1bmlxdWVuZXNzXG4gICAgICogICAgIHRoZSBtb2R1bGUgbmFtZSAgICAgLSBtb2R1bGUgbmFtZXMgc2hvdWxkIGJlIHVuaXF1ZSBhcyB3ZWxsXG4gICAgICogICAgIHRoZSB0eXBlIGdpdmVuIGhlcmUgLSBuYW1pbmcgdGhpcyBwYXJ0aWN1bGFyIGtpbmQgb2Ygb2JqZWN0IHdpdGhpbiB0aGlzIG1vZHVsZVxuICAgICAqXG4gICAgICogICBJbiByZXRyb3NwZWN0IHRoYXQgbWVhbnMsIHRoYXQgd2hlbmV2ZXIgeW91IGludHJvZHVjZSBhIG5ldyBcInR5cGVcIiBpbiBjYWxscyB0b1xuICAgICAqICAgc3RvcmVPYmplY3QsIHlvdSBzaG91bGQgbWFrZSBzdXJlIHRoYXQgb25jZSB5b3VyIGNvZGUgaXMgaW4gdGhlIHdpbGQsIGZ1dHVyZVxuICAgICAqICAgdmVyc2lvbnMgb2YgdGhlIGNvZGUgYXJlIGNvbXBhdGlibGUgd2l0aCB0aGUgc2FtZSBKU09OIHN0cnVjdHVyZS5cbiAgICAgKlxuICAgICAqIEhvdyB0byBkZWZpbmUgdHlwZXM/OlxuICAgICAqXG4gICAgICogICBTZWUgPGRlY2xhcmVUeXBlPiBmb3IgZXhhbXBsZXMuXG4gICAgICovXG4gICAgc3RvcmVPYmplY3Q6IGZ1bmN0aW9uICh0eXBlQWxpYXMsIHBhdGgsIG9iamVjdCkge1xuICAgICAgaWYgKHR5cGVvZih0eXBlQWxpYXMpICE9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ0FyZ3VtZW50IFxcJ3R5cGVBbGlhc1xcJyBvZiBiYXNlQ2xpZW50LnN0b3JlT2JqZWN0IG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YocGF0aCkgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnQXJndW1lbnQgXFwncGF0aFxcJyBvZiBiYXNlQ2xpZW50LnN0b3JlT2JqZWN0IG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2Yob2JqZWN0KSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdBcmd1bWVudCBcXCdvYmplY3RcXCcgb2YgYmFzZUNsaWVudC5zdG9yZU9iamVjdCBtdXN0IGJlIGFuIG9iamVjdCcpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9hdHRhY2hUeXBlKG9iamVjdCwgdHlwZUFsaWFzKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHZhbGlkYXRpb25SZXN1bHQgPSB0aGlzLnZhbGlkYXRlKG9iamVjdCk7XG4gICAgICAgIGlmICghIHZhbGlkYXRpb25SZXN1bHQudmFsaWQpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QodmFsaWRhdGlvblJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2goZXhjKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChleGMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5zdG9yYWdlLnB1dCh0aGlzLm1ha2VQYXRoKHBhdGgpLCBKU09OLnN0cmluZ2lmeShvYmplY3QpLCAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOCcpLnRoZW4oZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgaWYgKHIuc3RhdHVzQ29kZSA9PT0gMjAwIHx8IHIuc3RhdHVzQ29kZSA9PT0gMjAxKSB7XG4gICAgICAgICAgcmV0dXJuIHIucmV2aXNpb247XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiUmVxdWVzdCAoUFVUIFwiICsgdGhpcy5tYWtlUGF0aChwYXRoKSArIFwiKSBmYWlsZWQgd2l0aCBzdGF0dXM6IFwiICsgci5zdGF0dXNDb2RlKTtcbiAgICAgICAgfVxuICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICB9LFxuXG4gICAgLy8gZ2VuZXJpYyBvcGVyYXRpb25zXG5cbiAgICAvKipcbiAgICAgKiBNZXRob2Q6IHJlbW92ZVxuICAgICAqXG4gICAgICogUmVtb3ZlIG5vZGUgYXQgZ2l2ZW4gcGF0aCBmcm9tIHN0b3JhZ2UuIFRyaWdnZXJzIHN5bmNocm9uaXphdGlvbi5cbiAgICAgKlxuICAgICAqIFBhcmFtZXRlcnM6XG4gICAgICogICBwYXRoICAgICAtIFBhdGggcmVsYXRpdmUgdG8gdGhlIG1vZHVsZSByb290LlxuICAgICAqL1xuICAgIHJlbW92ZTogZnVuY3Rpb24gKHBhdGgpIHtcbiAgICAgIGlmICh0eXBlb2YocGF0aCkgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnQXJndW1lbnQgXFwncGF0aFxcJyBvZiBiYXNlQ2xpZW50LnJlbW92ZSBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuc3RvcmFnZS5hY2Nlc3MuY2hlY2tQYXRoUGVybWlzc2lvbih0aGlzLm1ha2VQYXRoKHBhdGgpLCAncncnKSkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1dBUk5JTkc6IFJlbW92aW5nIGEgZG9jdW1lbnQgdG8gd2hpY2ggb25seSByZWFkIGFjY2VzcyAoXFwnclxcJykgd2FzIGNsYWltZWQnKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuc3RvcmFnZS5kZWxldGUodGhpcy5tYWtlUGF0aChwYXRoKSk7XG4gICAgfSxcblxuXG4gICAgY2FjaGU6IGZ1bmN0aW9uIChwYXRoLCBzdHJhdGVneSkge1xuICAgICAgaWYgKHR5cGVvZihwYXRoKSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhyb3cgJ0FyZ3VtZW50IFxcJ3BhdGhcXCcgb2YgYmFzZUNsaWVudC5jYWNoZSBtdXN0IGJlIGEgc3RyaW5nJztcbiAgICAgIH1cbiAgICAgIGlmIChzdHJhdGVneSA9PT0gZmFsc2UpIHtcbiAgICAgICAgZGVwcmVjYXRlKCdjYWNoaW5nIHN0cmF0ZWd5IDxmYWxzZT4nLCAnPFwiRkxVU0hcIj4nKTtcbiAgICAgICAgc3RyYXRlZ3kgPSAnRkxVU0gnO1xuICAgICAgfSBlbHNlIGlmIChzdHJhdGVneSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHN0cmF0ZWd5ID0gJ0FMTCc7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZihzdHJhdGVneSkgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGRlcHJlY2F0ZSgndGhhdCBjYWNoaW5nIHN0cmF0ZWd5JywgJzxcIkFMTFwiPicpO1xuICAgICAgICBzdHJhdGVneSA9ICdBTEwnO1xuICAgICAgfVxuICAgICAgaWYgKHN0cmF0ZWd5ICE9PSAnRkxVU0gnICYmXG4gICAgICAgICAgc3RyYXRlZ3kgIT09ICdTRUVOJyAmJlxuICAgICAgICAgIHN0cmF0ZWd5ICE9PSAnQUxMJykge1xuICAgICAgICB0aHJvdyAnQXJndW1lbnQgXFwnc3RyYXRlZ3lcXCcgb2YgYmFzZWNsaWVudC5jYWNoZSBtdXN0IGJlIG9uZSBvZiAnXG4gICAgICAgICAgICArICdbXCJGTFVTSFwiLCBcIlNFRU5cIiwgXCJBTExcIl0nO1xuICAgICAgfVxuICAgICAgdGhpcy5zdG9yYWdlLmNhY2hpbmcuc2V0KHRoaXMubWFrZVBhdGgocGF0aCksIHN0cmF0ZWd5KTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBmbHVzaDogZnVuY3Rpb24gKHBhdGgpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0b3JhZ2UubG9jYWwuZmx1c2gocGF0aCk7XG4gICAgfSxcblxuICAgIG1ha2VQYXRoOiBmdW5jdGlvbiAocGF0aCkge1xuICAgICAgcmV0dXJuIHRoaXMuYmFzZSArIChwYXRoIHx8ICcnKTtcbiAgICB9LFxuXG4gICAgX2ZpcmVDaGFuZ2U6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgaWYgKGNvbmZpZy5jaGFuZ2VFdmVudHNbZXZlbnQub3JpZ2luXSkge1xuICAgICAgICBbJ25ldycsICdvbGQnLCAnbGFzdENvbW1vbiddLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkTmFtZVByZWZpeCkge1xuICAgICAgICAgIGlmICgoIWV2ZW50W2ZpZWxkTmFtZVByZWZpeCsnQ29udGVudFR5cGUnXSlcbiAgICAgICAgICAgICAgfHwgKC9eYXBwbGljYXRpb25cXC8oLiopanNvbiguKikvLmV4ZWMoZXZlbnRbZmllbGROYW1lUHJlZml4KydDb250ZW50VHlwZSddKSkpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YoZXZlbnRbZmllbGROYW1lUHJlZml4KydWYWx1ZSddKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBldmVudFtmaWVsZE5hbWVQcmVmaXgrJ1ZhbHVlJ10gPSBKU09OLnBhcnNlKGV2ZW50W2ZpZWxkTmFtZVByZWZpeCsnVmFsdWUnXSk7XG4gICAgICAgICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fZW1pdCgnY2hhbmdlJywgZXZlbnQpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBfY2xlYW5QYXRoOiB1dGlsLmNsZWFuUGF0aCxcblxuICAgIC8qKlxuICAgICAqIE1ldGhvZDogZ2V0SXRlbVVSTFxuICAgICAqXG4gICAgICogUmV0cmlldmUgZnVsbCBVUkwgb2YgaXRlbVxuICAgICAqXG4gICAgICogUGFyYW1ldGVyczpcbiAgICAgKiAgIHBhdGggICAgIC0gUGF0aCByZWxhdGl2ZSB0byB0aGUgbW9kdWxlIHJvb3QuXG4gICAgICovXG4gICAgZ2V0SXRlbVVSTDogZnVuY3Rpb24gKHBhdGgpIHtcbiAgICAgIGlmICh0eXBlb2YocGF0aCkgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93ICdBcmd1bWVudCBcXCdwYXRoXFwnIG9mIGJhc2VDbGllbnQuZ2V0SXRlbVVSTCBtdXN0IGJlIGEgc3RyaW5nJztcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnN0b3JhZ2UuY29ubmVjdGVkKSB7XG4gICAgICAgIHBhdGggPSB0aGlzLl9jbGVhblBhdGgoIHRoaXMubWFrZVBhdGgocGF0aCkgKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RvcmFnZS5yZW1vdGUuaHJlZiArIHBhdGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICB1dWlkOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdXVpZCgpO1xuICAgIH1cblxuICB9O1xuXG4gIC8qKlxuICAgKiBNZXRob2Q6IFJTI3Njb3BlXG4gICAqXG4gICAqIFJldHVybnMgYSBuZXcgPFJTLkJhc2VDbGllbnQ+IHNjb3BlZCB0byB0aGUgZ2l2ZW4gcGF0aC5cbiAgICpcbiAgICogUGFyYW1ldGVyczpcbiAgICogICBwYXRoIC0gUm9vdCBwYXRoIG9mIG5ldyBCYXNlQ2xpZW50LlxuICAgKlxuICAgKlxuICAgKiBFeGFtcGxlOlxuICAgKiAgIChzdGFydCBjb2RlKVxuICAgKlxuICAgKiAgIHZhciBmb28gPSByZW1vdGVTdG9yYWdlLnNjb3BlKCcvZm9vLycpO1xuICAgKlxuICAgKiAgIC8vIFBVVHMgZGF0YSBcImJhelwiIHRvIHBhdGggL2Zvby9iYXJcbiAgICogICBmb28uc3RvcmVGaWxlKCd0ZXh0L3BsYWluJywgJ2JhcicsICdiYXonKTtcbiAgICpcbiAgICogICB2YXIgc29tZXRoaW5nID0gZm9vLnNjb3BlKCdzb21ldGhpbmcvJyk7XG4gICAqXG4gICAqICAgLy8gR0VUcyBsaXN0aW5nIGZyb20gcGF0aCAvZm9vL3NvbWV0aGluZy9ibGEvXG4gICAqICAgc29tZXRoaW5nLmdldExpc3RpbmcoJ2JsYS8nKTtcbiAgICpcbiAgICogICAoZW5kIGNvZGUpXG4gICAqXG4gICAqL1xuICBCYXNlQ2xpZW50Ll9yc19pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgIFxuICB9O1xuXG4gIC8qIGUuZy46XG4gIHJlbW90ZVN0b3JhZ2UuZGVmaW5lTW9kdWxlKCdsb2NhdGlvbnMnLCBmdW5jdGlvbiAocHJpdiwgcHViKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGV4cG9ydHM6IHtcbiAgICAgICAgZmVhdHVyZXM6IHByaXYuc2NvcGUoJ2ZlYXR1cmVzLycpLmRlZmF1bHRUeXBlKCdmZWF0dXJlJyksXG4gICAgICAgIGNvbGxlY3Rpb25zOiBwcml2LnNjb3BlKCdjb2xsZWN0aW9ucy8nKS5kZWZhdWx0VHlwZSgnZmVhdHVyZS1jb2xsZWN0aW9uJyk7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG4gICovXG5cbiAgLy8gRGVmaW5lZCBpbiBiYXNlY2xpZW50L3R5cGVzLmpzXG4gIC8qKlxuICAgKiBNZXRob2Q6IGRlY2xhcmVUeXBlXG4gICAqXG4gICAqIERlY2xhcmUgYSByZW1vdGVTdG9yYWdlIG9iamVjdCB0eXBlIHVzaW5nIGEgSlNPTiBzY2hlbWEuIFNlZVxuICAgKiA8QmFzZUNsaWVudC5UeXBlcz5cbiAgICoqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IEJhc2VDbGllbnQ7XG5cbi8vIG5lZWRzIHRvIGJlIGFmdGVyIHRoZSBleHBvcnQgdG8gY2hhbmdlIHByb3RvdHlwZVxuLy8gdGhpcyBzaG91bGQgYmUgZGlmZmVyZW50ICh3ZSBuZWVkIHRvIGltcG9ydCBgdHlwZXNgIGZ1bmN0aW9uYWxpdHksIG5vdCBtb2RpZmluZyBCYXNlQ2xpZW50LnByb3RvdHlwZSBmcm9tIHRoZXJlKVxucmVxdWlyZSgnLi90eXBlcycpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9iYXNlY2xpZW50LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==")
},function(module,exports,__webpack_require__){
eval("'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar util = __webpack_require__(2);\nvar config = __webpack_require__(5);\nvar log = __webpack_require__(1);\n\n/**\n * Interface: cachinglayer\n *\n * This module defines functions that are mixed into remoteStorage.local when\n * it is instantiated (currently one of indexeddb.js, localstorage.js, or\n * inmemorystorage.js).\n *\n * All remoteStorage.local implementations should therefore implement\n * this.getNodes, this.setNodes, and this.forAllNodes. The rest is blended in\n * here to create a GPD (get/put/delete) interface which the BaseClient can\n * talk to.\n */\n\nvar isFolder = util.isFolder;\nvar isDocument = util.isDocument;\nvar deepClone = util.deepClone;\n\nfunction getLatest(node) {\n  if ((typeof node === 'undefined' ? 'undefined' : _typeof(node)) !== 'object' || typeof node.path !== 'string') {\n    return;\n  }\n  if (isFolder(node.path)) {\n    if (node.local && node.local.itemsMap) {\n      return node.local;\n    }\n    if (node.common && node.common.itemsMap) {\n      return node.common;\n    }\n  } else {\n    if (node.local && node.local.body && node.local.contentType) {\n      return node.local;\n    }\n    if (node.common && node.common.body && node.common.contentType) {\n      return node.common;\n    }\n    // Migration code! Once all apps use at least this version of the lib, we\n    // can publish clean-up code that migrates over any old-format data, and\n    // stop supporting it. For now, new apps will support data in both\n    // formats, thanks to this:\n    if (node.body && node.contentType) {\n      return {\n        body: node.body,\n        contentType: node.contentType\n      };\n    }\n  }\n}\n\nfunction isOutdated(nodes, maxAge) {\n  var path;\n  for (path in nodes) {\n    if (nodes[path] && nodes[path].remote) {\n      return true;\n    }\n    var nodeVersion = getLatest(nodes[path]);\n    if (nodeVersion && nodeVersion.timestamp && new Date().getTime() - nodeVersion.timestamp <= maxAge) {\n      return false;\n    } else if (!nodeVersion) {\n      return true;\n    }\n  }\n  return true;\n}\n\nvar pathsFromRoot = util.pathsFromRoot;\n\nfunction makeNode(path) {\n  var node = { path: path, common: {} };\n\n  if (isFolder(path)) {\n    node.common.itemsMap = {};\n  }\n  return node;\n}\n\nfunction updateFolderNodeWithItemName(node, itemName) {\n  if (!node.common) {\n    node.common = {\n      itemsMap: {}\n    };\n  }\n  if (!node.common.itemsMap) {\n    node.common.itemsMap = {};\n  }\n  if (!node.local) {\n    node.local = deepClone(node.common);\n  }\n  if (!node.local.itemsMap) {\n    node.local.itemsMap = node.common.itemsMap;\n  }\n  node.local.itemsMap[itemName] = true;\n\n  return node;\n}\n\nvar methods = {\n\n  // TODO: improve our code structure so that this function\n  // could call sync.queueGetRequest directly instead of needing\n  // this hacky third parameter as a callback\n  get: function get(path, maxAge, queueGetRequest) {\n    var self = this;\n    if (typeof maxAge === 'number') {\n      return self.getNodes(pathsFromRoot(path)).then(function (objs) {\n        var node = getLatest(objs[path]);\n        if (isOutdated(objs, maxAge)) {\n          return queueGetRequest(path);\n        } else if (node) {\n          return { statusCode: 200, body: node.body || node.itemsMap, contentType: node.contentType };\n        } else {\n          return { statusCode: 404 };\n        }\n      });\n    } else {\n      return self.getNodes([path]).then(function (objs) {\n        var node = getLatest(objs[path]);\n        if (node) {\n          if (isFolder(path)) {\n            for (var i in node.itemsMap) {\n              // the hasOwnProperty check here is only because our jshint settings require it:\n              if (node.itemsMap.hasOwnProperty(i) && node.itemsMap[i] === false) {\n                delete node.itemsMap[i];\n              }\n            }\n          }\n          return { statusCode: 200, body: node.body || node.itemsMap, contentType: node.contentType };\n        } else {\n          return { statusCode: 404 };\n        }\n      });\n    }\n  },\n\n  put: function put(path, body, contentType) {\n    var paths = pathsFromRoot(path);\n\n    function _processNodes(paths, nodes) {\n      try {\n        for (var i = 0, len = paths.length; i < len; i++) {\n          var path = paths[i];\n          var node = nodes[path];\n          var previous;\n\n          if (!node) {\n            nodes[path] = node = makeNode(path);\n          }\n\n          // Document\n          if (i === 0) {\n            previous = getLatest(node);\n            node.local = {\n              body: body,\n              contentType: contentType,\n              previousBody: previous ? previous.body : undefined,\n              previousContentType: previous ? previous.contentType : undefined\n            };\n          }\n          // Folder\n          else {\n              var itemName = paths[i - 1].substring(path.length);\n              node = updateFolderNodeWithItemName(node, itemName);\n            }\n        }\n        return nodes;\n      } catch (e) {\n        log('[Cachinglayer] Error during PUT', nodes, e);\n        throw e;\n      }\n    }\n    return this._updateNodes(paths, _processNodes);\n  },\n\n  delete: function _delete(path) {\n    var paths = pathsFromRoot(path);\n\n    return this._updateNodes(paths, function (paths, nodes) {\n      for (var i = 0, len = paths.length; i < len; i++) {\n        var path = paths[i];\n        var node = nodes[path];\n        var previous;\n\n        if (!node) {\n          throw new Error('Cannot delete non-existing node ' + path);\n        }\n\n        if (i === 0) {\n          // Document\n          previous = getLatest(node);\n          node.local = {\n            body: false,\n            previousBody: previous ? previous.body : undefined,\n            previousContentType: previous ? previous.contentType : undefined\n          };\n        } else {\n          // Folder\n          if (!node.local) {\n            node.local = deepClone(node.common);\n          }\n          var itemName = paths[i - 1].substring(path.length);\n          delete node.local.itemsMap[itemName];\n\n          if (Object.getOwnPropertyNames(node.local.itemsMap).length > 0) {\n            // This folder still contains other items, don't remove any further ancestors\n            break;\n          }\n        }\n      }\n      return nodes;\n    });\n  },\n  flush: function flush(path) {\n    var self = this;\n    return self._getAllDescendentPaths(path).then(function (paths) {\n      return self.getNodes(paths);\n    }).then(function (nodes) {\n      for (var path in nodes) {\n        var node = nodes[path];\n\n        if (node && node.common && node.local) {\n          self._emitChange({\n            path: node.path,\n            origin: 'local',\n            oldValue: node.local.body === false ? undefined : node.local.body,\n            newValue: node.common.body === false ? undefined : node.common.body\n          });\n        }\n        nodes[path] = undefined;\n      }\n      return self.setNodes(nodes);\n    });\n  },\n\n  _emitChange: function _emitChange(obj) {\n    if (config.changeEvents[obj.origin]) {\n      this._emit('change', obj);\n    }\n  },\n\n  fireInitial: function fireInitial() {\n    if (!config.changeEvents.local) {\n      return;\n    }\n    var self = this;\n    self.forAllNodes(function (node) {\n      var latest;\n      if (isDocument(node.path)) {\n        latest = getLatest(node);\n        if (latest) {\n          self._emitChange({\n            path: node.path,\n            origin: 'local',\n            oldValue: undefined,\n            oldContentType: undefined,\n            newValue: latest.body,\n            newContentType: latest.contentType\n          });\n        }\n      }\n    }).then(function () {\n      self._emit('local-events-done');\n    });\n  },\n\n  onDiff: function onDiff(diffHandler) {\n    this.diffHandler = diffHandler;\n  },\n\n  migrate: function migrate(node) {\n    if ((typeof node === 'undefined' ? 'undefined' : _typeof(node)) === 'object' && !node.common) {\n      node.common = {};\n      if (typeof node.path === 'string') {\n        if (node.path.substr(-1) === '/' && _typeof(node.body) === 'object') {\n          node.common.itemsMap = node.body;\n        }\n      } else {\n        //save legacy content of document node as local version\n        if (!node.local) {\n          node.local = {};\n        }\n        node.local.body = node.body;\n        node.local.contentType = node.contentType;\n      }\n    }\n    return node;\n  },\n\n  // FIXME\n  // this process of updating nodes needs to be heavily documented first, then\n  // refactored. Right now it's almost impossible to refactor as there's no\n  // explanation of why things are implemented certain ways or what the goal(s)\n  // of the behavior are. -slvrbckt (+1 -les)\n  _updateNodesRunning: false,\n  _updateNodesQueued: [],\n  _updateNodes: function _updateNodes(paths, _processNodes) {\n    return new Promise(function (resolve, reject) {\n      this._doUpdateNodes(paths, _processNodes, {\n        resolve: resolve,\n        reject: reject\n      });\n    }.bind(this));\n  },\n  _doUpdateNodes: function _doUpdateNodes(paths, _processNodes, promise) {\n    var self = this;\n\n    if (self._updateNodesRunning) {\n      self._updateNodesQueued.push({\n        paths: paths,\n        cb: _processNodes,\n        promise: promise\n      });\n      return;\n    } else {\n      self._updateNodesRunning = true;\n    }\n\n    self.getNodes(paths).then(function (nodes) {\n      var existingNodes = deepClone(nodes);\n      var changeEvents = [];\n      var node;\n      var equal = util.equal;\n\n      nodes = _processNodes(paths, nodes);\n\n      for (var path in nodes) {\n        node = nodes[path];\n        if (equal(node, existingNodes[path])) {\n          delete nodes[path];\n        } else if (isDocument(path)) {\n          if (!equal(node.local.body, node.local.previousBody) || node.local.contentType !== node.local.previousContentType) {\n            changeEvents.push({\n              path: path,\n              origin: 'window',\n              oldValue: node.local.previousBody,\n              newValue: node.local.body === false ? undefined : node.local.body,\n              oldContentType: node.local.previousContentType,\n              newContentType: node.local.contentType\n            });\n          }\n          delete node.local.previousBody;\n          delete node.local.previousContentType;\n        }\n      }\n\n      self.setNodes(nodes).then(function () {\n        self._emitChangeEvents(changeEvents);\n        promise.resolve({ statusCode: 200 });\n      });\n    }).then(function () {\n      return Promise.resolve();\n    }, function (err) {\n      promise.reject(err);\n    }).then(function () {\n      self._updateNodesRunning = false;\n      var nextJob = self._updateNodesQueued.shift();\n      if (nextJob) {\n        self._doUpdateNodes(nextJob.paths, nextJob.cb, nextJob.promise);\n      }\n    });\n  },\n\n  _emitChangeEvents: function _emitChangeEvents(events) {\n    for (var i = 0, len = events.length; i < len; i++) {\n      this._emitChange(events[i]);\n      if (this.diffHandler) {\n        this.diffHandler(events[i].path);\n      }\n    }\n  },\n\n  _getAllDescendentPaths: function _getAllDescendentPaths(path) {\n    var self = this;\n    if (isFolder(path)) {\n      return self.getNodes([path]).then(function (nodes) {\n        var allPaths = [path];\n        var latest = getLatest(nodes[path]);\n\n        var itemNames = Object.keys(latest.itemsMap);\n        var calls = itemNames.map(function (itemName) {\n          return self._getAllDescendentPaths(path + itemName).then(function (paths) {\n            for (var i = 0, len = paths.length; i < len; i++) {\n              allPaths.push(paths[i]);\n            }\n          });\n        });\n        return Promise.all(calls).then(function () {\n          return allPaths;\n        });\n      });\n    } else {\n      return Promise.resolve([path]);\n    }\n  },\n\n  _getInternals: function _getInternals() {\n    return {\n      getLatest: getLatest,\n      makeNode: makeNode,\n      isOutdated: isOutdated\n    };\n  }\n};\n\n/**\n * Function: cachingLayer\n *\n * Mixes common caching layer functionality into an object.\n *\n * The first parameter is always the object to be extended.\n *\n * Example:\n *   (start code)\n *   var MyConstructor = function () {\n *     cachingLayer(this);\n *   };\n *   (end code)\n */\nvar cachingLayer = function cachingLayer(object) {\n  for (var key in methods) {\n    object[key] = methods[key];\n  }\n};\n\nmodule.exports = cachingLayer;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY2FjaGluZ2xheWVyLmpzPzc5MjgiXSwibmFtZXMiOlsidXRpbCIsInJlcXVpcmUiLCJjb25maWciLCJsb2ciLCJpc0ZvbGRlciIsImlzRG9jdW1lbnQiLCJkZWVwQ2xvbmUiLCJnZXRMYXRlc3QiLCJub2RlIiwicGF0aCIsImxvY2FsIiwiaXRlbXNNYXAiLCJjb21tb24iLCJib2R5IiwiY29udGVudFR5cGUiLCJpc091dGRhdGVkIiwibm9kZXMiLCJtYXhBZ2UiLCJyZW1vdGUiLCJub2RlVmVyc2lvbiIsInRpbWVzdGFtcCIsIkRhdGUiLCJnZXRUaW1lIiwicGF0aHNGcm9tUm9vdCIsIm1ha2VOb2RlIiwidXBkYXRlRm9sZGVyTm9kZVdpdGhJdGVtTmFtZSIsIml0ZW1OYW1lIiwibWV0aG9kcyIsImdldCIsInF1ZXVlR2V0UmVxdWVzdCIsInNlbGYiLCJnZXROb2RlcyIsInRoZW4iLCJvYmpzIiwic3RhdHVzQ29kZSIsImkiLCJoYXNPd25Qcm9wZXJ0eSIsInB1dCIsInBhdGhzIiwiX3Byb2Nlc3NOb2RlcyIsImxlbiIsImxlbmd0aCIsInByZXZpb3VzIiwicHJldmlvdXNCb2R5IiwidW5kZWZpbmVkIiwicHJldmlvdXNDb250ZW50VHlwZSIsInN1YnN0cmluZyIsImUiLCJfdXBkYXRlTm9kZXMiLCJkZWxldGUiLCJFcnJvciIsIk9iamVjdCIsImdldE93blByb3BlcnR5TmFtZXMiLCJmbHVzaCIsIl9nZXRBbGxEZXNjZW5kZW50UGF0aHMiLCJfZW1pdENoYW5nZSIsIm9yaWdpbiIsIm9sZFZhbHVlIiwibmV3VmFsdWUiLCJzZXROb2RlcyIsIm9iaiIsImNoYW5nZUV2ZW50cyIsIl9lbWl0IiwiZmlyZUluaXRpYWwiLCJmb3JBbGxOb2RlcyIsImxhdGVzdCIsIm9sZENvbnRlbnRUeXBlIiwibmV3Q29udGVudFR5cGUiLCJvbkRpZmYiLCJkaWZmSGFuZGxlciIsIm1pZ3JhdGUiLCJzdWJzdHIiLCJfdXBkYXRlTm9kZXNSdW5uaW5nIiwiX3VwZGF0ZU5vZGVzUXVldWVkIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJfZG9VcGRhdGVOb2RlcyIsImJpbmQiLCJwcm9taXNlIiwicHVzaCIsImNiIiwiZXhpc3RpbmdOb2RlcyIsImVxdWFsIiwiX2VtaXRDaGFuZ2VFdmVudHMiLCJlcnIiLCJuZXh0Sm9iIiwic2hpZnQiLCJldmVudHMiLCJhbGxQYXRocyIsIml0ZW1OYW1lcyIsImtleXMiLCJjYWxscyIsIm1hcCIsImFsbCIsIl9nZXRJbnRlcm5hbHMiLCJjYWNoaW5nTGF5ZXIiLCJvYmplY3QiLCJrZXkiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUUsSUFBTUEsT0FBTyxtQkFBQUMsQ0FBUSxDQUFSLENBQWI7QUFDQSxJQUFNQyxTQUFTLG1CQUFBRCxDQUFRLENBQVIsQ0FBZjtBQUNBLElBQU1FLE1BQU0sbUJBQUFGLENBQVEsQ0FBUixDQUFaOztBQUdBOzs7Ozs7Ozs7Ozs7O0FBYUEsSUFBTUcsV0FBV0osS0FBS0ksUUFBdEI7QUFDQSxJQUFNQyxhQUFhTCxLQUFLSyxVQUF4QjtBQUNBLElBQU1DLFlBQVlOLEtBQUtNLFNBQXZCOztBQUVBLFNBQVNDLFNBQVQsQ0FBbUJDLElBQW5CLEVBQXlCO0FBQ3ZCLE1BQUksUUFBT0EsSUFBUCx5Q0FBT0EsSUFBUCxPQUFpQixRQUFqQixJQUE2QixPQUFPQSxLQUFLQyxJQUFaLEtBQXNCLFFBQXZELEVBQWlFO0FBQy9EO0FBQ0Q7QUFDRCxNQUFJTCxTQUFTSSxLQUFLQyxJQUFkLENBQUosRUFBeUI7QUFDdkIsUUFBSUQsS0FBS0UsS0FBTCxJQUFjRixLQUFLRSxLQUFMLENBQVdDLFFBQTdCLEVBQXVDO0FBQ3JDLGFBQU9ILEtBQUtFLEtBQVo7QUFDRDtBQUNELFFBQUlGLEtBQUtJLE1BQUwsSUFBZUosS0FBS0ksTUFBTCxDQUFZRCxRQUEvQixFQUF5QztBQUN2QyxhQUFPSCxLQUFLSSxNQUFaO0FBQ0Q7QUFDRixHQVBELE1BT087QUFDTCxRQUFJSixL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QUlpRixlQUFlLFNBQWZBLFlBQWUsQ0FBVUMsTUFBVixFQUFrQjtBQUNuQyxPQUFLLElBQUlDLEdBQVQsSUFBZ0J2RSxPQUFoQixFQUF5QjtBQUN2QnNFLFdBQU9DLEdBQVAsSUFBY3ZFLFFBQVF1RSxHQUFSLENBQWQ7QUFDRDtBQUNGLENBSkQ7O0FBTUFDLE9BQU9DLE9BQVAsR0FBaUJKLFlBQWpCIiwiZmlsZSI6IjcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgIGNvbnN0IHV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcbiAgY29uc3QgY29uZmlnID0gcmVxdWlyZSgnLi9jb25maWcnKTtcbiAgY29uc3QgbG9nID0gcmVxdWlyZSgnLi9sb2cnKTtcblxuXG4gIC8qKlxuICAgKiBJbnRlcmZhY2U6IGNhY2hpbmdsYXllclxuICAgKlxuICAgKiBUaGlzIG1vZHVsZSBkZWZpbmVzIGZ1bmN0aW9ucyB0aGF0IGFyZSBtaXhlZCBpbnRvIHJlbW90ZVN0b3JhZ2UubG9jYWwgd2hlblxuICAgKiBpdCBpcyBpbnN0YW50aWF0ZWQgKGN1cnJlbnRseSBvbmUgb2YgaW5kZXhlZGRiLmpzLCBsb2NhbHN0b3JhZ2UuanMsIG9yXG4gICAqIGlubWVtb3J5c3RvcmFnZS5qcykuXG4gICAqXG4gICAqIEFsbCByZW1vdGVTdG9yYWdlLmxvY2FsIGltcGxlbWVudGF0aW9ucyBzaG91bGQgdGhlcmVmb3JlIGltcGxlbWVudFxuICAgKiB0aGlzLmdldE5vZGVzLCB0aGlzLnNldE5vZGVzLCBhbmQgdGhpcy5mb3JBbGxOb2Rlcy4gVGhlIHJlc3QgaXMgYmxlbmRlZCBpblxuICAgKiBoZXJlIHRvIGNyZWF0ZSBhIEdQRCAoZ2V0L3B1dC9kZWxldGUpIGludGVyZmFjZSB3aGljaCB0aGUgQmFzZUNsaWVudCBjYW5cbiAgICogdGFsayB0by5cbiAgICovXG5cbiAgY29uc3QgaXNGb2xkZXIgPSB1dGlsLmlzRm9sZGVyO1xuICBjb25zdCBpc0RvY3VtZW50ID0gdXRpbC5pc0RvY3VtZW50O1xuICBjb25zdCBkZWVwQ2xvbmUgPSB1dGlsLmRlZXBDbG9uZTtcblxuICBmdW5jdGlvbiBnZXRMYXRlc3Qobm9kZSkge1xuICAgIGlmICh0eXBlb2Yobm9kZSkgIT09ICdvYmplY3QnIHx8IHR5cGVvZihub2RlLnBhdGgpICE9PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaXNGb2xkZXIobm9kZS5wYXRoKSkge1xuICAgICAgaWYgKG5vZGUubG9jYWwgJiYgbm9kZS5sb2NhbC5pdGVtc01hcCkge1xuICAgICAgICByZXR1cm4gbm9kZS5sb2NhbDtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlLmNvbW1vbiAmJiBub2RlLmNvbW1vbi5pdGVtc01hcCkge1xuICAgICAgICByZXR1cm4gbm9kZS5jb21tb247XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChub2RlLmxvY2FsICYmIG5vZGUubG9jYWwuYm9keSAmJiBub2RlLmxvY2FsLmNvbnRlbnRUeXBlKSB7XG4gICAgICAgIHJldHVybiBub2RlLmxvY2FsO1xuICAgICAgfVxuICAgICAgaWYgKG5vZGUuY29tbW9uICYmIG5vZGUuY29tbW9uLmJvZHkgJiYgbm9kZS5jb21tb24uY29udGVudFR5cGUpIHtcbiAgICAgICAgcmV0dXJuIG5vZGUuY29tbW9uO1xuICAgICAgfVxuICAgICAgLy8gTWlncmF0aW9uIGNvZGUhIE9uY2UgYWxsIGFwcHMgdXNlIGF0IGxlYXN0IHRoaXMgdmVyc2lvbiBvZiB0aGUgbGliLCB3ZVxuICAgICAgLy8gY2FuIHB1Ymxpc2ggY2xlYW4tdXAgY29kZSB0aGF0IG1pZ3JhdGVzIG92ZXIgYW55IG9sZC1mb3JtYXQgZGF0YSwgYW5kXG4gICAgICAvLyBzdG9wIHN1cHBvcnRpbmcgaXQuIEZvciBub3csIG5ldyBhcHBzIHdpbGwgc3VwcG9ydCBkYXRhIGluIGJvdGhcbiAgICAgIC8vIGZvcm1hdHMsIHRoYW5rcyB0byB0aGlzOlxuICAgICAgaWYgKG5vZGUuYm9keSAmJiBub2RlLmNvbnRlbnRUeXBlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgYm9keTogbm9kZS5ib2R5LFxuICAgICAgICAgIGNvbnRlbnRUeXBlOiBub2RlLmNvbnRlbnRUeXBlXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaXNPdXRkYXRlZChub2RlcywgbWF4QWdlKSB7XG4gICAgdmFyIHBhdGg7XG4gICAgZm9yIChwYXRoIGluIG5vZGVzKSB7XG4gICAgICBpZiAobm9kZXNbcGF0aF0gJiYgbm9kZXNbcGF0aF0ucmVtb3RlKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgdmFyIG5vZGVWZXJzaW9uID0gZ2V0TGF0ZXN0KG5vZGVzW3BhdGhdKTtcbiAgICAgIGlmIChub2RlVmVyc2lvbiAmJiBub2RlVmVyc2lvbi50aW1lc3RhbXAgJiYgKG5ldyBEYXRlKCkuZ2V0VGltZSgpKSAtIG5vZGVWZXJzaW9uLnRpbWVzdGFtcCA8PSBtYXhBZ2UpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSBlbHNlIGlmICghbm9kZVZlcnNpb24pIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgdmFyIHBhdGhzRnJvbVJvb3QgPSB1dGlsLnBhdGhzRnJvbVJvb3Q7XG5cbiAgZnVuY3Rpb24gbWFrZU5vZGUocGF0aCkge1xuICAgIHZhciBub2RlID0geyBwYXRoOiBwYXRoLCBjb21tb246IHsgfSB9O1xuXG4gICAgaWYgKGlzRm9sZGVyKHBhdGgpKSB7XG4gICAgICBub2RlLmNvbW1vbi5pdGVtc01hcCA9IHt9O1xuICAgIH1cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUZvbGRlck5vZGVXaXRoSXRlbU5hbWUobm9kZSwgaXRlbU5hbWUpIHtcbiAgICBpZiAoIW5vZGUuY29tbW9uKSB7XG4gICAgICBub2RlLmNvbW1vbiA9IHtcbiAgICAgICAgaXRlbXNNYXA6IHt9XG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoIW5vZGUuY29tbW9uLml0ZW1zTWFwKSB7XG4gICAgICBub2RlLmNvbW1vbi5pdGVtc01hcCA9IHt9O1xuICAgIH1cbiAgICBpZiAoIW5vZGUubG9jYWwpIHtcbiAgICAgIG5vZGUubG9jYWwgPSBkZWVwQ2xvbmUobm9kZS5jb21tb24pO1xuICAgIH1cbiAgICBpZiAoIW5vZGUubG9jYWwuaXRlbXNNYXApIHtcbiAgICAgIG5vZGUubG9jYWwuaXRlbXNNYXAgPSBub2RlLmNvbW1vbi5pdGVtc01hcDtcbiAgICB9XG4gICAgbm9kZS5sb2NhbC5pdGVtc01hcFtpdGVtTmFtZV0gPSB0cnVlO1xuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cblxuICB2YXIgbWV0aG9kcyA9IHtcblxuICAgIC8vIFRPRE86IGltcHJvdmUgb3VyIGNvZGUgc3RydWN0dXJlIHNvIHRoYXQgdGhpcyBmdW5jdGlvblxuICAgIC8vIGNvdWxkIGNhbGwgc3luYy5xdWV1ZUdldFJlcXVlc3QgZGlyZWN0bHkgaW5zdGVhZCBvZiBuZWVkaW5nXG4gICAgLy8gdGhpcyBoYWNreSB0aGlyZCBwYXJhbWV0ZXIgYXMgYSBjYWxsYmFja1xuICAgIGdldDogZnVuY3Rpb24gKHBhdGgsIG1heEFnZSwgcXVldWVHZXRSZXF1ZXN0KSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICBpZiAodHlwZW9mKG1heEFnZSkgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiBzZWxmLmdldE5vZGVzKHBhdGhzRnJvbVJvb3QocGF0aCkpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChvYmpzKSB7XG4gICAgICAgICAgdmFyIG5vZGUgPSBnZXRMYXRlc3Qob2Jqc1twYXRoXSk7XG4gICAgICAgICAgaWYgKGlzT3V0ZGF0ZWQob2JqcywgbWF4QWdlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHF1ZXVlR2V0UmVxdWVzdChwYXRoKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiB7c3RhdHVzQ29kZTogMjAwLCBib2R5OiBub2RlLmJvZHkgfHwgbm9kZS5pdGVtc01hcCwgY29udGVudFR5cGU6IG5vZGUuY29udGVudFR5cGV9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ge3N0YXR1c0NvZGU6IDQwNH07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzZWxmLmdldE5vZGVzKFtwYXRoXSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKG9ianMpIHtcbiAgICAgICAgICB2YXIgbm9kZSA9IGdldExhdGVzdChvYmpzW3BhdGhdKTtcbiAgICAgICAgICBpZiAobm9kZSkge1xuICAgICAgICAgICAgaWYgKGlzRm9sZGVyKHBhdGgpKSB7XG4gICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gbm9kZS5pdGVtc01hcCkge1xuICAgICAgICAgICAgICAgIC8vIHRoZSBoYXNPd25Qcm9wZXJ0eSBjaGVjayBoZXJlIGlzIG9ubHkgYmVjYXVzZSBvdXIganNoaW50IHNldHRpbmdzIHJlcXVpcmUgaXQ6XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuaXRlbXNNYXAuaGFzT3duUHJvcGVydHkoaSkgJiYgbm9kZS5pdGVtc01hcFtpXSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgIGRlbGV0ZSBub2RlLml0ZW1zTWFwW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtzdGF0dXNDb2RlOiAyMDAsIGJvZHk6IG5vZGUuYm9keSB8fCBub2RlLml0ZW1zTWFwLCBjb250ZW50VHlwZTogbm9kZS5jb250ZW50VHlwZX07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7c3RhdHVzQ29kZTogNDA0fTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBwdXQ6IGZ1bmN0aW9uIChwYXRoLCBib2R5LCBjb250ZW50VHlwZSkge1xuICAgICAgdmFyIHBhdGhzID0gcGF0aHNGcm9tUm9vdChwYXRoKTtcblxuICAgICAgZnVuY3Rpb24gX3Byb2Nlc3NOb2RlcyhwYXRocywgbm9kZXMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gcGF0aHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwYXRoID0gcGF0aHNbaV07XG4gICAgICAgICAgICB2YXIgbm9kZSA9IG5vZGVzW3BhdGhdO1xuICAgICAgICAgICAgdmFyIHByZXZpb3VzO1xuXG4gICAgICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICAgICAgbm9kZXNbcGF0aF0gPSBub2RlID0gbWFrZU5vZGUocGF0aCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIERvY3VtZW50XG4gICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgICBwcmV2aW91cyA9IGdldExhdGVzdChub2RlKTtcbiAgICAgICAgICAgICAgbm9kZS5sb2NhbCA9IHtcbiAgICAgICAgICAgICAgICBib2R5OiAgICAgICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAgICAgICAgIGNvbnRlbnRUeXBlLFxuICAgICAgICAgICAgICAgIHByZXZpb3VzQm9keTogICAgICAgIChwcmV2aW91cyA/IHByZXZpb3VzLmJvZHkgOiB1bmRlZmluZWQpLFxuICAgICAgICAgICAgICAgIHByZXZpb3VzQ29udGVudFR5cGU6IChwcmV2aW91cyA/IHByZXZpb3VzLmNvbnRlbnRUeXBlIDogdW5kZWZpbmVkKSxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEZvbGRlclxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIHZhciBpdGVtTmFtZSA9IHBhdGhzW2ktMV0uc3Vic3RyaW5nKHBhdGgubGVuZ3RoKTtcbiAgICAgICAgICAgICAgbm9kZSA9IHVwZGF0ZUZvbGRlck5vZGVXaXRoSXRlbU5hbWUobm9kZSwgaXRlbU5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbm9kZXM7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBsb2coJ1tDYWNoaW5nbGF5ZXJdIEVycm9yIGR1cmluZyBQVVQnLCBub2RlcywgZSk7XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZU5vZGVzKHBhdGhzLCBfcHJvY2Vzc05vZGVzKTtcbiAgICB9LFxuXG4gICAgZGVsZXRlOiBmdW5jdGlvbiAocGF0aCkge1xuICAgICAgdmFyIHBhdGhzID0gcGF0aHNGcm9tUm9vdChwYXRoKTtcblxuICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZU5vZGVzKHBhdGhzLCBmdW5jdGlvbiAocGF0aHMsIG5vZGVzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBwYXRocy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgIHZhciBwYXRoID0gcGF0aHNbaV07XG4gICAgICAgICAgdmFyIG5vZGUgPSBub2Rlc1twYXRoXTtcbiAgICAgICAgICB2YXIgcHJldmlvdXM7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBkZWxldGUgbm9uLWV4aXN0aW5nIG5vZGUgJytwYXRoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgIC8vIERvY3VtZW50XG4gICAgICAgICAgICBwcmV2aW91cyA9IGdldExhdGVzdChub2RlKTtcbiAgICAgICAgICAgIG5vZGUubG9jYWwgPSB7XG4gICAgICAgICAgICAgIGJvZHk6ICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICBwcmV2aW91c0JvZHk6ICAgICAgICAocHJldmlvdXMgPyBwcmV2aW91cy5ib2R5IDogdW5kZWZpbmVkKSxcbiAgICAgICAgICAgICAgcHJldmlvdXNDb250ZW50VHlwZTogKHByZXZpb3VzID8gcHJldmlvdXMuY29udGVudFR5cGUgOiB1bmRlZmluZWQpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEZvbGRlclxuICAgICAgICAgICAgaWYgKCFub2RlLmxvY2FsKSB7XG4gICAgICAgICAgICAgIG5vZGUubG9jYWwgPSBkZWVwQ2xvbmUobm9kZS5jb21tb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGl0ZW1OYW1lID0gcGF0aHNbaS0xXS5zdWJzdHJpbmcocGF0aC5sZW5ndGgpO1xuICAgICAgICAgICAgZGVsZXRlIG5vZGUubG9jYWwuaXRlbXNNYXBbaXRlbU5hbWVdO1xuXG4gICAgICAgICAgICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMobm9kZS5sb2NhbC5pdGVtc01hcCkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAvLyBUaGlzIGZvbGRlciBzdGlsbCBjb250YWlucyBvdGhlciBpdGVtcywgZG9uJ3QgcmVtb3ZlIGFueSBmdXJ0aGVyIGFuY2VzdG9yc1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vZGVzO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBmbHVzaDogZnVuY3Rpb24gKHBhdGgpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHJldHVybiBzZWxmLl9nZXRBbGxEZXNjZW5kZW50UGF0aHMocGF0aCkudGhlbihmdW5jdGlvbiAocGF0aHMpIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuZ2V0Tm9kZXMocGF0aHMpO1xuICAgICAgfSkudGhlbihmdW5jdGlvbiAobm9kZXMpIHtcbiAgICAgICAgZm9yICh2YXIgcGF0aCBpbiBub2Rlcykge1xuICAgICAgICAgIHZhciBub2RlID0gbm9kZXNbcGF0aF07XG5cbiAgICAgICAgICBpZiAobm9kZSAmJiBub2RlLmNvbW1vbiAmJiBub2RlLmxvY2FsKSB7XG4gICAgICAgICAgICBzZWxmLl9lbWl0Q2hhbmdlKHtcbiAgICAgICAgICAgICAgcGF0aDogICAgIG5vZGUucGF0aCxcbiAgICAgICAgICAgICAgb3JpZ2luOiAgICdsb2NhbCcsXG4gICAgICAgICAgICAgIG9sZFZhbHVlOiAobm9kZS5sb2NhbC5ib2R5ID09PSBmYWxzZSA/IHVuZGVmaW5lZCA6IG5vZGUubG9jYWwuYm9keSksXG4gICAgICAgICAgICAgIG5ld1ZhbHVlOiAobm9kZS5jb21tb24uYm9keSA9PT0gZmFsc2UgPyB1bmRlZmluZWQgOiBub2RlLmNvbW1vbi5ib2R5KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG5vZGVzW3BhdGhdID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWxmLnNldE5vZGVzKG5vZGVzKTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBfZW1pdENoYW5nZTogZnVuY3Rpb24gKG9iaikge1xuICAgICAgaWYgKGNvbmZpZy5jaGFuZ2VFdmVudHNbb2JqLm9yaWdpbl0pIHtcbiAgICAgICAgdGhpcy5fZW1pdCgnY2hhbmdlJywgb2JqKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgZmlyZUluaXRpYWw6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghY29uZmlnLmNoYW5nZUV2ZW50cy5sb2NhbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICBzZWxmLmZvckFsbE5vZGVzKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIHZhciBsYXRlc3Q7XG4gICAgICAgIGlmIChpc0RvY3VtZW50KG5vZGUucGF0aCkpIHtcbiAgICAgICAgICBsYXRlc3QgPSBnZXRMYXRlc3Qobm9kZSk7XG4gICAgICAgICAgaWYgKGxhdGVzdCkge1xuICAgICAgICAgICAgc2VsZi5fZW1pdENoYW5nZSh7XG4gICAgICAgICAgICAgIHBhdGg6ICAgICAgICAgICBub2RlLnBhdGgsXG4gICAgICAgICAgICAgIG9yaWdpbjogICAgICAgICAnbG9jYWwnLFxuICAgICAgICAgICAgICBvbGRWYWx1ZTogICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICBvbGRDb250ZW50VHlwZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICBuZXdWYWx1ZTogICAgICAgbGF0ZXN0LmJvZHksXG4gICAgICAgICAgICAgIG5ld0NvbnRlbnRUeXBlOiBsYXRlc3QuY29udGVudFR5cGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNlbGYuX2VtaXQoJ2xvY2FsLWV2ZW50cy1kb25lJyk7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgb25EaWZmOiBmdW5jdGlvbiAoZGlmZkhhbmRsZXIpIHtcbiAgICAgIHRoaXMuZGlmZkhhbmRsZXIgPSBkaWZmSGFuZGxlcjtcbiAgICB9LFxuXG4gICAgbWlncmF0ZTogZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIGlmICh0eXBlb2Yobm9kZSkgPT09ICdvYmplY3QnICYmICFub2RlLmNvbW1vbikge1xuICAgICAgICBub2RlLmNvbW1vbiA9IHt9O1xuICAgICAgICBpZiAodHlwZW9mKG5vZGUucGF0aCkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgaWYgKG5vZGUucGF0aC5zdWJzdHIoLTEpID09PSAnLycgJiYgdHlwZW9mKG5vZGUuYm9keSkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBub2RlLmNvbW1vbi5pdGVtc01hcCA9IG5vZGUuYm9keTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy9zYXZlIGxlZ2FjeSBjb250ZW50IG9mIGRvY3VtZW50IG5vZGUgYXMgbG9jYWwgdmVyc2lvblxuICAgICAgICAgIGlmICghbm9kZS5sb2NhbCkge1xuICAgICAgICAgICAgbm9kZS5sb2NhbCA9IHt9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBub2RlLmxvY2FsLmJvZHkgPSBub2RlLmJvZHk7XG4gICAgICAgICAgbm9kZS5sb2NhbC5jb250ZW50VHlwZSA9IG5vZGUuY29udGVudFR5cGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBub2RlO1xuICAgIH0sXG5cbiAgICAvLyBGSVhNRVxuICAgIC8vIHRoaXMgcHJvY2VzcyBvZiB1cGRhdGluZyBub2RlcyBuZWVkcyB0byBiZSBoZWF2aWx5IGRvY3VtZW50ZWQgZmlyc3QsIHRoZW5cbiAgICAvLyByZWZhY3RvcmVkLiBSaWdodCBub3cgaXQncyBhbG1vc3QgaW1wb3NzaWJsZSB0byByZWZhY3RvciBhcyB0aGVyZSdzIG5vXG4gICAgLy8gZXhwbGFuYXRpb24gb2Ygd2h5IHRoaW5ncyBhcmUgaW1wbGVtZW50ZWQgY2VydGFpbiB3YXlzIG9yIHdoYXQgdGhlIGdvYWwocylcbiAgICAvLyBvZiB0aGUgYmVoYXZpb3IgYXJlLiAtc2x2cmJja3QgKCsxIC1sZXMpXG4gICAgX3VwZGF0ZU5vZGVzUnVubmluZzogZmFsc2UsXG4gICAgX3VwZGF0ZU5vZGVzUXVldWVkOiBbXSxcbiAgICBfdXBkYXRlTm9kZXM6IGZ1bmN0aW9uIChwYXRocywgX3Byb2Nlc3NOb2Rlcykge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICB0aGlzLl9kb1VwZGF0ZU5vZGVzKHBhdGhzLCBfcHJvY2Vzc05vZGVzLCB7XG4gICAgICAgICAgcmVzb2x2ZTogcmVzb2x2ZSxcbiAgICAgICAgICByZWplY3Q6IHJlamVjdFxuICAgICAgICB9KTtcbiAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgfSxcbiAgICBfZG9VcGRhdGVOb2RlczogZnVuY3Rpb24gKHBhdGhzLCBfcHJvY2Vzc05vZGVzLCBwcm9taXNlKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIGlmIChzZWxmLl91cGRhdGVOb2Rlc1J1bm5pbmcpIHtcbiAgICAgICAgc2VsZi5fdXBkYXRlTm9kZXNRdWV1ZWQucHVzaCh7XG4gICAgICAgICAgcGF0aHM6IHBhdGhzLFxuICAgICAgICAgIGNiOiBfcHJvY2Vzc05vZGVzLFxuICAgICAgICAgIHByb21pc2U6IHByb21pc2VcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGYuX3VwZGF0ZU5vZGVzUnVubmluZyA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHNlbGYuZ2V0Tm9kZXMocGF0aHMpLnRoZW4oZnVuY3Rpb24gKG5vZGVzKSB7XG4gICAgICAgIHZhciBleGlzdGluZ05vZGVzID0gZGVlcENsb25lKG5vZGVzKTtcbiAgICAgICAgdmFyIGNoYW5nZUV2ZW50cyA9IFtdO1xuICAgICAgICB2YXIgbm9kZTtcbiAgICAgICAgdmFyIGVxdWFsID0gdXRpbC5lcXVhbDtcblxuICAgICAgICBub2RlcyA9IF9wcm9jZXNzTm9kZXMocGF0aHMsIG5vZGVzKTtcblxuICAgICAgICBmb3IgKHZhciBwYXRoIGluIG5vZGVzKSB7XG4gICAgICAgICAgbm9kZSA9IG5vZGVzW3BhdGhdO1xuICAgICAgICAgIGlmIChlcXVhbChub2RlLCBleGlzdGluZ05vZGVzW3BhdGhdKSkge1xuICAgICAgICAgICAgZGVsZXRlIG5vZGVzW3BhdGhdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChpc0RvY3VtZW50KHBhdGgpKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICFlcXVhbChub2RlLmxvY2FsLmJvZHksIG5vZGUubG9jYWwucHJldmlvdXNCb2R5KSB8fFxuICAgICAgICAgICAgICBub2RlLmxvY2FsLmNvbnRlbnRUeXBlICE9PSBub2RlLmxvY2FsLnByZXZpb3VzQ29udGVudFR5cGVcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBjaGFuZ2VFdmVudHMucHVzaCh7XG4gICAgICAgICAgICAgICAgcGF0aDogICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgICAgICAgb3JpZ2luOiAgICAgICAgICd3aW5kb3cnLFxuICAgICAgICAgICAgICAgIG9sZFZhbHVlOiAgICAgICBub2RlLmxvY2FsLnByZXZpb3VzQm9keSxcbiAgICAgICAgICAgICAgICBuZXdWYWx1ZTogICAgICAgbm9kZS5sb2NhbC5ib2R5ID09PSBmYWxzZSA/IHVuZGVmaW5lZCA6IG5vZGUubG9jYWwuYm9keSxcbiAgICAgICAgICAgICAgICBvbGRDb250ZW50VHlwZTogbm9kZS5sb2NhbC5wcmV2aW91c0NvbnRlbnRUeXBlLFxuICAgICAgICAgICAgICAgIG5ld0NvbnRlbnRUeXBlOiBub2RlLmxvY2FsLmNvbnRlbnRUeXBlXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVsZXRlIG5vZGUubG9jYWwucHJldmlvdXNCb2R5O1xuICAgICAgICAgICAgZGVsZXRlIG5vZGUubG9jYWwucHJldmlvdXNDb250ZW50VHlwZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLnNldE5vZGVzKG5vZGVzKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBzZWxmLl9lbWl0Q2hhbmdlRXZlbnRzKGNoYW5nZUV2ZW50cyk7XG4gICAgICAgICAgcHJvbWlzZS5yZXNvbHZlKHtzdGF0dXNDb2RlOiAyMDB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICBwcm9taXNlLnJlamVjdChlcnIpO1xuICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNlbGYuX3VwZGF0ZU5vZGVzUnVubmluZyA9IGZhbHNlO1xuICAgICAgICB2YXIgbmV4dEpvYiA9IHNlbGYuX3VwZGF0ZU5vZGVzUXVldWVkLnNoaWZ0KCk7XG4gICAgICAgIGlmIChuZXh0Sm9iKSB7XG4gICAgICAgICAgc2VsZi5fZG9VcGRhdGVOb2RlcyhuZXh0Sm9iLnBhdGhzLCBuZXh0Sm9iLmNiLCBuZXh0Sm9iLnByb21pc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgX2VtaXRDaGFuZ2VFdmVudHM6IGZ1bmN0aW9uIChldmVudHMpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBldmVudHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdGhpcy5fZW1pdENoYW5nZShldmVudHNbaV0pO1xuICAgICAgICBpZiAodGhpcy5kaWZmSGFuZGxlcikge1xuICAgICAgICAgIHRoaXMuZGlmZkhhbmRsZXIoZXZlbnRzW2ldLnBhdGgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIF9nZXRBbGxEZXNjZW5kZW50UGF0aHM6IGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICBpZiAoaXNGb2xkZXIocGF0aCkpIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuZ2V0Tm9kZXMoW3BhdGhdKS50aGVuKGZ1bmN0aW9uIChub2Rlcykge1xuICAgICAgICAgIHZhciBhbGxQYXRocyA9IFtwYXRoXTtcbiAgICAgICAgICB2YXIgbGF0ZXN0ID0gZ2V0TGF0ZXN0KG5vZGVzW3BhdGhdKTtcblxuICAgICAgICAgIHZhciBpdGVtTmFtZXMgPSBPYmplY3Qua2V5cyhsYXRlc3QuaXRlbXNNYXApO1xuICAgICAgICAgIHZhciBjYWxscyA9IGl0ZW1OYW1lcy5tYXAoZnVuY3Rpb24gKGl0ZW1OYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VsZi5fZ2V0QWxsRGVzY2VuZGVudFBhdGhzKHBhdGgraXRlbU5hbWUpLnRoZW4oZnVuY3Rpb24gKHBhdGhzKSB7XG4gICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBwYXRocy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGFsbFBhdGhzLnB1c2gocGF0aHNbaV0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoY2FsbHMpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGFsbFBhdGhzO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoW3BhdGhdKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgX2dldEludGVybmFsczogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0TGF0ZXN0OiBnZXRMYXRlc3QsXG4gICAgICAgIG1ha2VOb2RlOiBtYWtlTm9kZSxcbiAgICAgICAgaXNPdXRkYXRlZDogaXNPdXRkYXRlZFxuICAgICAgfTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEZ1bmN0aW9uOiBjYWNoaW5nTGF5ZXJcbiAgICpcbiAgICogTWl4ZXMgY29tbW9uIGNhY2hpbmcgbGF5ZXIgZnVuY3Rpb25hbGl0eSBpbnRvIGFuIG9iamVjdC5cbiAgICpcbiAgICogVGhlIGZpcnN0IHBhcmFtZXRlciBpcyBhbHdheXMgdGhlIG9iamVjdCB0byBiZSBleHRlbmRlZC5cbiAgICpcbiAgICogRXhhbXBsZTpcbiAgICogICAoc3RhcnQgY29kZSlcbiAgICogICB2YXIgTXlDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uICgpIHtcbiAgICogICAgIGNhY2hpbmdMYXllcih0aGlzKTtcbiAgICogICB9O1xuICAgKiAgIChlbmQgY29kZSlcbiAgICovXG4gIHZhciBjYWNoaW5nTGF5ZXIgPSBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgZm9yICh2YXIga2V5IGluIG1ldGhvZHMpIHtcbiAgICAgIG9iamVjdFtrZXldID0gbWV0aG9kc1trZXldO1xuICAgIH1cbiAgfTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IGNhY2hpbmdMYXllcjtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jYWNoaW5nbGF5ZXIuanMiXSwic291cmNlUm9vdCI6IiJ9")
},function(module,exports,__webpack_require__){
eval("'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar util = __webpack_require__(2);\nvar Env = __webpack_require__(14);\nvar eventHandling = __webpack_require__(3);\nvar log = __webpack_require__(1);\nvar Authorize = __webpack_require__(4);\nvar config = __webpack_require__(5);\n\nvar isFolder = util.isFolder;\nvar isDocument = util.isDocument;\nvar equal = util.equal;\nvar deepClone = util.deepClone;\nvar pathsFromRoot = util.pathsFromRoot;\n\nfunction taskFor(action, path, promise) {\n  return {\n    action: action,\n    path: path,\n    promise: promise\n  };\n}\n\nfunction isStaleChild(node) {\n  return node.remote && node.remote.revision && !node.remote.itemsMap && !node.remote.body;\n}\n\nfunction hasCommonRevision(node) {\n  return node.common && node.common.revision;\n}\n\nfunction handleVisibility() {\n  var rs = this;\n\n  function handleVisibilityChange(fg) {\n    var oldValue, newValue;\n    oldValue = rs.getCurrentSyncInterval();\n    config.isBackground = !fg;\n    newValue = rs.getCurrentSyncInterval();\n    rs._emit('sync-interval-change', { oldValue: oldValue, newValue: newValue });\n  }\n\n  Env.on(\"background\", function () {\n    handleVisibilityChange(false);\n  });\n\n  Env.on(\"foreground\", function () {\n    handleVisibilityChange(true);\n  });\n}\n\n/**\n * Class: RemoteStorage.Sync\n *\n * What this class does is basically six things:\n * - retrieving the remote version of relevant documents and folders\n * - add all local and remote documents together into one tree\n * - push local documents out if they don't exist remotely\n * - push local changes out to remote documents (conditionally, to\n *      avoid race conditions where both have changed)\n * - adopt the local version of a document to its remote version if\n *      both exist and they differ\n * - delete the local version of a document if it was deleted remotely\n * - if any get requests were waiting for remote data, resolve them once\n *      this data comes in.\n *\n * It does this using requests to documents, and to folders. Whenever a\n * folder GET comes in, it gives information about all the documents it\n * contains (this is the `markChildren` function).\n **/\nvar Sync = function Sync(remoteStorage, setLocal, setRemote, setAccess, setCaching) {\n  this.remoteStorage = remoteStorage;\n  this.local = setLocal;\n  this.local.onDiff(function (path) {\n    this.addTask(path);\n    this.doTasks();\n  }.bind(this));\n  this.remote = setRemote;\n  this.access = setAccess;\n  this.caching = setCaching;\n  this._tasks = {};\n  this._running = {};\n  this._timeStarted = {};\n  eventHandling(this, 'done', 'req-done');\n  this.caching.onActivate(function (path) {\n    this.addTask(path);\n    this.doTasks();\n  }.bind(this));\n};\n\nSync.prototype = {\n\n  now: function now() {\n    return new Date().getTime();\n  },\n\n  queueGetRequest: function queueGetRequest(path) {\n    var _this = this;\n\n    return new Promise(function (resolve, reject) {\n      if (!_this.remote.connected) {\n        reject('cannot fulfill maxAge requirement - remote is not connected');\n      } else if (!_this.remote.online) {\n        reject('cannot fulfill maxAge requirement - remote is not online');\n      } else {\n        _this.addTask(path, function () {\n          this.local.get(path).then(function (r) {\n            return resolve(r);\n          });\n        }.bind(_this));\n\n        _this.doTasks();\n      }\n    });\n  },\n\n  corruptServerItemsMap: function corruptServerItemsMap(itemsMap, force02) {\n    if ((typeof itemsMap === 'undefined' ? 'undefined' : _typeof(itemsMap)) !== 'object' || Array.isArray(itemsMap)) {\n      return true;\n    }\n\n    for (var itemName in itemsMap) {\n      var item = itemsMap[itemName];\n\n      if ((typeof item === 'undefined' ? 'undefined' : _typeof(item)) !== 'object') {\n        return true;\n      }\n      if (typeof item.ETag !== 'string') {\n        return true;\n      }\n      if (isFolder(itemName)) {\n        if (itemName.substring(0, itemName.length - 1).indexOf('/') !== -1) {\n          return true;\n        }\n      } else {\n        if (itemName.indexOf('/') !== -1) {\n          return true;\n        }\n        if (force02) {\n          if (typeof item['Content-Type'] !== 'string') {\n            return true;\n          }\n          if (typeof item['Content-Length'] !== 'number') {\n            return true;\n          }\n        }\n      }\n    }\n\n    return false;\n  },\n\n  corruptItemsMap: function corruptItemsMap(itemsMap) {\n    if ((typeof itemsMap === 'undefined' ? 'undefined' : _typeof(itemsMap)) !== 'object' || Array.isArray(itemsMap)) {\n      return true;\n    }\n\n    for (var itemName in itemsMap) {\n      if (typeof itemsMap[itemName] !== 'boolean') {\n        return true;\n      }\n    }\n\n    return false;\n  },\n\n  corruptRevision: function corruptRevision(rev) {\n    return (typeof rev === 'undefined' ? 'undefined' : _typeof(rev)) !== 'object' || Array.isArray(rev) || rev.revision && typeof rev.revision !== 'string' || rev.body && typeof rev.body !== 'string' && _typeof(rev.body) !== 'object' || rev.contentType && typeof rev.contentType !== 'string' || rev.contentLength && typeof rev.contentLength !== 'number' || rev.timestamp && typeof rev.timestamp !== 'number' || rev.itemsMap && this.corruptItemsMap(rev.itemsMap);\n  },\n\n  isCorrupt: function isCorrupt(node) {\n    return (typeof node === 'undefined' ? 'undefined' : _typeof(node)) !== 'object' || Array.isArray(node) || typeof node.path !== 'string' || this.corruptRevision(node.common) || node.local && this.corruptRevision(node.local) || node.remote && this.corruptRevision(node.remote) || node.push && this.corruptRevision(node.push);\n  },\n\n  hasTasks: function hasTasks() {\n    return Object.getOwnPropertyNames(this._tasks).length > 0;\n  },\n\n  collectDiffTasks: function collectDiffTasks() {\n    var num = 0;\n\n    return this.local.forAllNodes(function (node) {\n\n      if (num > 100) {\n        return;\n      }\n\n      if (this.isCorrupt(node)) {\n        log('[Sync] WARNING: corrupt node in local cache', node);\n        if ((typeof node === 'undefined' ? 'undefined' : _typeof(node)) === 'object' && node.path) {\n          this.addTask(node.path);\n          num++;\n        }\n      } else if (this.needsFetch(node) && this.access.checkPathPermission(node.path, 'r')) {\n        this.addTask(node.path);\n        num++;\n      } else if (isDocument(node.path) && this.needsPush(node) && this.access.checkPathPermission(node.path, 'rw')) {\n        this.addTask(node.path);\n        num++;\n      }\n    }.bind(this)).then(function () {\n      return num;\n    }, function (err) {\n      throw err;\n    });\n  },\n\n  inConflict: function inConflict(node) {\n    return node.local && node.remote && (node.remote.body !== undefined || node.remote.itemsMap);\n  },\n\n  needsRefresh: function needsRefresh(node) {\n    if (node.common) {\n      if (!node.common.timestamp) {\n        return true;\n      }\n      return this.now() - node.common.timestamp > config.syncInterval;\n    }\n    return false;\n  },\n\n  needsFetch: function needsFetch(node) {\n    if (this.inConflict(node)) {\n      return true;\n    }\n    if (node.common && node.common.itemsMap === undefined && node.common.body === undefined) {\n      return true;\n    }\n    if (node.remote && node.remote.itemsMap === undefined && node.remote.body === undefined) {\n      return true;\n    }\n    return false;\n  },\n\n  needsPush: function needsPush(node) {\n    if (this.inConflict(node)) {\n      return false;\n    }\n    if (node.local && !node.push) {\n      return true;\n    }\n  },\n\n  needsRemotePut: function needsRemotePut(node) {\n    return node.local && node.local.body;\n  },\n\n  needsRemoteDelete: function needsRemoteDelete(node) {\n    return node.local && node.local.body === false;\n  },\n\n  getParentPath: function getParentPath(path) {\n    var parts = path.match(/^(.*\\/)([^\\/]+\\/?)$/);\n\n    if (parts) {\n      return parts[1];\n    } else {\n      throw new Error('Not a valid path: \"' + path + '\"');\n    }\n  },\n\n  deleteChildPathsFromTasks: function deleteChildPathsFromTasks() {\n    for (var path in this._tasks) {\n      var paths = pathsFromRoot(path);\n\n      for (var i = 1; i < paths.length; i++) {\n        if (this._tasks[paths[i]]) {\n          // move pending promises to parent task\n          if (Array.isArray(this._tasks[path]) && this._tasks[path].length) {\n            Array.prototype.push.apply(this._tasks[paths[i]], this._tasks[path]);\n          }\n          delete this._tasks[path];\n        }\n      }\n    }\n  },\n\n  collectRefreshTasks: function collectRefreshTasks() {\n    return this.local.forAllNodes(function (node) {\n      var parentPath;\n      if (this.needsRefresh(node)) {\n        try {\n          parentPath = this.getParentPath(node.path);\n        } catch (e) {\n          // node.path is already '/', can't take parentPath\n        }\n        if (parentPath && this.access.checkPathPermission(parentPath, 'r')) {\n          this.addTask(parentPath);\n        } else if (this.access.checkPathPermission(node.path, 'r')) {\n          this.addTask(node.path);\n        }\n      }\n    }.bind(this)).then(function () {\n      this.deleteChildPathsFromTasks();\n    }.bind(this), function (err) {\n      throw err;\n    });\n  },\n\n  flush: function flush(nodes) {\n    for (var path in nodes) {\n      // Strategy is 'FLUSH' and no local changes exist\n      if (this.caching.checkPath(path) === 'FLUSH' && nodes[path] && !nodes[path].local) {\n        log('[Sync] Flushing', path);\n        nodes[path] = undefined; // Cause node to be flushed from cache\n      }\n    }\n    return nodes;\n  },\n\n  doTask: function doTask(path) {\n    return this.local.getNodes([path]).then(function (nodes) {\n      var node = nodes[path];\n      // First fetch:\n      if (typeof node === 'undefined') {\n        return taskFor('get', path, this.remote.get(path));\n      }\n      // Fetch known-stale child:\n      else if (isStaleChild(node)) {\n          return taskFor('get', path, this.remote.get(path));\n        }\n        // Push PUT:\n        else if (this.needsRemotePut(node)) {\n            node.push = deepClone(node.local);\n            node.push.timestamp = this.now();\n\n            return this.local.setNodes(this.flush(nodes)).then(function () {\n              var options;\n              if (hasCommonRevision(node)) {\n                options = { ifMatch: node.common.revision };\n              } else {\n                // Initial PUT (fail if something is already there)\n                options = { ifNoneMatch: '*' };\n              }\n\n              return taskFor('put', path, this.remote.put(path, node.push.body, node.push.contentType, options));\n            }.bind(this));\n          }\n          // Push DELETE:\n          else if (this.needsRemoteDelete(node)) {\n              node.push = { body: false, timestamp: this.now() };\n\n              return this.local.setNodes(this.flush(nodes)).then(function () {\n                if (hasCommonRevision(node)) {\n                  return taskFor('delete', path, this.remote.delete(path, { ifMatch: node.common.revision }));\n                } else {\n                  // Ascertain current common or remote revision first\n                  return taskFor('get', path, this.remote.get(path));\n                }\n              }.bind(this));\n            }\n            // Conditional refresh:\n            else if (hasCommonRevision(node)) {\n                return taskFor('get', path, this.remote.get(path, { ifNoneMatch: node.common.revision }));\n              } else {\n                return taskFor('get', path, this.remote.get(path));\n              }\n    }.bind(this));\n  },\n\n  autoMergeFolder: function autoMergeFolder(node) {\n    if (node.remote.itemsMap) {\n      node.common = node.remote;\n      delete node.remote;\n\n      if (node.common.itemsMap) {\n        for (var itemName in node.common.itemsMap) {\n          if (!node.local.itemsMap[itemName]) {\n            // Indicates the node is either newly being fetched\n            // has been deleted locally (whether or not leading to conflict);\n            // before listing it in local listings, check if a local deletion\n            // exists.\n            node.local.itemsMap[itemName] = false;\n          }\n        }\n\n        if (equal(node.local.itemsMap, node.common.itemsMap)) {\n          delete node.local;\n        }\n      }\n    }\n    return node;\n  },\n\n  autoMergeDocument: function autoMergeDocument(node) {\n    hasNoRemoteChanges = function hasNoRemoteChanges(node) {\n      if (node.remote && node.remote.revision && node.remote.revision !== node.common.revision) {\n        return false;\n      }\n      return node.common.body === undefined && node.remote.body === false || node.remote.body === node.common.body && node.remote.contentType === node.common.contentType;\n    };\n    mergeMutualDeletion = function mergeMutualDeletion(node) {\n      if (node.remote && node.remote.body === false && node.local && node.local.body === false) {\n        delete node.local;\n      }\n      return node;\n    };\n\n    if (hasNoRemoteChanges(node)) {\n      node = mergeMutualDeletion(node);\n      delete node.remote;\n    } else if (node.remote.body !== undefined) {\n      // keep/revert:\n      log('[Sync] Emitting keep/revert');\n\n      this.local._emitChange({\n        origin: 'conflict',\n        path: node.path,\n        oldValue: node.local.body,\n        newValue: node.remote.body,\n        lastCommonValue: node.common.body,\n        oldContentType: node.local.contentType,\n        newContentType: node.remote.contentType,\n        lastCommonContentType: node.common.contentType\n      });\n\n      if (node.remote.body) {\n        node.common = node.remote;\n      } else {\n        node.common = {};\n      }\n      delete node.remote;\n      delete node.local;\n    }\n    return node;\n  },\n\n  autoMerge: function autoMerge(node) {\n    if (node.remote) {\n      if (node.local) {\n        if (isFolder(node.path)) {\n          return this.autoMergeFolder(node);\n        } else {\n          return this.autoMergeDocument(node);\n        }\n      } else {\n        // no local changes\n        if (isFolder(node.path)) {\n          if (node.remote.itemsMap !== undefined) {\n            node.common = node.remote;\n            delete node.remote;\n          }\n        } else {\n          if (node.remote.body !== undefined) {\n            var change = {\n              origin: 'remote',\n              path: node.path,\n              oldValue: node.common.body === false ? undefined : node.common.body,\n              newValue: node.remote.body === false ? undefined : node.remote.body,\n              oldContentType: node.common.contentType,\n              newContentType: node.remote.contentType\n            };\n            if (change.oldValue || change.newValue) {\n              this.local._emitChange(change);\n            }\n\n            if (!node.remote.body) {\n              // no remote, so delete/don't create\n              return;\n            }\n\n            node.common = node.remote;\n            delete node.remote;\n          }\n        }\n      }\n    } else {\n      if (node.common.body) {\n        this.local._emitChange({\n          origin: 'remote',\n          path: node.path,\n          oldValue: node.common.body,\n          newValue: undefined,\n          oldContentType: node.common.contentType,\n          newContentType: undefined\n        });\n      }\n\n      return undefined;\n    }\n    return node;\n  },\n\n  updateCommonTimestamp: function updateCommonTimestamp(path, revision) {\n    return this.local.getNodes([path]).then(function (nodes) {\n      if (nodes[path] && nodes[path].common && nodes[path].common.revision === revision) {\n        nodes[path].common.timestamp = this.now();\n      }\n      return this.local.setNodes(this.flush(nodes));\n    }.bind(this));\n  },\n\n  markChildren: function markChildren(path, itemsMap, changedNodes, missingChildren) {\n    var paths = [];\n    var meta = {};\n    var recurse = {};\n\n    for (var item in itemsMap) {\n      paths.push(path + item);\n      meta[path + item] = itemsMap[item];\n    }\n    for (var childName in missingChildren) {\n      paths.push(path + childName);\n    }\n\n    return this.local.getNodes(paths).then(function (nodes) {\n      var cachingStrategy;\n      var node;\n\n      var nodeChanged = function nodeChanged(node, etag) {\n        return node.common.revision !== etag && (!node.remote || node.remote.revision !== etag);\n      };\n\n      for (var nodePath in nodes) {\n        node = nodes[nodePath];\n\n        if (meta[nodePath]) {\n          if (node && node.common) {\n            if (nodeChanged(node, meta[nodePath].ETag)) {\n              changedNodes[nodePath] = deepClone(node);\n              changedNodes[nodePath].remote = {\n                revision: meta[nodePath].ETag,\n                timestamp: this.now()\n              };\n              changedNodes[nodePath] = this.autoMerge(changedNodes[nodePath]);\n            }\n          } else {\n            cachingStrategy = this.caching.checkPath(nodePath);\n            if (cachingStrategy === 'ALL') {\n              changedNodes[nodePath] = {\n                path: nodePath,\n                common: {\n                  timestamp: this.now()\n                },\n                remote: {\n                  revision: meta[nodePath].ETag,\n                  timestamp: this.now()\n                }\n              };\n            }\n          }\n\n          if (changedNodes[nodePath] && meta[nodePath]['Content-Type']) {\n            changedNodes[nodePath].remote.contentType = meta[nodePath]['Content-Type'];\n          }\n\n          if (changedNodes[nodePath] && meta[nodePath]['Content-Length']) {\n            changedNodes[nodePath].remote.contentLength = meta[nodePath]['Content-Length'];\n          }\n        } else if (missingChildren[nodePath.substring(path.length)] && node && node.common) {\n          if (node.common.itemsMap) {\n            for (var commonItem in node.common.itemsMap) {\n              recurse[nodePath + commonItem] = true;\n            }\n          }\n\n          if (node.local && node.local.itemsMap) {\n            for (var localItem in node.local.itemsMap) {\n              recurse[nodePath + localItem] = true;\n            }\n          }\n\n          if (node.remote || isFolder(nodePath)) {\n            changedNodes[nodePath] = undefined;\n          } else {\n            changedNodes[nodePath] = this.autoMerge(node);\n\n            if (typeof changedNodes[nodePath] === 'undefined') {\n              var parentPath = this.getParentPath(nodePath);\n              var parentNode = changedNodes[parentPath];\n              var itemName = nodePath.substring(path.length);\n              if (parentNode && parentNode.local) {\n                delete parentNode.local.itemsMap[itemName];\n\n                if (equal(parentNode.local.itemsMap, parentNode.common.itemsMap)) {\n                  delete parentNode.local;\n                }\n              }\n            }\n          }\n        }\n      }\n\n      return this.deleteRemoteTrees(Object.keys(recurse), changedNodes).then(function (changedObjs2) {\n        return this.local.setNodes(this.flush(changedObjs2));\n      }.bind(this));\n    }.bind(this));\n  },\n\n  deleteRemoteTrees: function deleteRemoteTrees(paths, changedNodes) {\n    if (paths.length === 0) {\n      return Promise.resolve(changedNodes);\n    }\n\n    return this.local.getNodes(paths).then(function (nodes) {\n      var subPaths = {};\n\n      collectSubPaths = function collectSubPaths(folder, path) {\n        if (folder && folder.itemsMap) {\n          for (var itemName in folder.itemsMap) {\n            subPaths[path + itemName] = true;\n          }\n        }\n      };\n\n      for (var path in nodes) {\n        var node = nodes[path];\n\n        // TODO Why check for the node here? I don't think this check ever applies\n        if (!node) {\n          continue;\n        }\n\n        if (isFolder(path)) {\n          collectSubPaths(node.common, path);\n          collectSubPaths(node.local, path);\n        } else {\n          if (node.common && _typeof(node.common.body) !== undefined) {\n            changedNodes[path] = deepClone(node);\n            changedNodes[path].remote = {\n              body: false,\n              timestamp: this.now()\n            };\n            changedNodes[path] = this.autoMerge(changedNodes[path]);\n          }\n        }\n      }\n\n      // Recurse whole tree depth levels at once:\n      return this.deleteRemoteTrees(Object.keys(subPaths), changedNodes).then(function (changedNodes2) {\n        return this.local.setNodes(this.flush(changedNodes2));\n      }.bind(this));\n    }.bind(this));\n  },\n\n  completeFetch: function completeFetch(path, bodyOrItemsMap, contentType, revision) {\n    var paths;\n    var parentPath;\n    var pathsFromRootArr = pathsFromRoot(path);\n\n    if (isFolder(path)) {\n      paths = [path];\n    } else {\n      parentPath = pathsFromRootArr[1];\n      paths = [path, parentPath];\n    }\n\n    return this.local.getNodes(paths).then(function (nodes) {\n      var itemName;\n      var missingChildren = {};\n      var node = nodes[path];\n      var parentNode;\n\n      var collectMissingChildren = function collectMissingChildren(folder) {\n        if (folder && folder.itemsMap) {\n          for (var itemName in folder.itemsMap) {\n            if (!bodyOrItemsMap[itemName]) {\n              missingChildren[itemName] = true;\n            }\n          }\n        }\n      };\n\n      if ((typeof node === 'undefined' ? 'undefined' : _typeof(node)) !== 'object' || node.path !== path || _typeof(node.common) !== 'object') {\n        node = {\n          path: path,\n          common: {}\n        };\n        nodes[path] = node;\n      }\n\n      node.remote = {\n        revision: revision,\n        timestamp: this.now()\n      };\n\n      if (isFolder(path)) {\n        collectMissingChildren(node.common);\n        collectMissingChildren(node.remote);\n\n        node.remote.itemsMap = {};\n        for (itemName in bodyOrItemsMap) {\n          node.remote.itemsMap[itemName] = true;\n        }\n      } else {\n        node.remote.body = bodyOrItemsMap;\n        node.remote.contentType = contentType;\n\n        parentNode = nodes[parentPath];\n        if (parentNode && parentNode.local && parentNode.local.itemsMap) {\n          itemName = path.substring(parentPath.length);\n          parentNode.local.itemsMap[itemName] = true;\n          if (equal(parentNode.local.itemsMap, parentNode.common.itemsMap)) {\n            delete parentNode.local;\n          }\n        }\n      }\n\n      nodes[path] = this.autoMerge(node);\n      return {\n        toBeSaved: nodes,\n        missingChildren: missingChildren\n      };\n    }.bind(this));\n  },\n\n  completePush: function completePush(path, action, conflict, revision) {\n    return this.local.getNodes([path]).then(function (nodes) {\n      var node = nodes[path];\n\n      if (!node.push) {\n        this.stopped = true;\n        throw new Error('completePush called but no push version!');\n      }\n\n      if (conflict) {\n        log('[Sync] We have a conflict');\n\n        if (!node.remote || node.remote.revision !== revision) {\n          node.remote = {\n            revision: revision || 'conflict',\n            timestamp: this.now()\n          };\n          delete node.push;\n        }\n\n        nodes[path] = this.autoMerge(node);\n      } else {\n        node.common = {\n          revision: revision,\n          timestamp: this.now()\n        };\n\n        if (action === 'put') {\n          node.common.body = node.push.body;\n          node.common.contentType = node.push.contentType;\n\n          if (equal(node.local.body, node.push.body) && node.local.contentType === node.push.contentType) {\n            delete node.local;\n          }\n\n          delete node.push;\n        } else if (action === 'delete') {\n          if (node.local.body === false) {\n            // No new local changes since push; flush it.\n            nodes[path] = undefined;\n          } else {\n            delete node.push;\n          }\n        }\n      }\n\n      return this.local.setNodes(this.flush(nodes));\n    }.bind(this));\n  },\n\n  dealWithFailure: function dealWithFailure(path, action, statusMeaning) {\n\n    return this.local.getNodes([path]).then(function (nodes) {\n      if (nodes[path]) {\n        delete nodes[path].push;\n        return this.local.setNodes(this.flush(nodes));\n      }\n    }.bind(this));\n  },\n\n  interpretStatus: function interpretStatus(statusCode) {\n    if (statusCode === 'offline' || statusCode === 'timeout') {\n      return {\n        successful: false,\n        networkProblems: true,\n        statusCode: statusCode\n      };\n    }\n\n    var series = Math.floor(statusCode / 100);\n\n    return {\n      successful: series === 2 || statusCode === 304 || statusCode === 412 || statusCode === 404,\n      conflict: statusCode === 412,\n      unAuth: statusCode === 401 && this.remote.token !== Authorize.IMPLIED_FAKE_TOKEN || statusCode === 402 || statusCode === 403,\n      notFound: statusCode === 404,\n      changed: statusCode !== 304,\n      statusCode: statusCode\n    };\n  },\n\n  handleGetResponse: function handleGetResponse(path, status, bodyOrItemsMap, contentType, revision) {\n    if (status.notFound) {\n      if (isFolder(path)) {\n        bodyOrItemsMap = {};\n      } else {\n        bodyOrItemsMap = false;\n      }\n    }\n\n    if (status.changed) {\n      return this.completeFetch(path, bodyOrItemsMap, contentType, revision).then(function (dataFromFetch) {\n        if (isFolder(path)) {\n          if (this.corruptServerItemsMap(bodyOrItemsMap)) {\n            log('[Sync] WARNING: Discarding corrupt folder description from server for ' + path);\n            return false;\n          } else {\n            return this.markChildren(path, bodyOrItemsMap, dataFromFetch.toBeSaved, dataFromFetch.missingChildren).then(function () {\n              return true;\n            });\n          }\n        } else {\n          return this.local.setNodes(this.flush(dataFromFetch.toBeSaved)).then(function () {\n            return true;\n          });\n        }\n      }.bind(this));\n    } else {\n      return this.updateCommonTimestamp(path, revision).then(function () {\n        return true;\n      });\n    }\n  },\n\n  handleResponse: function handleResponse(path, action, r) {\n    var status = this.interpretStatus(r.statusCode);\n    if (status.successful) {\n      if (action === 'get') {\n        return this.handleGetResponse(path, status, r.body, r.contentType, r.revision);\n      } else if (action === 'put' || action === 'delete') {\n        return this.completePush(path, action, status.conflict, r.revision).then(function () {\n          return true;\n        });\n      } else {\n        throw new Error('cannot handle response for unknown action', action);\n      }\n    } else {\n      // Unsuccessful\n      var error;\n      if (status.unAuth) {\n        error = new Authorize.Unauthorized();\n      } else if (status.networkProblems) {\n        error = new Sync.SyncError('Network request failed.');\n      } else {\n        error = new Error('HTTP response code ' + status.statusCode + ' received.');\n      }\n\n      return this.dealWithFailure(path, action, status).then(function () {\n        this.remoteStorage._emit('error', error);\n        throw error;\n      });\n    }\n  },\n\n  numThreads: 10,\n\n  finishTask: function finishTask(task) {\n    if (task.action === undefined) {\n      delete this._running[task.path];\n      return;\n    }\n    var self = this;\n\n    return task.promise.then(function (r) {\n      return self.handleResponse(task.path, task.action, r);\n    }, function (err) {\n      log('[Sync] wireclient rejects its promise!', task.path, task.action, err);\n      return self.handleResponse(task.path, task.action, { statusCode: 'offline' });\n    }).then(function (completed) {\n      delete self._timeStarted[task.path];\n      delete self._running[task.path];\n\n      if (completed) {\n        if (self._tasks[task.path]) {\n          for (var i = 0; i < self._tasks[task.path].length; i++) {\n            self._tasks[task.path][i]();\n          }\n          delete self._tasks[task.path];\n        }\n      }\n\n      self._emit('req-done');\n\n      self.collectTasks(false).then(function () {\n        // See if there are any more tasks that are not refresh tasks\n        if (!self.hasTasks() || self.stopped) {\n          log('[Sync] Sync is done! Reschedule?', Object.getOwnPropertyNames(self._tasks).length, self.stopped);\n          if (!self.done) {\n            self.done = true;\n            self._emit('done');\n          }\n        } else {\n          // Use a 10ms timeout to let the JavaScript runtime catch its breath\n          // (and hopefully force an IndexedDB auto-commit?), and also to cause\n          // the threads to get staggered and get a good spread over time:\n          setTimeout(function () {\n            self.doTasks();\n          }, 10);\n        }\n      });\n    }, function (err) {\n      log('[Sync] Error', err);\n      delete self._timeStarted[task.path];\n      delete self._running[task.path];\n      self._emit('req-done');\n      if (!self.done) {\n        self.done = true;\n        self._emit('done');\n      }\n    });\n  },\n\n  doTasks: function doTasks() {\n    var numToHave,\n        numAdded = 0,\n        numToAdd,\n        path;\n    if (this.remote.connected) {\n      if (this.remote.online) {\n        numToHave = this.numThreads;\n      } else {\n        numToHave = 1;\n      }\n    } else {\n      numToHave = 0;\n    }\n    numToAdd = numToHave - Object.getOwnPropertyNames(this._running).length;\n    if (numToAdd <= 0) {\n      return true;\n    }\n    for (path in this._tasks) {\n      if (!this._running[path]) {\n        this._timeStarted[path] = this.now();\n        this._running[path] = this.doTask(path);\n        this._running[path].then(this.finishTask.bind(this));\n        numAdded++;\n        if (numAdded >= numToAdd) {\n          return true;\n        }\n      }\n    }\n    return numAdded >= numToAdd;\n  },\n\n  collectTasks: function collectTasks(alsoCheckRefresh) {\n    if (this.hasTasks() || this.stopped) {\n      return Promise.resolve();\n    }\n\n    return this.collectDiffTasks().then(function (numDiffs) {\n      if (numDiffs || alsoCheckRefresh === false) {\n        return Promise.resolve();\n      } else {\n        return this.collectRefreshTasks();\n      }\n    }.bind(this), function (err) {\n      throw err;\n    });\n  },\n\n  addTask: function addTask(path, cb) {\n    if (!this._tasks[path]) {\n      this._tasks[path] = [];\n    }\n    if (typeof cb === 'function') {\n      this._tasks[path].push(cb);\n    }\n  },\n\n  /**\n   * Method: sync\n   **/\n  sync: function sync() {\n    this.done = false;\n\n    if (!this.doTasks()) {\n      return this.collectTasks().then(function () {\n        try {\n          this.doTasks();\n        } catch (e) {\n          log('[Sync] doTasks error', e);\n        }\n      }.bind(this), function (e) {\n        log('[Sync] Sync error', e);\n        throw new Error('Local cache unavailable');\n      });\n    } else {\n      return Promise.resolve();\n    }\n  }\n};\n\nvar syncCycleCb, _syncOnConnect;\nSync._rs_init = function (remoteStorage) {\n\n  syncCycleCb = function syncCycleCb() {\n    // if (!config.cache) return false\n    log('[Sync] syncCycleCb calling syncCycle');\n    if (Env.isBrowser()) {\n      handleVisibility.bind(remoteStorage)();\n    }\n\n    if (!remoteStorage.sync) {\n      // Call this now that all other modules are also ready:\n      remoteStorage.sync = new Sync(remoteStorage, remoteStorage.local, remoteStorage.remote, remoteStorage.access, remoteStorage.caching);\n\n      if (remoteStorage.syncStopped) {\n        log('[Sync] Instantiating sync stopped');\n        remoteStorage.sync.stopped = true;\n        delete remoteStorage.syncStopped;\n      }\n    }\n\n    log('[Sync] syncCycleCb calling syncCycle');\n    remoteStorage.syncCycle();\n  };\n\n  _syncOnConnect = function syncOnConnect() {\n    remoteStorage.removeEventListener('connected', _syncOnConnect);\n    remoteStorage.startSync();\n  };\n\n  remoteStorage.on('ready', syncCycleCb);\n  remoteStorage.on('connected', _syncOnConnect);\n};\n\nSync._rs_cleanup = function (remoteStorage) {\n  remoteStorage.stopSync();\n  remoteStorage.removeEventListener('ready', syncCycleCb);\n  remoteStorage.removeEventListener('connected', _syncOnConnect);\n\n  remoteStorage.sync = undefined;\n  delete remoteStorage.sync;\n};\n\nvar SyncError = function SyncError(originalError) {\n  var msg = 'Sync failed: ';\n  if ((typeof originalError === 'undefined' ? 'undefined' : _typeof(originalError)) === 'object' && 'message' in originalError) {\n    msg += originalError.message;\n  } else {\n    msg += originalError;\n  }\n  this.originalError = originalError;\n  this.message = msg;\n};\n\nSyncError.prototype = new Error();\nSyncError.prototype.constructor = SyncError;\n\nSync.SyncError = SyncError;\n\nmodule.exports = Sync;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3luYy5qcz81ODY0Il0sIm5hbWVzIjpbInV0aWwiLCJyZXF1aXJlIiwiRW52IiwiZXZlbnRIYW5kbGluZyIsImxvZyIsIkF1dGhvcml6ZSIsImNvbmZpZyIsImlzRm9sZGVyIiwiaXNEb2N1bWVudCIsImVxdWFsIiwiZGVlcENsb25lIiwicGF0aHNGcm9tUm9vdCIsInRhc2tGb3IiLCJhY3Rpb24iLCJwYXRoIiwicHJvbWlzZSIsImlzU3RhbGVDaGlsZCIsIm5vZGUiLCJyZW1vdGUiLCJyZXZpc2lvbiIsIml0ZW1zTWFwIiwiYm9keSIsImhhc0NvbW1vblJldmlzaW9uIiwiY29tbW9uIiwiaGFuZGxlVmlzaWJpbGl0eSIsInJzIiwiaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSIsImZnIiwib2xkVmFsdWUiLCJuZXdWYWx1ZSIsImdldEN1cnJlbnRTeW5jSW50ZXJ2YWwiLCJpc0JhY2tncm91bmQiLCJfZW1pdCIsIm9uIiwiU3luYyIsInJlbW90ZVN0b3JhZ2UiLCJzZXRMb2NhbCIsInNldFJlbW90ZSIsInNldEFjY2VzcyIsInNldENhY2hpbmciLCJsb2NhbCIsIm9uRGlmZiIsImFkZFRhc2siLCJkb1Rhc2tzIiwiYmluZCIsImFjY2VzcyIsImNhY2hpbmciLCJfdGFza3MiLCJfcnVubmluZyIsIl90aW1lU3RhcnRlZCIsIm9uQWN0aXZhdGUiLCJwcm90b3R5cGUiLCJub3ciLCJEYXRlIiwiZ2V0VGltZSIsInF1ZXVlR2V0UmVxdWVzdCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiY29ubmVjdGVkIiwib25saW5lIiwiZ2V0IiwidGhlbiIsInIiLCJjb3JydXB0U2VydmVySXRlbXNNYXAiLCJmb3JjZTAyIiwiQXJyYXkiLCJpc0FycmF5IiwiaXRlbU5hbWUiLCJpdGVtIiwiRVRhZyIsInN1YnN0cmluZyIsImxlbmd0aCIsImluZGV4T2YiLCJjb3JydXB0SXRlbXNNYXAiLCJjb3JydXB0UmV2aXNpb24iLCJyZXYiLCJjb250ZW50VHlwZSIsImNvbnRlbnRMZW5ndGgiLCJ0aW1lc3RhbXAiLCJpc0NvcnJ1cHQiLCJwdXNoIiwiaGFzVGFza3MiLCJPYmplY3QiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiY29sbGVjdERpZmZUYXNrcyIsIm51bSIsImZvckFsbE5vZGVzIiwibmVlZHNGZXRjaCIsImNoZWNrUGF0aFBlcm1pc3Npb24iLCJuZWVkc1B1c2giLCJlcnIiLCJpbkNvbmZsaWN0IiwidW5kZWZpbmVkIiwibmVlZHNSZWZyZXNoIiwic3luY0ludGVydmFsIiwibmVlZHNSZW1vdGVQdXQiLCJuZWVkc1JlbW90ZURlbGV0ZSIsImdldFBhcmVudFBhdGgiLCJwYXJ0cyIsIm1hdGNoIiwiRXJyb3IiLCJkZWxldGVDaGlsZFBhdGhzRnJvbVRhc2tzIiwicGF0aHMiLCJpIiwiYXBwbHkiLCJjb2xsZWN0UmVmcmVzaFRhc2tzIiwicGFyZW50UGF0aCIsImUiLCJmbHVzaCIsIm5vZGVzIiwiY2hlY2tQYXRoIiwiZG9UYXNrIiwiZ2V0Tm9kZXMiLCJzZXROb2RlcyIsIm9wdGlvbnMiLCJpZk1hdGNoIiwiaWZOb25lTWF0Y2giLCJwdXQiLCJkZWxldGUiLCJhdXRvTWVyZ2VGb2xkZXIiLCJhdXRvTWVyZ2VEb2N1bWVudCIsImhhc05vUmVtb3RlQ2hhbmdlcyIsIm1lcmdlTXV0dWFsRGVsZXRpb24iLCJfZW1pdENoYW5nZSIsIm9yaWdpbiIsImxhc3RDb21tb25WYWx1ZSIsIm9sZENvbnRlbnRUeXBlIiwibmV3Q29udGVudFR5cGUiLCJsYXN0Q29tbW9uQ29udGVudFR5cGUiLCJhdXRvTWVyZ2UiLCJjaGFuZ2UiLCJ1cGRhdGVDb21tb25UaW1lc3RhbXAiLCJtYXJrQ2hpbGRyZW4iLCJjaGFuZ2VkTm9kZXMiLCJtaXNzaW5nQ2hpbGRyZW4iLCJtZXRhIiwicmVjdXJzZSIsImNoaWxkTmFtZSIsImNhY2hpbmdTdHJhdGVneSIsIm5vZGVDaGFuZ2VkIiwiZXRhZyIsIm5vZGVQYXRoIiwiY29tbW9uSXRlbSIsImxvY2FsSXRlbSIsInBhcmVudE5vZGUiLCJkZWxldGVSZW1vdGVUcmVlcyIsImtleXMiLCJjaGFuZ2VkT2JqczIiLCJzdWJQYXRocyIsImNvbGxlY3RTdWJQYXRocyIsImZvbGRlciIsImNoYW5nZWROb2RlczIiLCJjb21wbGV0ZUZldGNoIiwiYm9keU9ySXRlbXNNYXAiLCJwYXRoc0Zyb21Sb290QXJyIiwiY29sbGVjdE1pc3NpbmdDaGlsZHJlbiIsInRvQmVTYXZlZCIsImNvbXBsZXRlUHVzaCIsImNvbmZsaWN0Iiwic3RvcHBlZCIsImRlYWxXaXRoRmFpbHVyZSIsInN0YXR1c01lYW5pbmciLCJpbnRlcnByZXRTdGF0dXMiLCJzdGF0dXNDb2RlIiwic3VjY2Vzc2Z1bCIsIm5ldHdvcmtQcm9ibGVtcyIsInNlcmllcyIsIk1hdGgiLCJmbG9vciIsInVuQXV0aCIsInRva2VuIiwiSU1QTElFRF9GQUtFX1RPS0VOIiwibm90Rm91bmQiLCJjaGFuZ2VkIiwiaGFuZGxlR2V0UmVzcG9uc2UiLCJzdGF0dXMiLCJkYXRhRnJvbUZldGNoIiwiaGFuZGxlUmVzcG9uc2UiLCJlcnJvciIsIlVuYXV0aG9yaXplZCIsIlN5bmNFcnJvciIsIm51bVRocmVhZHMiLCJmaW5pc2hUYXNrIiwidGFzayIsInNlbGYiLCJjb21wbGV0ZWQiLCJjb2xsZWN0VGFza3MiLCJkb25lIiwic2V0VGltZW91dCIsIm51bVRvSGF2ZSIsIm51bUFkZGVkIiwibnVtVG9BZGQiLCJhbHNvQ2hlY2tSZWZyZXNoIiwibnVtRGlmZnMiLCJjYiIsInN5bmMiLCJzeW5jQ3ljbGVDYiIsInN5bmNPbkNvbm5lY3QiLCJfcnNfaW5pdCIsImlzQnJvd3NlciIsInN5bmNTdG9wcGVkIiwic3luY0N5Y2xlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInN0YXJ0U3luYyIsIl9yc19jbGVhbnVwIiwic3RvcFN5bmMiLCJvcmlnaW5hbEVycm9yIiwibXNnIiwibWVzc2FnZSIsImNvbnN0cnVjdG9yIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7OztBQUFFLElBQUlB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SUFBakIiLCJmaWxlIjoiOC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiAgdmFyIHV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcbiAgdmFyIEVudiA9IHJlcXVpcmUoJy4vZW52Jyk7XG4gIHZhciBldmVudEhhbmRsaW5nID0gcmVxdWlyZSgnLi9ldmVudGhhbmRsaW5nJyk7XG4gIHZhciBsb2cgPSByZXF1aXJlKCcuL2xvZycpO1xuICB2YXIgQXV0aG9yaXplID0gcmVxdWlyZSgnLi9hdXRob3JpemUnKTtcbiAgdmFyIGNvbmZpZyA9IHJlcXVpcmUoJy4vY29uZmlnJyk7XG4gIFxuICB2YXIgaXNGb2xkZXIgPSB1dGlsLmlzRm9sZGVyO1xuICB2YXIgaXNEb2N1bWVudCA9IHV0aWwuaXNEb2N1bWVudDtcbiAgdmFyIGVxdWFsID0gdXRpbC5lcXVhbDtcbiAgdmFyIGRlZXBDbG9uZSA9IHV0aWwuZGVlcENsb25lO1xuICB2YXIgcGF0aHNGcm9tUm9vdCA9IHV0aWwucGF0aHNGcm9tUm9vdDtcblxuICBmdW5jdGlvbiB0YXNrRm9yKGFjdGlvbiwgcGF0aCwgcHJvbWlzZSkge1xuICAgIHJldHVybiB7XG4gICAgICBhY3Rpb246ICBhY3Rpb24sXG4gICAgICBwYXRoOiAgICBwYXRoLFxuICAgICAgcHJvbWlzZTogcHJvbWlzZVxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBpc1N0YWxlQ2hpbGQobm9kZSkge1xuICAgIHJldHVybiBub2RlLnJlbW90ZSAmJiBub2RlLnJlbW90ZS5yZXZpc2lvbiAmJiAhbm9kZS5yZW1vdGUuaXRlbXNNYXAgJiYgIW5vZGUucmVtb3RlLmJvZHk7XG4gIH1cblxuICBmdW5jdGlvbiBoYXNDb21tb25SZXZpc2lvbihub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUuY29tbW9uICYmIG5vZGUuY29tbW9uLnJldmlzaW9uO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlVmlzaWJpbGl0eSgpIHtcbiAgICB2YXIgcnMgPSB0aGlzO1xuXG4gICAgZnVuY3Rpb24gaGFuZGxlVmlzaWJpbGl0eUNoYW5nZShmZykge1xuICAgICAgdmFyIG9sZFZhbHVlLCBuZXdWYWx1ZTtcbiAgICAgIG9sZFZhbHVlID0gcnMuZ2V0Q3VycmVudFN5bmNJbnRlcnZhbCgpO1xuICAgICAgY29uZmlnLmlzQmFja2dyb3VuZCA9ICFmZztcbiAgICAgIG5ld1ZhbHVlID0gcnMuZ2V0Q3VycmVudFN5bmNJbnRlcnZhbCgpO1xuICAgICAgcnMuX2VtaXQoJ3N5bmMtaW50ZXJ2YWwtY2hhbmdlJywge29sZFZhbHVlOiBvbGRWYWx1ZSwgbmV3VmFsdWU6IG5ld1ZhbHVlfSk7XG4gICAgfVxuXG4gICAgRW52Lm9uKFwiYmFja2dyb3VuZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlKGZhbHNlKTtcbiAgICB9KTtcblxuICAgIEVudi5vbihcImZvcmVncm91bmRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSh0cnVlKTtcbiAgICB9KTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIENsYXNzOiBSZW1vdGVTdG9yYWdlLlN5bmNcbiAgICpcbiAgICogV2hhdCB0aGlzIGNsYXNzIGRvZXMgaXMgYmFzaWNhbGx5IHNpeCB0aGluZ3M6XG4gICAqIC0gcmV0cmlldmluZyB0aGUgcmVtb3RlIHZlcnNpb24gb2YgcmVsZXZhbnQgZG9jdW1lbnRzIGFuZCBmb2xkZXJzXG4gICAqIC0gYWRkIGFsbCBsb2NhbCBhbmQgcmVtb3RlIGRvY3VtZW50cyB0b2dldGhlciBpbnRvIG9uZSB0cmVlXG4gICAqIC0gcHVzaCBsb2NhbCBkb2N1bWVudHMgb3V0IGlmIHRoZXkgZG9uJ3QgZXhpc3QgcmVtb3RlbHlcbiAgICogLSBwdXNoIGxvY2FsIGNoYW5nZXMgb3V0IHRvIHJlbW90ZSBkb2N1bWVudHMgKGNvbmRpdGlvbmFsbHksIHRvXG4gICAqICAgICAgYXZvaWQgcmFjZSBjb25kaXRpb25zIHdoZXJlIGJvdGggaGF2ZSBjaGFuZ2VkKVxuICAgKiAtIGFkb3B0IHRoZSBsb2NhbCB2ZXJzaW9uIG9mIGEgZG9jdW1lbnQgdG8gaXRzIHJlbW90ZSB2ZXJzaW9uIGlmXG4gICAqICAgICAgYm90aCBleGlzdCBhbmQgdGhleSBkaWZmZXJcbiAgICogLSBkZWxldGUgdGhlIGxvY2FsIHZlcnNpb24gb2YgYSBkb2N1bWVudCBpZiBpdCB3YXMgZGVsZXRlZCByZW1vdGVseVxuICAgKiAtIGlmIGFueSBnZXQgcmVxdWVzdHMgd2VyZSB3YWl0aW5nIGZvciByZW1vdGUgZGF0YSwgcmVzb2x2ZSB0aGVtIG9uY2VcbiAgICogICAgICB0aGlzIGRhdGEgY29tZXMgaW4uXG4gICAqXG4gICAqIEl0IGRvZXMgdGhpcyB1c2luZyByZXF1ZXN0cyB0byBkb2N1bWVudHMsIGFuZCB0byBmb2xkZXJzLiBXaGVuZXZlciBhXG4gICAqIGZvbGRlciBHRVQgY29tZXMgaW4sIGl0IGdpdmVzIGluZm9ybWF0aW9uIGFib3V0IGFsbCB0aGUgZG9jdW1lbnRzIGl0XG4gICAqIGNvbnRhaW5zICh0aGlzIGlzIHRoZSBgbWFya0NoaWxkcmVuYCBmdW5jdGlvbikuXG4gICAqKi9cbiAgdmFyIFN5bmMgPSBmdW5jdGlvbiAocmVtb3RlU3RvcmFnZSwgc2V0TG9jYWwsIHNldFJlbW90ZSwgc2V0QWNjZXNzLCBzZXRDYWNoaW5nKSB7XG4gICAgdGhpcy5yZW1vdGVTdG9yYWdlID0gcmVtb3RlU3RvcmFnZTtcbiAgICB0aGlzLmxvY2FsID0gc2V0TG9jYWw7XG4gICAgdGhpcy5sb2NhbC5vbkRpZmYoZnVuY3Rpb24gKHBhdGgpIHtcbiAgICAgIHRoaXMuYWRkVGFzayhwYXRoKTtcbiAgICAgIHRoaXMuZG9UYXNrcygpO1xuICAgIH0uYmluZCh0aGlzKSk7XG4gICAgdGhpcy5yZW1vdGUgPSBzZXRSZW1vdGU7XG4gICAgdGhpcy5hY2Nlc3MgPSBzZXRBY2Nlc3M7XG4gICAgdGhpcy5jYWNoaW5nID0gc2V0Q2FjaGluZztcbiAgICB0aGlzLl90YXNrcyA9IHt9O1xuICAgIHRoaXMuX3J1bm5pbmcgPSB7fTtcbiAgICB0aGlzLl90aW1lU3RhcnRlZCA9IHt9O1xuICAgIGV2ZW50SGFuZGxpbmcodGhpcywgJ2RvbmUnLCAncmVxLWRvbmUnKTtcbiAgICB0aGlzLmNhY2hpbmcub25BY3RpdmF0ZShmdW5jdGlvbiAocGF0aCkge1xuICAgICAgdGhpcy5hZGRUYXNrKHBhdGgpO1xuICAgICAgdGhpcy5kb1Rhc2tzKCk7XG4gICAgfS5iaW5kKHRoaXMpKTtcbiAgfTtcblxuICBTeW5jLnByb3RvdHlwZSA9IHtcblxuICAgIG5vdzogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIH0sXG5cbiAgICBxdWV1ZUdldFJlcXVlc3Q6IGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgaWYgKCF0aGlzLnJlbW90ZS5jb25uZWN0ZWQpIHtcbiAgICAgICAgICByZWplY3QoJ2Nhbm5vdCBmdWxmaWxsIG1heEFnZSByZXF1aXJlbWVudCAtIHJlbW90ZSBpcyBub3QgY29ubmVjdGVkJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXRoaXMucmVtb3RlLm9ubGluZSkge1xuICAgICAgICAgIHJlamVjdCgnY2Fubm90IGZ1bGZpbGwgbWF4QWdlIHJlcXVpcmVtZW50IC0gcmVtb3RlIGlzIG5vdCBvbmxpbmUnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmFkZFRhc2socGF0aCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5sb2NhbC5nZXQocGF0aCkudGhlbihmdW5jdGlvbiAocikge1xuICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG5cbiAgICAgICAgICB0aGlzLmRvVGFza3MoKTtcbiAgICAgICAgfVxuXG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgY29ycnVwdFNlcnZlckl0ZW1zTWFwOiBmdW5jdGlvbiAoaXRlbXNNYXAsIGZvcmNlMDIpIHtcbiAgICAgIGlmICgodHlwZW9mKGl0ZW1zTWFwKSAhPT0gJ29iamVjdCcpIHx8IChBcnJheS5pc0FycmF5KGl0ZW1zTWFwKSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGl0ZW1OYW1lIGluIGl0ZW1zTWFwKSB7XG4gICAgICAgIHZhciBpdGVtID0gaXRlbXNNYXBbaXRlbU5hbWVdO1xuXG4gICAgICAgIGlmICh0eXBlb2YoaXRlbSkgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZihpdGVtLkVUYWcpICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0ZvbGRlcihpdGVtTmFtZSkpIHtcbiAgICAgICAgICBpZiAoaXRlbU5hbWUuc3Vic3RyaW5nKDAsIGl0ZW1OYW1lLmxlbmd0aC0xKS5pbmRleE9mKCcvJykgIT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGl0ZW1OYW1lLmluZGV4T2YoJy8nKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZm9yY2UwMikge1xuICAgICAgICAgICAgaWYgKHR5cGVvZihpdGVtWydDb250ZW50LVR5cGUnXSkgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZihpdGVtWydDb250ZW50LUxlbmd0aCddKSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgY29ycnVwdEl0ZW1zTWFwOiBmdW5jdGlvbiAoaXRlbXNNYXApIHtcbiAgICAgIGlmICgodHlwZW9mKGl0ZW1zTWFwKSAhPT0gJ29iamVjdCcpIHx8IChBcnJheS5pc0FycmF5KGl0ZW1zTWFwKSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGl0ZW1OYW1lIGluIGl0ZW1zTWFwKSB7XG4gICAgICAgIGlmICh0eXBlb2YoaXRlbXNNYXBbaXRlbU5hbWVdKSAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICBjb3JydXB0UmV2aXNpb246IGZ1bmN0aW9uIChyZXYpIHtcbiAgICAgIHJldHVybiAoKHR5cGVvZihyZXYpICE9PSAnb2JqZWN0JykgfHxcbiAgICAgICAgICAgICAgKEFycmF5LmlzQXJyYXkocmV2KSkgfHxcbiAgICAgICAgICAgICAgKHJldi5yZXZpc2lvbiAmJiB0eXBlb2YocmV2LnJldmlzaW9uKSAhPT0gJ3N0cmluZycpIHx8XG4gICAgICAgICAgICAgIChyZXYuYm9keSAmJiB0eXBlb2YocmV2LmJvZHkpICE9PSAnc3RyaW5nJyAmJiB0eXBlb2YocmV2LmJvZHkpICE9PSAnb2JqZWN0JykgfHxcbiAgICAgICAgICAgICAgKHJldi5jb250ZW50VHlwZSAmJiB0eXBlb2YocmV2LmNvbnRlbnRUeXBlKSAhPT0gJ3N0cmluZycpIHx8XG4gICAgICAgICAgICAgIChyZXYuY29udGVudExlbmd0aCAmJiB0eXBlb2YocmV2LmNvbnRlbnRMZW5ndGgpICE9PSAnbnVtYmVyJykgfHxcbiAgICAgICAgICAgICAgKHJldi50aW1lc3RhbXAgJiYgdHlwZW9mKHJldi50aW1lc3RhbXApICE9PSAnbnVtYmVyJykgfHxcbiAgICAgICAgICAgICAgKHJldi5pdGVtc01hcCAmJiB0aGlzLmNvcnJ1cHRJdGVtc01hcChyZXYuaXRlbXNNYXApKSk7XG4gICAgfSxcblxuICAgIGlzQ29ycnVwdDogZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIHJldHVybiAoKHR5cGVvZihub2RlKSAhPT0gJ29iamVjdCcpIHx8XG4gICAgICAgICAgICAgIChBcnJheS5pc0FycmF5KG5vZGUpKSB8fFxuICAgICAgICAgICAgICAodHlwZW9mKG5vZGUucGF0aCkgIT09ICdzdHJpbmcnKSB8fFxuICAgICAgICAgICAgICAodGhpcy5jb3JydXB0UmV2aXNpb24obm9kZS5jb21tb24pKSB8fFxuICAgICAgICAgICAgICAobm9kZS5sb2NhbCAmJiB0aGlzLmNvcnJ1cHRSZXZpc2lvbihub2RlLmxvY2FsKSkgfHxcbiAgICAgICAgICAgICAgKG5vZGUucmVtb3RlICYmIHRoaXMuY29ycnVwdFJldmlzaW9uKG5vZGUucmVtb3RlKSkgfHxcbiAgICAgICAgICAgICAgKG5vZGUucHVzaCAmJiB0aGlzLmNvcnJ1cHRSZXZpc2lvbihub2RlLnB1c2gpKSk7XG4gICAgfSxcblxuICAgIGhhc1Rhc2tzOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcy5fdGFza3MpLmxlbmd0aCA+IDA7XG4gICAgfSxcblxuICAgIGNvbGxlY3REaWZmVGFza3M6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBudW0gPSAwO1xuXG4gICAgICByZXR1cm4gdGhpcy5sb2NhbC5mb3JBbGxOb2RlcyhmdW5jdGlvbiAobm9kZSkge1xuXG4gICAgICAgIGlmIChudW0gPiAxMDApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5pc0NvcnJ1cHQobm9kZSkpIHtcbiAgICAgICAgICBsb2coJ1tTeW5jXSBXQVJOSU5HOiBjb3JydXB0IG5vZGUgaW4gbG9jYWwgY2FjaGUnLCBub2RlKTtcbiAgICAgICAgICBpZiAodHlwZW9mKG5vZGUpID09PSAnb2JqZWN0JyAmJiBub2RlLnBhdGgpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkVGFzayhub2RlLnBhdGgpO1xuICAgICAgICAgICAgbnVtKys7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMubmVlZHNGZXRjaChub2RlKSAmJiB0aGlzLmFjY2Vzcy5jaGVja1BhdGhQZXJtaXNzaW9uKG5vZGUucGF0aCwgJ3InKSkge1xuICAgICAgICAgIHRoaXMuYWRkVGFzayhub2RlLnBhdGgpO1xuICAgICAgICAgIG51bSsrO1xuICAgICAgICB9IGVsc2UgaWYgKGlzRG9jdW1lbnQobm9kZS5wYXRoKSAmJiB0aGlzLm5lZWRzUHVzaChub2RlKSAmJlxuICAgICAgICAgICAgICAgICAgIHRoaXMuYWNjZXNzLmNoZWNrUGF0aFBlcm1pc3Npb24obm9kZS5wYXRoLCAncncnKSkge1xuICAgICAgICAgIHRoaXMuYWRkVGFzayhub2RlLnBhdGgpO1xuICAgICAgICAgIG51bSsrO1xuICAgICAgICB9XG4gICAgICB9LmJpbmQodGhpcykpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbnVtO1xuICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgaW5Db25mbGljdDogZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIHJldHVybiAobm9kZS5sb2NhbCAmJiBub2RlLnJlbW90ZSAmJlxuICAgICAgICAgICAgICAobm9kZS5yZW1vdGUuYm9keSAhPT0gdW5kZWZpbmVkIHx8IG5vZGUucmVtb3RlLml0ZW1zTWFwKSk7XG4gICAgfSxcblxuICAgIG5lZWRzUmVmcmVzaDogZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIGlmIChub2RlLmNvbW1vbikge1xuICAgICAgICBpZiAoIW5vZGUuY29tbW9uLnRpbWVzdGFtcCkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAodGhpcy5ub3coKSAtIG5vZGUuY29tbW9uLnRpbWVzdGFtcCA+IGNvbmZpZy5zeW5jSW50ZXJ2YWwpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICBuZWVkc0ZldGNoOiBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgaWYgKHRoaXMuaW5Db25mbGljdChub2RlKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlLmNvbW1vbiAmJiBub2RlLmNvbW1vbi5pdGVtc01hcCA9PT0gdW5kZWZpbmVkICYmIG5vZGUuY29tbW9uLmJvZHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlLnJlbW90ZSAmJiBub2RlLnJlbW90ZS5pdGVtc01hcCA9PT0gdW5kZWZpbmVkICYmIG5vZGUucmVtb3RlLmJvZHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgbmVlZHNQdXNoOiBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgaWYgKHRoaXMuaW5Db25mbGljdChub2RlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAobm9kZS5sb2NhbCAmJiAhbm9kZS5wdXNoKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBuZWVkc1JlbW90ZVB1dDogZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIHJldHVybiBub2RlLmxvY2FsICYmIG5vZGUubG9jYWwuYm9keTtcbiAgICB9LFxuXG4gICAgbmVlZHNSZW1vdGVEZWxldGU6IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICByZXR1cm4gbm9kZS5sb2NhbCAmJiBub2RlLmxvY2FsLmJvZHkgPT09IGZhbHNlO1xuICAgIH0sXG5cbiAgICBnZXRQYXJlbnRQYXRoOiBmdW5jdGlvbiAocGF0aCkge1xuICAgICAgdmFyIHBhcnRzID0gcGF0aC5tYXRjaCgvXiguKlxcLykoW15cXC9dK1xcLz8pJC8pO1xuXG4gICAgICBpZiAocGFydHMpIHtcbiAgICAgICAgcmV0dXJuIHBhcnRzWzFdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgYSB2YWxpZCBwYXRoOiBcIicrcGF0aCsnXCInKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgZGVsZXRlQ2hpbGRQYXRoc0Zyb21UYXNrczogZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgcGF0aCBpbiB0aGlzLl90YXNrcykge1xuICAgICAgICB2YXIgcGF0aHMgPSBwYXRoc0Zyb21Sb290KHBhdGgpO1xuXG4gICAgICAgIGZvciAodmFyIGk9MTsgaTxwYXRocy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmICh0aGlzLl90YXNrc1twYXRoc1tpXV0pIHtcbiAgICAgICAgICAgIC8vIG1vdmUgcGVuZGluZyBwcm9taXNlcyB0byBwYXJlbnQgdGFza1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5fdGFza3NbcGF0aF0pICYmIHRoaXMuX3Rhc2tzW3BhdGhdLmxlbmd0aCkge1xuICAgICAgICAgICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShcbiAgICAgICAgICAgICAgICB0aGlzLl90YXNrc1twYXRoc1tpXV0sXG4gICAgICAgICAgICAgICAgdGhpcy5fdGFza3NbcGF0aF1cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl90YXNrc1twYXRoXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgY29sbGVjdFJlZnJlc2hUYXNrczogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMubG9jYWwuZm9yQWxsTm9kZXMoZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgdmFyIHBhcmVudFBhdGg7XG4gICAgICAgIGlmICh0aGlzLm5lZWRzUmVmcmVzaChub2RlKSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBwYXJlbnRQYXRoID0gdGhpcy5nZXRQYXJlbnRQYXRoKG5vZGUucGF0aCk7XG4gICAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICAvLyBub2RlLnBhdGggaXMgYWxyZWFkeSAnLycsIGNhbid0IHRha2UgcGFyZW50UGF0aFxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocGFyZW50UGF0aCAmJiB0aGlzLmFjY2Vzcy5jaGVja1BhdGhQZXJtaXNzaW9uKHBhcmVudFBhdGgsICdyJykpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkVGFzayhwYXJlbnRQYXRoKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYWNjZXNzLmNoZWNrUGF0aFBlcm1pc3Npb24obm9kZS5wYXRoLCAncicpKSB7XG4gICAgICAgICAgICB0aGlzLmFkZFRhc2sobm9kZS5wYXRoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0uYmluZCh0aGlzKSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGVsZXRlQ2hpbGRQYXRoc0Zyb21UYXNrcygpO1xuICAgICAgfS5iaW5kKHRoaXMpLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBmbHVzaDogZnVuY3Rpb24gKG5vZGVzKSB7XG4gICAgICBmb3IgKHZhciBwYXRoIGluIG5vZGVzKSB7XG4gICAgICAgIC8vIFN0cmF0ZWd5IGlzICdGTFVTSCcgYW5kIG5vIGxvY2FsIGNoYW5nZXMgZXhpc3RcbiAgICAgICAgaWYgKHRoaXMuY2FjaGluZy5jaGVja1BhdGgocGF0aCkgPT09ICdGTFVTSCcgJiYgbm9kZXNbcGF0aF0gJiYgIW5vZGVzW3BhdGhdLmxvY2FsKSB7XG4gICAgICAgICAgbG9nKCdbU3luY10gRmx1c2hpbmcnLCBwYXRoKTtcbiAgICAgICAgICBub2Rlc1twYXRoXSA9IHVuZGVmaW5lZDsgLy8gQ2F1c2Ugbm9kZSB0byBiZSBmbHVzaGVkIGZyb20gY2FjaGVcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5vZGVzO1xuICAgIH0sXG5cbiAgICBkb1Rhc2s6IGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgICByZXR1cm4gdGhpcy5sb2NhbC5nZXROb2RlcyhbcGF0aF0pLnRoZW4oZnVuY3Rpb24gKG5vZGVzKSB7XG4gICAgICAgIHZhciBub2RlID0gbm9kZXNbcGF0aF07XG4gICAgICAgIC8vIEZpcnN0IGZldGNoOlxuICAgICAgICBpZiAodHlwZW9mKG5vZGUpID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHJldHVybiB0YXNrRm9yKCdnZXQnLCBwYXRoLCB0aGlzLnJlbW90ZS5nZXQocGF0aCkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEZldGNoIGtub3duLXN0YWxlIGNoaWxkOlxuICAgICAgICBlbHNlIGlmIChpc1N0YWxlQ2hpbGQobm9kZSkpIHtcbiAgICAgICAgICByZXR1cm4gdGFza0ZvcignZ2V0JywgcGF0aCwgdGhpcy5yZW1vdGUuZ2V0KHBhdGgpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBQdXNoIFBVVDpcbiAgICAgICAgZWxzZSBpZiAodGhpcy5uZWVkc1JlbW90ZVB1dChub2RlKSkge1xuICAgICAgICAgIG5vZGUucHVzaCA9IGRlZXBDbG9uZShub2RlLmxvY2FsKTtcbiAgICAgICAgICBub2RlLnB1c2gudGltZXN0YW1wID0gdGhpcy5ub3coKTtcblxuICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsLnNldE5vZGVzKHRoaXMuZmx1c2gobm9kZXMpKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBvcHRpb25zO1xuICAgICAgICAgICAgaWYgKGhhc0NvbW1vblJldmlzaW9uKG5vZGUpKSB7XG4gICAgICAgICAgICAgIG9wdGlvbnMgPSB7IGlmTWF0Y2g6IG5vZGUuY29tbW9uLnJldmlzaW9uIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBJbml0aWFsIFBVVCAoZmFpbCBpZiBzb21ldGhpbmcgaXMgYWxyZWFkeSB0aGVyZSlcbiAgICAgICAgICAgICAgb3B0aW9ucyA9IHsgaWZOb25lTWF0Y2g6ICcqJyB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGFza0ZvcigncHV0JywgcGF0aCxcbiAgICAgICAgICAgICAgdGhpcy5yZW1vdGUucHV0KHBhdGgsIG5vZGUucHVzaC5ib2R5LCBub2RlLnB1c2guY29udGVudFR5cGUsIG9wdGlvbnMpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUHVzaCBERUxFVEU6XG4gICAgICAgIGVsc2UgaWYgKHRoaXMubmVlZHNSZW1vdGVEZWxldGUobm9kZSkpIHtcbiAgICAgICAgICBub2RlLnB1c2ggPSB7IGJvZHk6IGZhbHNlLCB0aW1lc3RhbXA6IHRoaXMubm93KCkgfTtcblxuICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsLnNldE5vZGVzKHRoaXMuZmx1c2gobm9kZXMpKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChoYXNDb21tb25SZXZpc2lvbihub2RlKSkge1xuICAgICAgICAgICAgICByZXR1cm4gdGFza0ZvcignZGVsZXRlJywgcGF0aCxcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW90ZS5kZWxldGUocGF0aCwgeyBpZk1hdGNoOiBub2RlLmNvbW1vbi5yZXZpc2lvbiB9KVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIHsgLy8gQXNjZXJ0YWluIGN1cnJlbnQgY29tbW9uIG9yIHJlbW90ZSByZXZpc2lvbiBmaXJzdFxuICAgICAgICAgICAgICByZXR1cm4gdGFza0ZvcignZ2V0JywgcGF0aCwgdGhpcy5yZW1vdGUuZ2V0KHBhdGgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICB9XG4gICAgICAgIC8vIENvbmRpdGlvbmFsIHJlZnJlc2g6XG4gICAgICAgIGVsc2UgaWYgKGhhc0NvbW1vblJldmlzaW9uKG5vZGUpKSB7XG4gICAgICAgICAgcmV0dXJuIHRhc2tGb3IoJ2dldCcsIHBhdGgsXG4gICAgICAgICAgICB0aGlzLnJlbW90ZS5nZXQocGF0aCwgeyBpZk5vbmVNYXRjaDogbm9kZS5jb21tb24ucmV2aXNpb24gfSlcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0YXNrRm9yKCdnZXQnLCBwYXRoLCB0aGlzLnJlbW90ZS5nZXQocGF0aCkpO1xuICAgICAgICB9XG4gICAgICB9LmJpbmQodGhpcykpO1xuICAgIH0sXG5cbiAgICBhdXRvTWVyZ2VGb2xkZXI6IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICBpZiAobm9kZS5yZW1vdGUuaXRlbXNNYXApIHtcbiAgICAgICAgbm9kZS5jb21tb24gPSBub2RlLnJlbW90ZTtcbiAgICAgICAgZGVsZXRlIG5vZGUucmVtb3RlO1xuXG4gICAgICAgIGlmIChub2RlLmNvbW1vbi5pdGVtc01hcCkge1xuICAgICAgICAgIGZvciAodmFyIGl0ZW1OYW1lIGluIG5vZGUuY29tbW9uLml0ZW1zTWFwKSB7XG4gICAgICAgICAgICBpZiAoIW5vZGUubG9jYWwuaXRlbXNNYXBbaXRlbU5hbWVdKSB7XG4gICAgICAgICAgICAgIC8vIEluZGljYXRlcyB0aGUgbm9kZSBpcyBlaXRoZXIgbmV3bHkgYmVpbmcgZmV0Y2hlZFxuICAgICAgICAgICAgICAvLyBoYXMgYmVlbiBkZWxldGVkIGxvY2FsbHkgKHdoZXRoZXIgb3Igbm90IGxlYWRpbmcgdG8gY29uZmxpY3QpO1xuICAgICAgICAgICAgICAvLyBiZWZvcmUgbGlzdGluZyBpdCBpbiBsb2NhbCBsaXN0aW5ncywgY2hlY2sgaWYgYSBsb2NhbCBkZWxldGlvblxuICAgICAgICAgICAgICAvLyBleGlzdHMuXG4gICAgICAgICAgICAgIG5vZGUubG9jYWwuaXRlbXNNYXBbaXRlbU5hbWVdID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGVxdWFsKG5vZGUubG9jYWwuaXRlbXNNYXAsIG5vZGUuY29tbW9uLml0ZW1zTWFwKSkge1xuICAgICAgICAgICAgZGVsZXRlIG5vZGUubG9jYWw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9LFxuXG4gICAgYXV0b01lcmdlRG9jdW1lbnQ6IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICBoYXNOb1JlbW90ZUNoYW5nZXMgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICBpZiAobm9kZS5yZW1vdGUgJiYgbm9kZS5yZW1vdGUucmV2aXNpb24gJiYgbm9kZS5yZW1vdGUucmV2aXNpb24gIT09IG5vZGUuY29tbW9uLnJldmlzaW9uKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAobm9kZS5jb21tb24uYm9keSA9PT0gdW5kZWZpbmVkICYmIG5vZGUucmVtb3RlLmJvZHkgPT09IGZhbHNlKSB8fFxuICAgICAgICAgICAgICAgKG5vZGUucmVtb3RlLmJvZHkgPT09IG5vZGUuY29tbW9uLmJvZHkgJiZcbiAgICAgICAgICAgICAgICBub2RlLnJlbW90ZS5jb250ZW50VHlwZSA9PT0gbm9kZS5jb21tb24uY29udGVudFR5cGUpO1xuICAgICAgfTtcbiAgICAgIG1lcmdlTXV0dWFsRGVsZXRpb24gPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICBpZiAobm9kZS5yZW1vdGUgJiYgbm9kZS5yZW1vdGUuYm9keSA9PT0gZmFsc2VcbiAgICAgICAgICAgICYmIG5vZGUubG9jYWwgJiYgbm9kZS5sb2NhbC5ib2R5ID09PSBmYWxzZSkge1xuICAgICAgICAgICBkZWxldGUgbm9kZS5sb2NhbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgIH07XG5cbiAgICAgIGlmIChoYXNOb1JlbW90ZUNoYW5nZXMobm9kZSkpIHtcbiAgICAgICAgbm9kZSA9IG1lcmdlTXV0dWFsRGVsZXRpb24obm9kZSk7XG4gICAgICAgIGRlbGV0ZSBub2RlLnJlbW90ZTtcbiAgICAgIH0gZWxzZSBpZiAobm9kZS5yZW1vdGUuYm9keSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIGtlZXAvcmV2ZXJ0OlxuICAgICAgICBsb2coJ1tTeW5jXSBFbWl0dGluZyBrZWVwL3JldmVydCcpO1xuXG4gICAgICAgIHRoaXMubG9jYWwuX2VtaXRDaGFuZ2Uoe1xuICAgICAgICAgIG9yaWdpbjogICAgICAgICAnY29uZmxpY3QnLFxuICAgICAgICAgIHBhdGg6ICAgICAgICAgICBub2RlLnBhdGgsXG4gICAgICAgICAgb2xkVmFsdWU6ICAgICAgIG5vZGUubG9jYWwuYm9keSxcbiAgICAgICAgICBuZXdWYWx1ZTogICAgICAgbm9kZS5yZW1vdGUuYm9keSxcbiAgICAgICAgICBsYXN0Q29tbW9uVmFsdWU6IG5vZGUuY29tbW9uLmJvZHksXG4gICAgICAgICAgb2xkQ29udGVudFR5cGU6IG5vZGUubG9jYWwuY29udGVudFR5cGUsXG4gICAgICAgICAgbmV3Q29udGVudFR5cGU6IG5vZGUucmVtb3RlLmNvbnRlbnRUeXBlLFxuICAgICAgICAgIGxhc3RDb21tb25Db250ZW50VHlwZTogbm9kZS5jb21tb24uY29udGVudFR5cGVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKG5vZGUucmVtb3RlLmJvZHkpIHtcbiAgICAgICAgICBub2RlLmNvbW1vbiA9IG5vZGUucmVtb3RlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5vZGUuY29tbW9uID0ge307XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIG5vZGUucmVtb3RlO1xuICAgICAgICBkZWxldGUgbm9kZS5sb2NhbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBub2RlO1xuICAgIH0sXG5cbiAgICBhdXRvTWVyZ2U6IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICBpZiAobm9kZS5yZW1vdGUpIHtcbiAgICAgICAgaWYgKG5vZGUubG9jYWwpIHtcbiAgICAgICAgICBpZiAoaXNGb2xkZXIobm9kZS5wYXRoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXV0b01lcmdlRm9sZGVyKG5vZGUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hdXRvTWVyZ2VEb2N1bWVudChub2RlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7IC8vIG5vIGxvY2FsIGNoYW5nZXNcbiAgICAgICAgICBpZiAoaXNGb2xkZXIobm9kZS5wYXRoKSkge1xuICAgICAgICAgICAgaWYgKG5vZGUucmVtb3RlLml0ZW1zTWFwICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgbm9kZS5jb21tb24gPSBub2RlLnJlbW90ZTtcbiAgICAgICAgICAgICAgZGVsZXRlIG5vZGUucmVtb3RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAobm9kZS5yZW1vdGUuYm9keSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIHZhciBjaGFuZ2UgPSB7XG4gICAgICAgICAgICAgICAgb3JpZ2luOiAgICdyZW1vdGUnLFxuICAgICAgICAgICAgICAgIHBhdGg6ICAgICBub2RlLnBhdGgsXG4gICAgICAgICAgICAgICAgb2xkVmFsdWU6IChub2RlLmNvbW1vbi5ib2R5ID09PSBmYWxzZSA/IHVuZGVmaW5lZCA6IG5vZGUuY29tbW9uLmJvZHkpLFxuICAgICAgICAgICAgICAgIG5ld1ZhbHVlOiAobm9kZS5yZW1vdGUuYm9keSA9PT0gZmFsc2UgPyB1bmRlZmluZWQgOiBub2RlLnJlbW90ZS5ib2R5KSxcbiAgICAgICAgICAgICAgICBvbGRDb250ZW50VHlwZTogbm9kZS5jb21tb24uY29udGVudFR5cGUsXG4gICAgICAgICAgICAgICAgbmV3Q29udGVudFR5cGU6IG5vZGUucmVtb3RlLmNvbnRlbnRUeXBlXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIGlmIChjaGFuZ2Uub2xkVmFsdWUgfHwgY2hhbmdlLm5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2NhbC5fZW1pdENoYW5nZShjaGFuZ2UpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKCFub2RlLnJlbW90ZS5ib2R5KSB7IC8vIG5vIHJlbW90ZSwgc28gZGVsZXRlL2Rvbid0IGNyZWF0ZVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIG5vZGUuY29tbW9uID0gbm9kZS5yZW1vdGU7XG4gICAgICAgICAgICAgIGRlbGV0ZSBub2RlLnJlbW90ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChub2RlLmNvbW1vbi5ib2R5KSB7XG4gICAgICAgICAgdGhpcy5sb2NhbC5fZW1pdENoYW5nZSh7XG4gICAgICAgICAgICBvcmlnaW46ICAgJ3JlbW90ZScsXG4gICAgICAgICAgICBwYXRoOiAgICAgbm9kZS5wYXRoLFxuICAgICAgICAgICAgb2xkVmFsdWU6IG5vZGUuY29tbW9uLmJvZHksXG4gICAgICAgICAgICBuZXdWYWx1ZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgb2xkQ29udGVudFR5cGU6IG5vZGUuY29tbW9uLmNvbnRlbnRUeXBlLFxuICAgICAgICAgICAgbmV3Q29udGVudFR5cGU6IHVuZGVmaW5lZFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBub2RlO1xuICAgIH0sXG5cbiAgICB1cGRhdGVDb21tb25UaW1lc3RhbXA6IGZ1bmN0aW9uIChwYXRoLCByZXZpc2lvbikge1xuICAgICAgcmV0dXJuIHRoaXMubG9jYWwuZ2V0Tm9kZXMoW3BhdGhdKS50aGVuKGZ1bmN0aW9uIChub2Rlcykge1xuICAgICAgICBpZiAobm9kZXNbcGF0aF0gJiYgbm9kZXNbcGF0aF0uY29tbW9uICYmIG5vZGVzW3BhdGhdLmNvbW1vbi5yZXZpc2lvbiA9PT0gcmV2aXNpb24pIHtcbiAgICAgICAgICBub2Rlc1twYXRoXS5jb21tb24udGltZXN0YW1wID0gdGhpcy5ub3coKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbC5zZXROb2Rlcyh0aGlzLmZsdXNoKG5vZGVzKSk7XG4gICAgICB9LmJpbmQodGhpcykpO1xuICAgIH0sXG5cbiAgICBtYXJrQ2hpbGRyZW46IGZ1bmN0aW9uIChwYXRoLCBpdGVtc01hcCwgY2hhbmdlZE5vZGVzLCBtaXNzaW5nQ2hpbGRyZW4pIHtcbiAgICAgIHZhciBwYXRocyA9IFtdO1xuICAgICAgdmFyIG1ldGEgPSB7fTtcbiAgICAgIHZhciByZWN1cnNlID0ge307XG5cbiAgICAgIGZvciAodmFyIGl0ZW0gaW4gaXRlbXNNYXApIHtcbiAgICAgICAgcGF0aHMucHVzaChwYXRoK2l0ZW0pO1xuICAgICAgICBtZXRhW3BhdGgraXRlbV0gPSBpdGVtc01hcFtpdGVtXTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGNoaWxkTmFtZSBpbiBtaXNzaW5nQ2hpbGRyZW4pIHtcbiAgICAgICAgcGF0aHMucHVzaChwYXRoK2NoaWxkTmFtZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmxvY2FsLmdldE5vZGVzKHBhdGhzKS50aGVuKGZ1bmN0aW9uIChub2Rlcykge1xuICAgICAgICB2YXIgY2FjaGluZ1N0cmF0ZWd5O1xuICAgICAgICB2YXIgbm9kZTtcblxuICAgICAgICB2YXIgbm9kZUNoYW5nZWQgPSBmdW5jdGlvbiAobm9kZSwgZXRhZykge1xuICAgICAgICAgIHJldHVybiBub2RlLmNvbW1vbi5yZXZpc2lvbiAhPT0gZXRhZyAmJiAoIW5vZGUucmVtb3RlIHx8IG5vZGUucmVtb3RlLnJldmlzaW9uICE9PSBldGFnKTtcbiAgICAgICAgfTtcblxuICAgICAgICBmb3IgKHZhciBub2RlUGF0aCBpbiBub2Rlcykge1xuICAgICAgICAgIG5vZGUgPSBub2Rlc1tub2RlUGF0aF07XG5cbiAgICAgICAgICBpZiAobWV0YVtub2RlUGF0aF0pIHtcbiAgICAgICAgICAgIGlmIChub2RlICYmIG5vZGUuY29tbW9uKSB7XG4gICAgICAgICAgICAgIGlmIChub2RlQ2hhbmdlZChub2RlLCBtZXRhW25vZGVQYXRoXS5FVGFnKSkge1xuICAgICAgICAgICAgICAgIGNoYW5nZWROb2Rlc1tub2RlUGF0aF0gPSBkZWVwQ2xvbmUobm9kZSk7XG4gICAgICAgICAgICAgICAgY2hhbmdlZE5vZGVzW25vZGVQYXRoXS5yZW1vdGUgPSB7XG4gICAgICAgICAgICAgICAgICByZXZpc2lvbjogIG1ldGFbbm9kZVBhdGhdLkVUYWcsXG4gICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IHRoaXMubm93KClcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNoYW5nZWROb2Rlc1tub2RlUGF0aF0gPSB0aGlzLmF1dG9NZXJnZShjaGFuZ2VkTm9kZXNbbm9kZVBhdGhdKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY2FjaGluZ1N0cmF0ZWd5ID0gdGhpcy5jYWNoaW5nLmNoZWNrUGF0aChub2RlUGF0aCk7XG4gICAgICAgICAgICAgIGlmIChjYWNoaW5nU3RyYXRlZ3kgPT09ICdBTEwnKSB7XG4gICAgICAgICAgICAgICAgY2hhbmdlZE5vZGVzW25vZGVQYXRoXSA9IHtcbiAgICAgICAgICAgICAgICAgIHBhdGg6IG5vZGVQYXRoLFxuICAgICAgICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogdGhpcy5ub3coKVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIHJlbW90ZToge1xuICAgICAgICAgICAgICAgICAgICByZXZpc2lvbjogbWV0YVtub2RlUGF0aF0uRVRhZyxcbiAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiB0aGlzLm5vdygpXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY2hhbmdlZE5vZGVzW25vZGVQYXRoXSAmJiBtZXRhW25vZGVQYXRoXVsnQ29udGVudC1UeXBlJ10pIHtcbiAgICAgICAgICAgICAgY2hhbmdlZE5vZGVzW25vZGVQYXRoXS5yZW1vdGUuY29udGVudFR5cGUgPSBtZXRhW25vZGVQYXRoXVsnQ29udGVudC1UeXBlJ107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjaGFuZ2VkTm9kZXNbbm9kZVBhdGhdICYmIG1ldGFbbm9kZVBhdGhdWydDb250ZW50LUxlbmd0aCddKSB7XG4gICAgICAgICAgICAgIGNoYW5nZWROb2Rlc1tub2RlUGF0aF0ucmVtb3RlLmNvbnRlbnRMZW5ndGggPSBtZXRhW25vZGVQYXRoXVsnQ29udGVudC1MZW5ndGgnXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKG1pc3NpbmdDaGlsZHJlbltub2RlUGF0aC5zdWJzdHJpbmcocGF0aC5sZW5ndGgpXSAmJiBub2RlICYmIG5vZGUuY29tbW9uKSB7XG4gICAgICAgICAgICBpZiAobm9kZS5jb21tb24uaXRlbXNNYXApIHtcbiAgICAgICAgICAgICAgZm9yICh2YXIgY29tbW9uSXRlbSBpbiBub2RlLmNvbW1vbi5pdGVtc01hcCkge1xuICAgICAgICAgICAgICAgIHJlY3Vyc2Vbbm9kZVBhdGgrY29tbW9uSXRlbV0gPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChub2RlLmxvY2FsICYmIG5vZGUubG9jYWwuaXRlbXNNYXApIHtcbiAgICAgICAgICAgICAgZm9yICh2YXIgbG9jYWxJdGVtIGluIG5vZGUubG9jYWwuaXRlbXNNYXApIHtcbiAgICAgICAgICAgICAgICByZWN1cnNlW25vZGVQYXRoK2xvY2FsSXRlbV0gPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChub2RlLnJlbW90ZSB8fCBpc0ZvbGRlcihub2RlUGF0aCkpIHtcbiAgICAgICAgICAgICAgY2hhbmdlZE5vZGVzW25vZGVQYXRoXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNoYW5nZWROb2Rlc1tub2RlUGF0aF0gPSB0aGlzLmF1dG9NZXJnZShub2RlKTtcblxuICAgICAgICAgICAgICBpZiAodHlwZW9mIGNoYW5nZWROb2Rlc1tub2RlUGF0aF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudFBhdGggPSB0aGlzLmdldFBhcmVudFBhdGgobm9kZVBhdGgpO1xuICAgICAgICAgICAgICAgIHZhciBwYXJlbnROb2RlID0gY2hhbmdlZE5vZGVzW3BhcmVudFBhdGhdO1xuICAgICAgICAgICAgICAgIHZhciBpdGVtTmFtZSA9IG5vZGVQYXRoLnN1YnN0cmluZyhwYXRoLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudE5vZGUgJiYgcGFyZW50Tm9kZS5sb2NhbCkge1xuICAgICAgICAgICAgICAgICAgZGVsZXRlIHBhcmVudE5vZGUubG9jYWwuaXRlbXNNYXBbaXRlbU5hbWVdO1xuXG4gICAgICAgICAgICAgICAgICBpZiAoZXF1YWwocGFyZW50Tm9kZS5sb2NhbC5pdGVtc01hcCwgcGFyZW50Tm9kZS5jb21tb24uaXRlbXNNYXApKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBwYXJlbnROb2RlLmxvY2FsO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmRlbGV0ZVJlbW90ZVRyZWVzKE9iamVjdC5rZXlzKHJlY3Vyc2UpLCBjaGFuZ2VkTm9kZXMpLnRoZW4oZnVuY3Rpb24gKGNoYW5nZWRPYmpzMikge1xuICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsLnNldE5vZGVzKHRoaXMuZmx1c2goY2hhbmdlZE9ianMyKSk7XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICB9LmJpbmQodGhpcykpO1xuICAgIH0sXG5cbiAgICBkZWxldGVSZW1vdGVUcmVlczogZnVuY3Rpb24gKHBhdGhzLCBjaGFuZ2VkTm9kZXMpIHtcbiAgICAgIGlmIChwYXRocy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShjaGFuZ2VkTm9kZXMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5sb2NhbC5nZXROb2RlcyhwYXRocykudGhlbihmdW5jdGlvbiAobm9kZXMpIHtcbiAgICAgICAgdmFyIHN1YlBhdGhzID0ge307XG5cbiAgICAgICAgY29sbGVjdFN1YlBhdGhzID0gZnVuY3Rpb24gKGZvbGRlciwgcGF0aCkge1xuICAgICAgICAgIGlmIChmb2xkZXIgJiYgZm9sZGVyLml0ZW1zTWFwKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpdGVtTmFtZSBpbiBmb2xkZXIuaXRlbXNNYXApIHtcbiAgICAgICAgICAgICAgc3ViUGF0aHNbcGF0aCtpdGVtTmFtZV0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBmb3IgKHZhciBwYXRoIGluIG5vZGVzKSB7XG4gICAgICAgICAgdmFyIG5vZGUgPSBub2Rlc1twYXRoXTtcblxuICAgICAgICAgIC8vIFRPRE8gV2h5IGNoZWNrIGZvciB0aGUgbm9kZSBoZXJlPyBJIGRvbid0IHRoaW5rIHRoaXMgY2hlY2sgZXZlciBhcHBsaWVzXG4gICAgICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoaXNGb2xkZXIocGF0aCkpIHtcbiAgICAgICAgICAgIGNvbGxlY3RTdWJQYXRocyhub2RlLmNvbW1vbiwgcGF0aCk7XG4gICAgICAgICAgICBjb2xsZWN0U3ViUGF0aHMobm9kZS5sb2NhbCwgcGF0aCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChub2RlLmNvbW1vbiAmJiB0eXBlb2Yobm9kZS5jb21tb24uYm9keSkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICBjaGFuZ2VkTm9kZXNbcGF0aF0gPSBkZWVwQ2xvbmUobm9kZSk7XG4gICAgICAgICAgICAgIGNoYW5nZWROb2Rlc1twYXRoXS5yZW1vdGUgPSB7XG4gICAgICAgICAgICAgICAgYm9keTogICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IHRoaXMubm93KClcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgY2hhbmdlZE5vZGVzW3BhdGhdID0gdGhpcy5hdXRvTWVyZ2UoY2hhbmdlZE5vZGVzW3BhdGhdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZWN1cnNlIHdob2xlIHRyZWUgZGVwdGggbGV2ZWxzIGF0IG9uY2U6XG4gICAgICAgIHJldHVybiB0aGlzLmRlbGV0ZVJlbW90ZVRyZWVzKE9iamVjdC5rZXlzKHN1YlBhdGhzKSwgY2hhbmdlZE5vZGVzKS50aGVuKGZ1bmN0aW9uIChjaGFuZ2VkTm9kZXMyKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWwuc2V0Tm9kZXModGhpcy5mbHVzaChjaGFuZ2VkTm9kZXMyKSk7XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICB9LmJpbmQodGhpcykpO1xuICAgIH0sXG5cbiAgICBjb21wbGV0ZUZldGNoOiBmdW5jdGlvbiAocGF0aCwgYm9keU9ySXRlbXNNYXAsIGNvbnRlbnRUeXBlLCByZXZpc2lvbikge1xuICAgICAgdmFyIHBhdGhzO1xuICAgICAgdmFyIHBhcmVudFBhdGg7XG4gICAgICB2YXIgcGF0aHNGcm9tUm9vdEFyciA9IHBhdGhzRnJvbVJvb3QocGF0aCk7XG5cbiAgICAgIGlmIChpc0ZvbGRlcihwYXRoKSkge1xuICAgICAgICBwYXRocyA9IFtwYXRoXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcmVudFBhdGggPSBwYXRoc0Zyb21Sb290QXJyWzFdO1xuICAgICAgICBwYXRocyA9IFtwYXRoLCBwYXJlbnRQYXRoXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMubG9jYWwuZ2V0Tm9kZXMocGF0aHMpLnRoZW4oZnVuY3Rpb24gKG5vZGVzKSB7XG4gICAgICAgIHZhciBpdGVtTmFtZTtcbiAgICAgICAgdmFyIG1pc3NpbmdDaGlsZHJlbiA9IHt9O1xuICAgICAgICB2YXIgbm9kZSA9IG5vZGVzW3BhdGhdO1xuICAgICAgICB2YXIgcGFyZW50Tm9kZTtcblxuICAgICAgICB2YXIgY29sbGVjdE1pc3NpbmdDaGlsZHJlbiA9IGZ1bmN0aW9uIChmb2xkZXIpIHtcbiAgICAgICAgICBpZiAoZm9sZGVyICYmIGZvbGRlci5pdGVtc01hcCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaXRlbU5hbWUgaW4gZm9sZGVyLml0ZW1zTWFwKSB7XG4gICAgICAgICAgICAgIGlmICghYm9keU9ySXRlbXNNYXBbaXRlbU5hbWVdKSB7XG4gICAgICAgICAgICAgICAgbWlzc2luZ0NoaWxkcmVuW2l0ZW1OYW1lXSA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHR5cGVvZihub2RlKSAhPT0gJ29iamVjdCcgIHx8IG5vZGUucGF0aCAhPT0gcGF0aCB8fFxuICAgICAgICAgICAgdHlwZW9mKG5vZGUuY29tbW9uKSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICBub2RlID0ge1xuICAgICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICAgIGNvbW1vbjoge31cbiAgICAgICAgICB9O1xuICAgICAgICAgIG5vZGVzW3BhdGhdID0gbm9kZTtcbiAgICAgICAgfVxuXG4gICAgICAgIG5vZGUucmVtb3RlID0ge1xuICAgICAgICAgIHJldmlzaW9uOiByZXZpc2lvbixcbiAgICAgICAgICB0aW1lc3RhbXA6IHRoaXMubm93KClcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoaXNGb2xkZXIocGF0aCkpIHtcbiAgICAgICAgICBjb2xsZWN0TWlzc2luZ0NoaWxkcmVuKG5vZGUuY29tbW9uKTtcbiAgICAgICAgICBjb2xsZWN0TWlzc2luZ0NoaWxkcmVuKG5vZGUucmVtb3RlKTtcblxuICAgICAgICAgIG5vZGUucmVtb3RlLml0ZW1zTWFwID0ge307XG4gICAgICAgICAgZm9yIChpdGVtTmFtZSBpbiBib2R5T3JJdGVtc01hcCkge1xuICAgICAgICAgICAgbm9kZS5yZW1vdGUuaXRlbXNNYXBbaXRlbU5hbWVdID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbm9kZS5yZW1vdGUuYm9keSA9IGJvZHlPckl0ZW1zTWFwO1xuICAgICAgICAgIG5vZGUucmVtb3RlLmNvbnRlbnRUeXBlID0gY29udGVudFR5cGU7XG5cbiAgICAgICAgICBwYXJlbnROb2RlID0gbm9kZXNbcGFyZW50UGF0aF07XG4gICAgICAgICAgaWYgKHBhcmVudE5vZGUgJiYgcGFyZW50Tm9kZS5sb2NhbCAmJiBwYXJlbnROb2RlLmxvY2FsLml0ZW1zTWFwKSB7XG4gICAgICAgICAgICBpdGVtTmFtZSA9IHBhdGguc3Vic3RyaW5nKHBhcmVudFBhdGgubGVuZ3RoKTtcbiAgICAgICAgICAgIHBhcmVudE5vZGUubG9jYWwuaXRlbXNNYXBbaXRlbU5hbWVdID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChlcXVhbChwYXJlbnROb2RlLmxvY2FsLml0ZW1zTWFwLCBwYXJlbnROb2RlLmNvbW1vbi5pdGVtc01hcCkpIHtcbiAgICAgICAgICAgICAgZGVsZXRlIHBhcmVudE5vZGUubG9jYWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbm9kZXNbcGF0aF0gPSB0aGlzLmF1dG9NZXJnZShub2RlKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0b0JlU2F2ZWQ6ICAgICAgIG5vZGVzLFxuICAgICAgICAgIG1pc3NpbmdDaGlsZHJlbjogbWlzc2luZ0NoaWxkcmVuXG4gICAgICAgIH07XG4gICAgICB9LmJpbmQodGhpcykpO1xuICAgIH0sXG5cbiAgICBjb21wbGV0ZVB1c2g6IGZ1bmN0aW9uIChwYXRoLCBhY3Rpb24sIGNvbmZsaWN0LCByZXZpc2lvbikge1xuICAgICAgcmV0dXJuIHRoaXMubG9jYWwuZ2V0Tm9kZXMoW3BhdGhdKS50aGVuKGZ1bmN0aW9uIChub2Rlcykge1xuICAgICAgICB2YXIgbm9kZSA9IG5vZGVzW3BhdGhdO1xuXG4gICAgICAgIGlmICghbm9kZS5wdXNoKSB7XG4gICAgICAgICAgdGhpcy5zdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvbXBsZXRlUHVzaCBjYWxsZWQgYnV0IG5vIHB1c2ggdmVyc2lvbiEnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb25mbGljdCkge1xuICAgICAgICAgIGxvZygnW1N5bmNdIFdlIGhhdmUgYSBjb25mbGljdCcpO1xuXG4gICAgICAgICAgaWYgKCFub2RlLnJlbW90ZSB8fCBub2RlLnJlbW90ZS5yZXZpc2lvbiAhPT0gcmV2aXNpb24pIHtcbiAgICAgICAgICAgIG5vZGUucmVtb3RlID0ge1xuICAgICAgICAgICAgICByZXZpc2lvbjogIHJldmlzaW9uIHx8ICdjb25mbGljdCcsXG4gICAgICAgICAgICAgIHRpbWVzdGFtcDogdGhpcy5ub3coKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGRlbGV0ZSBub2RlLnB1c2g7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbm9kZXNbcGF0aF0gPSB0aGlzLmF1dG9NZXJnZShub2RlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBub2RlLmNvbW1vbiA9IHtcbiAgICAgICAgICAgIHJldmlzaW9uOiAgcmV2aXNpb24sXG4gICAgICAgICAgICB0aW1lc3RhbXA6IHRoaXMubm93KClcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgaWYgKGFjdGlvbiA9PT0gJ3B1dCcpIHtcbiAgICAgICAgICAgIG5vZGUuY29tbW9uLmJvZHkgPSBub2RlLnB1c2guYm9keTtcbiAgICAgICAgICAgIG5vZGUuY29tbW9uLmNvbnRlbnRUeXBlID0gbm9kZS5wdXNoLmNvbnRlbnRUeXBlO1xuXG4gICAgICAgICAgICBpZiAoZXF1YWwobm9kZS5sb2NhbC5ib2R5LCBub2RlLnB1c2guYm9keSkgJiZcbiAgICAgICAgICAgICAgICBub2RlLmxvY2FsLmNvbnRlbnRUeXBlID09PSBub2RlLnB1c2guY29udGVudFR5cGUpIHtcbiAgICAgICAgICAgICAgZGVsZXRlIG5vZGUubG9jYWw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRlbGV0ZSBub2RlLnB1c2g7XG4gICAgICAgICAgfSBlbHNlIGlmIChhY3Rpb24gPT09ICdkZWxldGUnKSB7XG4gICAgICAgICAgICBpZiAobm9kZS5sb2NhbC5ib2R5ID09PSBmYWxzZSkgeyAvLyBObyBuZXcgbG9jYWwgY2hhbmdlcyBzaW5jZSBwdXNoOyBmbHVzaCBpdC5cbiAgICAgICAgICAgICAgbm9kZXNbcGF0aF0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBkZWxldGUgbm9kZS5wdXNoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsLnNldE5vZGVzKHRoaXMuZmx1c2gobm9kZXMpKTtcbiAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgfSxcblxuICAgIGRlYWxXaXRoRmFpbHVyZTogZnVuY3Rpb24gKHBhdGgsIGFjdGlvbiwgc3RhdHVzTWVhbmluZykge1xuXG4gICAgICByZXR1cm4gdGhpcy5sb2NhbC5nZXROb2RlcyhbcGF0aF0pLnRoZW4oZnVuY3Rpb24gKG5vZGVzKSB7XG4gICAgICAgIGlmIChub2Rlc1twYXRoXSkge1xuICAgICAgICAgIGRlbGV0ZSBub2Rlc1twYXRoXS5wdXNoO1xuICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsLnNldE5vZGVzKHRoaXMuZmx1c2gobm9kZXMpKTtcbiAgICAgICAgfVxuICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICB9LFxuXG4gICAgaW50ZXJwcmV0U3RhdHVzOiBmdW5jdGlvbiAoc3RhdHVzQ29kZSkge1xuICAgICAgaWYgKHN0YXR1c0NvZGUgPT09ICdvZmZsaW5lJyB8fCBzdGF0dXNDb2RlID09PSAndGltZW91dCcpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdWNjZXNzZnVsOiAgICAgIGZhbHNlLFxuICAgICAgICAgIG5ldHdvcmtQcm9ibGVtczogdHJ1ZSxcbiAgICAgICAgICBzdGF0dXNDb2RlOiBzdGF0dXNDb2RlXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHZhciBzZXJpZXMgPSBNYXRoLmZsb29yKHN0YXR1c0NvZGUgLyAxMDApO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzZnVsOiAoc2VyaWVzID09PSAyIHx8IHN0YXR1c0NvZGUgPT09IDMwNCB8fCBzdGF0dXNDb2RlID09PSA0MTIgfHwgc3RhdHVzQ29kZSA9PT0gNDA0KSxcbiAgICAgICAgY29uZmxpY3Q6ICAgKHN0YXR1c0NvZGUgPT09IDQxMiksXG4gICAgICAgIHVuQXV0aDogICAgICgoc3RhdHVzQ29kZSA9PT0gNDAxICYmIHRoaXMucmVtb3RlLnRva2VuICE9PSBBdXRob3JpemUuSU1QTElFRF9GQUtFX1RPS0VOKSB8fFxuICAgICAgICAgICAgICAgICAgICAgc3RhdHVzQ29kZSA9PT0gNDAyIHx8IHN0YXR1c0NvZGUgPT09IDQwMyksXG4gICAgICAgIG5vdEZvdW5kOiAgIChzdGF0dXNDb2RlID09PSA0MDQpLFxuICAgICAgICBjaGFuZ2VkOiAgICAoc3RhdHVzQ29kZSAhPT0gMzA0KSxcbiAgICAgICAgc3RhdHVzQ29kZTogc3RhdHVzQ29kZVxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgaGFuZGxlR2V0UmVzcG9uc2U6IGZ1bmN0aW9uIChwYXRoLCBzdGF0dXMsIGJvZHlPckl0ZW1zTWFwLCBjb250ZW50VHlwZSwgcmV2aXNpb24pIHtcbiAgICAgIGlmIChzdGF0dXMubm90Rm91bmQpIHtcbiAgICAgICAgaWYgKGlzRm9sZGVyKHBhdGgpKSB7XG4gICAgICAgICAgYm9keU9ySXRlbXNNYXAgPSB7fTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBib2R5T3JJdGVtc01hcCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChzdGF0dXMuY2hhbmdlZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wbGV0ZUZldGNoKHBhdGgsIGJvZHlPckl0ZW1zTWFwLCBjb250ZW50VHlwZSwgcmV2aXNpb24pLnRoZW4oZnVuY3Rpb24gKGRhdGFGcm9tRmV0Y2gpIHtcbiAgICAgICAgICBpZiAoaXNGb2xkZXIocGF0aCkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvcnJ1cHRTZXJ2ZXJJdGVtc01hcChib2R5T3JJdGVtc01hcCkpIHtcbiAgICAgICAgICAgICAgbG9nKCdbU3luY10gV0FSTklORzogRGlzY2FyZGluZyBjb3JydXB0IGZvbGRlciBkZXNjcmlwdGlvbiBmcm9tIHNlcnZlciBmb3IgJyArIHBhdGgpO1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tYXJrQ2hpbGRyZW4ocGF0aCwgYm9keU9ySXRlbXNNYXAsIGRhdGFGcm9tRmV0Y2gudG9CZVNhdmVkLCBkYXRhRnJvbUZldGNoLm1pc3NpbmdDaGlsZHJlbikudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbC5zZXROb2Rlcyh0aGlzLmZsdXNoKGRhdGFGcm9tRmV0Y2gudG9CZVNhdmVkKSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlQ29tbW9uVGltZXN0YW1wKHBhdGgsIHJldmlzaW9uKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGhhbmRsZVJlc3BvbnNlOiBmdW5jdGlvbiAocGF0aCwgYWN0aW9uLCByKSB7XG4gICAgICB2YXIgc3RhdHVzID0gdGhpcy5pbnRlcnByZXRTdGF0dXMoci5zdGF0dXNDb2RlKTtcbiAgICAgIGlmIChzdGF0dXMuc3VjY2Vzc2Z1bCkge1xuICAgICAgICBpZiAoYWN0aW9uID09PSAnZ2V0Jykge1xuICAgICAgICAgIHJldHVybiB0aGlzLmhhbmRsZUdldFJlc3BvbnNlKHBhdGgsIHN0YXR1cywgci5ib2R5LCByLmNvbnRlbnRUeXBlLCByLnJldmlzaW9uKTtcbiAgICAgICAgfSBlbHNlIGlmIChhY3Rpb24gPT09ICdwdXQnIHx8IGFjdGlvbiA9PT0gJ2RlbGV0ZScpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5jb21wbGV0ZVB1c2gocGF0aCwgYWN0aW9uLCBzdGF0dXMuY29uZmxpY3QsIHIucmV2aXNpb24pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjYW5ub3QgaGFuZGxlIHJlc3BvbnNlIGZvciB1bmtub3duIGFjdGlvbicsIGFjdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAvLyBVbnN1Y2Nlc3NmdWxcbiAgICAgICAgdmFyIGVycm9yO1xuICAgICAgICBpZiAoc3RhdHVzLnVuQXV0aCkge1xuICAgICAgICAgIGVycm9yID0gbmV3IEF1dGhvcml6ZS5VbmF1dGhvcml6ZWQoKTtcbiAgICAgICAgfSBlbHNlIGlmIChzdGF0dXMubmV0d29ya1Byb2JsZW1zKSB7XG4gICAgICAgICAgZXJyb3IgPSBuZXcgU3luYy5TeW5jRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoJ0hUVFAgcmVzcG9uc2UgY29kZSAnICsgc3RhdHVzLnN0YXR1c0NvZGUgKyAnIHJlY2VpdmVkLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZGVhbFdpdGhGYWlsdXJlKHBhdGgsIGFjdGlvbiwgc3RhdHVzKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0aGlzLnJlbW90ZVN0b3JhZ2UuX2VtaXQoJ2Vycm9yJywgZXJyb3IpO1xuICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgbnVtVGhyZWFkczogMTAsXG5cbiAgICBmaW5pc2hUYXNrOiBmdW5jdGlvbiAodGFzaykge1xuICAgICAgaWYgKHRhc2suYWN0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuX3J1bm5pbmdbdGFzay5wYXRoXTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gdGFzay5wcm9taXNlLnRoZW4oZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuaGFuZGxlUmVzcG9uc2UodGFzay5wYXRoLCB0YXNrLmFjdGlvbiwgcik7XG4gICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGxvZygnW1N5bmNdIHdpcmVjbGllbnQgcmVqZWN0cyBpdHMgcHJvbWlzZSEnLCB0YXNrLnBhdGgsIHRhc2suYWN0aW9uLCBlcnIpO1xuICAgICAgICByZXR1cm4gc2VsZi5oYW5kbGVSZXNwb25zZSh0YXNrLnBhdGgsIHRhc2suYWN0aW9uLCB7c3RhdHVzQ29kZTogJ29mZmxpbmUnfSk7XG4gICAgICB9KVxuXG4gICAgICAudGhlbihmdW5jdGlvbiAoY29tcGxldGVkKSB7XG4gICAgICAgIGRlbGV0ZSBzZWxmLl90aW1lU3RhcnRlZFt0YXNrLnBhdGhdO1xuICAgICAgICBkZWxldGUgc2VsZi5fcnVubmluZ1t0YXNrLnBhdGhdO1xuXG4gICAgICAgIGlmIChjb21wbGV0ZWQpIHtcbiAgICAgICAgICBpZiAoc2VsZi5fdGFza3NbdGFzay5wYXRoXSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaT0wOyBpPHNlbGYuX3Rhc2tzW3Rhc2sucGF0aF0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgc2VsZi5fdGFza3NbdGFzay5wYXRoXVtpXSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVsZXRlIHNlbGYuX3Rhc2tzW3Rhc2sucGF0aF07XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc2VsZi5fZW1pdCgncmVxLWRvbmUnKTtcblxuICAgICAgICBzZWxmLmNvbGxlY3RUYXNrcyhmYWxzZSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgLy8gU2VlIGlmIHRoZXJlIGFyZSBhbnkgbW9yZSB0YXNrcyB0aGF0IGFyZSBub3QgcmVmcmVzaCB0YXNrc1xuICAgICAgICAgIGlmICghc2VsZi5oYXNUYXNrcygpIHx8IHNlbGYuc3RvcHBlZCkge1xuICAgICAgICAgICAgbG9nKCdbU3luY10gU3luYyBpcyBkb25lISBSZXNjaGVkdWxlPycsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHNlbGYuX3Rhc2tzKS5sZW5ndGgsIHNlbGYuc3RvcHBlZCk7XG4gICAgICAgICAgICBpZiAoIXNlbGYuZG9uZSkge1xuICAgICAgICAgICAgICBzZWxmLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICBzZWxmLl9lbWl0KCdkb25lJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFVzZSBhIDEwbXMgdGltZW91dCB0byBsZXQgdGhlIEphdmFTY3JpcHQgcnVudGltZSBjYXRjaCBpdHMgYnJlYXRoXG4gICAgICAgICAgICAvLyAoYW5kIGhvcGVmdWxseSBmb3JjZSBhbiBJbmRleGVkREIgYXV0by1jb21taXQ/KSwgYW5kIGFsc28gdG8gY2F1c2VcbiAgICAgICAgICAgIC8vIHRoZSB0aHJlYWRzIHRvIGdldCBzdGFnZ2VyZWQgYW5kIGdldCBhIGdvb2Qgc3ByZWFkIG92ZXIgdGltZTpcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBzZWxmLmRvVGFza3MoKTtcbiAgICAgICAgICAgIH0sIDEwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICBsb2coJ1tTeW5jXSBFcnJvcicsIGVycik7XG4gICAgICAgIGRlbGV0ZSBzZWxmLl90aW1lU3RhcnRlZFt0YXNrLnBhdGhdO1xuICAgICAgICBkZWxldGUgc2VsZi5fcnVubmluZ1t0YXNrLnBhdGhdO1xuICAgICAgICBzZWxmLl9lbWl0KCdyZXEtZG9uZScpO1xuICAgICAgICBpZiAoIXNlbGYuZG9uZSkge1xuICAgICAgICAgIHNlbGYuZG9uZSA9IHRydWU7XG4gICAgICAgICAgc2VsZi5fZW1pdCgnZG9uZScpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgZG9UYXNrczogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIG51bVRvSGF2ZSwgbnVtQWRkZWQgPSAwLCBudW1Ub0FkZCwgcGF0aDtcbiAgICAgIGlmICh0aGlzLnJlbW90ZS5jb25uZWN0ZWQpIHtcbiAgICAgICAgaWYgKHRoaXMucmVtb3RlLm9ubGluZSkge1xuICAgICAgICAgIG51bVRvSGF2ZSA9IHRoaXMubnVtVGhyZWFkcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBudW1Ub0hhdmUgPSAxO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBudW1Ub0hhdmUgPSAwO1xuICAgICAgfVxuICAgICAgbnVtVG9BZGQgPSBudW1Ub0hhdmUgLSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzLl9ydW5uaW5nKS5sZW5ndGg7XG4gICAgICBpZiAobnVtVG9BZGQgPD0gMCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGZvciAocGF0aCBpbiB0aGlzLl90YXNrcykge1xuICAgICAgICBpZiAoIXRoaXMuX3J1bm5pbmdbcGF0aF0pIHtcbiAgICAgICAgICB0aGlzLl90aW1lU3RhcnRlZFtwYXRoXSA9IHRoaXMubm93KCk7XG4gICAgICAgICAgdGhpcy5fcnVubmluZ1twYXRoXSA9IHRoaXMuZG9UYXNrKHBhdGgpO1xuICAgICAgICAgIHRoaXMuX3J1bm5pbmdbcGF0aF0udGhlbih0aGlzLmZpbmlzaFRhc2suYmluZCh0aGlzKSk7XG4gICAgICAgICAgbnVtQWRkZWQrKztcbiAgICAgICAgICBpZiAobnVtQWRkZWQgPj0gbnVtVG9BZGQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIChudW1BZGRlZCA+PSBudW1Ub0FkZCk7XG4gICAgfSxcblxuICAgIGNvbGxlY3RUYXNrczogZnVuY3Rpb24gKGFsc29DaGVja1JlZnJlc2gpIHtcbiAgICAgIGlmICh0aGlzLmhhc1Rhc2tzKCkgfHwgdGhpcy5zdG9wcGVkKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuY29sbGVjdERpZmZUYXNrcygpLnRoZW4oZnVuY3Rpb24gKG51bURpZmZzKSB7XG4gICAgICAgIGlmIChudW1EaWZmcyB8fCBhbHNvQ2hlY2tSZWZyZXNoID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5jb2xsZWN0UmVmcmVzaFRhc2tzKCk7XG4gICAgICAgIH1cbiAgICAgIH0uYmluZCh0aGlzKSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgYWRkVGFzazogZnVuY3Rpb24gKHBhdGgsIGNiKSB7XG4gICAgICBpZiAoIXRoaXMuX3Rhc2tzW3BhdGhdKSB7XG4gICAgICAgIHRoaXMuX3Rhc2tzW3BhdGhdID0gW107XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mKGNiKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLl90YXNrc1twYXRoXS5wdXNoKGNiKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kOiBzeW5jXG4gICAgICoqL1xuICAgIHN5bmM6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xuXG4gICAgICBpZiAoIXRoaXMuZG9UYXNrcygpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbGxlY3RUYXNrcygpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmRvVGFza3MoKTtcbiAgICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgIGxvZygnW1N5bmNdIGRvVGFza3MgZXJyb3InLCBlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0uYmluZCh0aGlzKSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICBsb2coJ1tTeW5jXSBTeW5jIGVycm9yJywgZSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdMb2NhbCBjYWNoZSB1bmF2YWlsYWJsZScpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgIH1cbiAgICB9LFxuICB9O1xuXG5cblxuICB2YXIgc3luY0N5Y2xlQ2IsIHN5bmNPbkNvbm5lY3Q7XG4gIFN5bmMuX3JzX2luaXQgPSBmdW5jdGlvbiAocmVtb3RlU3RvcmFnZSkge1xuXG4gICAgc3luY0N5Y2xlQ2IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBpZiAoIWNvbmZpZy5jYWNoZSkgcmV0dXJuIGZhbHNlXG4gICAgICBsb2coJ1tTeW5jXSBzeW5jQ3ljbGVDYiBjYWxsaW5nIHN5bmNDeWNsZScpO1xuICAgICAgaWYgKEVudi5pc0Jyb3dzZXIoKSkge1xuICAgICAgICBoYW5kbGVWaXNpYmlsaXR5LmJpbmQocmVtb3RlU3RvcmFnZSkoKTtcbiAgICAgIH1cblxuXG4gICAgICBpZiAoIXJlbW90ZVN0b3JhZ2Uuc3luYykge1xuICAgICAgICAvLyBDYWxsIHRoaXMgbm93IHRoYXQgYWxsIG90aGVyIG1vZHVsZXMgYXJlIGFsc28gcmVhZHk6XG4gICAgICAgIHJlbW90ZVN0b3JhZ2Uuc3luYyA9IG5ldyBTeW5jKHJlbW90ZVN0b3JhZ2UsXG4gICAgICAgICAgICByZW1vdGVTdG9yYWdlLmxvY2FsLCByZW1vdGVTdG9yYWdlLnJlbW90ZSwgcmVtb3RlU3RvcmFnZS5hY2Nlc3MsXG4gICAgICAgICAgICByZW1vdGVTdG9yYWdlLmNhY2hpbmcpO1xuXG4gICAgICAgIGlmIChyZW1vdGVTdG9yYWdlLnN5bmNTdG9wcGVkKSB7XG4gICAgICAgICAgbG9nKCdbU3luY10gSW5zdGFudGlhdGluZyBzeW5jIHN0b3BwZWQnKTtcbiAgICAgICAgICByZW1vdGVTdG9yYWdlLnN5bmMuc3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgZGVsZXRlIHJlbW90ZVN0b3JhZ2Uuc3luY1N0b3BwZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbG9nKCdbU3luY10gc3luY0N5Y2xlQ2IgY2FsbGluZyBzeW5jQ3ljbGUnKTtcbiAgICAgIHJlbW90ZVN0b3JhZ2Uuc3luY0N5Y2xlKCk7XG4gICAgfTtcblxuICAgIHN5bmNPbkNvbm5lY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJlbW90ZVN0b3JhZ2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignY29ubmVjdGVkJywgc3luY09uQ29ubmVjdCk7XG4gICAgICByZW1vdGVTdG9yYWdlLnN0YXJ0U3luYygpO1xuICAgIH07XG5cbiAgICByZW1vdGVTdG9yYWdlLm9uKCdyZWFkeScsIHN5bmNDeWNsZUNiKTtcbiAgICByZW1vdGVTdG9yYWdlLm9uKCdjb25uZWN0ZWQnLCBzeW5jT25Db25uZWN0KTtcbiAgfTtcblxuICBTeW5jLl9yc19jbGVhbnVwID0gZnVuY3Rpb24gKHJlbW90ZVN0b3JhZ2UpIHtcbiAgICByZW1vdGVTdG9yYWdlLnN0b3BTeW5jKCk7XG4gICAgcmVtb3RlU3RvcmFnZS5yZW1vdmVFdmVudExpc3RlbmVyKCdyZWFkeScsIHN5bmNDeWNsZUNiKTtcbiAgICByZW1vdGVTdG9yYWdlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Nvbm5lY3RlZCcsIHN5bmNPbkNvbm5lY3QpO1xuXG4gICAgcmVtb3RlU3RvcmFnZS5zeW5jID0gdW5kZWZpbmVkO1xuICAgIGRlbGV0ZSByZW1vdGVTdG9yYWdlLnN5bmM7XG4gIH07XG5cbiAgXG4gIHZhciBTeW5jRXJyb3IgPSBmdW5jdGlvbiAob3JpZ2luYWxFcnJvcikge1xuICAgIHZhciBtc2cgPSAnU3luYyBmYWlsZWQ6ICc7XG4gICAgaWYgKHR5cGVvZihvcmlnaW5hbEVycm9yKSA9PT0gJ29iamVjdCcgJiYgJ21lc3NhZ2UnIGluIG9yaWdpbmFsRXJyb3IpIHtcbiAgICAgIG1zZyArPSBvcmlnaW5hbEVycm9yLm1lc3NhZ2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1zZyArPSBvcmlnaW5hbEVycm9yO1xuICAgIH1cbiAgICB0aGlzLm9yaWdpbmFsRXJyb3IgPSBvcmlnaW5hbEVycm9yO1xuICAgIHRoaXMubWVzc2FnZSA9IG1zZztcbiAgfTtcblxuICBTeW5jRXJyb3IucHJvdG90eXBlID0gbmV3IEVycm9yKCk7XG4gIFN5bmNFcnJvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTeW5jRXJyb3I7XG5cbiAgU3luYy5TeW5jRXJyb3IgPSBTeW5jRXJyb3I7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBTeW5jO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3N5bmMuanMiXSwic291cmNlUm9vdCI6IiJ9")
},function(module,exports,__webpack_require__){
eval("/* WEBPACK VAR INJECTION */(function(global, Buffer) {'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar log = __webpack_require__(1);\nvar util = __webpack_require__(2);\nvar eventHandling = __webpack_require__(3);\nvar Authorize = __webpack_require__(4);\n\n/**\n * Class: WireClient\n *\n * WireClient Interface\n * --------------------\n *\n * This file exposes a get/put/delete interface on top of XMLHttpRequest.\n * It requires to be configured with parameters about the remotestorage server to\n * connect to.\n * Each instance of WireClient is always associated with a single remotestorage\n * server and access token.\n *\n * Usually the WireClient instance can be accessed via `remoteStorage.remote`.\n *\n * This is the get/put/delete interface:\n *\n *   - #get() takes a path and optionally a ifNoneMatch option carrying a version\n *     string to check. It returns a promise that will be fulfilled with the HTTP\n *     response status, the response body, the MIME type as returned in the\n *     'Content-Type' header and the current revision, as returned in the 'ETag'\n *     header.\n *   - #put() takes a path, the request body and a content type string. It also\n *     accepts the ifMatch and ifNoneMatch options, that map to the If-Match and\n *     If-None-Match headers respectively. See the remotestorage-01 specification\n *     for details on handling these headers. It returns a promise, fulfilled with\n *     the same values as the one for #get().\n *   - #delete() takes a path and the ifMatch option as well. It returns a promise\n *     fulfilled with the same values as the one for #get().\n *\n * In addition to this, the WireClient has some compatibility features to work with\n * remotestorage 2012.04 compatible storages. For example it will cache revisions\n * from folder listings in-memory and return them accordingly as the \"revision\"\n * parameter in response to #get() requests. Similarly it will return 404 when it\n * receives an empty folder listing, to mimic remotestorage-01 behavior. Note\n * that it is not always possible to know the revision beforehand, hence it may\n * be undefined at times (especially for caching-roots).\n */\n\nvar hasLocalStorage;\nvar SETTINGS_KEY = 'remotestorage:wireclient';\n\nvar API_2012 = 1,\n    API_00 = 2,\n    API_01 = 3,\n    API_02 = 4,\n    API_HEAD = 5;\n\nvar STORAGE_APIS = {\n  'draft-dejong-remotestorage-00': API_00,\n  'draft-dejong-remotestorage-01': API_01,\n  'draft-dejong-remotestorage-02': API_02,\n  'https://www.w3.org/community/rww/wiki/read-write-web-00#simple': API_2012\n};\n\nvar isArrayBufferView;\n\nif (typeof ArrayBufferView === 'function') {\n  isArrayBufferView = function isArrayBufferView(object) {\n    return object && object instanceof ArrayBufferView;\n  };\n} else {\n  var arrayBufferViews = [Int8Array, Uint8Array, Int16Array, Uint16Array, Int32Array, Uint32Array, Float32Array, Float64Array];\n  isArrayBufferView = function isArrayBufferView(object) {\n    for (var i = 0; i < 8; i++) {\n      if (object instanceof arrayBufferViews[i]) {\n        return true;\n      }\n    }\n    return false;\n  };\n}\n\nvar isFolder = util.isFolder;\nvar cleanPath = util.cleanPath;\n\nfunction addQuotes(str) {\n  if (typeof str !== 'string') {\n    return str;\n  }\n  if (str === '*') {\n    return '*';\n  }\n\n  return '\"' + str + '\"';\n}\n\nfunction stripQuotes(str) {\n  if (typeof str !== 'string') {\n    return str;\n  }\n\n  return str.replace(/^[\"']|[\"']$/g, '');\n}\n\nfunction readBinaryData(content, mimeType, callback) {\n  var blob;\n  util.globalContext.BlobBuilder = util.globalContext.BlobBuilder || util.globalContext.WebKitBlobBuilder;\n  if (typeof util.globalContext.BlobBuilder !== 'undefined') {\n    var bb = new global.BlobBuilder();\n    bb.append(content);\n    blob = bb.getBlob(mimeType);\n  } else {\n    blob = new Blob([content], { type: mimeType });\n  }\n\n  var reader = new FileReader();\n  if (typeof reader.addEventListener === 'function') {\n    reader.addEventListener('loadend', function () {\n      callback(reader.result); // reader.result contains the contents of blob as a typed array\n    });\n  } else {\n    reader.onloadend = function () {\n      callback(reader.result); // reader.result contains the contents of blob as a typed array\n    };\n  }\n  reader.readAsArrayBuffer(blob);\n}\n\nfunction getTextFromArrayBuffer(arrayBuffer, encoding) {\n  return new Promise(function (resolve, reject) {\n    if (typeof Blob === 'undefined') {\n      var buffer = new Buffer(new Uint8Array(arrayBuffer));\n      resolve(buffer.toString(encoding));\n    } else {\n      var blob;\n      util.globalContext.BlobBuilder = util.globalContext.BlobBuilder || util.globalContext.WebKitBlobBuilder;\n      if (typeof util.globalContext.BlobBuilder !== 'undefined') {\n        var bb = new global.BlobBuilder();\n        bb.append(arrayBuffer);\n        blob = bb.getBlob();\n      } else {\n        blob = new Blob([arrayBuffer]);\n      }\n\n      var fileReader = new FileReader();\n      if (typeof fileReader.addEventListener === 'function') {\n        fileReader.addEventListener('loadend', function (evt) {\n          resolve(evt.target.result);\n        });\n      } else {\n        fileReader.onloadend = function (evt) {\n          resolve(evt.target.result);\n        };\n      }\n      fileReader.readAsText(blob, encoding);\n    }\n  });\n}\n\nfunction determineCharset(mimeType) {\n  var charset = 'UTF-8';\n  var charsetMatch;\n\n  if (mimeType) {\n    charsetMatch = mimeType.match(/charset=(.+)$/);\n    if (charsetMatch) {\n      charset = charsetMatch[1];\n    }\n  }\n  return charset;\n}\n\nfunction isFolderDescription(body) {\n  return body['@context'] === 'http://remotestorage.io/spec/folder-description' && _typeof(body['items']) === 'object';\n}\n\nfunction isSuccessStatus(status) {\n  return [201, 204, 304].indexOf(status) >= 0;\n}\n\nfunction isErrorStatus(status) {\n  return [401, 403, 404, 412].indexOf(status) >= 0;\n}\n\nvar onErrorCb;\n\n/**\n * Class : WireClient\n **/\nvar WireClient = function WireClient(rs) {\n  this.rs = rs;\n  this.connected = false;\n\n  /**\n   * Event: change\n   *   Never fired for some reason\n   *   # TODO create issue and fix or remove\n   *\n   * Event: connected\n   *   Fired when the wireclient connect method realizes that it is in\n   *   possession of a token and href\n   **/\n  eventHandling(this, 'change', 'connected', 'not-connected', 'wire-busy', 'wire-done');\n\n  onErrorCb = function (error) {\n    if (error instanceof Authorize.Unauthorized) {\n      this.configure({ token: null });\n    }\n  }.bind(this);\n  rs.on('error', onErrorCb);\n  if (hasLocalStorage) {\n    var settings;\n    try {\n      settings = JSON.parse(localStorage[SETTINGS_KEY]);\n    } catch (e) {}\n    if (settings) {\n      setTimeout(function () {\n        this.configure(settings);\n      }.bind(this), 0);\n    }\n  }\n\n  this._revisionCache = {};\n\n  if (this.connected) {\n    setTimeout(this._emit.bind(this), 0, 'connected');\n  }\n};\n\n// should we put this in config ?\nWireClient.REQUEST_TIMEOUT = 30000;\n\nWireClient.prototype = {\n  /**\n   * Property: token\n   *\n   * Holds the bearer token of this WireClient, as obtained in the OAuth dance\n   *\n   * Example:\n   *   (start code)\n   *\n   *   remoteStorage.remote.token\n   *   // -> 'DEADBEEF01=='\n   */\n\n  /**\n   * Property: href\n   *\n   * Holds the server's base URL, as obtained in the Webfinger discovery\n   *\n   * Example:\n   *   (start code)\n   *\n   *   remoteStorage.remote.href\n   *   // -> 'https://storage.example.com/users/jblogg/'\n   */\n\n  /**\n   * Property: storageApi\n   *\n   * Holds the spec version the server claims to be compatible with\n   *\n   * Example:\n   *   (start code)\n   *\n   *   remoteStorage.remote.storageApi\n   *   // -> 'draft-dejong-remotestorage-01'\n   */\n\n  _request: function _request(method, uri, token, headers, body, getEtag, fakeRevision) {\n    if ((method === 'PUT' || method === 'DELETE') && uri[uri.length - 1] === '/') {\n      return Promise.reject('Don\\'t ' + method + ' on directories!');\n    }\n\n    var revision;\n    var self = this;\n\n    if (token !== Authorize.IMPLIED_FAKE_TOKEN) {\n      headers['Authorization'] = 'Bearer ' + token;\n    }\n\n    this._emit('wire-busy', {\n      method: method,\n      isFolder: isFolder(uri)\n    });\n\n    return WireClient.request(method, uri, {\n      body: body,\n      headers: headers,\n      responseType: 'arraybuffer'\n    }).then(function (response) {\n      if (!self.online) {\n        self.online = true;\n        self.rs._emit('network-online');\n      }\n      self._emit('wire-done', {\n        method: method,\n        isFolder: isFolder(uri),\n        success: true\n      });\n\n      if (isErrorStatus(response.status)) {\n        log('[WireClient] Error response status', response.status);\n        if (getEtag) {\n          revision = stripQuotes(response.getResponseHeader('ETag'));\n        } else {\n          revision = undefined;\n        }\n        return Promise.resolve({ statusCode: response.status, revision: revision });\n      } else if (isSuccessStatus(response.status) || response.status === 200 && method !== 'GET') {\n        revision = stripQuotes(response.getResponseHeader('ETag'));\n        log('[WireClient] Successful request', revision);\n        return Promise.resolve({ statusCode: response.status, revision: revision });\n      } else {\n        var mimeType = response.getResponseHeader('Content-Type');\n        if (getEtag) {\n          revision = stripQuotes(response.getResponseHeader('ETag'));\n        } else {\n          revision = response.status === 200 ? fakeRevision : undefined;\n        }\n\n        var charset = determineCharset(mimeType);\n\n        if (!mimeType || charset === 'binary') {\n          log('[WireClient] Successful request with unknown or binary mime-type', revision);\n          return Promise.resolve({ statusCode: response.status, body: response.response, contentType: mimeType, revision: revision });\n        } else {\n          return getTextFromArrayBuffer(response.response, charset).then(function (body) {\n            log('[WireClient] Successful request', revision);\n            return Promise.resolve({ statusCode: response.status, body: body, contentType: mimeType, revision: revision });\n          });\n        }\n      }\n    }, function (error) {\n      if (self.online) {\n        self.online = false;\n        self.rs._emit('network-offline');\n      }\n      self._emit('wire-done', {\n        method: method,\n        isFolder: isFolder(uri),\n        success: false\n      });\n\n      return Promise.reject(error);\n    });\n  },\n\n  /**\n   *\n   * Method: configure\n   *\n   * Sets the userAddress, href, storageApi, token, and properties of a\n   * remote store. Also sets connected and online to true and emits the\n   * 'connected' event, if both token and href are present.\n   *\n   * Parameters:\n   *   settings - An object that may contain userAddress (string or null),\n   *              href (string or null), storageApi (string or null), token (string\n   *              or null), and/or properties (the JSON-parsed properties object\n   *              from the user's WebFinger record, see section 10 of\n   *              http://tools.ietf.org/html/draft-dejong-remotestorage-03\n   *              or null).\n   *              Fields that are not included (i.e. `undefined`), stay at\n   *              their current value. To set a field, include that field\n   *              with a `string` value. To reset a field, for instance when\n   *              the user disconnected their storage, or you found that the\n   *              token you have has expired, simply set that field to `null`.\n   */\n  configure: function configure(settings) {\n    if ((typeof settings === 'undefined' ? 'undefined' : _typeof(settings)) !== 'object') {\n      throw new Error('WireClient configure settings parameter should be an object');\n    }\n    if (typeof settings.userAddress !== 'undefined') {\n      this.userAddress = settings.userAddress;\n    }\n    if (typeof settings.href !== 'undefined') {\n      this.href = settings.href;\n    }\n    if (typeof settings.storageApi !== 'undefined') {\n      this.storageApi = settings.storageApi;\n    }\n    if (typeof settings.token !== 'undefined') {\n      this.token = settings.token;\n    }\n    if (typeof settings.properties !== 'undefined') {\n      this.properties = settings.properties;\n    }\n\n    if (typeof this.storageApi !== 'undefined') {\n      this._storageApi = STORAGE_APIS[this.storageApi] || API_HEAD;\n      this.supportsRevs = this._storageApi >= API_00;\n    }\n    if (this.href && this.token) {\n      this.connected = true;\n      this.online = true;\n      this._emit('connected');\n    } else {\n      this.connected = false;\n    }\n    if (hasLocalStorage) {\n      localStorage[SETTINGS_KEY] = JSON.stringify({\n        userAddress: this.userAddress,\n        href: this.href,\n        storageApi: this.storageApi,\n        token: this.token,\n        properties: this.properties\n      });\n    }\n  },\n\n  stopWaitingForToken: function stopWaitingForToken() {\n    if (!this.connected) {\n      this._emit('not-connected');\n    }\n  },\n\n  get: function get(path, options) {\n    var self = this;\n    if (!this.connected) {\n      return Promise.reject('not connected (path: ' + path + ')');\n    }\n    if (!options) {\n      options = {};\n    }\n    var headers = {};\n    if (this.supportsRevs) {\n      if (options.ifNoneMatch) {\n        headers['If-None-Match'] = addQuotes(options.ifNoneMatch);\n      }\n    }\n    // commenting it out as this is doing nothing and jshint is complaining -les\n    // else if (options.ifNoneMatch) {\n    //   var oldRev = this._revisionCache[path];\n    // }\n\n\n    return this._request('GET', this.href + cleanPath(path), this.token, headers, undefined, this.supportsRevs, this._revisionCache[path]).then(function (r) {\n      if (!isFolder(path)) {\n        return Promise.resolve(r);\n      }\n      var itemsMap = {};\n      if (typeof r.body !== 'undefined') {\n        try {\n          r.body = JSON.parse(r.body);\n        } catch (e) {\n          return Promise.reject('Folder description at ' + self.href + cleanPath(path) + ' is not JSON');\n        }\n      }\n\n      if (r.statusCode === 200 && _typeof(r.body) === 'object') {\n        // New folder listing received\n        if (Object.keys(r.body).length === 0) {\n          // Empty folder listing of any spec\n          r.statusCode = 404;\n        } else if (isFolderDescription(r.body)) {\n          // >= 02 spec\n          for (var item in r.body.items) {\n            self._revisionCache[path + item] = r.body.items[item].ETag;\n          }\n          itemsMap = r.body.items;\n        } else {\n          // < 02 spec\n          Object.keys(r.body).forEach(function (key) {\n            self._revisionCache[path + key] = r.body[key];\n            itemsMap[key] = { 'ETag': r.body[key] };\n          });\n        }\n        r.body = itemsMap;\n        return Promise.resolve(r);\n      } else {\n        return Promise.resolve(r);\n      }\n    });\n  },\n\n  put: function put(path, body, contentType, options) {\n    if (!this.connected) {\n      return Promise.reject('not connected (path: ' + path + ')');\n    }\n    if (!options) {\n      options = {};\n    }\n    if (!contentType.match(/charset=/) && (body instanceof ArrayBuffer || isArrayBufferView(body))) {\n      contentType += '; charset=binary';\n    }\n    var headers = { 'Content-Type': contentType };\n    if (this.supportsRevs) {\n      if (options.ifMatch) {\n        headers['If-Match'] = addQuotes(options.ifMatch);\n      }\n      if (options.ifNoneMatch) {\n        headers['If-None-Match'] = addQuotes(options.ifNoneMatch);\n      }\n    }\n    return this._request('PUT', this.href + cleanPath(path), this.token, headers, body, this.supportsRevs);\n  },\n\n  'delete': function _delete(path, options) {\n    if (!this.connected) {\n      throw new Error('not connected (path: ' + path + ')');\n    }\n    if (!options) {\n      options = {};\n    }\n    var headers = {};\n    if (this.supportsRevs) {\n      if (options.ifMatch) {\n        headers['If-Match'] = addQuotes(options.ifMatch);\n      }\n    }\n    return this._request('DELETE', this.href + cleanPath(path), this.token, headers, undefined, this.supportsRevs);\n  }\n};\n\n// Shared cleanPath used by Dropbox\nWireClient.cleanPath = cleanPath;\n\n// Shared isArrayBufferView used by WireClient and Dropbox\nWireClient.isArrayBufferView = isArrayBufferView;\n\nWireClient.readBinaryData = readBinaryData;\n\n// Shared request function used by WireClient, GoogleDrive and Dropbox.\n// TODO: Should we use fetch ?\nWireClient.request = function (method, url, options) {\n  return new Promise(function (resolve, reject) {\n\n    log('[WireClient]', method, url);\n\n    var timedOut = false;\n\n    var timer = setTimeout(function () {\n      timedOut = true;\n      reject('timeout');\n    }, WireClient.REQUEST_TIMEOUT);\n\n    var xhr = new XMLHttpRequest();\n    xhr.open(method, url, true);\n\n    if (options.responseType) {\n      xhr.responseType = options.responseType;\n    }\n\n    if (options.headers) {\n      for (var key in options.headers) {\n        xhr.setRequestHeader(key, options.headers[key]);\n      }\n    }\n\n    xhr.onload = function () {\n      if (timedOut) {\n        return;\n      }\n      clearTimeout(timer);\n      resolve(xhr);\n    };\n\n    xhr.onerror = function (error) {\n      if (timedOut) {\n        return;\n      }\n      clearTimeout(timer);\n      reject(error);\n    };\n\n    var body = options.body;\n\n    if ((typeof body === 'undefined' ? 'undefined' : _typeof(body)) === 'object' && !isArrayBufferView(body) && body instanceof ArrayBuffer) {\n      body = new Uint8Array(body);\n    }\n    xhr.send(body);\n  });\n};\n\nObject.defineProperty(WireClient.prototype, 'storageType', {\n  get: function get() {\n    if (this.storageApi) {\n      var spec = this.storageApi.match(/draft-dejong-(remotestorage-\\d\\d)/);\n      return spec ? spec[1] : '2012.04';\n    }\n  }\n});\n\nWireClient._rs_init = function (remoteStorage) {\n  hasLocalStorage = util.localStorageAvailable();\n  remoteStorage.remote = new WireClient(remoteStorage);\n  this.online = true;\n};\n\nWireClient._rs_supported = function () {\n  return !!XMLHttpRequest;\n};\n\nWireClient._rs_cleanup = function (remoteStorage) {\n  if (hasLocalStorage) {\n    delete localStorage[SETTINGS_KEY];\n  }\n  remoteStorage.removeEventListener('error', onErrorCb);\n};\n\nmodule.exports = WireClient;\n/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }()), __webpack_require__(25).Buffer))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvd2lyZWNsaWVudC5qcz83NTRlIl0sIm5hbWVzIjpbImxvZyIsInJlcXVpcmUiLCJ1dGlsIiwiZXZlbnRIYW5kbGluZyIsIkF1dGhvcml6ZSIsImhhc0xvY2FsU3RvcmFnZSIsIlNFVFRJTkdTX0tFWSIsIkFQSV8yMDEyIiwiQVBJXzAwIiwiQVBJXzAxIiwiQVBJXzAyIiwiQVBJX0hFQUQiLCJTVE9SQUdFX0FQSVMiLCJpc0FycmF5QnVmZmVyVmlldyIsIkFycmF5QnVmZmVyVmlldyIsIm9iamVjdCIsImFycmF5QnVmZmVyVmlld3MiLCJJbnQ4QXJyYXkiLCJVaW50OEFycmF5IiwiSW50MTZBcnJheSIsIlVpbnQxNkFycmF5IiwiSW50MzJBcnJheSIsIlVpbnQzMkFycmF5IiwiRmxvYXQzMkFycmF5IiwiRmxvYXQ2NEFycmF5IiwiaSIsImlzRm9sZGVyIiwiY2xlYW5QYXRoIiwiYWRkUXVvdGVzIiwic3RyIiwic3RyaXBRdW90ZXMiLCJyZXBsYWNlIiwicmVhZEJpbmFyeURhdGEiLCJjb250ZW50IiwibWltZVR5cGUiLCJjYWxsYmFjayIsImJsb2IiLCJnbG9iYWxDb250ZXh0IiwiQmxvYkJ1aWxkZXIiLCJXZWJLaXRCbG9iQnVpbGRlciIsImJiIiwiZ2xvYmFsIiwiYXBwZW5kIiwiZ2V0QmxvYiIsIkJsb2IiLCJ0eXBlIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZXN1bHQiLCJvbmxvYWRlbmQiLCJyZWFkQXNBcnJheUJ1ZmZlciIsImdldFRleHRGcm9tQXJyYXlCdWZmZXIiLCJhcnJheUJ1ZmZlciIsImVuY29kaW5nIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJidWZmZXIiLCJCdWZmZXIiLCJ0b1N0cmluZyIsImZpbGVSZWFkZXIiLCJldnQiLCJ0YXJnZXQiLCJyZWFkQXNUZXh0IiwiZGV0ZXJtaW5lQ2hhcnNldCIsImNoYXJzZXQiLCJjaGFyc2V0TWF0Y2giLCJtYXRjaCIsImlzRm9sZGVyRGVzY3JpcHRpb24iLCJib2R5IiwiaXNTdWNjZXNzU3RhdHVzIiwic3RhdHVzIiwiaW5kZXhPZiIsImlzRXJyb3JTdGF0dXMiLCJvbkVycm9yQ2IiLCJXaXJlQ2xpZW50IiwicnMiLCJjb25uZWN0ZWQiLCJlcnJvciIsIlVuYXV0aG9yaXplZCIsImNvbmZpZ3VyZSIsInRva2VuIiwiYmluZCIsIm9uIiwic2V0dGluZ3MiLCJKU09OIiwicGFyc2UiLCJsb2NhbFN0b3JhZ2UiLCJlIiwic2V0VGltZW91dCIsIl9yZXZpc2lvbkNhY2hlIiwiX2VtaXQiLCJSRVFVRVNUX1RJTUVPVVQiLCJwcm90b3R5cGUiLCJfcmVxdWVzdCIsIm1ldGhvZCIsInVyaSIsImhlYWRlcnMiLCJnZXRFdGFnIiwiZmFrZVJldmlzaW9uIiwibGVuZ3RoIiwicmV2aXNpb24iLCJzZWxmIiwiSU1QTElFRF9GQUtFX1RPS0VOIiwicmVxdWVzdCIsInJlc3BvbnNlVHlwZSIsInRoZW4iLCJyZXNwb25zZSIsIm9ubGluZSIsInN1Y2Nlc3MiLCJnZXRSZXNwb25zZUhlYWRlciIsInVuZGVmaW5lZCIsInN0YXR1c0NvZGUiLCJjb250ZW50VHlwZSIsIkVycm9yIiwidXNlckFkZHJlc3MiLCJocmVmIiwic3RvcmFnZUFwaSIsInByb3BlcnRpZXMiLCJfc3RvcmFnZUFwaSIsInN1cHBvcnRzUmV2cyIsInN0cmluZ2lmeSIsInN0b3BXYWl0aW5nRm9yVG9rZW4iLCJnZXQiLCJwYXRoIiwib3B0aW9ucyIsImlmTm9uZU1hdGNoIiwiciIsIml0ZW1zTWFwIiwiT2JqZWN0Iiwia2V5cyIsIml0ZW0iLCJpdGVtcyIsIkVUYWciLCJmb3JFYWNoIiwia2V5IiwicHV0IiwiQXJyYXlCdWZmZXIiLCJpZk1hdGNoIiwidXJsIiwidGltZWRPdXQiLCJ0aW1lciIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsInNldFJlcXVlc3RIZWFkZXIiLCJvbmxvYWQiLCJjbGVhclRpbWVvdXQiLCJvbmVycm9yIiwic2VuZCIsImRlZmluZVByb3BlcnR5Iiwic3BlYyIsIl9yc19pbml0IiwicmVtb3RlU3RvcmFnZSIsImxvY2FsU3RvcmFnZUF2YWlsYWJsZSIsInJlbW90ZSIsIl9yc19zdXBwb3J0ZWQiLCJfcnNfY2xlYW51cCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQTs7OztBQUVFLElBQU1BLE1BQU0sbUJBQUFDLENBQVEsQ0FBUixDQUFaO0FBQ0EsSUFBTUMsT0FBTyxtQkFBQUQsQ0FBUSxDQUFSLENBQWI7QUFDQSxJQUFNRSxnQkFBZ0IsbUJBQUFGLENBQVEsQ0FBUixDQUF0QjtBQUNBLElBQU1HLFlBQVksbUJBQUFILENBQVEsQ0FBUixDQUFsQjs7QUFFQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFzQ0EsSUFBSUksZUFBSjtBQUNBLElBQUlDLGVBQWUsMEJBQW5COztBQUVBLElBQUlDLFdBQVcsQ0FBZjtBQUFBLElBQWtCQyxTQUFTLENBQTNCO0FBQUEsSUFBOEJDLFNBQVMsQ0FBdkM7QUFBQSxJQUEwQ0MsU0FBUyxDQUFuRDtBQUFBLElBQXNEQyxXQUFXLENBQWpFOztBQUVBLElBQUlDLGVBQWU7QUFDakIsbUNBQWlDSixNQURoQjtBQUVqQixtQ0FBaUNDLE1BRmhCO0FBR2pCLG1DQUFpQ0MsTUFIaEI7QUFJakIsb0VBQWtFSDtBQUpqRCxDQUFuQjs7QUFPQSxJQUFJTSxpQkFBSjs7QUFFQSxJQUFJLE9BQU9DLGVBQVAsS0FBNEIsVUFBaEMsRUFBNEM7QUFDMUNELHNCQUFvQiwyQkFBVUUsTUFBVixFQUFrQjtBQUFFLFdBQU9BLFVBQVdBLGtCQUFrQkQsZUFBcEM7QUFBdUQsR0FBL0Y7QUFDRCxDQUZELE1BRU87QUFDTCxNQUFJRSxtQkFBbUIsQ0FDckJDLFNBRHFCLEVBQ1ZDLFVBRFUsRUFDRUMsVUFERixFQUNjQyxXQURkLEVBRXJCQyxVQUZxQixFQUVUQyxXQUZTLEVBRUlDLFlBRkosRUFFa0JDLFlBRmxCLENBQXZCO0FBSUFYLHNCQUFv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RCxJQUFsQixDQUE5QixJQUF5REEsZ0JBQWdCb0UsV0FBN0UsRUFBMEY7QUFDeEZwRSxhQUFPLElBQUlwRCxVQUFKLENBQWVvRCxJQUFmLENBQVA7QUFDRDtBQUNEeUUsUUFBSU8sSUFBSixDQUFTaEYsSUFBVDtBQUNELEdBMUNNLENBQVA7QUEyQ0QsQ0E1Q0Q7O0FBOENBNEQsT0FBT3FCLGNBQVAsQ0FBc0IzRSxXQUFXa0IsU0FBakMsRUFBNEMsYUFBNUMsRUFBMkQ7QUFDekQ4QixPQUFLLGVBQVk7QUFDZixRQUFJLEtBQUtOLFVBQVQsRUFBcUI7QUFDbkIsVUFBSWtDLE9BQU8sS0FBS2xDLFVBQUwsQ0FBZ0JsRCxLQUFoQixDQUFzQixtQ0FBdEIsQ0FBWDtBQUNBLGFBQU9vRixPQUFPQSxLQUFLLENBQUwsQ0FBUCxHQUFpQixTQUF4QjtBQUNEO0FBQ0Y7QUFOd0QsQ0FBM0Q7O0FBVUE1RSxXQUFXNkUsUUFBWCxHQUFzQixVQUFVQyxhQUFWLEVBQXlCO0FBQzdDckosb0JBQWtCSCxLQUFLeUoscUJBQUwsRUFBbEI7QUFDQUQsZ0JBQWNFLE1BQWQsR0FBdUIsSUFBSWhGLFVBQUosQ0FBZThFLGFBQWYsQ0FBdkI7QUFDQSxPQUFLN0MsTUFBTCxHQUFjLElBQWQ7QUFDRCxDQUpEOztBQU1BakMsV0FBV2lGLGFBQVgsR0FBMkIsWUFBWTtBQUNyQyxTQUFPLENBQUMsQ0FBRWIsY0FBVjtBQUNELENBRkQ7O0FBSUFwRSxXQUFXa0YsV0FBWCxHQUF5QixVQUFVSixhQUFWLEVBQXdCO0FBQy9DLE1BQUlySixlQUFKLEVBQW9CO0FBQ2xCLFdBQU9tRixhQUFhbEYsWUFBYixDQUFQO0FBQ0Q7QUFDRG9KLGdCQUFjSyxtQkFBZCxDQUFrQyxPQUFsQyxFQUEyQ3BGLFNBQTNDO0FBQ0QsQ0FMRDs7QUFRQXFGLE9BQU9DLE9BQVAsR0FBaUJyRixVQUFqQixDIiwiZmlsZSI6IjkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbiAgY29uc3QgbG9nID0gcmVxdWlyZSgnLi9sb2cnKTtcbiAgY29uc3QgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuICBjb25zdCBldmVudEhhbmRsaW5nID0gcmVxdWlyZSgnLi9ldmVudGhhbmRsaW5nJyk7XG4gIGNvbnN0IEF1dGhvcml6ZSA9IHJlcXVpcmUoJy4vYXV0aG9yaXplJyk7XG5cbiAgLyoqXG4gICAqIENsYXNzOiBXaXJlQ2xpZW50XG4gICAqXG4gICAqIFdpcmVDbGllbnQgSW50ZXJmYWNlXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqXG4gICAqIFRoaXMgZmlsZSBleHBvc2VzIGEgZ2V0L3B1dC9kZWxldGUgaW50ZXJmYWNlIG9uIHRvcCBvZiBYTUxIdHRwUmVxdWVzdC5cbiAgICogSXQgcmVxdWlyZXMgdG8gYmUgY29uZmlndXJlZCB3aXRoIHBhcmFtZXRlcnMgYWJvdXQgdGhlIHJlbW90ZXN0b3JhZ2Ugc2VydmVyIHRvXG4gICAqIGNvbm5lY3QgdG8uXG4gICAqIEVhY2ggaW5zdGFuY2Ugb2YgV2lyZUNsaWVudCBpcyBhbHdheXMgYXNzb2NpYXRlZCB3aXRoIGEgc2luZ2xlIHJlbW90ZXN0b3JhZ2VcbiAgICogc2VydmVyIGFuZCBhY2Nlc3MgdG9rZW4uXG4gICAqXG4gICAqIFVzdWFsbHkgdGhlIFdpcmVDbGllbnQgaW5zdGFuY2UgY2FuIGJlIGFjY2Vzc2VkIHZpYSBgcmVtb3RlU3RvcmFnZS5yZW1vdGVgLlxuICAgKlxuICAgKiBUaGlzIGlzIHRoZSBnZXQvcHV0L2RlbGV0ZSBpbnRlcmZhY2U6XG4gICAqXG4gICAqICAgLSAjZ2V0KCkgdGFrZXMgYSBwYXRoIGFuZCBvcHRpb25hbGx5IGEgaWZOb25lTWF0Y2ggb3B0aW9uIGNhcnJ5aW5nIGEgdmVyc2lvblxuICAgKiAgICAgc3RyaW5nIHRvIGNoZWNrLiBJdCByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHdpbGwgYmUgZnVsZmlsbGVkIHdpdGggdGhlIEhUVFBcbiAgICogICAgIHJlc3BvbnNlIHN0YXR1cywgdGhlIHJlc3BvbnNlIGJvZHksIHRoZSBNSU1FIHR5cGUgYXMgcmV0dXJuZWQgaW4gdGhlXG4gICAqICAgICAnQ29udGVudC1UeXBlJyBoZWFkZXIgYW5kIHRoZSBjdXJyZW50IHJldmlzaW9uLCBhcyByZXR1cm5lZCBpbiB0aGUgJ0VUYWcnXG4gICAqICAgICBoZWFkZXIuXG4gICAqICAgLSAjcHV0KCkgdGFrZXMgYSBwYXRoLCB0aGUgcmVxdWVzdCBib2R5IGFuZCBhIGNvbnRlbnQgdHlwZSBzdHJpbmcuIEl0IGFsc29cbiAgICogICAgIGFjY2VwdHMgdGhlIGlmTWF0Y2ggYW5kIGlmTm9uZU1hdGNoIG9wdGlvbnMsIHRoYXQgbWFwIHRvIHRoZSBJZi1NYXRjaCBhbmRcbiAgICogICAgIElmLU5vbmUtTWF0Y2ggaGVhZGVycyByZXNwZWN0aXZlbHkuIFNlZSB0aGUgcmVtb3Rlc3RvcmFnZS0wMSBzcGVjaWZpY2F0aW9uXG4gICAqICAgICBmb3IgZGV0YWlscyBvbiBoYW5kbGluZyB0aGVzZSBoZWFkZXJzLiBJdCByZXR1cm5zIGEgcHJvbWlzZSwgZnVsZmlsbGVkIHdpdGhcbiAgICogICAgIHRoZSBzYW1lIHZhbHVlcyBhcyB0aGUgb25lIGZvciAjZ2V0KCkuXG4gICAqICAgLSAjZGVsZXRlKCkgdGFrZXMgYSBwYXRoIGFuZCB0aGUgaWZNYXRjaCBvcHRpb24gYXMgd2VsbC4gSXQgcmV0dXJucyBhIHByb21pc2VcbiAgICogICAgIGZ1bGZpbGxlZCB3aXRoIHRoZSBzYW1lIHZhbHVlcyBhcyB0aGUgb25lIGZvciAjZ2V0KCkuXG4gICAqXG4gICAqIEluIGFkZGl0aW9uIHRvIHRoaXMsIHRoZSBXaXJlQ2xpZW50IGhhcyBzb21lIGNvbXBhdGliaWxpdHkgZmVhdHVyZXMgdG8gd29yayB3aXRoXG4gICAqIHJlbW90ZXN0b3JhZ2UgMjAxMi4wNCBjb21wYXRpYmxlIHN0b3JhZ2VzLiBGb3IgZXhhbXBsZSBpdCB3aWxsIGNhY2hlIHJldmlzaW9uc1xuICAgKiBmcm9tIGZvbGRlciBsaXN0aW5ncyBpbi1tZW1vcnkgYW5kIHJldHVybiB0aGVtIGFjY29yZGluZ2x5IGFzIHRoZSBcInJldmlzaW9uXCJcbiAgICogcGFyYW1ldGVyIGluIHJlc3BvbnNlIHRvICNnZXQoKSByZXF1ZXN0cy4gU2ltaWxhcmx5IGl0IHdpbGwgcmV0dXJuIDQwNCB3aGVuIGl0XG4gICAqIHJlY2VpdmVzIGFuIGVtcHR5IGZvbGRlciBsaXN0aW5nLCB0byBtaW1pYyByZW1vdGVzdG9yYWdlLTAxIGJlaGF2aW9yLiBOb3RlXG4gICAqIHRoYXQgaXQgaXMgbm90IGFsd2F5cyBwb3NzaWJsZSB0byBrbm93IHRoZSByZXZpc2lvbiBiZWZvcmVoYW5kLCBoZW5jZSBpdCBtYXlcbiAgICogYmUgdW5kZWZpbmVkIGF0IHRpbWVzIChlc3BlY2lhbGx5IGZvciBjYWNoaW5nLXJvb3RzKS5cbiAgICovXG5cbiAgdmFyIGhhc0xvY2FsU3RvcmFnZTtcbiAgdmFyIFNFVFRJTkdTX0tFWSA9ICdyZW1vdGVzdG9yYWdlOndpcmVjbGllbnQnO1xuXG4gIHZhciBBUElfMjAxMiA9IDEsIEFQSV8wMCA9IDIsIEFQSV8wMSA9IDMsIEFQSV8wMiA9IDQsIEFQSV9IRUFEID0gNTtcblxuICB2YXIgU1RPUkFHRV9BUElTID0ge1xuICAgICdkcmFmdC1kZWpvbmctcmVtb3Rlc3RvcmFnZS0wMCc6IEFQSV8wMCxcbiAgICAnZHJhZnQtZGVqb25nLXJlbW90ZXN0b3JhZ2UtMDEnOiBBUElfMDEsXG4gICAgJ2RyYWZ0LWRlam9uZy1yZW1vdGVzdG9yYWdlLTAyJzogQVBJXzAyLFxuICAgICdodHRwczovL3d3dy53My5vcmcvY29tbXVuaXR5L3J3dy93aWtpL3JlYWQtd3JpdGUtd2ViLTAwI3NpbXBsZSc6IEFQSV8yMDEyXG4gIH07XG5cbiAgdmFyIGlzQXJyYXlCdWZmZXJWaWV3O1xuXG4gIGlmICh0eXBlb2YoQXJyYXlCdWZmZXJWaWV3KSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGlzQXJyYXlCdWZmZXJWaWV3ID0gZnVuY3Rpb24gKG9iamVjdCkgeyByZXR1cm4gb2JqZWN0ICYmIChvYmplY3QgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlclZpZXcpOyB9O1xuICB9IGVsc2Uge1xuICAgIHZhciBhcnJheUJ1ZmZlclZpZXdzID0gW1xuICAgICAgSW50OEFycmF5LCBVaW50OEFycmF5LCBJbnQxNkFycmF5LCBVaW50MTZBcnJheSxcbiAgICAgIEludDMyQXJyYXksIFVpbnQzMkFycmF5LCBGbG9hdDMyQXJyYXksIEZsb2F0NjRBcnJheVxuICAgIF07XG4gICAgaXNBcnJheUJ1ZmZlclZpZXcgPSBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICBmb3IgKGxldCBpPTA7aTw4O2krKykge1xuICAgICAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgYXJyYXlCdWZmZXJWaWV3c1tpXSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgfVxuXG4gIGNvbnN0IGlzRm9sZGVyID0gdXRpbC5pc0ZvbGRlcjtcbiAgY29uc3QgY2xlYW5QYXRoID0gdXRpbC5jbGVhblBhdGg7XG5cbiAgZnVuY3Rpb24gYWRkUXVvdGVzKHN0cikge1xuICAgIGlmICh0eXBlb2Yoc3RyKSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIGlmIChzdHIgPT09ICcqJykge1xuICAgICAgcmV0dXJuICcqJztcbiAgICB9XG5cbiAgICByZXR1cm4gJ1wiJyArIHN0ciArICdcIic7XG4gIH1cblxuICBmdW5jdGlvbiBzdHJpcFF1b3RlcyhzdHIpIHtcbiAgICBpZiAodHlwZW9mKHN0cikgIT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gc3RyO1xuICAgIH1cblxuICAgIHJldHVybiBzdHIucmVwbGFjZSgvXltcIiddfFtcIiddJC9nLCAnJyk7XG4gIH1cblxuICBmdW5jdGlvbiByZWFkQmluYXJ5RGF0YShjb250ZW50LCBtaW1lVHlwZSwgY2FsbGJhY2spIHtcbiAgICB2YXIgYmxvYjtcbiAgICB1dGlsLmdsb2JhbENvbnRleHQuQmxvYkJ1aWxkZXIgPSB1dGlsLmdsb2JhbENvbnRleHQuQmxvYkJ1aWxkZXIgfHwgdXRpbC5nbG9iYWxDb250ZXh0LldlYktpdEJsb2JCdWlsZGVyO1xuICAgIGlmICh0eXBlb2YgdXRpbC5nbG9iYWxDb250ZXh0LkJsb2JCdWlsZGVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIGJiID0gbmV3IGdsb2JhbC5CbG9iQnVpbGRlcigpO1xuICAgICAgYmIuYXBwZW5kKGNvbnRlbnQpO1xuICAgICAgYmxvYiA9IGJiLmdldEJsb2IobWltZVR5cGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBibG9iID0gbmV3IEJsb2IoW2NvbnRlbnRdLCB7IHR5cGU6IG1pbWVUeXBlIH0pO1xuICAgIH1cblxuICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgIGlmICh0eXBlb2YgcmVhZGVyLmFkZEV2ZW50TGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJlYWRlci5hZGRFdmVudExpc3RlbmVyKCdsb2FkZW5kJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBjYWxsYmFjayhyZWFkZXIucmVzdWx0KTsgLy8gcmVhZGVyLnJlc3VsdCBjb250YWlucyB0aGUgY29udGVudHMgb2YgYmxvYiBhcyBhIHR5cGVkIGFycmF5XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVhZGVyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBjYWxsYmFjayhyZWFkZXIucmVzdWx0KTsgLy8gcmVhZGVyLnJlc3VsdCBjb250YWlucyB0aGUgY29udGVudHMgb2YgYmxvYiBhcyBhIHR5cGVkIGFycmF5XG4gICAgICB9O1xuICAgIH1cbiAgICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYik7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRUZXh0RnJvbUFycmF5QnVmZmVyKGFycmF5QnVmZmVyLCBlbmNvZGluZykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpZiAodHlwZW9mIEJsb2IgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZhciBidWZmZXIgPSBuZXcgQnVmZmVyKG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKSk7XG4gICAgICAgIHJlc29sdmUoYnVmZmVyLnRvU3RyaW5nKGVuY29kaW5nKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgYmxvYjtcbiAgICAgICAgdXRpbC5nbG9iYWxDb250ZXh0LkJsb2JCdWlsZGVyID0gdXRpbC5nbG9iYWxDb250ZXh0LkJsb2JCdWlsZGVyIHx8IHV0aWwuZ2xvYmFsQ29udGV4dC5XZWJLaXRCbG9iQnVpbGRlcjtcbiAgICAgICAgaWYgKHR5cGVvZiB1dGlsLmdsb2JhbENvbnRleHQuQmxvYkJ1aWxkZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdmFyIGJiID0gbmV3IGdsb2JhbC5CbG9iQnVpbGRlcigpO1xuICAgICAgICAgIGJiLmFwcGVuZChhcnJheUJ1ZmZlcik7XG4gICAgICAgICAgYmxvYiA9IGJiLmdldEJsb2IoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBibG9iID0gbmV3IEJsb2IoW2FycmF5QnVmZmVyXSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZmlsZVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgIGlmICh0eXBlb2YgZmlsZVJlYWRlci5hZGRFdmVudExpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgZmlsZVJlYWRlci5hZGRFdmVudExpc3RlbmVyKCdsb2FkZW5kJywgZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgcmVzb2x2ZShldnQudGFyZ2V0LnJlc3VsdCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZmlsZVJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICAgIHJlc29sdmUoZXZ0LnRhcmdldC5yZXN1bHQpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZmlsZVJlYWRlci5yZWFkQXNUZXh0KGJsb2IsIGVuY29kaW5nKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRldGVybWluZUNoYXJzZXQobWltZVR5cGUpIHtcbiAgICB2YXIgY2hhcnNldCA9ICdVVEYtOCc7XG4gICAgdmFyIGNoYXJzZXRNYXRjaDtcblxuICAgIGlmIChtaW1lVHlwZSkge1xuICAgICAgY2hhcnNldE1hdGNoID0gbWltZVR5cGUubWF0Y2goL2NoYXJzZXQ9KC4rKSQvKTtcbiAgICAgIGlmIChjaGFyc2V0TWF0Y2gpIHtcbiAgICAgICAgY2hhcnNldCA9IGNoYXJzZXRNYXRjaFsxXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNoYXJzZXQ7XG4gIH1cblxuICBmdW5jdGlvbiBpc0ZvbGRlckRlc2NyaXB0aW9uKGJvZHkpIHtcbiAgICByZXR1cm4gKChib2R5WydAY29udGV4dCddID09PSAnaHR0cDovL3JlbW90ZXN0b3JhZ2UuaW8vc3BlYy9mb2xkZXItZGVzY3JpcHRpb24nKVxuICAgICAgICAgICAgICYmICh0eXBlb2YoYm9keVsnaXRlbXMnXSkgPT09ICdvYmplY3QnKSk7XG4gIH1cblxuICBmdW5jdGlvbiBpc1N1Y2Nlc3NTdGF0dXMoc3RhdHVzKSB7XG4gICAgcmV0dXJuIFsyMDEsIDIwNCwgMzA0XS5pbmRleE9mKHN0YXR1cykgPj0gMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzRXJyb3JTdGF0dXMoc3RhdHVzKSB7XG4gICAgcmV0dXJuIFs0MDEsIDQwMywgNDA0LCA0MTJdLmluZGV4T2Yoc3RhdHVzKSA+PSAwO1xuICB9XG5cbiAgdmFyIG9uRXJyb3JDYjtcblxuICAvKipcbiAgICogQ2xhc3MgOiBXaXJlQ2xpZW50XG4gICAqKi9cbiAgdmFyIFdpcmVDbGllbnQgPSBmdW5jdGlvbiBXaXJlQ2xpZW50KHJzKSB7XG4gICAgdGhpcy5ycyA9IHJzO1xuICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBFdmVudDogY2hhbmdlXG4gICAgICogICBOZXZlciBmaXJlZCBmb3Igc29tZSByZWFzb25cbiAgICAgKiAgICMgVE9ETyBjcmVhdGUgaXNzdWUgYW5kIGZpeCBvciByZW1vdmVcbiAgICAgKlxuICAgICAqIEV2ZW50OiBjb25uZWN0ZWRcbiAgICAgKiAgIEZpcmVkIHdoZW4gdGhlIHdpcmVjbGllbnQgY29ubmVjdCBtZXRob2QgcmVhbGl6ZXMgdGhhdCBpdCBpcyBpblxuICAgICAqICAgcG9zc2Vzc2lvbiBvZiBhIHRva2VuIGFuZCBocmVmXG4gICAgICoqL1xuICAgIGV2ZW50SGFuZGxpbmcodGhpcywgJ2NoYW5nZScsICdjb25uZWN0ZWQnLCAnbm90LWNvbm5lY3RlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAnd2lyZS1idXN5JywgJ3dpcmUtZG9uZScpO1xuXG4gICAgb25FcnJvckNiID0gZnVuY3Rpb24gKGVycm9yKXtcbiAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEF1dGhvcml6ZS5VbmF1dGhvcml6ZWQpIHtcbiAgICAgICAgdGhpcy5jb25maWd1cmUoe3Rva2VuOiBudWxsfSk7XG4gICAgICB9XG4gICAgfS5iaW5kKHRoaXMpO1xuICAgIHJzLm9uKCdlcnJvcicsIG9uRXJyb3JDYik7XG4gICAgaWYgKGhhc0xvY2FsU3RvcmFnZSkge1xuICAgICAgdmFyIHNldHRpbmdzO1xuICAgICAgdHJ5IHsgc2V0dGluZ3MgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZVtTRVRUSU5HU19LRVldKTsgfSBjYXRjaChlKSB7fVxuICAgICAgaWYgKHNldHRpbmdzKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRoaXMuY29uZmlndXJlKHNldHRpbmdzKTtcbiAgICAgICAgfS5iaW5kKHRoaXMpLCAwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9yZXZpc2lvbkNhY2hlID0ge307XG5cbiAgICBpZiAodGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgIHNldFRpbWVvdXQodGhpcy5fZW1pdC5iaW5kKHRoaXMpLCAwLCAnY29ubmVjdGVkJyk7XG4gICAgfVxuICB9O1xuXG4gIC8vIHNob3VsZCB3ZSBwdXQgdGhpcyBpbiBjb25maWcgP1xuICBXaXJlQ2xpZW50LlJFUVVFU1RfVElNRU9VVCA9IDMwMDAwO1xuXG4gIFdpcmVDbGllbnQucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIFByb3BlcnR5OiB0b2tlblxuICAgICAqXG4gICAgICogSG9sZHMgdGhlIGJlYXJlciB0b2tlbiBvZiB0aGlzIFdpcmVDbGllbnQsIGFzIG9idGFpbmVkIGluIHRoZSBPQXV0aCBkYW5jZVxuICAgICAqXG4gICAgICogRXhhbXBsZTpcbiAgICAgKiAgIChzdGFydCBjb2RlKVxuICAgICAqXG4gICAgICogICByZW1vdGVTdG9yYWdlLnJlbW90ZS50b2tlblxuICAgICAqICAgLy8gLT4gJ0RFQURCRUVGMDE9PSdcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5OiBocmVmXG4gICAgICpcbiAgICAgKiBIb2xkcyB0aGUgc2VydmVyJ3MgYmFzZSBVUkwsIGFzIG9idGFpbmVkIGluIHRoZSBXZWJmaW5nZXIgZGlzY292ZXJ5XG4gICAgICpcbiAgICAgKiBFeGFtcGxlOlxuICAgICAqICAgKHN0YXJ0IGNvZGUpXG4gICAgICpcbiAgICAgKiAgIHJlbW90ZVN0b3JhZ2UucmVtb3RlLmhyZWZcbiAgICAgKiAgIC8vIC0+ICdodHRwczovL3N0b3JhZ2UuZXhhbXBsZS5jb20vdXNlcnMvamJsb2dnLydcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5OiBzdG9yYWdlQXBpXG4gICAgICpcbiAgICAgKiBIb2xkcyB0aGUgc3BlYyB2ZXJzaW9uIHRoZSBzZXJ2ZXIgY2xhaW1zIHRvIGJlIGNvbXBhdGlibGUgd2l0aFxuICAgICAqXG4gICAgICogRXhhbXBsZTpcbiAgICAgKiAgIChzdGFydCBjb2RlKVxuICAgICAqXG4gICAgICogICByZW1vdGVTdG9yYWdlLnJlbW90ZS5zdG9yYWdlQXBpXG4gICAgICogICAvLyAtPiAnZHJhZnQtZGVqb25nLXJlbW90ZXN0b3JhZ2UtMDEnXG4gICAgICovXG5cbiAgICBfcmVxdWVzdDogZnVuY3Rpb24gKG1ldGhvZCwgdXJpLCB0b2tlbiwgaGVhZGVycywgYm9keSwgZ2V0RXRhZywgZmFrZVJldmlzaW9uKSB7XG4gICAgICBpZiAoKG1ldGhvZCA9PT0gJ1BVVCcgfHwgbWV0aG9kID09PSAnREVMRVRFJykgJiYgdXJpW3VyaS5sZW5ndGggLSAxXSA9PT0gJy8nKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnRG9uXFwndCAnICsgbWV0aG9kICsgJyBvbiBkaXJlY3RvcmllcyEnKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHJldmlzaW9uO1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICBpZiAodG9rZW4gIT09IEF1dGhvcml6ZS5JTVBMSUVEX0ZBS0VfVE9LRU4pIHtcbiAgICAgICAgaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gJ0JlYXJlciAnICsgdG9rZW47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2VtaXQoJ3dpcmUtYnVzeScsIHtcbiAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgIGlzRm9sZGVyOiBpc0ZvbGRlcih1cmkpXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIFdpcmVDbGllbnQucmVxdWVzdChtZXRob2QsIHVyaSwge1xuICAgICAgICBib2R5OiBib2R5LFxuICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICByZXNwb25zZVR5cGU6ICdhcnJheWJ1ZmZlcidcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKCFzZWxmLm9ubGluZSkge1xuICAgICAgICAgIHNlbGYub25saW5lID0gdHJ1ZTtcbiAgICAgICAgICBzZWxmLnJzLl9lbWl0KCduZXR3b3JrLW9ubGluZScpO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYuX2VtaXQoJ3dpcmUtZG9uZScsIHtcbiAgICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgICBpc0ZvbGRlcjogaXNGb2xkZXIodXJpKSxcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChpc0Vycm9yU3RhdHVzKHJlc3BvbnNlLnN0YXR1cykpIHtcbiAgICAgICAgICBsb2coJ1tXaXJlQ2xpZW50XSBFcnJvciByZXNwb25zZSBzdGF0dXMnLCByZXNwb25zZS5zdGF0dXMpO1xuICAgICAgICAgIGlmIChnZXRFdGFnKSB7XG4gICAgICAgICAgICByZXZpc2lvbiA9IHN0cmlwUXVvdGVzKHJlc3BvbnNlLmdldFJlc3BvbnNlSGVhZGVyKCdFVGFnJykpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXZpc2lvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7c3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLCByZXZpc2lvbjogcmV2aXNpb259KTtcbiAgICAgICAgfSBlbHNlIGlmIChpc1N1Y2Nlc3NTdGF0dXMocmVzcG9uc2Uuc3RhdHVzKSB8fFxuICAgICAgICAgICAgICAgICAgIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCAmJiBtZXRob2QgIT09ICdHRVQnKSkge1xuICAgICAgICAgIHJldmlzaW9uID0gc3RyaXBRdW90ZXMocmVzcG9uc2UuZ2V0UmVzcG9uc2VIZWFkZXIoJ0VUYWcnKSk7XG4gICAgICAgICAgbG9nKCdbV2lyZUNsaWVudF0gU3VjY2Vzc2Z1bCByZXF1ZXN0JywgcmV2aXNpb24pO1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe3N0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cywgcmV2aXNpb246IHJldmlzaW9ufSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIG1pbWVUeXBlID0gcmVzcG9uc2UuZ2V0UmVzcG9uc2VIZWFkZXIoJ0NvbnRlbnQtVHlwZScpO1xuICAgICAgICAgIGlmIChnZXRFdGFnKSB7XG4gICAgICAgICAgICByZXZpc2lvbiA9IHN0cmlwUXVvdGVzKHJlc3BvbnNlLmdldFJlc3BvbnNlSGVhZGVyKCdFVGFnJykpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXZpc2lvbiA9IHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwID8gZmFrZVJldmlzaW9uIDogdW5kZWZpbmVkO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBjaGFyc2V0ID0gZGV0ZXJtaW5lQ2hhcnNldChtaW1lVHlwZSk7XG5cbiAgICAgICAgICBpZiAoKCFtaW1lVHlwZSkgfHwgY2hhcnNldCA9PT0gJ2JpbmFyeScpIHtcbiAgICAgICAgICAgIGxvZygnW1dpcmVDbGllbnRdIFN1Y2Nlc3NmdWwgcmVxdWVzdCB3aXRoIHVua25vd24gb3IgYmluYXJ5IG1pbWUtdHlwZScsIHJldmlzaW9uKTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe3N0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cywgYm9keTogcmVzcG9uc2UucmVzcG9uc2UsIGNvbnRlbnRUeXBlOiBtaW1lVHlwZSwgcmV2aXNpb246IHJldmlzaW9ufSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRUZXh0RnJvbUFycmF5QnVmZmVyKHJlc3BvbnNlLnJlc3BvbnNlLCBjaGFyc2V0KS50aGVuKGZ1bmN0aW9uIChib2R5KSB7XG4gICAgICAgICAgICAgIGxvZygnW1dpcmVDbGllbnRdIFN1Y2Nlc3NmdWwgcmVxdWVzdCcsIHJldmlzaW9uKTtcbiAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7c3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLCBib2R5OiBib2R5LCBjb250ZW50VHlwZTogbWltZVR5cGUsIHJldmlzaW9uOiByZXZpc2lvbn0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgaWYgKHNlbGYub25saW5lKSB7XG4gICAgICAgICAgc2VsZi5vbmxpbmUgPSBmYWxzZTtcbiAgICAgICAgICBzZWxmLnJzLl9lbWl0KCduZXR3b3JrLW9mZmxpbmUnKTtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLl9lbWl0KCd3aXJlLWRvbmUnLCB7XG4gICAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgICAgaXNGb2xkZXI6IGlzRm9sZGVyKHVyaSksXG4gICAgICAgICAgc3VjY2VzczogZmFsc2VcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIE1ldGhvZDogY29uZmlndXJlXG4gICAgICpcbiAgICAgKiBTZXRzIHRoZSB1c2VyQWRkcmVzcywgaHJlZiwgc3RvcmFnZUFwaSwgdG9rZW4sIGFuZCBwcm9wZXJ0aWVzIG9mIGFcbiAgICAgKiByZW1vdGUgc3RvcmUuIEFsc28gc2V0cyBjb25uZWN0ZWQgYW5kIG9ubGluZSB0byB0cnVlIGFuZCBlbWl0cyB0aGVcbiAgICAgKiAnY29ubmVjdGVkJyBldmVudCwgaWYgYm90aCB0b2tlbiBhbmQgaHJlZiBhcmUgcHJlc2VudC5cbiAgICAgKlxuICAgICAqIFBhcmFtZXRlcnM6XG4gICAgICogICBzZXR0aW5ncyAtIEFuIG9iamVjdCB0aGF0IG1heSBjb250YWluIHVzZXJBZGRyZXNzIChzdHJpbmcgb3IgbnVsbCksXG4gICAgICogICAgICAgICAgICAgIGhyZWYgKHN0cmluZyBvciBudWxsKSwgc3RvcmFnZUFwaSAoc3RyaW5nIG9yIG51bGwpLCB0b2tlbiAoc3RyaW5nXG4gICAgICogICAgICAgICAgICAgIG9yIG51bGwpLCBhbmQvb3IgcHJvcGVydGllcyAodGhlIEpTT04tcGFyc2VkIHByb3BlcnRpZXMgb2JqZWN0XG4gICAgICogICAgICAgICAgICAgIGZyb20gdGhlIHVzZXIncyBXZWJGaW5nZXIgcmVjb3JkLCBzZWUgc2VjdGlvbiAxMCBvZlxuICAgICAqICAgICAgICAgICAgICBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9kcmFmdC1kZWpvbmctcmVtb3Rlc3RvcmFnZS0wM1xuICAgICAqICAgICAgICAgICAgICBvciBudWxsKS5cbiAgICAgKiAgICAgICAgICAgICAgRmllbGRzIHRoYXQgYXJlIG5vdCBpbmNsdWRlZCAoaS5lLiBgdW5kZWZpbmVkYCksIHN0YXkgYXRcbiAgICAgKiAgICAgICAgICAgICAgdGhlaXIgY3VycmVudCB2YWx1ZS4gVG8gc2V0IGEgZmllbGQsIGluY2x1ZGUgdGhhdCBmaWVsZFxuICAgICAqICAgICAgICAgICAgICB3aXRoIGEgYHN0cmluZ2AgdmFsdWUuIFRvIHJlc2V0IGEgZmllbGQsIGZvciBpbnN0YW5jZSB3aGVuXG4gICAgICogICAgICAgICAgICAgIHRoZSB1c2VyIGRpc2Nvbm5lY3RlZCB0aGVpciBzdG9yYWdlLCBvciB5b3UgZm91bmQgdGhhdCB0aGVcbiAgICAgKiAgICAgICAgICAgICAgdG9rZW4geW91IGhhdmUgaGFzIGV4cGlyZWQsIHNpbXBseSBzZXQgdGhhdCBmaWVsZCB0byBgbnVsbGAuXG4gICAgICovXG4gICAgY29uZmlndXJlOiBmdW5jdGlvbiAoc2V0dGluZ3MpIHtcbiAgICAgIGlmICh0eXBlb2Ygc2V0dGluZ3MgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignV2lyZUNsaWVudCBjb25maWd1cmUgc2V0dGluZ3MgcGFyYW1ldGVyIHNob3VsZCBiZSBhbiBvYmplY3QnKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2Ygc2V0dGluZ3MudXNlckFkZHJlc3MgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRoaXMudXNlckFkZHJlc3MgPSBzZXR0aW5ncy51c2VyQWRkcmVzcztcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2Ygc2V0dGluZ3MuaHJlZiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhpcy5ocmVmID0gc2V0dGluZ3MuaHJlZjtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2Ygc2V0dGluZ3Muc3RvcmFnZUFwaSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhpcy5zdG9yYWdlQXBpID0gc2V0dGluZ3Muc3RvcmFnZUFwaTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2Ygc2V0dGluZ3MudG9rZW4gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRoaXMudG9rZW4gPSBzZXR0aW5ncy50b2tlbjtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2Ygc2V0dGluZ3MucHJvcGVydGllcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzID0gc2V0dGluZ3MucHJvcGVydGllcztcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiB0aGlzLnN0b3JhZ2VBcGkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRoaXMuX3N0b3JhZ2VBcGkgPSBTVE9SQUdFX0FQSVNbdGhpcy5zdG9yYWdlQXBpXSB8fCBBUElfSEVBRDtcbiAgICAgICAgdGhpcy5zdXBwb3J0c1JldnMgPSB0aGlzLl9zdG9yYWdlQXBpID49IEFQSV8wMDtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmhyZWYgJiYgdGhpcy50b2tlbikge1xuICAgICAgICB0aGlzLmNvbm5lY3RlZCA9IHRydWU7XG4gICAgICAgIHRoaXMub25saW5lID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fZW1pdCgnY29ubmVjdGVkJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGhhc0xvY2FsU3RvcmFnZSkge1xuICAgICAgICBsb2NhbFN0b3JhZ2VbU0VUVElOR1NfS0VZXSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICB1c2VyQWRkcmVzczogdGhpcy51c2VyQWRkcmVzcyxcbiAgICAgICAgICBocmVmOiB0aGlzLmhyZWYsXG4gICAgICAgICAgc3RvcmFnZUFwaTogdGhpcy5zdG9yYWdlQXBpLFxuICAgICAgICAgIHRva2VuOiB0aGlzLnRva2VuLFxuICAgICAgICAgIHByb3BlcnRpZXM6IHRoaXMucHJvcGVydGllc1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc3RvcFdhaXRpbmdGb3JUb2tlbjogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCF0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgICB0aGlzLl9lbWl0KCdub3QtY29ubmVjdGVkJyk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGdldDogZnVuY3Rpb24gKHBhdGgsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIGlmICghdGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdub3QgY29ubmVjdGVkIChwYXRoOiAnICsgcGF0aCArICcpJyk7XG4gICAgICB9XG4gICAgICBpZiAoIW9wdGlvbnMpIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICB2YXIgaGVhZGVycyA9IHt9O1xuICAgICAgaWYgKHRoaXMuc3VwcG9ydHNSZXZzKSB7XG4gICAgICAgIGlmIChvcHRpb25zLmlmTm9uZU1hdGNoKSB7XG4gICAgICAgICAgaGVhZGVyc1snSWYtTm9uZS1NYXRjaCddID0gYWRkUXVvdGVzKG9wdGlvbnMuaWZOb25lTWF0Y2gpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBjb21tZW50aW5nIGl0IG91dCBhcyB0aGlzIGlzIGRvaW5nIG5vdGhpbmcgYW5kIGpzaGludCBpcyBjb21wbGFpbmluZyAtbGVzXG4gICAgICAvLyBlbHNlIGlmIChvcHRpb25zLmlmTm9uZU1hdGNoKSB7XG4gICAgICAvLyAgIHZhciBvbGRSZXYgPSB0aGlzLl9yZXZpc2lvbkNhY2hlW3BhdGhdO1xuICAgICAgLy8gfVxuXG5cbiAgICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KCdHRVQnLCB0aGlzLmhyZWYgKyBjbGVhblBhdGgocGF0aCksIHRoaXMudG9rZW4sIGhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkLCB0aGlzLnN1cHBvcnRzUmV2cywgdGhpcy5fcmV2aXNpb25DYWNoZVtwYXRoXSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChyKSB7XG4gICAgICAgIGlmICghaXNGb2xkZXIocGF0aCkpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpdGVtc01hcCA9IHt9O1xuICAgICAgICBpZiAodHlwZW9mKHIuYm9keSkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHIuYm9keSA9IEpTT04ucGFyc2Uoci5ib2R5KTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ0ZvbGRlciBkZXNjcmlwdGlvbiBhdCAnICsgc2VsZi5ocmVmICsgY2xlYW5QYXRoKHBhdGgpICsgJyBpcyBub3QgSlNPTicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyLnN0YXR1c0NvZGUgPT09IDIwMCAmJiB0eXBlb2Yoci5ib2R5KSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgLy8gTmV3IGZvbGRlciBsaXN0aW5nIHJlY2VpdmVkXG4gICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHIuYm9keSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgLy8gRW1wdHkgZm9sZGVyIGxpc3Rpbmcgb2YgYW55IHNwZWNcbiAgICAgICAgICAgIHIuc3RhdHVzQ29kZSA9IDQwNDtcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzRm9sZGVyRGVzY3JpcHRpb24oci5ib2R5KSkge1xuICAgICAgICAgIC8vID49IDAyIHNwZWNcbiAgICAgICAgICAgIGZvciAodmFyIGl0ZW0gaW4gci5ib2R5Lml0ZW1zKSB7XG4gICAgICAgICAgICAgIHNlbGYuX3JldmlzaW9uQ2FjaGVbcGF0aCArIGl0ZW1dID0gci5ib2R5Lml0ZW1zW2l0ZW1dLkVUYWc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpdGVtc01hcCA9IHIuYm9keS5pdGVtcztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIDwgMDIgc3BlY1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoci5ib2R5KS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpe1xuICAgICAgICAgICAgICBzZWxmLl9yZXZpc2lvbkNhY2hlW3BhdGggKyBrZXldID0gci5ib2R5W2tleV07XG4gICAgICAgICAgICAgIGl0ZW1zTWFwW2tleV0gPSB7J0VUYWcnOiByLmJvZHlba2V5XX07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgci5ib2R5ID0gaXRlbXNNYXA7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgcHV0OiBmdW5jdGlvbiAocGF0aCwgYm9keSwgY29udGVudFR5cGUsIG9wdGlvbnMpIHtcbiAgICAgIGlmICghdGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdub3QgY29ubmVjdGVkIChwYXRoOiAnICsgcGF0aCArICcpJyk7XG4gICAgICB9XG4gICAgICBpZiAoIW9wdGlvbnMpIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICBpZiAoKCFjb250ZW50VHlwZS5tYXRjaCgvY2hhcnNldD0vKSkgJiYgKGJvZHkgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciB8fCBpc0FycmF5QnVmZmVyVmlldyhib2R5KSkpIHtcbiAgICAgICAgY29udGVudFR5cGUgKz0gICc7IGNoYXJzZXQ9YmluYXJ5JztcbiAgICAgIH1cbiAgICAgIHZhciBoZWFkZXJzID0geyAnQ29udGVudC1UeXBlJzogY29udGVudFR5cGUgfTtcbiAgICAgIGlmICh0aGlzLnN1cHBvcnRzUmV2cykge1xuICAgICAgICBpZiAob3B0aW9ucy5pZk1hdGNoKSB7XG4gICAgICAgICAgaGVhZGVyc1snSWYtTWF0Y2gnXSA9IGFkZFF1b3RlcyhvcHRpb25zLmlmTWF0Y2gpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmlmTm9uZU1hdGNoKSB7XG4gICAgICAgICAgaGVhZGVyc1snSWYtTm9uZS1NYXRjaCddID0gYWRkUXVvdGVzKG9wdGlvbnMuaWZOb25lTWF0Y2gpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnUFVUJywgdGhpcy5ocmVmICsgY2xlYW5QYXRoKHBhdGgpLCB0aGlzLnRva2VuLFxuICAgICAgICAgICAgICAgICAgICAgaGVhZGVycywgYm9keSwgdGhpcy5zdXBwb3J0c1JldnMpO1xuICAgIH0sXG5cbiAgICAnZGVsZXRlJzogZnVuY3Rpb24gKHBhdGgsIG9wdGlvbnMpIHtcbiAgICAgIGlmICghdGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdub3QgY29ubmVjdGVkIChwYXRoOiAnICsgcGF0aCArICcpJyk7XG4gICAgICB9XG4gICAgICBpZiAoIW9wdGlvbnMpIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICB2YXIgaGVhZGVycyA9IHt9O1xuICAgICAgaWYgKHRoaXMuc3VwcG9ydHNSZXZzKSB7XG4gICAgICAgIGlmIChvcHRpb25zLmlmTWF0Y2gpIHtcbiAgICAgICAgICBoZWFkZXJzWydJZi1NYXRjaCddID0gYWRkUXVvdGVzKG9wdGlvbnMuaWZNYXRjaCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KCdERUxFVEUnLCB0aGlzLmhyZWYgKyBjbGVhblBhdGgocGF0aCksIHRoaXMudG9rZW4sXG4gICAgICAgICAgICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkLCB0aGlzLnN1cHBvcnRzUmV2cyk7XG4gICAgfVxuICB9O1xuXG4gIC8vIFNoYXJlZCBjbGVhblBhdGggdXNlZCBieSBEcm9wYm94XG4gIFdpcmVDbGllbnQuY2xlYW5QYXRoID0gY2xlYW5QYXRoO1xuXG4gIC8vIFNoYXJlZCBpc0FycmF5QnVmZmVyVmlldyB1c2VkIGJ5IFdpcmVDbGllbnQgYW5kIERyb3Bib3hcbiAgV2lyZUNsaWVudC5pc0FycmF5QnVmZmVyVmlldyA9IGlzQXJyYXlCdWZmZXJWaWV3O1xuXG4gIFdpcmVDbGllbnQucmVhZEJpbmFyeURhdGEgPSByZWFkQmluYXJ5RGF0YTtcblxuICAvLyBTaGFyZWQgcmVxdWVzdCBmdW5jdGlvbiB1c2VkIGJ5IFdpcmVDbGllbnQsIEdvb2dsZURyaXZlIGFuZCBEcm9wYm94LlxuICAvLyBUT0RPOiBTaG91bGQgd2UgdXNlIGZldGNoID9cbiAgV2lyZUNsaWVudC5yZXF1ZXN0ID0gZnVuY3Rpb24gKG1ldGhvZCwgdXJsLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlICgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cbiAgICAgIGxvZygnW1dpcmVDbGllbnRdJywgbWV0aG9kLCB1cmwpO1xuXG4gICAgICB2YXIgdGltZWRPdXQgPSBmYWxzZTtcblxuICAgICAgdmFyIHRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRpbWVkT3V0ID0gdHJ1ZTtcbiAgICAgICAgcmVqZWN0KCd0aW1lb3V0Jyk7XG4gICAgICB9LCBXaXJlQ2xpZW50LlJFUVVFU1RfVElNRU9VVCk7XG5cbiAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgIHhoci5vcGVuKG1ldGhvZCwgdXJsLCB0cnVlKTtcblxuICAgICAgaWYgKG9wdGlvbnMucmVzcG9uc2VUeXBlKSB7XG4gICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSBvcHRpb25zLnJlc3BvbnNlVHlwZTtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMuaGVhZGVycykge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gb3B0aW9ucy5oZWFkZXJzKSB7XG4gICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoa2V5LCBvcHRpb25zLmhlYWRlcnNba2V5XSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgeGhyLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgaWYgKHRpbWVkT3V0KSB7IHJldHVybjsgfVxuICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgICByZXNvbHZlKHhocik7XG4gICAgICB9O1xuXG4gICAgICB4aHIub25lcnJvciA9IChlcnJvcikgPT4ge1xuICAgICAgICBpZiAodGltZWRPdXQpIHsgcmV0dXJuOyB9XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICB9O1xuXG4gICAgICB2YXIgYm9keSA9IG9wdGlvbnMuYm9keTtcblxuICAgICAgaWYgKHR5cGVvZihib2R5KSA9PT0gJ29iamVjdCcgJiYgIWlzQXJyYXlCdWZmZXJWaWV3KGJvZHkpICYmIGJvZHkgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgICBib2R5ID0gbmV3IFVpbnQ4QXJyYXkoYm9keSk7XG4gICAgICB9XG4gICAgICB4aHIuc2VuZChib2R5KTtcbiAgICB9KTtcbiAgfTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoV2lyZUNsaWVudC5wcm90b3R5cGUsICdzdG9yYWdlVHlwZScsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLnN0b3JhZ2VBcGkpIHtcbiAgICAgICAgdmFyIHNwZWMgPSB0aGlzLnN0b3JhZ2VBcGkubWF0Y2goL2RyYWZ0LWRlam9uZy0ocmVtb3Rlc3RvcmFnZS1cXGRcXGQpLyk7XG4gICAgICAgIHJldHVybiBzcGVjID8gc3BlY1sxXSA6ICcyMDEyLjA0JztcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG5cbiAgV2lyZUNsaWVudC5fcnNfaW5pdCA9IGZ1bmN0aW9uIChyZW1vdGVTdG9yYWdlKSB7XG4gICAgaGFzTG9jYWxTdG9yYWdlID0gdXRpbC5sb2NhbFN0b3JhZ2VBdmFpbGFibGUoKTtcbiAgICByZW1vdGVTdG9yYWdlLnJlbW90ZSA9IG5ldyBXaXJlQ2xpZW50KHJlbW90ZVN0b3JhZ2UpO1xuICAgIHRoaXMub25saW5lID0gdHJ1ZTtcbiAgfTtcblxuICBXaXJlQ2xpZW50Ll9yc19zdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICEhIFhNTEh0dHBSZXF1ZXN0O1xuICB9O1xuXG4gIFdpcmVDbGllbnQuX3JzX2NsZWFudXAgPSBmdW5jdGlvbiAocmVtb3RlU3RvcmFnZSl7XG4gICAgaWYgKGhhc0xvY2FsU3RvcmFnZSl7XG4gICAgICBkZWxldGUgbG9jYWxTdG9yYWdlW1NFVFRJTkdTX0tFWV07XG4gICAgfVxuICAgIHJlbW90ZVN0b3JhZ2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBvbkVycm9yQ2IpO1xuICB9O1xuXG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBXaXJlQ2xpZW50O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3dpcmVjbGllbnQuanMiXSwic291cmNlUm9vdCI6IiJ9")
},function(module,exports){eval("'use strict';\n\n// var SETTINGS_KEY = \"remotestorage:access\";\n\n/**\n * Class: Access\n *\n * Keeps track of claimed access and scopes.\n */\nvar Access = function Access() {\n  this.reset();\n};\n\nAccess.prototype = {\n\n  /**\n   * Method: claim\n   *\n   * Claim access on a given scope with given mode.\n   *\n   * Parameters:\n   *   scope - An access scope, such as \"contacts\" or \"calendar\"\n   *   mode  - Access mode. Either \"r\" for read-only or \"rw\" for read/write\n   *\n   * Example:\n   *   (start code)\n   *   remoteStorage.access.claim('contacts', 'r');\n   *   remoteStorage.access.claim('pictures', 'rw');\n   *   (end code)\n   *\n   * Root access:\n   *   Claiming root access, meaning complete access to all files and folders\n   *   of a storage, can be done using an asterisk:\n   *\n   *   (start code)\n   *   remoteStorage.access.claim('*', 'rw');\n   *   (end code)\n   */\n  claim: function claim(scope, mode) {\n    if (typeof scope !== 'string' || scope.indexOf('/') !== -1 || scope.length === 0) {\n      throw new Error('Scope should be a non-empty string without forward slashes');\n    }\n    if (!mode.match(/^rw?$/)) {\n      throw new Error('Mode should be either \\'r\\' or \\'rw\\'');\n    }\n    this._adjustRootPaths(scope);\n    this.scopeModeMap[scope] = mode;\n  },\n\n  get: function get(scope) {\n    return this.scopeModeMap[scope];\n  },\n\n  remove: function remove(scope) {\n    var savedMap = {};\n    var name;\n    for (name in this.scopeModeMap) {\n      savedMap[name] = this.scopeModeMap[name];\n    }\n    this.reset();\n    delete savedMap[scope];\n    for (name in savedMap) {\n      this.set(name, savedMap[name]);\n    }\n  },\n\n  /**\n   * Verify permission for a given scope.\n   */\n  checkPermission: function checkPermission(scope, mode) {\n    var actualMode = this.get(scope);\n    return actualMode && (mode === 'r' || actualMode === 'rw');\n  },\n\n  /**\n   * Verify permission for a given path.\n   */\n  checkPathPermission: function checkPathPermission(path, mode) {\n    if (this.checkPermission('*', mode)) {\n      return true;\n    }\n    return !!this.checkPermission(this._getModuleName(path), mode);\n  },\n\n  reset: function reset() {\n    this.rootPaths = [];\n    this.scopeModeMap = {};\n  },\n\n  /**\n   * Return the module name for a given path.\n   */\n  _getModuleName: function _getModuleName(path) {\n    if (path[0] !== '/') {\n      throw new Error('Path should start with a slash');\n    }\n    var moduleMatch = path.replace(/^\\/public/, '').match(/^\\/([^\\/]*)\\//);\n    return moduleMatch ? moduleMatch[1] : '*';\n  },\n\n  _adjustRootPaths: function _adjustRootPaths(newScope) {\n    if ('*' in this.scopeModeMap || newScope === '*') {\n      this.rootPaths = ['/'];\n    } else if (!(newScope in this.scopeModeMap)) {\n      this.rootPaths.push('/' + newScope + '/');\n      this.rootPaths.push('/public/' + newScope + '/');\n    }\n  },\n\n  _scopeNameForParameter: function _scopeNameForParameter(scope) {\n    if (scope.name === '*' && this.storageType) {\n      if (this.storageType === '2012.04') {\n        return '';\n      } else if (this.storageType.match(/remotestorage-0[01]/)) {\n        return 'root';\n      }\n    }\n    return scope.name;\n  },\n\n  setStorageType: function setStorageType(type) {\n    this.storageType = type;\n  }\n};\n\n/**\n * Property: scopes\n *\n * Holds an array of claimed scopes in the form\n * > { name: \"<scope-name>\", mode: \"<mode>\" }\n */\nObject.defineProperty(Access.prototype, 'scopes', {\n  get: function get() {\n    return Object.keys(this.scopeModeMap).map(function (key) {\n      return { name: key, mode: this.scopeModeMap[key] };\n    }.bind(this));\n  }\n});\n\nObject.defineProperty(Access.prototype, 'scopeParameter', {\n  get: function get() {\n    return this.scopes.map(function (scope) {\n      return this._scopeNameForParameter(scope) + ':' + scope.mode;\n    }.bind(this)).join(' ');\n  }\n});\n\nAccess._rs_init = function () {};\n\nmodule.exports = Access;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYWNjZXNzLmpzPzcwN2MiXSwibmFtZXMiOlsiQWNjZXNzIiwicmVzZXQiLCJwcm90b3R5cGUiLCJjbGFpbSIsInNjb3BlIiwibW9kZSIsImluZGV4T2YiLCJsZW5ndGgiLCJFcnJvciIsIm1hdGNoIiwiX2FkanVzdFJvb3RQYXRocyIsInNjb3BlTW9kZU1hcCIsImdldCIsInJlbW92ZSIsInNhdmVkTWFwIiwibmFtZSIsInNldCIsImNoZWNrUGVybWlzc2lvbiIsImFjdHVhbE1vZGUiLCJjaGVja1BhdGhQZXJtaXNzaW9uIiwicGF0aCIsIl9nZXRNb2R1bGVOYW1lIiwicm9vdFBhdGhzIiwibW9kdWxlTWF0Y2giLCJyZXBsYWNlIiwibmV3U2NvcGUiLCJwdXNoIiwiX3Njb3BlTmFtZUZvclBhcmFtZXRlciIsInN0b3JhZ2VUeXBlIiwic2V0U3RvcmFnZVR5cGUiLCJ0eXBlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJrZXlzIiwibWFwIiwia2V5IiwiYmluZCIsInNjb3BlcyIsImpvaW4iLCJfcnNfaW5pdCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUU7O0FBRUE7Ozs7O0FBS0EsSUFBSUEsU0FBUyxTQUFUQSxNQUFTLEdBQVc7QUFDdEIsT0FBS0MsS0FBTDtBQUNELENBRkQ7O0FBSUFELE9BQU9FLFNBQVAsR0FBbUI7O0FBRWpCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXVCQUMsU0FBTyxlQUFTQyxLQUFULEVBQWdCQyxJQUFoQixFQUFzQjtBQUMzQixRQUFJLE9BQU9ELEtBQVAsS0FBa0IsUUFBbEIsSUFBOEJBLE1BQU1FLE9BQU4sQ0FBYyxHQUFkLE1BQXVCLENBQUMsQ0FBdEQsSUFBMkRGLE1BQU1HLE1BQU4sS0FBaUIsQ0FBaEYsRUFBbUY7QUFDakYsWUFBTSxJQUFJQyxLQUFKLENBQVUsNERBQVYsQ0FBTjtBQUNEO0FBQ0QsUUFBSSxDQUFDSCxLQUFLSSxLQUFMLENBQVcsT0FBWCxD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ZUFBTyxNQUFQO0FBQ0Q7QUFDRjtBQUNELFdBQU9MLE1BQU1XLElBQWI7QUFDRCxHQXpHZ0I7O0FBMkdqQmMsa0JBQWdCLHdCQUFTQyxJQUFULEVBQWU7QUFDN0IsU0FBS0YsV0FBTCxHQUFtQkUsSUFBbkI7QUFDRDtBQTdHZ0IsQ0FBbkI7O0FBZ0hBOzs7Ozs7QUFNQUMsT0FBT0MsY0FBUCxDQUFzQmhDLE9BQU9FLFNBQTdCLEVBQXdDLFFBQXhDLEVBQWtEO0FBQ2hEVSxPQUFLLGVBQVc7QUFDZCxXQUFPbUIsT0FBT0UsSUFBUCxDQUFZLEtBQUt0QixZQUFqQixFQUErQnVCLEdBQS9CLENBQW1DLFVBQVNDLEdBQVQsRUFBYztBQUN0RCxhQUFPLEVBQUVwQixNQUFNb0IsR0FBUixFQUFhOUIsTUFBTSxLQUFLTSxZQUFMLENBQWtCd0IsR0FBbEIsQ0FBbkIsRUFBUDtBQUNELEtBRnlDLENBRXhDQyxJQUZ3QyxDQUVuQyxJQUZtQyxDQUFuQyxDQUFQO0FBR0Q7QUFMK0MsQ0FBbEQ7O0FBUUFMLE9BQU9DLGNBQVAsQ0FBc0JoQyxPQUFPRSxTQUE3QixFQUF3QyxnQkFBeEMsRUFBMEQ7QUFDeERVLE9BQUssZUFBVztBQUNkLFdBQU8sS0FBS3lCLE1BQUwsQ0FBWUgsR0FBWixDQUFnQixVQUFTOUIsS0FBVCxFQUFnQjtBQUNyQyxhQUFPLEtBQUt1QixzQkFBTCxDQUE0QnZCLEtBQTVCLElBQXFDLEdBQXJDLEdBQTJDQSxNQUFNQyxJQUF4RDtBQUNELEtBRnNCLENBRXJCK0IsSUFGcUIsQ0FFaEIsSUFGZ0IsQ0FBaEIsRUFFT0UsSUFGUCxDQUVZLEdBRlosQ0FBUDtBQUdEO0FBTHVELENBQTFEOztBQVNBdEMsT0FBT3VDLFFBQVAsR0FBa0IsWUFBVyxDQUFFLENBQS9COztBQUVBQyxPQUFPQyxPQUFQLEdBQWlCekMsTUFBakIiLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgIC8vIHZhciBTRVRUSU5HU19LRVkgPSBcInJlbW90ZXN0b3JhZ2U6YWNjZXNzXCI7XG5cbiAgLyoqXG4gICAqIENsYXNzOiBBY2Nlc3NcbiAgICpcbiAgICogS2VlcHMgdHJhY2sgb2YgY2xhaW1lZCBhY2Nlc3MgYW5kIHNjb3Blcy5cbiAgICovXG4gIHZhciBBY2Nlc3MgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnJlc2V0KCk7XG4gIH07XG5cbiAgQWNjZXNzLnByb3RvdHlwZSA9IHtcblxuICAgIC8qKlxuICAgICAqIE1ldGhvZDogY2xhaW1cbiAgICAgKlxuICAgICAqIENsYWltIGFjY2VzcyBvbiBhIGdpdmVuIHNjb3BlIHdpdGggZ2l2ZW4gbW9kZS5cbiAgICAgKlxuICAgICAqIFBhcmFtZXRlcnM6XG4gICAgICogICBzY29wZSAtIEFuIGFjY2VzcyBzY29wZSwgc3VjaCBhcyBcImNvbnRhY3RzXCIgb3IgXCJjYWxlbmRhclwiXG4gICAgICogICBtb2RlICAtIEFjY2VzcyBtb2RlLiBFaXRoZXIgXCJyXCIgZm9yIHJlYWQtb25seSBvciBcInJ3XCIgZm9yIHJlYWQvd3JpdGVcbiAgICAgKlxuICAgICAqIEV4YW1wbGU6XG4gICAgICogICAoc3RhcnQgY29kZSlcbiAgICAgKiAgIHJlbW90ZVN0b3JhZ2UuYWNjZXNzLmNsYWltKCdjb250YWN0cycsICdyJyk7XG4gICAgICogICByZW1vdGVTdG9yYWdlLmFjY2Vzcy5jbGFpbSgncGljdHVyZXMnLCAncncnKTtcbiAgICAgKiAgIChlbmQgY29kZSlcbiAgICAgKlxuICAgICAqIFJvb3QgYWNjZXNzOlxuICAgICAqICAgQ2xhaW1pbmcgcm9vdCBhY2Nlc3MsIG1lYW5pbmcgY29tcGxldGUgYWNjZXNzIHRvIGFsbCBmaWxlcyBhbmQgZm9sZGVyc1xuICAgICAqICAgb2YgYSBzdG9yYWdlLCBjYW4gYmUgZG9uZSB1c2luZyBhbiBhc3RlcmlzazpcbiAgICAgKlxuICAgICAqICAgKHN0YXJ0IGNvZGUpXG4gICAgICogICByZW1vdGVTdG9yYWdlLmFjY2Vzcy5jbGFpbSgnKicsICdydycpO1xuICAgICAqICAgKGVuZCBjb2RlKVxuICAgICAqL1xuICAgIGNsYWltOiBmdW5jdGlvbihzY29wZSwgbW9kZSkge1xuICAgICAgaWYgKHR5cGVvZihzY29wZSkgIT09ICdzdHJpbmcnIHx8IHNjb3BlLmluZGV4T2YoJy8nKSAhPT0gLTEgfHwgc2NvcGUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2NvcGUgc2hvdWxkIGJlIGEgbm9uLWVtcHR5IHN0cmluZyB3aXRob3V0IGZvcndhcmQgc2xhc2hlcycpO1xuICAgICAgfVxuICAgICAgaWYgKCFtb2RlLm1hdGNoKC9ecnc/JC8pKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTW9kZSBzaG91bGQgYmUgZWl0aGVyIFxcJ3JcXCcgb3IgXFwncndcXCcnKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2FkanVzdFJvb3RQYXRocyhzY29wZSk7XG4gICAgICB0aGlzLnNjb3BlTW9kZU1hcFtzY29wZV0gPSBtb2RlO1xuICAgIH0sXG5cbiAgICBnZXQ6IGZ1bmN0aW9uKHNjb3BlKSB7XG4gICAgICByZXR1cm4gdGhpcy5zY29wZU1vZGVNYXBbc2NvcGVdO1xuICAgIH0sXG5cbiAgICByZW1vdmU6IGZ1bmN0aW9uKHNjb3BlKSB7XG4gICAgICB2YXIgc2F2ZWRNYXAgPSB7fTtcbiAgICAgIHZhciBuYW1lO1xuICAgICAgZm9yIChuYW1lIGluIHRoaXMuc2NvcGVNb2RlTWFwKSB7XG4gICAgICAgIHNhdmVkTWFwW25hbWVdID0gdGhpcy5zY29wZU1vZGVNYXBbbmFtZV07XG4gICAgICB9XG4gICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICBkZWxldGUgc2F2ZWRNYXBbc2NvcGVdO1xuICAgICAgZm9yIChuYW1lIGluIHNhdmVkTWFwKSB7XG4gICAgICAgIHRoaXMuc2V0KG5hbWUsIHNhdmVkTWFwW25hbWVdKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVmVyaWZ5IHBlcm1pc3Npb24gZm9yIGEgZ2l2ZW4gc2NvcGUuXG4gICAgICovXG4gICAgY2hlY2tQZXJtaXNzaW9uOiBmdW5jdGlvbihzY29wZSwgbW9kZSkge1xuICAgICAgdmFyIGFjdHVhbE1vZGUgPSB0aGlzLmdldChzY29wZSk7XG4gICAgICByZXR1cm4gYWN0dWFsTW9kZSAmJiAobW9kZSA9PT0gJ3InIHx8IGFjdHVhbE1vZGUgPT09ICdydycpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBWZXJpZnkgcGVybWlzc2lvbiBmb3IgYSBnaXZlbiBwYXRoLlxuICAgICAqL1xuICAgIGNoZWNrUGF0aFBlcm1pc3Npb246IGZ1bmN0aW9uKHBhdGgsIG1vZGUpIHtcbiAgICAgIGlmICh0aGlzLmNoZWNrUGVybWlzc2lvbignKicsIG1vZGUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuICEhdGhpcy5jaGVja1Blcm1pc3Npb24odGhpcy5fZ2V0TW9kdWxlTmFtZShwYXRoKSwgbW9kZSk7XG4gICAgfSxcblxuICAgIHJlc2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMucm9vdFBhdGhzID0gW107XG4gICAgICB0aGlzLnNjb3BlTW9kZU1hcCA9IHt9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIG1vZHVsZSBuYW1lIGZvciBhIGdpdmVuIHBhdGguXG4gICAgICovXG4gICAgX2dldE1vZHVsZU5hbWU6IGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgIGlmIChwYXRoWzBdICE9PSAnLycpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQYXRoIHNob3VsZCBzdGFydCB3aXRoIGEgc2xhc2gnKTtcbiAgICAgIH1cbiAgICAgIHZhciBtb2R1bGVNYXRjaCA9IHBhdGgucmVwbGFjZSgvXlxcL3B1YmxpYy8sICcnKS5tYXRjaCgvXlxcLyhbXlxcL10qKVxcLy8pO1xuICAgICAgcmV0dXJuIG1vZHVsZU1hdGNoID8gbW9kdWxlTWF0Y2hbMV0gOiAnKic7XG4gICAgfSxcblxuICAgIF9hZGp1c3RSb290UGF0aHM6IGZ1bmN0aW9uKG5ld1Njb3BlKSB7XG4gICAgICBpZiAoJyonIGluIHRoaXMuc2NvcGVNb2RlTWFwIHx8IG5ld1Njb3BlID09PSAnKicpIHtcbiAgICAgICAgdGhpcy5yb290UGF0aHMgPSBbJy8nXTtcbiAgICAgIH0gZWxzZSBpZiAoISAobmV3U2NvcGUgaW4gdGhpcy5zY29wZU1vZGVNYXApKSB7XG4gICAgICAgIHRoaXMucm9vdFBhdGhzLnB1c2goJy8nICsgbmV3U2NvcGUgKyAnLycpO1xuICAgICAgICB0aGlzLnJvb3RQYXRocy5wdXNoKCcvcHVibGljLycgKyBuZXdTY29wZSArICcvJyk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIF9zY29wZU5hbWVGb3JQYXJhbWV0ZXI6IGZ1bmN0aW9uKHNjb3BlKSB7XG4gICAgICBpZiAoc2NvcGUubmFtZSA9PT0gJyonICYmIHRoaXMuc3RvcmFnZVR5cGUpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RvcmFnZVR5cGUgPT09ICcyMDEyLjA0Jykge1xuICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN0b3JhZ2VUeXBlLm1hdGNoKC9yZW1vdGVzdG9yYWdlLTBbMDFdLykpIHtcbiAgICAgICAgICByZXR1cm4gJ3Jvb3QnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gc2NvcGUubmFtZTtcbiAgICB9LFxuXG4gICAgc2V0U3RvcmFnZVR5cGU6IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgIHRoaXMuc3RvcmFnZVR5cGUgPSB0eXBlO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogUHJvcGVydHk6IHNjb3Blc1xuICAgKlxuICAgKiBIb2xkcyBhbiBhcnJheSBvZiBjbGFpbWVkIHNjb3BlcyBpbiB0aGUgZm9ybVxuICAgKiA+IHsgbmFtZTogXCI8c2NvcGUtbmFtZT5cIiwgbW9kZTogXCI8bW9kZT5cIiB9XG4gICAqL1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWNjZXNzLnByb3RvdHlwZSwgJ3Njb3BlcycsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuc2NvcGVNb2RlTWFwKS5tYXAoZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIHJldHVybiB7IG5hbWU6IGtleSwgbW9kZTogdGhpcy5zY29wZU1vZGVNYXBba2V5XSB9O1xuICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICB9XG4gIH0pO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBY2Nlc3MucHJvdG90eXBlLCAnc2NvcGVQYXJhbWV0ZXInLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnNjb3Blcy5tYXAoZnVuY3Rpb24oc2NvcGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Njb3BlTmFtZUZvclBhcmFtZXRlcihzY29wZSkgKyAnOicgKyBzY29wZS5tb2RlO1xuICAgICAgfS5iaW5kKHRoaXMpKS5qb2luKCcgJyk7XG4gICAgfVxuICB9KTtcblxuXG4gIEFjY2Vzcy5fcnNfaW5pdCA9IGZ1bmN0aW9uKCkge307XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBBY2Nlc3M7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYWNjZXNzLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports,__webpack_require__){eval("'use strict';\n\n/**\n * Class: Caching\n *\n * Holds/manages caching configuration.\n *\n * Caching strategies:\n *\n *   For each subtree, you can set the caching strategy to 'ALL',\n *   'SEEN' (default), and 'FLUSH'.\n *\n *   - 'ALL' means that once all outgoing changes have been pushed, sync\n *         will start retrieving nodes to cache pro-actively. If a local\n *         copy exists of everything, it will check on each sync whether\n *         the ETag of the root folder changed, and retrieve remote changes\n *         if they exist.\n *   - 'SEEN' does this only for documents and folders that have been either\n *         read from or written to at least once since connecting to the current\n *         remote backend, plus their parent/ancestor folders up to the root\n *         (to make tree-based sync possible).\n *   - 'FLUSH' will only cache outgoing changes, and forget them as soon as\n *         they have been saved to remote successfully.\n *\n **/\n\nvar util = __webpack_require__(2);\nvar log = __webpack_require__(1);\n\nvar containingFolder = util.containingFolder;\n\nvar Caching = function Caching() {\n  this.reset();\n};\n\nCaching.prototype = {\n  pendingActivations: [],\n\n  /**\n   * Method: set\n   *\n   * Configure caching for a given path explicitly.\n   *\n   * Not needed when using <enable>/<disable>.\n   *\n   * Parameters:\n   *   path     - Path to cache\n   *   strategy - Caching strategy. One of 'ALL', 'SEEN', or 'FLUSH'.\n   *\n   * Example:\n   *   (start code)\n   *   remoteStorage.caching.set('/bookmarks/archive')\n   */\n  set: function set(path, strategy) {\n    if (typeof path !== 'string') {\n      throw new Error('path should be a string');\n    }\n    if (!util.isFolder(path)) {\n      throw new Error('path should be a folder');\n    }\n    if (this._remoteStorage && this._remoteStorage.access && !this._remoteStorage.access.checkPathPermission(path, 'r')) {\n      throw new Error('No access to path \"' + path + '\". You have to claim access to it first.');\n    }\n    if (!strategy.match(/^(FLUSH|SEEN|ALL)$/)) {\n      throw new Error(\"strategy should be 'FLUSH', 'SEEN', or 'ALL'\");\n    }\n\n    this._rootPaths[path] = strategy;\n\n    if (strategy === 'ALL') {\n      if (this.activateHandler) {\n        this.activateHandler(path);\n      } else {\n        this.pendingActivations.push(path);\n      }\n    }\n  },\n\n  /**\n   * Method: enable\n   *\n   * Enable caching for a given path.\n   *\n   * Uses caching strategy 'ALL'.\n   *\n   * Parameters:\n   *   path - Path to enable caching for\n   */\n  enable: function enable(path) {\n    this.set(path, 'ALL');\n  },\n\n  /**\n   * Method: disable\n   *\n   * Disable caching for a given path.\n   *\n   * Uses caching strategy 'FLUSH' (meaning items are only cached until\n   * successfully pushed to the remote).\n   *\n   * Parameters:\n   *   path - Path to disable caching for\n   */\n  disable: function disable(path) {\n    this.set(path, 'FLUSH');\n  },\n\n  /**\n   * Method: onActivate\n   *\n   * Set a callback for when caching is activated for a path.\n   *\n   * Parameters:\n   *   callback - Callback function\n   */\n  onActivate: function onActivate(cb) {\n    var i;\n    log('[Caching] Setting activate handler', cb, this.pendingActivations);\n    this.activateHandler = cb;\n    for (i = 0; i < this.pendingActivations.length; i++) {\n      cb(this.pendingActivations[i]);\n    }\n    delete this.pendingActivations;\n  },\n\n  /**\n   * Method: checkPath\n   *\n   * Retrieve caching setting for a given path, or its next parent\n   * with a caching strategy set.\n   *\n   * Parameters:\n   *   path - Path to retrieve setting for\n   **/\n  checkPath: function checkPath(path) {\n    if (this._rootPaths[path] !== undefined) {\n      return this._rootPaths[path];\n    } else if (path === '/') {\n      return 'SEEN';\n    } else {\n      return this.checkPath(containingFolder(path));\n    }\n  },\n\n  /**\n   * Method: reset\n   *\n   * Reset the state of caching by deleting all caching information.\n   **/\n  reset: function reset() {\n    this._rootPaths = {};\n    this._remoteStorage = null;\n  }\n};\n\nCaching._rs_init = function (remoteStorage) {\n  this._remoteStorage = remoteStorage;\n};\n\nmodule.exports = Caching;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY2FjaGluZy5qcz9kMGY4Il0sIm5hbWVzIjpbInV0aWwiLCJyZXF1aXJlIiwibG9nIiwiY29udGFpbmluZ0ZvbGRlciIsIkNhY2hpbmciLCJyZXNldCIsInByb3RvdHlwZSIsInBlbmRpbmdBY3RpdmF0aW9ucyIsInNldCIsInBhdGgiLCJzdHJhdGVneSIsIkVycm9yIiwiaXNGb2xkZXIiLCJfcmVtb3RlU3RvcmFnZSIsImFjY2VzcyIsImNoZWNrUGF0aFBlcm1pc3Npb24iLCJtYXRjaCIsIl9yb290UGF0aHMiLCJhY3RpdmF0ZUhhbmRsZXIiLCJwdXNoIiwiZW5hYmxlIiwiZGlzYWJsZSIsIm9uQWN0aXZhdGUiLCJjYiIsImkiLCJsZW5ndGgiLCJjaGVja1BhdGgiLCJ1bmRlZmluZWQiLCJfcnNfaW5pdCIsInJlbW90ZVN0b3JhZ2UiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUF3QkEsSUFBSUEsT0FBTyxtQkFBQUMsQ0FBUSxDQUFSLENBQVg7QUFDQSxJQUFJQyxNQUFNLG1CQUFBRCxDQUFRLENBQVIsQ0FBVjs7QUFFQSxJQUFJRSxtQkFBbUJILEtBQUtHLGdCQUE1Qjs7QUFFQSxJQUFJQyxVQUFVLFNBQVZBLE9BQVUsR0FBWTtBQUN4QixPQUFLQyxLQUFMO0FBQ0QsQ0FGRDs7QUFJQUQsUUFBUUUsU0FBUixHQUFvQjtBQUNsQkMsc0JBQW9CLEVBREY7O0FBR2xCOzs7Ozs7Ozs7Ozs7Ozs7QUFlQUMsT0FBSyxhQUFVQyxJQUFWLEVBQWdCQyxRQUFoQixFQUEwQjtBQUM3QixRQUFJLE9BQU9ELElBQVAsS0FBZ0IsUUFBcEIsRUFBOEI7QUFDNUIsWUFBTSxJQUFJRSxLQUFKLENBQVUseUJBQVYsQ0FBTjtBQUNEO0FBQ0QsUUFBSSxDQUFDWCxLQUFLWSxRQUFMLENBQWNILElBQWQsQ0FBTCxFQUEwQjtBQUN4QixZQUFNLElBQUlFLEtBQUosQ0FBVSx5QkFBVixDQUFOO0FBQ0Q7QUFDRCxRQUFJLEtBQUtFLGNBQUwsSUFBdUIsS0FBS0EsY0FBTCxDQUFvQkMsTUFBM0MsSUFDQSxDQUFDLEtBQUtELGNBQUwsQ0FBb0JDLE1BQXBCLENBQTJCQyxtQkFBM0IsQ0FBK0NOLElBQS9DLEVBQXFELEdBQXJELENBREwsRUFDZ0U7QUFDOUQsWUFBTSxJQUFJRSxLQUFKLENBQVUsd0JBQXNCRixJQUF0QixHQUEyQiwwQ0FBckMsQ0FBTjtBQUNEO0FBQ0QsUUFBSSxDQUFDQyxTQUFTTSxLQUFULENBQWUsb0JBQWYsQ0FBTCxFQUEyQztBQUN6QyxZQUFNLElBQUlMLEtBQUosQ0FBVSw4Q0FBVixDQUFOO0FBQ0Q7O0FBRUQsU0FBS00sVUFBTCxDQUFnQlIsSUFBaEIsSUFBd0JDLFFBQXhCOztBQUVBLFFBQUlBLGFBQWEsS0FBakIsRUFBd0I7QUFDdEIsVUFBSSxLQUFLUSxlQUFULEVBQTBCO0FBQ3hCLGFBQUtBLGVBQUwsQ0FBcUJULElBQXJCO0FBQ0QsT0FGRCxNQUVPO0FBQ0wsYUFBS0Ysa0JBQUwsQ0FBd0JZLElBQXhCLENBQTZCVixJQUE3QjtBQUNEO0FBQ0Y7QUFDRixHQTFDaUI7O0FBNENsQjs7Ozs7Ozs7OztBQVVBVyxVQUFRLGdCQUFVWCxJQUFWLEVBQWdCO0FBQ3RCLFNBQUtELEdBQUwsQ0FBU0MsSUFBVCxFQUFlLEtBQWY7QUFDRCxHQXhEaUI7O0FBMERsQjs7Ozs7Ozs7Ozs7QUFXQVksV0FBUyxpQkFBVVosSUFBVixFQUFnQjtBQUN2QixTQUFLRCxHQUFMLENBQVNDLElBQVQsRUFBZSxPQUFmO0FBQ0QsR0F2RWlCOztBQXlFbEI7Ozs7Ozs7O0FBUUFhLGNBQVksb0JBQVVDLEVBQVYsRUFBYztBQUN4QixRQUFJQyxDQUFKO0FBQ0F0QixRQUFJLG9DQUFKLEVBQTBDcUIsRUFBMUMsRUFBOEMsS0FBS2hCLGtCQUFuRDtBQUNBLFNBQUtXLGVBQUwsR0FBdUJLLEVBQXZCO0FBQ0EsU0FBS0MsSUFBRSxDQUFQLEVBQVVBLElBQUUsS0FBS2pCLGtCQUFMLENBQXdCa0IsTUFBcEMsRUFBNENELEdBQTVDLEVBQWlEO0FBQy9DRCxTQUFHLEtBQUtoQixrQkFBTCxDQUF3QmlCLENBQXhCLENBQUg7QUFDRDtBQUNELFdBQU8sS0FBS2pCLGtCQUFaO0FBQ0QsR0F6RmlCOztBQTJGbEI7Ozs7Ozs7OztBQVNBbUIsYUFBVyxtQkFBVWpCLElBQVYsRUFBZ0I7QUFDekIsUUFBSSxLQUFLUSxVQUFMLENBQWdCUixJQUFoQixNQUEwQmtCLFNBQTlCLEVBQXlDO0FBQ3ZDLGFBQU8sS0FBS1YsVUFBTCxDQUFnQlIsSUFBaEIsQ0FBUDtBQUNELEtBRkQsTUFFTyxJQUFJQSxTQUFTLEdBQWIsRUFBa0I7QUFDdkIsYUFBTyxNQUFQO0FBQ0QsS0FGTSxNQUVBO0FBQ0wsYUFBTyxLQUFLaUIsU0FBTCxDQUFldkIsaUJBQWlCTSxJQUFqQixDQUFmLENBQVA7QUFDRDtBQUNGLEdBNUdpQjs7QUE4R2xCOzs7OztBQUtBSixTQUFPLGlCQUFZO0FBQ2pCLFNBQUtZLFVBQUwsR0FBa0IsRUFBbEI7QUFDQSxTQUFLSixjQUFMLEdBQXNCLElBQXRCO0FBQ0Q7QUF0SGlCLENBQXBCOztBQTBIQVQsUUFBUXdCLFFBQVIsR0FBbUIsVUFBVUMsYUFBVixFQUF5QjtBQUMxQyxPQUFLaEIsY0FBTCxHQUFzQmdCLGFBQXRCO0FBQ0QsQ0FGRDs7QUFJRkMsT0FBT0MsT0FBUCxHQUFpQjNCLE9BQWpCIiwiZmlsZSI6IjExLmpzIiwic291cmNlc0NvbnRlbnQiOlsiICAvKipcbiAgICogQ2xhc3M6IENhY2hpbmdcbiAgICpcbiAgICogSG9sZHMvbWFuYWdlcyBjYWNoaW5nIGNvbmZpZ3VyYXRpb24uXG4gICAqXG4gICAqIENhY2hpbmcgc3RyYXRlZ2llczpcbiAgICpcbiAgICogICBGb3IgZWFjaCBzdWJ0cmVlLCB5b3UgY2FuIHNldCB0aGUgY2FjaGluZyBzdHJhdGVneSB0byAnQUxMJyxcbiAgICogICAnU0VFTicgKGRlZmF1bHQpLCBhbmQgJ0ZMVVNIJy5cbiAgICpcbiAgICogICAtICdBTEwnIG1lYW5zIHRoYXQgb25jZSBhbGwgb3V0Z29pbmcgY2hhbmdlcyBoYXZlIGJlZW4gcHVzaGVkLCBzeW5jXG4gICAqICAgICAgICAgd2lsbCBzdGFydCByZXRyaWV2aW5nIG5vZGVzIHRvIGNhY2hlIHByby1hY3RpdmVseS4gSWYgYSBsb2NhbFxuICAgKiAgICAgICAgIGNvcHkgZXhpc3RzIG9mIGV2ZXJ5dGhpbmcsIGl0IHdpbGwgY2hlY2sgb24gZWFjaCBzeW5jIHdoZXRoZXJcbiAgICogICAgICAgICB0aGUgRVRhZyBvZiB0aGUgcm9vdCBmb2xkZXIgY2hhbmdlZCwgYW5kIHJldHJpZXZlIHJlbW90ZSBjaGFuZ2VzXG4gICAqICAgICAgICAgaWYgdGhleSBleGlzdC5cbiAgICogICAtICdTRUVOJyBkb2VzIHRoaXMgb25seSBmb3IgZG9jdW1lbnRzIGFuZCBmb2xkZXJzIHRoYXQgaGF2ZSBiZWVuIGVpdGhlclxuICAgKiAgICAgICAgIHJlYWQgZnJvbSBvciB3cml0dGVuIHRvIGF0IGxlYXN0IG9uY2Ugc2luY2UgY29ubmVjdGluZyB0byB0aGUgY3VycmVudFxuICAgKiAgICAgICAgIHJlbW90ZSBiYWNrZW5kLCBwbHVzIHRoZWlyIHBhcmVudC9hbmNlc3RvciBmb2xkZXJzIHVwIHRvIHRoZSByb290XG4gICAqICAgICAgICAgKHRvIG1ha2UgdHJlZS1iYXNlZCBzeW5jIHBvc3NpYmxlKS5cbiAgICogICAtICdGTFVTSCcgd2lsbCBvbmx5IGNhY2hlIG91dGdvaW5nIGNoYW5nZXMsIGFuZCBmb3JnZXQgdGhlbSBhcyBzb29uIGFzXG4gICAqICAgICAgICAgdGhleSBoYXZlIGJlZW4gc2F2ZWQgdG8gcmVtb3RlIHN1Y2Nlc3NmdWxseS5cbiAgICpcbiAgICoqL1xuXG4gIHZhciB1dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG4gIHZhciBsb2cgPSByZXF1aXJlKCcuL2xvZycpO1xuXG4gIHZhciBjb250YWluaW5nRm9sZGVyID0gdXRpbC5jb250YWluaW5nRm9sZGVyO1xuXG4gIHZhciBDYWNoaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMucmVzZXQoKTtcbiAgfTtcblxuICBDYWNoaW5nLnByb3RvdHlwZSA9IHtcbiAgICBwZW5kaW5nQWN0aXZhdGlvbnM6IFtdLFxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kOiBzZXRcbiAgICAgKlxuICAgICAqIENvbmZpZ3VyZSBjYWNoaW5nIGZvciBhIGdpdmVuIHBhdGggZXhwbGljaXRseS5cbiAgICAgKlxuICAgICAqIE5vdCBuZWVkZWQgd2hlbiB1c2luZyA8ZW5hYmxlPi88ZGlzYWJsZT4uXG4gICAgICpcbiAgICAgKiBQYXJhbWV0ZXJzOlxuICAgICAqICAgcGF0aCAgICAgLSBQYXRoIHRvIGNhY2hlXG4gICAgICogICBzdHJhdGVneSAtIENhY2hpbmcgc3RyYXRlZ3kuIE9uZSBvZiAnQUxMJywgJ1NFRU4nLCBvciAnRkxVU0gnLlxuICAgICAqXG4gICAgICogRXhhbXBsZTpcbiAgICAgKiAgIChzdGFydCBjb2RlKVxuICAgICAqICAgcmVtb3RlU3RvcmFnZS5jYWNoaW5nLnNldCgnL2Jvb2ttYXJrcy9hcmNoaXZlJylcbiAgICAgKi9cbiAgICBzZXQ6IGZ1bmN0aW9uIChwYXRoLCBzdHJhdGVneSkge1xuICAgICAgaWYgKHR5cGVvZiBwYXRoICE9PSAnc3RyaW5nJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3BhdGggc2hvdWxkIGJlIGEgc3RyaW5nJyk7XG4gICAgICB9XG4gICAgICBpZiAoIXV0aWwuaXNGb2xkZXIocGF0aCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwYXRoIHNob3VsZCBiZSBhIGZvbGRlcicpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX3JlbW90ZVN0b3JhZ2UgJiYgdGhpcy5fcmVtb3RlU3RvcmFnZS5hY2Nlc3MgJiZcbiAgICAgICAgICAhdGhpcy5fcmVtb3RlU3RvcmFnZS5hY2Nlc3MuY2hlY2tQYXRoUGVybWlzc2lvbihwYXRoLCAncicpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gYWNjZXNzIHRvIHBhdGggXCInK3BhdGgrJ1wiLiBZb3UgaGF2ZSB0byBjbGFpbSBhY2Nlc3MgdG8gaXQgZmlyc3QuJyk7XG4gICAgICB9XG4gICAgICBpZiAoIXN0cmF0ZWd5Lm1hdGNoKC9eKEZMVVNIfFNFRU58QUxMKSQvKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJzdHJhdGVneSBzaG91bGQgYmUgJ0ZMVVNIJywgJ1NFRU4nLCBvciAnQUxMJ1wiKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fcm9vdFBhdGhzW3BhdGhdID0gc3RyYXRlZ3k7XG5cbiAgICAgIGlmIChzdHJhdGVneSA9PT0gJ0FMTCcpIHtcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZhdGVIYW5kbGVyKSB7XG4gICAgICAgICAgdGhpcy5hY3RpdmF0ZUhhbmRsZXIocGF0aCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5wZW5kaW5nQWN0aXZhdGlvbnMucHVzaChwYXRoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNZXRob2Q6IGVuYWJsZVxuICAgICAqXG4gICAgICogRW5hYmxlIGNhY2hpbmcgZm9yIGEgZ2l2ZW4gcGF0aC5cbiAgICAgKlxuICAgICAqIFVzZXMgY2FjaGluZyBzdHJhdGVneSAnQUxMJy5cbiAgICAgKlxuICAgICAqIFBhcmFtZXRlcnM6XG4gICAgICogICBwYXRoIC0gUGF0aCB0byBlbmFibGUgY2FjaGluZyBmb3JcbiAgICAgKi9cbiAgICBlbmFibGU6IGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgICB0aGlzLnNldChwYXRoLCAnQUxMJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1ldGhvZDogZGlzYWJsZVxuICAgICAqXG4gICAgICogRGlzYWJsZSBjYWNoaW5nIGZvciBhIGdpdmVuIHBhdGguXG4gICAgICpcbiAgICAgKiBVc2VzIGNhY2hpbmcgc3RyYXRlZ3kgJ0ZMVVNIJyAobWVhbmluZyBpdGVtcyBhcmUgb25seSBjYWNoZWQgdW50aWxcbiAgICAgKiBzdWNjZXNzZnVsbHkgcHVzaGVkIHRvIHRoZSByZW1vdGUpLlxuICAgICAqXG4gICAgICogUGFyYW1ldGVyczpcbiAgICAgKiAgIHBhdGggLSBQYXRoIHRvIGRpc2FibGUgY2FjaGluZyBmb3JcbiAgICAgKi9cbiAgICBkaXNhYmxlOiBmdW5jdGlvbiAocGF0aCkge1xuICAgICAgdGhpcy5zZXQocGF0aCwgJ0ZMVVNIJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1ldGhvZDogb25BY3RpdmF0ZVxuICAgICAqXG4gICAgICogU2V0IGEgY2FsbGJhY2sgZm9yIHdoZW4gY2FjaGluZyBpcyBhY3RpdmF0ZWQgZm9yIGEgcGF0aC5cbiAgICAgKlxuICAgICAqIFBhcmFtZXRlcnM6XG4gICAgICogICBjYWxsYmFjayAtIENhbGxiYWNrIGZ1bmN0aW9uXG4gICAgICovXG4gICAgb25BY3RpdmF0ZTogZnVuY3Rpb24gKGNiKSB7XG4gICAgICB2YXIgaTtcbiAgICAgIGxvZygnW0NhY2hpbmddIFNldHRpbmcgYWN0aXZhdGUgaGFuZGxlcicsIGNiLCB0aGlzLnBlbmRpbmdBY3RpdmF0aW9ucyk7XG4gICAgICB0aGlzLmFjdGl2YXRlSGFuZGxlciA9IGNiO1xuICAgICAgZm9yIChpPTA7IGk8dGhpcy5wZW5kaW5nQWN0aXZhdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY2IodGhpcy5wZW5kaW5nQWN0aXZhdGlvbnNbaV0pO1xuICAgICAgfVxuICAgICAgZGVsZXRlIHRoaXMucGVuZGluZ0FjdGl2YXRpb25zO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNZXRob2Q6IGNoZWNrUGF0aFxuICAgICAqXG4gICAgICogUmV0cmlldmUgY2FjaGluZyBzZXR0aW5nIGZvciBhIGdpdmVuIHBhdGgsIG9yIGl0cyBuZXh0IHBhcmVudFxuICAgICAqIHdpdGggYSBjYWNoaW5nIHN0cmF0ZWd5IHNldC5cbiAgICAgKlxuICAgICAqIFBhcmFtZXRlcnM6XG4gICAgICogICBwYXRoIC0gUGF0aCB0byByZXRyaWV2ZSBzZXR0aW5nIGZvclxuICAgICAqKi9cbiAgICBjaGVja1BhdGg6IGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgICBpZiAodGhpcy5fcm9vdFBhdGhzW3BhdGhdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jvb3RQYXRoc1twYXRoXTtcbiAgICAgIH0gZWxzZSBpZiAocGF0aCA9PT0gJy8nKSB7XG4gICAgICAgIHJldHVybiAnU0VFTic7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGVja1BhdGgoY29udGFpbmluZ0ZvbGRlcihwYXRoKSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1ldGhvZDogcmVzZXRcbiAgICAgKlxuICAgICAqIFJlc2V0IHRoZSBzdGF0ZSBvZiBjYWNoaW5nIGJ5IGRlbGV0aW5nIGFsbCBjYWNoaW5nIGluZm9ybWF0aW9uLlxuICAgICAqKi9cbiAgICByZXNldDogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5fcm9vdFBhdGhzID0ge307XG4gICAgICB0aGlzLl9yZW1vdGVTdG9yYWdlID0gbnVsbDtcbiAgICB9XG4gIH07XG5cblxuICBDYWNoaW5nLl9yc19pbml0ID0gZnVuY3Rpb24gKHJlbW90ZVN0b3JhZ2UpIHtcbiAgICB0aGlzLl9yZW1vdGVTdG9yYWdlID0gcmVtb3RlU3RvcmFnZTtcbiAgfTtcblxubW9kdWxlLmV4cG9ydHMgPSBDYWNoaW5nO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NhY2hpbmcuanMiXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports,__webpack_require__){
eval('\'use strict\';\n\nvar _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };\n\nvar log = __webpack_require__(1);\nvar util = __webpack_require__(2);\nvar WebFinger = __webpack_require__(32);\n\n// feature detection flags\nvar haveXMLHttpRequest, hasLocalStorage;\n\n// used to store settings in localStorage\nvar SETTINGS_KEY = \'remotestorage:discover\';\n\n// cache loaded from localStorage\nvar cachedInfo = {};\n\n/**\n * Class: Discover\n *\n * This function deals with the Webfinger lookup, discovering a connecting\n * user\'s storage details.\n *\n * The discovery timeout can be configured via\n * `config.discoveryTimeout` (in ms).\n *\n * Arguments:\n *\n *   userAddress - user@host\n *\n * Returns:\n *\n * A promise for an object with the following properties.\n *\n *   href - Storage base URL,\n *   storageType - Storage type,\n *   authUrl - OAuth URL,\n *   properties - Webfinger link properties\n **/\n\nvar Discover = function Discover(userAddress) {\n  return new Promise(function (resolve, reject) {\n\n    if (userAddress in cachedInfo) {\n      return resolve(cachedInfo[userAddress]);\n    }\n\n    var webFinger = new WebFinger({\n      tls_only: false,\n      uri_fallback: true,\n      request_timeout: 5000\n    });\n\n    return webFinger.lookup(userAddress, function (err, response) {\n      if (err) {\n        return reject(err);\n      } else if (_typeof(response.idx.links.remotestorage) !== \'object\' || typeof response.idx.links.remotestorage.length !== \'number\' || response.idx.links.remotestorage.length <= 0) {\n        log("[Discover] WebFinger record for " + userAddress + " does not have remotestorage defined in the links section ", JSON.stringify(response.json));\n        return reject("WebFinger record for " + userAddress + " does not have remotestorage defined in the links section.");\n      }\n\n      var rs = response.idx.links.remotestorage[0];\n      var authURL = rs.properties[\'http://tools.ietf.org/html/rfc6749#section-4.2\'] || rs.properties[\'auth-endpoint\'];\n      var storageType = rs.properties[\'http://remotestorage.io/spec/version\'] || rs.type;\n\n      // cache fetched data\n      cachedInfo[userAddress] = { href: rs.href, storageType: storageType, authURL: authURL, properties: rs.properties };\n\n      if (hasLocalStorage) {\n        localStorage[SETTINGS_KEY] = JSON.stringify({ cache: cachedInfo });\n      }\n\n      return resolve(cachedInfo[userAddress]);\n    });\n  });\n};\n\nDiscover.DiscoveryError = function (message) {\n  Error.apply(this, arguments);\n  this.message = message;\n};\n\nDiscover.DiscoveryError.prototype = Object.create(Error.prototype);\n\nDiscover._rs_init = function (remoteStorage) {\n  hasLocalStorage = util.localStorageAvailable();\n  if (hasLocalStorage) {\n    var settings;\n    try {\n      settings = JSON.parse(localStorage[SETTINGS_KEY]);\n    } catch (e) {}\n    if (settings) {\n      cachedInfo = settings.cache;\n    }\n  }\n};\n\nDiscover._rs_supported = function () {\n  haveXMLHttpRequest = !!util.globalContext.XMLHttpRequest;\n  return haveXMLHttpRequest;\n};\n\nDiscover._rs_cleanup = function () {\n  if (hasLocalStorage) {\n    delete localStorage[SETTINGS_KEY];\n  }\n};\n\nmodule.exports = Discover;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZGlzY292ZXIuanM/MTQyOSJdLCJuYW1lcyI6WyJsb2ciLCJyZXF1aXJlIiwidXRpbCIsIldlYkZpbmdlciIsImhhdmVYTUxIdHRwUmVxdWVzdCIsImhhc0xvY2FsU3RvcmFnZSIsIlNFVFRJTkdTX0tFWSIsImNhY2hlZEluZm8iLCJEaXNjb3ZlciIsInVzZXJBZGRyZXNzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJ3ZWJGaW5nZXIiLCJ0bHNfb25seSIsInVyaV9mYWxsYmFjayIsInJlcXVlc3RfdGltZW91dCIsImxvb2t1cCIsImVyciIsInJlc3BvbnNlIiwiaWR4IiwibGlua3MiLCJyZW1vdGVzdG9yYWdlIiwibGVuZ3RoIiwiSlNPTiIsInN0cmluZ2lmeSIsImpzb24iLCJycyIsImF1dGhVUkwiLCJwcm9wZXJ0aWVzIiwic3RvcmFnZVR5cGUiLCJ0eXBlIiwiaHJlZiIsImxvY2FsU3RvcmFnZSIsImNhY2hlIiwiRGlzY292ZXJ5RXJyb3IiLCJtZXNzYWdlIiwiRXJyb3IiLCJhcHBseSIsImFyZ3VtZW50cyIsInByb3RvdHlwZSIsIk9iamVjdCIsImNyZWF0ZSIsIl9yc19pbml0IiwicmVtb3RlU3RvcmFnZSIsImxvY2FsU3RvcmFnZUF2YWlsYWJsZSIsInNldHRpbmdzIiwicGFyc2UiLCJlIiwiX3JzX3N1cHBvcnRlZCIsImdsb2JhbENvbnRleHQiLCJYTUxIdHRwUmVxdWVzdCIsIl9yc19jbGVhbnVwIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7QUFFQSxJQUFNQSxNQUFNLG1CQUFBQyxDQUFRLENBQVIsQ0FBWjtBQUNBLElBQU1DLE9BQU8sbUJBQUFELENBQVEsQ0FBUixDQUFiO0FBQ0EsSUFBTUUsWUFBWSxtQkFBQUYsQ0FBUSxFQUFSLENBQWxCOztBQUVBO0FBQ0EsSUFBSUcsa0JBQUosRUFBd0JDLGVBQXhCOztBQUVBO0FBQ0EsSUFBSUMsZUFBZSx3QkFBbkI7O0FBRUE7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MUIsU0FBU3lDLGFBQVQsR0FBeUIsWUFBWTtBQUNuQzdDLHVCQUFxQixDQUFDLENBQUVGLEtBQUtnRCxhQUFMLENBQW1CQyxjQUEzQztBQUNBLFNBQU8vQyxrQkFBUDtBQUNELENBSEQ7O0FBS0FJLFNBQVM0QyxXQUFULEdBQXVCLFlBQVk7QUFDakMsTUFBSS9DLGVBQUosRUFBcUI7QUFDbkIsV0FBTzRCLGFBQWEzQixZQUFiLENBQVA7QUFDRDtBQUNGLENBSkQ7O0FBT0ErQyxPQUFPQyxPQUFQLEdBQWlCOUMsUUFBakIiLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmNvbnN0IGxvZyA9IHJlcXVpcmUoJy4vbG9nJyk7XG5jb25zdCB1dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG5jb25zdCBXZWJGaW5nZXIgPSByZXF1aXJlKCd3ZWJmaW5nZXIuanMnKTtcblxuLy8gZmVhdHVyZSBkZXRlY3Rpb24gZmxhZ3NcbnZhciBoYXZlWE1MSHR0cFJlcXVlc3QsIGhhc0xvY2FsU3RvcmFnZTtcblxuLy8gdXNlZCB0byBzdG9yZSBzZXR0aW5ncyBpbiBsb2NhbFN0b3JhZ2VcbnZhciBTRVRUSU5HU19LRVkgPSAncmVtb3Rlc3RvcmFnZTpkaXNjb3Zlcic7XG5cbi8vIGNhY2hlIGxvYWRlZCBmcm9tIGxvY2FsU3RvcmFnZVxudmFyIGNhY2hlZEluZm8gPSB7fTtcblxuLyoqXG4gKiBDbGFzczogRGlzY292ZXJcbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGRlYWxzIHdpdGggdGhlIFdlYmZpbmdlciBsb29rdXAsIGRpc2NvdmVyaW5nIGEgY29ubmVjdGluZ1xuICogdXNlcidzIHN0b3JhZ2UgZGV0YWlscy5cbiAqXG4gKiBUaGUgZGlzY292ZXJ5IHRpbWVvdXQgY2FuIGJlIGNvbmZpZ3VyZWQgdmlhXG4gKiBgY29uZmlnLmRpc2NvdmVyeVRpbWVvdXRgIChpbiBtcykuXG4gKlxuICogQXJndW1lbnRzOlxuICpcbiAqICAgdXNlckFkZHJlc3MgLSB1c2VyQGhvc3RcbiAqXG4gKiBSZXR1cm5zOlxuICpcbiAqIEEgcHJvbWlzZSBmb3IgYW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzLlxuICpcbiAqICAgaHJlZiAtIFN0b3JhZ2UgYmFzZSBVUkwsXG4gKiAgIHN0b3JhZ2VUeXBlIC0gU3RvcmFnZSB0eXBlLFxuICogICBhdXRoVXJsIC0gT0F1dGggVVJMLFxuICogICBwcm9wZXJ0aWVzIC0gV2ViZmluZ2VyIGxpbmsgcHJvcGVydGllc1xuICoqL1xuXG5jb25zdCBEaXNjb3ZlciA9IGZ1bmN0aW9uIERpc2NvdmVyKHVzZXJBZGRyZXNzKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cbiAgICBpZiAodXNlckFkZHJlc3MgaW4gY2FjaGVkSW5mbykge1xuICAgICAgcmV0dXJuIHJlc29sdmUoY2FjaGVkSW5mb1t1c2VyQWRkcmVzc10pO1xuICAgIH1cblxuICAgIHZhciB3ZWJGaW5nZXIgPSBuZXcgV2ViRmluZ2VyKHtcbiAgICAgIHRsc19vbmx5OiBmYWxzZSxcbiAgICAgIHVyaV9mYWxsYmFjazogdHJ1ZSxcbiAgICAgIHJlcXVlc3RfdGltZW91dDogNTAwMFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHdlYkZpbmdlci5sb29rdXAodXNlckFkZHJlc3MsIGZ1bmN0aW9uIChlcnIsIHJlc3BvbnNlKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJldHVybiByZWplY3QoZXJyKTtcbiAgICAgIH0gZWxzZSBpZiAoKHR5cGVvZiByZXNwb25zZS5pZHgubGlua3MucmVtb3Rlc3RvcmFnZSAhPT0gJ29iamVjdCcpIHx8XG4gICAgICAgICAgICAgICAgICh0eXBlb2YgcmVzcG9uc2UuaWR4LmxpbmtzLnJlbW90ZXN0b3JhZ2UubGVuZ3RoICE9PSAnbnVtYmVyJykgfHxcbiAgICAgICAgICAgICAgICAgKHJlc3BvbnNlLmlkeC5saW5rcy5yZW1vdGVzdG9yYWdlLmxlbmd0aCA8PSAwKSkge1xuICAgICAgICBsb2coXCJbRGlzY292ZXJdIFdlYkZpbmdlciByZWNvcmQgZm9yIFwiICsgdXNlckFkZHJlc3MgKyBcIiBkb2VzIG5vdCBoYXZlIHJlbW90ZXN0b3JhZ2UgZGVmaW5lZCBpbiB0aGUgbGlua3Mgc2VjdGlvbiBcIiwgSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuanNvbikpO1xuICAgICAgICByZXR1cm4gcmVqZWN0KFwiV2ViRmluZ2VyIHJlY29yZCBmb3IgXCIgKyB1c2VyQWRkcmVzcyArIFwiIGRvZXMgbm90IGhhdmUgcmVtb3Rlc3RvcmFnZSBkZWZpbmVkIGluIHRoZSBsaW5rcyBzZWN0aW9uLlwiKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHJzID0gcmVzcG9uc2UuaWR4LmxpbmtzLnJlbW90ZXN0b3JhZ2VbMF07XG4gICAgICB2YXIgYXV0aFVSTCA9IHJzLnByb3BlcnRpZXNbJ2h0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzY3NDkjc2VjdGlvbi00LjInXSB8fFxuICAgICAgICAgICAgICAgICAgICBycy5wcm9wZXJ0aWVzWydhdXRoLWVuZHBvaW50J107XG4gICAgICB2YXIgc3RvcmFnZVR5cGUgPSBycy5wcm9wZXJ0aWVzWydodHRwOi8vcmVtb3Rlc3RvcmFnZS5pby9zcGVjL3ZlcnNpb24nXSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgcnMudHlwZTtcblxuICAgICAgLy8gY2FjaGUgZmV0Y2hlZCBkYXRhXG4gICAgICBjYWNoZWRJbmZvW3VzZXJBZGRyZXNzXSA9IHsgaHJlZjogcnMuaHJlZiwgc3RvcmFnZVR5cGU6IHN0b3JhZ2VUeXBlLCBhdXRoVVJMOiBhdXRoVVJMLCBwcm9wZXJ0aWVzOiBycy5wcm9wZXJ0aWVzIH07XG5cbiAgICAgIGlmIChoYXNMb2NhbFN0b3JhZ2UpIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlW1NFVFRJTkdTX0tFWV0gPSBKU09OLnN0cmluZ2lmeSh7IGNhY2hlOiBjYWNoZWRJbmZvIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzb2x2ZShjYWNoZWRJbmZvW3VzZXJBZGRyZXNzXSk7XG4gICAgfSk7XG4gIH0pO1xufTtcblxuXG5EaXNjb3Zlci5EaXNjb3ZlcnlFcnJvciA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gIEVycm9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG59O1xuXG5EaXNjb3Zlci5EaXNjb3ZlcnlFcnJvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG5cblxuRGlzY292ZXIuX3JzX2luaXQgPSBmdW5jdGlvbiAocmVtb3RlU3RvcmFnZSkge1xuICBoYXNMb2NhbFN0b3JhZ2UgPSB1dGlsLmxvY2FsU3RvcmFnZUF2YWlsYWJsZSgpO1xuICBpZiAoaGFzTG9jYWxTdG9yYWdlKSB7XG4gICAgdmFyIHNldHRpbmdzO1xuICAgIHRyeSB7IHNldHRpbmdzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2VbU0VUVElOR1NfS0VZXSk7IH0gY2F0Y2goZSkge31cbiAgICBpZiAoc2V0dGluZ3MpIHtcbiAgICAgIGNhY2hlZEluZm8gPSBzZXR0aW5ncy5jYWNoZTtcbiAgICB9XG4gIH1cbn07XG5cbkRpc2NvdmVyLl9yc19zdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gIGhhdmVYTUxIdHRwUmVxdWVzdCA9ICEhIHV0aWwuZ2xvYmFsQ29udGV4dC5YTUxIdHRwUmVxdWVzdDtcbiAgcmV0dXJuIGhhdmVYTUxIdHRwUmVxdWVzdDtcbn07XG5cbkRpc2NvdmVyLl9yc19jbGVhbnVwID0gZnVuY3Rpb24gKCkge1xuICBpZiAoaGFzTG9jYWxTdG9yYWdlKSB7XG4gICAgZGVsZXRlIGxvY2FsU3RvcmFnZVtTRVRUSU5HU19LRVldO1xuICB9XG59O1xuXG5cbm1vZHVsZS5leHBvcnRzID0gRGlzY292ZXI7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZGlzY292ZXIuanMiXSwic291cmNlUm9vdCI6IiJ9')},function(module,exports,__webpack_require__){
eval("'use strict';\n\nvar Authorize = __webpack_require__(4);\nvar BaseClient = __webpack_require__(6);\nvar WireClient = __webpack_require__(9);\nvar util = __webpack_require__(2);\nvar eventHandling = __webpack_require__(3);\nvar Sync = __webpack_require__(8);\n\n/**\n * File: Dropbox\n *\n * WORK IN PROGRESS, NOT RECOMMENDED FOR PRODUCTION USE\n *\n * Dropbox backend for RemoteStorage.js\n * This file exposes a get/put/delete interface which is compatible with\n * <WireClient>.\n *\n * When remoteStorage.backend is set to 'dropbox', this backend will\n * initialize and replace remoteStorage.remote with remoteStorage.dropbox.\n *\n * In order to ensure compatibility with the public folder, <BaseClient.getItemURL>\n * gets hijacked to return the Dropbox public share URL.\n *\n * To use this backend, you need to specify the Dropbox app key like so:\n *\n * (start code)\n *\n * remoteStorage.setApiKeys('dropbox', {\n *   appKey: 'your-app-key'\n * });\n *\n * (end code)\n *\n * An app key can be obtained by registering your app at https://www.dropbox.com/developers/apps\n *\n * Known issues:\n *\n *   - Storing files larger than 150MB is not yet supported\n *   - Listing and deleting folders with more than 10'000 files will cause problems\n *   - Content-Type is not fully supported due to limitations of the Dropbox API\n *   - Dropbox preserves cases but is not case-sensitive\n *   - getItemURL is asynchronous which means getIetmURL returns useful values\n *     after the syncCycle\n */\n\nvar hasLocalStorage;\nvar AUTH_URL = 'https://www.dropbox.com/1/oauth2/authorize';\nvar SETTINGS_KEY = 'remotestorage:dropbox';\nvar PATH_PREFIX = '/remotestorage';\n\nvar isFolder = util.isFolder;\n\n/**\n * Function: getDropboxPath(path)\n *\n * Map a local path to a path in DropBox.\n */\nvar getDropboxPath = function getDropboxPath(path) {\n  return WireClient.cleanPath(PATH_PREFIX + '/' + path);\n};\n\nvar encodeQuery = function encodeQuery(obj) {\n  var pairs = [];\n\n  for (var key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      pairs.push(encodeURIComponent(key) + '=' + encodeURIComponent(obj[key]));\n    }\n  }\n\n  return pairs.join('&');\n};\n\n/**\n * class: LowerCaseCache\n *\n * A cache which automatically converts all keys to lower case and can\n * propagate changes up to parent folders.\n *\n * By default the set and delete methods are aliased to justSet and justDelete.\n *\n * Parameters:\n *\n *   defaultValue - the value that is returned for all keys that don't exist\n *                  in the cache\n */\nfunction LowerCaseCache(defaultValue) {\n  this.defaultValue = defaultValue;\n  this._storage = {};\n  this.set = this.justSet;\n  this.delete = this.justDelete;\n}\n\nLowerCaseCache.prototype = {\n  /**\n   * Method: get\n   *\n   * Get a value from the cache or defaultValue, if the key is not in the\n   * cache.\n   */\n  get: function get(key) {\n    key = key.toLowerCase();\n    var stored = this._storage[key];\n    if (typeof stored === 'undefined') {\n      stored = this.defaultValue;\n      this._storage[key] = stored;\n    }\n    return stored;\n  },\n\n  /**\n   * Method: propagateSet\n   *\n   * Set a value and also update the parent folders with that value.\n   */\n  propagateSet: function propagateSet(key, value) {\n    key = key.toLowerCase();\n    if (this._storage[key] === value) {\n      return value;\n    }\n    this._propagate(key, value);\n    this._storage[key] = value;\n    return value;\n  },\n\n  /**\n   * Method: propagateDelete\n   *\n   * Delete a value and propagate the changes to the parent folders.\n   */\n  propagateDelete: function propagateDelete(key) {\n    key = key.toLowerCase();\n    this._propagate(key, this._storage[key]);\n    return delete this._storage[key];\n  },\n\n  _activatePropagation: function _activatePropagation() {\n    this.set = this.propagateSet;\n    this.delete = this.propagateDelete;\n    return true;\n  },\n\n  /**\n   * Method: justSet\n   *\n   * Set a value without propagating.\n   */\n  justSet: function justSet(key, value) {\n    key = key.toLowerCase();\n    this._storage[key] = value;\n    return value;\n  },\n\n  /**\n   * Method: justDelete\n   *\n   * Delete a value without propagating.\n   */\n  justDelete: function justDelete(key, value) {\n    key = key.toLowerCase();\n    return delete this._storage[key];\n  },\n\n  _propagate: function _propagate(key, rev) {\n    var folders = key.split('/').slice(0, -1);\n    var path = '';\n\n    for (var i = 0, len = folders.length; i < len; i++) {\n      path += folders[i] + '/';\n      if (!rev) {\n        rev = this._storage[path] + 1;\n      }\n      this._storage[path] = rev;\n    }\n  }\n};\n\nvar onErrorCb;\n\n/**\n * Class: Dropbox\n */\nvar Dropbox = function Dropbox(rs) {\n\n  this.rs = rs;\n  this.connected = false;\n  this.rs = rs;\n  var self = this;\n\n  onErrorCb = function onErrorCb(error) {\n    if (error instanceof Authorize.Unauthorized) {\n      // Delete all the settings - see the documentation of wireclient.configure\n      self.configure({\n        userAddress: null,\n        href: null,\n        storageApi: null,\n        token: null,\n        options: null\n      });\n    }\n  };\n\n  eventHandling(this, 'change', 'connected', 'wire-busy', 'wire-done', 'not-connected');\n  rs.on('error', onErrorCb);\n\n  this.clientId = rs.apiKeys.dropbox.appKey;\n  this._revCache = new LowerCaseCache('rev');\n  this._itemRefs = {};\n  this._metadataCache = {};\n\n  hasLocalStorage = util.localStorageAvailable();\n\n  if (hasLocalStorage) {\n    var settings;\n    try {\n      settings = JSON.parse(localStorage.getItem(SETTINGS_KEY));\n    } catch (e) {}\n    if (settings) {\n      this.configure(settings);\n    }\n    try {\n      this._itemRefs = JSON.parse(localStorage.getItem(SETTINGS_KEY + ':shares'));\n    } catch (e) {}\n  }\n  if (this.connected) {\n    setTimeout(this._emit.bind(this), 0, 'connected');\n  }\n};\n\nDropbox.prototype = {\n  online: true,\n\n  /**\n   * Method: connect\n   *\n   * Set the backed to 'dropbox' and start the authentication flow in order\n   * to obtain an API token from Dropbox.\n   */\n  connect: function connect() {\n    // TODO handling when token is already present\n    this.rs.setBackend('dropbox');\n    if (this.token) {\n      hookIt(this.rs);\n    } else {\n      Authorize(this.rs, AUTH_URL, '', String(Authorize.getLocation()), this.clientId);\n    }\n  },\n\n  /**\n   * Method : configure(settings)\n   * Accepts its parameters according to the <WireClient>.\n   * Sets the connected flag\n   **/\n  configure: function configure(settings) {\n    // We only update this.userAddress if settings.userAddress is set to a string or to null:\n    if (typeof settings.userAddress !== 'undefined') {\n      this.userAddress = settings.userAddress;\n    }\n    // Same for this.token. If only one of these two is set, we leave the other one at its existing value:\n    if (typeof settings.token !== 'undefined') {\n      this.token = settings.token;\n    }\n\n    var writeSettingsToCache = function writeSettingsToCache() {\n      if (hasLocalStorage) {\n        localStorage.setItem(SETTINGS_KEY, JSON.stringify({\n          userAddress: this.userAddress,\n          token: this.token\n        }));\n      }\n    };\n\n    var handleError = function handleError() {\n      this.connected = false;\n      if (hasLocalStorage) {\n        localStorage.removeItem(SETTINGS_KEY);\n      }\n    };\n\n    if (this.token) {\n      this.connected = true;\n      if (this.userAddress) {\n        this._emit('connected');\n        writeSettingsToCache.apply(this);\n      } else {\n        this.info().then(function (info) {\n          this.userAddress = info.email;\n          this._emit('connected');\n          writeSettingsToCache.apply(this);\n        }.bind(this)).catch(function () {\n          handleError.apply(this);\n          this.rs._emit('error', new Error('Could not fetch user info.'));\n        }.bind(this));\n      }\n    } else {\n      handleError.apply(this);\n    }\n  },\n\n  /**\n   * Method: stopWaitingForToken\n   *\n   * Stop waiting for the token and emit not-connected\n   */\n  stopWaitingForToken: function stopWaitingForToken() {\n    if (!this.connected) {\n      this._emit('not-connected');\n    }\n  },\n\n  /**\n   * Method: _getFolder\n   *\n   * Get all items in a folder.\n   *\n   * Parameters:\n   *\n   *   path - path of the folder to get, with leading slash\n   *   options - not used\n   *\n   * Returns:\n   *\n   *  statusCode - HTTP status code\n   *  body - array of the items found\n   *  contentType - 'application/json; charset=UTF-8'\n   *  revision - revision of the folder\n   */\n  _getFolder: function _getFolder(path, options) {\n    // FIXME simplify promise handling\n    var url = 'https://api.dropbox.com/1/metadata/auto' + getDropboxPath(path);\n    var revCache = this._revCache;\n    var self = this;\n\n    return this._request('GET', url, {}).then(function (resp) {\n      var status = resp.status;\n      if (status === 304) {\n        return Promise.resolve({ statusCode: status });\n      }\n      var listing, body, mime, rev;\n      try {\n        body = JSON.parse(resp.responseText);\n      } catch (e) {\n        return Promise.reject(e);\n      }\n      rev = self._revCache.get(path);\n      mime = 'application/json; charset=UTF-8';\n      if (body.contents) {\n        listing = body.contents.reduce(function (m, item) {\n          var itemName = item.path.split('/').slice(-1)[0] + (item.is_dir ? '/' : '');\n          if (item.is_dir) {\n            m[itemName] = { ETag: revCache.get(path + itemName) };\n          } else {\n            m[itemName] = { ETag: item.rev };\n          }\n          return m;\n        }, {});\n      }\n      return Promise.resolve({ statusCode: status, body: listing, contentType: mime, revision: rev });\n    });\n  },\n\n  /**\n   * Method: get\n   *\n   * Compatible with <WireClient.get>\n   *\n   * Checks for the path in _revCache and decides based on that if file has\n   * changed. Calls _getFolder is the path points to a folder.\n   *\n   * Calls <Dropbox.share> afterwards to fill _itemRefs.\n   */\n  get: function get(path, options) {\n    if (!this.connected) {\n      return Promise.reject(\"not connected (path: \" + path + \")\");\n    }\n    var url = 'https://api-content.dropbox.com/1/files/auto' + getDropboxPath(path);\n    var self = this;\n\n    var savedRev = this._revCache.get(path);\n    if (savedRev === null) {\n      // file was deleted server side\n      return Promise.resolve({ statusCode: 404 });\n    }\n    if (options && options.ifNoneMatch && savedRev && savedRev === options.ifNoneMatch) {\n      // nothing changed.\n      return Promise.resolve({ statusCode: 304 });\n    }\n\n    //use _getFolder for folders\n    if (path.substr(-1) === '/') {\n      return this._getFolder(path, options);\n    }\n\n    return this._request('GET', url, {}).then(function (resp) {\n      var status = resp.status;\n      var meta, body, mime, rev;\n      if (status !== 200) {\n        return Promise.resolve({ statusCode: status });\n      }\n\n      body = resp.responseText;\n      try {\n        meta = JSON.parse(resp.getResponseHeader('x-dropbox-metadata'));\n      } catch (e) {\n        return Promise.reject(e);\n      }\n\n      mime = meta.mime_type; //resp.getResponseHeader('Content-Type');\n      rev = meta.rev;\n      self._revCache.set(path, rev);\n      self._shareIfNeeded(path); // The shared link expires every 4 hours\n\n      // handling binary\n      if (!resp.getResponseHeader('Content-Type') || resp.getResponseHeader('Content-Type').match(/charset=binary/)) {\n\n        // TOFIX: would be better to make readBinaryData return a Promise - les\n        return new Promise(function (resolve, reject) {\n          WireClient.readBinaryData(resp.response, mime, function (result) {\n            resolve({\n              statusCode: status,\n              body: result,\n              contentType: mime,\n              revision: rev\n            });\n          });\n        });\n      }\n\n      // handling json (always try)\n      // comment it out as this is always true (false && false || true)\n      // and jshint is complaining\n      // if (mime && mime.search('application/json') >= 0 || true) {\n      try {\n        body = JSON.parse(body);\n        mime = 'application/json; charset=UTF-8';\n      } catch (e) {}\n      //Failed parsing Json, assume it is something else then\n\n      // }\n\n      return Promise.resolve({ statusCode: status, body: body, contentType: mime, revision: rev });\n    });\n  },\n\n  /**\n   * Method: put\n   *\n   * Compatible with <WireClient>\n   *\n   * Checks for the path in _revCache and decides based on that if file has\n   * changed.\n   *\n   * Calls <Dropbox.share> afterwards to fill _itemRefs.\n   */\n  put: function put(path, body, contentType, options) {\n    var self = this;\n\n    if (!this.connected) {\n      throw new Error(\"not connected (path: \" + path + \")\");\n    }\n\n    //check if file has changed and return 412\n    var savedRev = this._revCache.get(path);\n    if (options && options.ifMatch && savedRev && savedRev !== options.ifMatch) {\n      return Promise.resolve({ statusCode: 412, revision: savedRev });\n    }\n    if (options && options.ifNoneMatch === '*' && savedRev && savedRev !== 'rev') {\n      return Promise.resolve({ statusCode: 412, revision: savedRev });\n    }\n\n    if (!contentType.match(/charset=/) && (body instanceof ArrayBuffer || WireClient.isArrayBufferView(body))) {\n      contentType += '; charset=binary';\n    }\n\n    if (body.length > 150 * 1024 * 1024) {\n      //https://www.dropbox.com/developers/core/docs#chunked-upload\n      return Promise.reject(new Error(\"Cannot upload file larger than 150MB\"));\n    }\n\n    var result;\n    var needsMetadata = options && (options.ifMatch || options.ifNoneMatch === '*');\n    var uploadParams = {\n      body: body,\n      contentType: contentType,\n      path: path\n    };\n\n    if (needsMetadata) {\n      result = this._getMetadata(path).then(function (metadata) {\n        if (options && options.ifNoneMatch === '*' && metadata) {\n          // if !!metadata === true, the file exists\n          return Promise.resolve({\n            statusCode: 412,\n            revision: metadata.rev\n          });\n        }\n\n        if (options && options.ifMatch && metadata && metadata.rev !== options.ifMatch) {\n          return Promise.resolve({\n            statusCode: 412,\n            revision: metadata.rev\n          });\n        }\n\n        return self._uploadSimple(uploadParams);\n      });\n    } else {\n      result = self._uploadSimple(uploadParams);\n    }\n\n    return result.then(function (ret) {\n      self._shareIfNeeded(path);\n      return ret;\n    });\n  },\n\n  /**\n   * Method: delete\n   *\n   * Compatible with <WireClient.delete>\n   *\n   * Checks for the path in _revCache and decides based on that if file has\n   * changed.\n   *\n   * Calls <Dropbox.share> afterwards to fill _itemRefs.\n   */\n  'delete': function _delete(path, options) {\n    var self = this;\n\n    if (!this.connected) {\n      throw new Error(\"not connected (path: \" + path + \")\");\n    }\n\n    //check if file has changed and return 412\n    var savedRev = this._revCache.get(path);\n    if (options && options.ifMatch && savedRev && options.ifMatch !== savedRev) {\n      return Promise.resolve({ statusCode: 412, revision: savedRev });\n    }\n\n    if (options && options.ifMatch) {\n      return this._getMetadata(path).then(function (metadata) {\n        if (options && options.ifMatch && metadata && metadata.rev !== options.ifMatch) {\n          return Promise.resolve({\n            statusCode: 412,\n            revision: metadata.rev\n          });\n        }\n\n        return self._deleteSimple(path);\n      });\n    }\n\n    return self._deleteSimple(path);\n  },\n\n  /**\n   * Method: _shareIfNeeded\n   *\n   * Calls share, if the provided path resides in a public folder.\n   */\n  _shareIfNeeded: function _shareIfNeeded(path) {\n    if (path.match(/^\\/public\\/.*[^\\/]$/) && this._itemRefs[path] === undefined) {\n      this.share(path);\n    }\n  },\n\n  /**\n   * Method: share\n   *\n   * Gets a publicly-accessible URL for the path from Dropbox and stores it\n   * in _itemRefs.\n   *\n   * Returns:\n   *\n   *   A promise for the URL\n   */\n  share: function share(path) {\n    var self = this;\n    var url = 'https://api.dropbox.com/1/media/auto' + getDropboxPath(path);\n\n    return this._request('POST', url, {}).then(function (response) {\n      if (response.status !== 200) {\n        return Promise.reject(new Error('Invalid Dropbox API response status when sharing \"' + path + '\":' + response.status));\n      }\n\n      try {\n        response = JSON.parse(response.responseText);\n      } catch (e) {\n        return Promise.reject(new Error('Invalid Dropbox API response when sharing \"' + path + '\": ' + response.responseText));\n      }\n\n      self._itemRefs[path] = response.url;\n\n      if (hasLocalStorage) {\n        localStorage.setItem(SETTINGS_KEY + ':shares', JSON.stringify(self._itemRefs));\n      }\n\n      return Promise.resolve(url);\n    }, function (error) {\n      err.message = 'Sharing dropbox file or folder (\"' + path + '\") failed.' + err.message;\n      return Promise.reject(error);\n    });\n  },\n\n  /**\n   * Method: info\n   *\n   * Fetches the user's info from dropbox and returns a promise for it.\n   *\n   * Returns:\n   *\n   *   A promise to the user's info\n   */\n  info: function info() {\n    var url = 'https://api.dropbox.com/1/account/info';\n    // requesting user info(mainly for userAdress)\n    return this._request('GET', url, {}).then(function (resp) {\n      try {\n        var info = JSON.parse(resp.responseText);\n        return Promise.resolve(info);\n      } catch (e) {\n        return Promise.reject(e);\n      }\n    });\n  },\n\n  /**\n   * Method: _request\n   *\n   * Make a HTTP request.\n   *\n   * Options:\n   *\n   *   headers - an object containing the request headers\n   *\n   * Parameters:\n   *\n   *   method - the method to use\n   *   url - the URL to make the request to\n   *   options - see above\n   */\n  _request: function _request(method, url, options) {\n    var self = this;\n\n    if (!options.headers) {\n      options.headers = {};\n    }\n    options.headers['Authorization'] = 'Bearer ' + this.token;\n\n    this._emit('wire-busy', {\n      method: method,\n      isFolder: isFolder(url)\n    });\n\n    return WireClient.request.call(this, method, url, options).then(function (xhr) {\n      // 503 means retry this later\n      if (xhr && xhr.status === 503) {\n        if (self.online) {\n          self.online = false;\n          self.rs._emit('network-offline');\n        }\n        return setTimeout(self._request(method, url, options), 3210);\n      } else {\n        if (!self.online) {\n          self.online = true;\n          self.rs._emit('network-online');\n        }\n        self._emit('wire-done', {\n          method: method,\n          isFolder: isFolder(url),\n          success: true\n        });\n\n        return Promise.resolve(xhr);\n      }\n    }, function (error) {\n      if (self.online) {\n        self.online = false;\n        self.rs._emit('network-offline');\n      }\n      self._emit('wire-done', {\n        method: method,\n        isFolder: isFolder(url),\n        success: false\n      });\n\n      return Promise.reject(error);\n    });\n  },\n\n  /**\n   * Method: fetchDelta\n   *\n   * Fetches the revision of all the files from dropbox API and puts them\n   * into _revCache. These values can then be used to determine if something\n   * has changed.\n   */\n  fetchDelta: function fetchDelta() {\n    // TODO: Handle `has_more`\n\n    var args = Array.prototype.slice.call(arguments);\n    var self = this;\n    var body = { path_prefix: PATH_PREFIX };\n\n    if (self._deltaCursor) {\n      body.cursor = self._deltaCursor;\n    }\n\n    return self._request('POST', 'https://api.dropbox.com/1/delta', {\n      body: encodeQuery(body),\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }\n    }).then(function (response) {\n      // break if status != 200\n      if (response.status !== 200) {\n        if (response.status === 400) {\n          self.rs._emit('error', new Authorize.Unauthorized());\n          return Promise.resolve(args);\n        } else {\n          return Promise.reject(\"dropbox.fetchDelta returned \" + response.status + response.responseText);\n        }\n      }\n\n      var delta;\n      try {\n        delta = JSON.parse(response.responseText);\n      } catch (error) {\n        log('fetchDeltas can not parse response', error);\n        return Promise.reject(\"can not parse response of fetchDelta : \" + error.message);\n      }\n      // break if no entries found\n      if (!delta.entries) {\n        return Promise.reject('dropbox.fetchDeltas failed, no entries found');\n      }\n\n      // Dropbox sends the complete state\n      if (delta.reset) {\n        self._revCache = new LowerCaseCache('rev');\n      }\n\n      //saving the cursor for requesting further deltas in relation to the cursor position\n      if (delta.cursor) {\n        self._deltaCursor = delta.cursor;\n      }\n\n      //updating revCache\n      delta.entries.forEach(function (entry) {\n        var path = entry[0].substr(PATH_PREFIX.length);\n        var rev;\n        if (!entry[1]) {\n          rev = null;\n        } else {\n          if (entry[1].is_dir) {\n            return;\n          }\n          rev = entry[1].rev;\n        }\n        self._revCache.set(path, rev);\n      });\n      return Promise.resolve(args);\n    }, function (err) {\n      this.rs.log('fetchDeltas', err);\n      this.rs._emit('error', new Sync.SyncError('fetchDeltas failed.' + err));\n      return Promise.resolve(args);\n    }.bind(this)).then(function () {\n      if (self._revCache) {\n        var args = Array.prototype.slice.call(arguments);\n        self._revCache._activatePropagation();\n        return Promise.resolve(args);\n      }\n    });\n  },\n\n  /**\n   * Method: _getMetadata\n   *\n   * Gets metadata for a path (can point to either a file or a folder).\n   *\n   * Options:\n   *\n   *   list - if path points to a folder, specifies whether to list the\n   *          metadata of the folder's children. False by default.\n   *\n   * Parameters:\n   *\n   *   path - the path to get metadata for\n   *   options - see above\n   *\n   * Returns:\n   *\n   *   A promise for the metadata\n   */\n  _getMetadata: function _getMetadata(path, options) {\n    var self = this;\n    var cached = this._metadataCache[path];\n    var url = 'https://api.dropbox.com/1/metadata/auto' + getDropboxPath(path);\n    url += '?list=' + (options && options.list ? 'true' : 'false');\n    if (cached && cached.hash) {\n      url += '&hash=' + encodeURIComponent(cached.hash);\n    }\n    return this._request('GET', url, {}).then(function (resp) {\n      if (resp.status === 304) {\n        return Promise.resolve(cached);\n      } else if (resp.status === 200) {\n        var response = JSON.parse(resp.responseText);\n        self._metadataCache[path] = response;\n        return Promise.resolve(response);\n      } else {\n        // The file doesn't exist\n        return Promise.resolve();\n      }\n    });\n  },\n\n  /**\n   * Method: _uploadSimple\n   *\n   * Upload a simple file (the size is no more than 150MB).\n   *\n   * Parameters:\n   *\n   *   ifMatch - same as for get\n   *   path - path of the file\n   *   body - contents of the file to upload\n   *   contentType - mime type of the file\n   *\n   * Returns:\n   *\n   *   statusCode - HTTP status code\n   *   revision - revision of the newly-created file, if any\n   */\n  _uploadSimple: function _uploadSimple(params) {\n    var self = this;\n    var url = 'https://api-content.dropbox.com/1/files_put/auto' + getDropboxPath(params.path) + '?';\n\n    if (params && params.ifMatch) {\n      url += \"parent_rev=\" + encodeURIComponent(params.ifMatch);\n    }\n\n    return self._request('PUT', url, {\n      body: params.body,\n      headers: {\n        'Content-Type': params.contentType\n      }\n    }).then(function (resp) {\n      if (resp.status !== 200) {\n        return Promise.resolve({ statusCode: resp.status });\n      }\n\n      var response;\n\n      try {\n        response = JSON.parse(resp.responseText);\n      } catch (e) {\n        return Promise.reject(e);\n      }\n\n      // Conflict happened. Delete the copy created by dropbox\n      if (response.path !== getDropboxPath(params.path)) {\n        var deleteUrl = 'https://api.dropbox.com/1/fileops/delete?root=auto&path=' + encodeURIComponent(response.path);\n        self._request('POST', deleteUrl, {});\n\n        return self._getMetadata(params.path).then(function (metadata) {\n          return Promise.resolve({\n            statusCode: 412,\n            revision: metadata.rev\n          });\n        });\n      }\n\n      self._revCache.propagateSet(params.path, response.rev);\n      return Promise.resolve({ statusCode: resp.status });\n    });\n  },\n\n  /**\n   * Method: _deleteSimple\n   *\n   * Deletes a file or a folder. If the folder contains more than 10'000 items\n   * (recursively) then the operation may not complete successfully. If that\n   * is the case, an Error gets thrown.\n   *\n   * Parameters:\n   *\n   *   path - the path to delete\n   *\n   * Returns:\n   *\n   *   statusCode - HTTP status code\n   */\n  _deleteSimple: function _deleteSimple(path) {\n    var self = this;\n    var url = 'https://api.dropbox.com/1/fileops/delete?root=auto&path=' + encodeURIComponent(getDropboxPath(path));\n\n    return self._request('POST', url, {}).then(function (resp) {\n      if (resp.status === 406) {\n        // Too many files would be involved in the operation for it to\n        // complete successfully.\n        // TODO: Handle this somehow\n        return Promise.reject(new Error(\"Cannot delete '\" + path + \"': too many files involved\"));\n      }\n\n      if (resp.status === 200 || resp.status === 404) {\n        self._revCache.delete(path);\n        delete self._itemRefs[path];\n      }\n\n      return Promise.resolve({ statusCode: resp.status });\n    });\n  }\n};\n\n// Hooking and unhooking the sync\n\nfunction hookSync(rs) {\n  if (rs._dropboxOrigSync) {\n    return;\n  } // already hooked\n  rs._dropboxOrigSync = rs.sync.sync.bind(rs.sync);\n  rs.sync.sync = function () {\n    return this.dropbox.fetchDelta.apply(this.dropbox, arguments).then(rs._dropboxOrigSync, function (err) {\n      rs._emit('error', new Sync.SyncError(err));\n      return Promise.reject(err);\n    });\n  }.bind(rs);\n}\n\nfunction unHookSync(rs) {\n  if (!rs._dropboxOrigSync) {\n    return;\n  } // not hooked\n  rs.sync.sync = rs._dropboxOrigSync;\n  delete rs._dropboxOrigSync;\n}\n\n// Hooking and unhooking getItemURL\n\nfunction hookGetItemURL(rs) {\n  if (rs._origBaseClientGetItemURL) {\n    return;\n  }\n  rs._origBaseClientGetItemURL = BaseClient.prototype.getItemURL;\n  BaseClient.prototype.getItemURL = function (path) {\n    var ret = rs.dropbox._itemRefs[path];\n    return ret ? ret : '';\n  };\n}\n\nfunction unHookGetItemURL(rs) {\n  if (!rs._origBaseClientGetItemURL) {\n    return;\n  }\n  BaseClient.prototype.getItemURL = rs._origBaseClientGetItemURL;\n  delete rs._origBaseClientGetItemURL;\n}\n\nfunction hookRemote(rs) {\n  if (rs._origRemote) {\n    return;\n  }\n  rs._origRemote = rs.remote;\n  rs.remote = rs.dropbox;\n}\n\nfunction unHookRemote(rs) {\n  if (rs._origRemote) {\n    rs.remote = rs._origRemote;\n    delete rs._origRemote;\n  }\n}\n\nfunction hookIt(rs) {\n  hookRemote(rs);\n  if (rs.sync) {\n    hookSync(rs);\n  } else {\n    // when sync is not available yet, we wait for the remote to be connected,\n    // at which point sync should be available as well\n    rs.on('connected', function () {\n      if (rs.sync) {\n        hookSync(rs);\n      }\n    });\n  }\n  hookGetItemURL(rs);\n}\n\nfunction unHookIt(rs) {\n  unHookRemote(rs);\n  unHookSync(rs);\n  unHookGetItemURL(rs);\n}\n\nDropbox._rs_init = function (rs) {\n  hasLocalStorage = util.localStorageAvailable();\n  if (rs.apiKeys.dropbox) {\n    rs.dropbox = new Dropbox(rs);\n  }\n  if (rs.backend === 'dropbox') {\n    hookIt(rs);\n  }\n};\n\nDropbox._rs_supported = function () {\n  return true;\n};\n\nDropbox._rs_cleanup = function (rs) {\n  unHookIt(rs);\n  if (hasLocalStorage) {\n    localStorage.removeItem(SETTINGS_KEY);\n  }\n  rs.removeEventListener('error', onErrorCb);\n  rs.setBackend(undefined);\n};\n\nmodule.exports = Dropbox;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZHJvcGJveC5qcz9mYzg5Il0sIm5hbWVzIjpbIkF1dGhvcml6ZSIsInJlcXVpcmUiLCJCYXNlQ2xpZW50IiwiV2lyZUNsaWVudCIsInV0aWwiLCJldmVudEhhbmRsaW5nIiwiU3luYyIsImhhc0xvY2FsU3RvcmFnZSIsIkFVVEhfVVJMIiwiU0VUVElOR1NfS0VZIiwiUEFUSF9QUkVGSVgiLCJpc0ZvbGRlciIsImdldERyb3Bib3hQYXRoIiwicGF0aCIsImNsZWFuUGF0aCIsImVuY29kZVF1ZXJ5Iiwib2JqIiwicGFpcnMiLCJrZXkiLCJoYXNPd25Qcm9wZXJ0eSIsInB1c2giLCJlbmNvZGVVUklDb21wb25lbnQiLCJqb2luIiwiTG93ZXJDYXNlQ2FjaGUiLCJkZWZhdWx0VmFsdWUiLCJfc3RvcmFnZSIsInNldCIsImp1c3RTZXQiLCJkZWxldGUiLCJqdXN0RGVsZXRlIiwicHJvdG90eXBlIiwiZ2V0IiwidG9Mb3dlckNhc2UiLCJzdG9yZWQiLCJwcm9wYWdhdGVTZXQiLCJ2YWx1ZSIsIl9wcm9wYWdhdGUiLCJwcm9wYWdhdGVEZWxldGUiLCJfYWN0aXZhdGVQcm9wYWdhdGlvbiIsInJldiIsImZvbGRlcnMiLCJzcGxpdCIsInNsaWNlIiwiaSIsImxlbiIsImxlbmd0aCIsIm9uRXJyb3JDYiIsIkRyb3Bib3giLCJycyIsImNvbm5lY3RlZCIsInNlbGYiLCJlcnJvciIsIlVuYXV0aG9yaXplZCIsImNvbmZpZ3VyZSIsInVzZXJBZGRyZXNzIiwiaHJlZiIsInN0b3JhZ2VBcGkiLCJ0b2tlbiIsIm9wdGlvbnMiLCJvbiIsImNsaWVudElkIiwiYXBpS2V5cyIsImRyb3Bib3giLCJhcHBLZXkiLCJfcmV2Q2FjaGUiLCJfaXRlbVJlZnMiLCJfbWV0YWRhdGFDYWNoZSIsImxvY2FsU3RvcmFnZUF2YWlsYWJsZSIsInNldHRpbmdzIiwiSlNPTiIsInBhcnNlIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImUiLCJzZXRUaW1lb3V0IiwiX2VtaXQiLCJiaW5kIiwib25saW5lIiwiY29ubmVjdCIsInNldEJhY2tlbmQiLCJob29rSXQiLCJTdHJpbmciLCJnZXRMb2NhdGlvbiIsIndyaXRlU2V0dGluZ3NUb0NhY2hlIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsImhhbmRsZUVycm9yIiwicmVtb3ZlSXRlbSIsImFwcGx5IiwiaW5mbyIsInRoZW4iLCJlbWFpbCIsImNhdGNoIiwiRXJyb3IiLCJzdG9wV2FpdGluZ0ZvclRva2VuIiwiX2dldEZvbGRlciIsInVybCIsInJldkNhY2hlIiwiX3JlcXVlc3QiLCJyZXNwIiwic3RhdHVzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzdGF0dXNDb2RlIiwibGlzdGluZyIsImJvZHkiLCJtaW1lIiwicmVzcG9uc2VUZXh0IiwicmVqZWN0IiwiY29udGVudHMiLCJyZWR1Y2UiLCJtIiwiaXRlbSIsIml0ZW1OYW1lIiwiaXNfZGlyIiwiRVRhZyIsImNvbnRlbnRUeXBlIiwicmV2aXNpb24iLCJzYXZlZFJldiIsImlmTm9uZU1hdGNoIiwic3Vic3RyIiwibWV0YSIsImdldFJlc3BvbnNlSGVhZGVyIiwibWltZV90eXBlIiwiX3NoYXJlSWZOZWVkZWQiLCJtYXRjaCIsInJlYWRCaW5hcnlEYXRhIiwicmVzcG9uc2UiLCJyZXN1bHQiLCJwdXQiLCJpZk1hdGNoIiwiQXJyYXlCdWZmZXIiLCJpc0FycmF5QnVmZmVyVmlldyIsIm5lZWRzTWV0YWRhdGEiLCJ1cGxvYWRQYXJhbXMiLCJfZ2V0TWV0YWRhdGEiLCJtZXRhZGF0YSIsIl91cGxvYWRTaW1wbGUiLCJyZXQiLCJfZGVsZXRlU2ltcGxlIiwidW5kZWZpbmVkIiwic2hhcmUiLCJlcnIiLCJtZXNzYWdlIiwibWV0aG9kIiwiaGVhZGVycyIsInJlcXVlc3QiLCJjYWxsIiwieGhyIiwic3VjY2VzcyIsImZldGNoRGVsdGEiLCJhcmdzIiwiQXJyYXkiLCJhcmd1bWVudHMiLCJwYXRoX3ByZWZpeCIsIl9kZWx0YUN1cnNvciIsImN1cnNvciIsImRlbHRhIiwibG9nIiwiZW50cmllcyIsInJlc2V0IiwiZm9yRWFjaCIsImVudHJ5IiwiU3luY0Vycm9yIiwiY2FjaGVkIiwibGlzdCIsImhhc2giLCJwYXJhbXMiLCJkZWxldGVVcmwiLCJob29rU3luYyIsIl9kcm9wYm94T3JpZ1N5bmMiLCJzeW5jIiwidW5Ib29rU3luYyIsImhvb2tHZXRJdGVtVVJMIiwiX29yaWdCYXNlQ2xpZW50R2V0SXRlbVVSTCIsImdldEl0ZW1VUkwiLCJ1bkhvb2tHZXRJdGVtVVJMIiwiaG9va1JlbW90ZSIsIl9vcmlnUmVtb3RlIiwicmVtb3RlIiwidW5Ib29rUmVtb3RlIiwidW5Ib29rSXQiLCJfcnNfaW5pdCIsImJhY2tlbmQiLCJfcnNfc3VwcG9ydGVkIiwiX3JzX2NsZWFudXAiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBRSxJQUFJQSxZQUFZLG1CQUFBQyxDQUFRLENBQVIsQ0FBaEI7QUFDQSxJQUFJQyxhQUFhLG1CQUFBRCxDQUFRLENBQVIsQ0FBakI7QUFDQSxJQUFJRSxhQUFhLG1CQUFBRixDQUFRLENBQVIsQ0FBakI7QUFDQSxJQUFJRyxPQUFPLG1CQUFBSCxDQUFRLENBQVIsQ0FBWDtBQUNBLElBQUlJLGdCQUFnQixtQkFBQUosQ0FBUSxDQUFSLENBQXBCO0FBQ0EsSUFBSUssT0FBTyxtQkFBQUwsQ0FBUSxDQUFSLENBQVg7O0FBRUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFxQ0EsSUFBSU0sZUFBSjtBQUNBLElBQUlDLFdBQVcsNENBQWY7QUFDQSxJQUFJQyxlQUFlLHVCQUFuQjtBQUNBLElBQUlDLGNBQWMsZ0JBQWxCOztBQUVBLElBQUlDLFdBQVdQLEtBQUtPLFFBQXBCOztBQUVBOzs7OztBQUtBLElBQUlDLGlCQUFpQixTQUFqQkEsY0FBaUIsQ0FBVUMsSUFBVixFQUFnQjtBQUNuQyxTQUFPVixXQUFXVyxTQUFYLENBQXFCSixjQUFjLEdBQWQsR0FBb0JHLElBQXpDLENBQVA7QUFDRCxD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ZUFBYXBJLEVBQWI7QUFDQTRILGFBQVc1SCxFQUFYO0FBQ0FnSSxtQkFBaUJoSSxFQUFqQjtBQUNEOztBQUVERCxRQUFRdUksUUFBUixHQUFtQixVQUFVdEksRUFBVixFQUFjO0FBQy9CekMsb0JBQWtCSCxLQUFLK0QscUJBQUwsRUFBbEI7QUFDQSxNQUFLbkIsR0FBR2EsT0FBSCxDQUFXQyxPQUFoQixFQUEwQjtBQUN4QmQsT0FBR2MsT0FBSCxHQUFhLElBQUlmLE9BQUosQ0FBWUMsRUFBWixDQUFiO0FBQ0Q7QUFDRCxNQUFJQSxHQUFHdUksT0FBSCxLQUFlLFNBQW5CLEVBQThCO0FBQzVCdkcsV0FBT2hDLEVBQVA7QUFDRDtBQUNGLENBUkQ7O0FBVUFELFFBQVF5SSxhQUFSLEdBQXdCLFlBQVk7QUFDbEMsU0FBTyxJQUFQO0FBQ0QsQ0FGRDs7QUFJQXpJLFFBQVEwSSxXQUFSLEdBQXNCLFVBQVV6SSxFQUFWLEVBQWM7QUFDbENxSSxXQUFTckksRUFBVDtBQUNBLE1BQUl6QyxlQUFKLEVBQW9CO0FBQ2xCZ0UsaUJBQWFnQixVQUFiLENBQXdCOUUsWUFBeEI7QUFDRDtBQUNEdUMsS0FBRzBJLG1CQUFILENBQXVCLE9BQXZCLEVBQWdDNUksU0FBaEM7QUFDQUUsS0FBRytCLFVBQUgsQ0FBYzZELFNBQWQ7QUFDRCxDQVBEOztBQVVBK0MsT0FBT0MsT0FBUCxHQUFpQjdJLE9BQWpCIiwiZmlsZSI6IjEzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiICB2YXIgQXV0aG9yaXplID0gcmVxdWlyZSgnLi9hdXRob3JpemUnKTtcbiAgdmFyIEJhc2VDbGllbnQgPSByZXF1aXJlKCcuL2Jhc2VjbGllbnQnKTtcbiAgdmFyIFdpcmVDbGllbnQgPSByZXF1aXJlKCcuL3dpcmVjbGllbnQnKTtcbiAgdmFyIHV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcbiAgdmFyIGV2ZW50SGFuZGxpbmcgPSByZXF1aXJlKCcuL2V2ZW50aGFuZGxpbmcnKTtcbiAgdmFyIFN5bmMgPSByZXF1aXJlKCcuL3N5bmMnKTtcblxuICAvKipcbiAgICogRmlsZTogRHJvcGJveFxuICAgKlxuICAgKiBXT1JLIElOIFBST0dSRVNTLCBOT1QgUkVDT01NRU5ERUQgRk9SIFBST0RVQ1RJT04gVVNFXG4gICAqXG4gICAqIERyb3Bib3ggYmFja2VuZCBmb3IgUmVtb3RlU3RvcmFnZS5qc1xuICAgKiBUaGlzIGZpbGUgZXhwb3NlcyBhIGdldC9wdXQvZGVsZXRlIGludGVyZmFjZSB3aGljaCBpcyBjb21wYXRpYmxlIHdpdGhcbiAgICogPFdpcmVDbGllbnQ+LlxuICAgKlxuICAgKiBXaGVuIHJlbW90ZVN0b3JhZ2UuYmFja2VuZCBpcyBzZXQgdG8gJ2Ryb3Bib3gnLCB0aGlzIGJhY2tlbmQgd2lsbFxuICAgKiBpbml0aWFsaXplIGFuZCByZXBsYWNlIHJlbW90ZVN0b3JhZ2UucmVtb3RlIHdpdGggcmVtb3RlU3RvcmFnZS5kcm9wYm94LlxuICAgKlxuICAgKiBJbiBvcmRlciB0byBlbnN1cmUgY29tcGF0aWJpbGl0eSB3aXRoIHRoZSBwdWJsaWMgZm9sZGVyLCA8QmFzZUNsaWVudC5nZXRJdGVtVVJMPlxuICAgKiBnZXRzIGhpamFja2VkIHRvIHJldHVybiB0aGUgRHJvcGJveCBwdWJsaWMgc2hhcmUgVVJMLlxuICAgKlxuICAgKiBUbyB1c2UgdGhpcyBiYWNrZW5kLCB5b3UgbmVlZCB0byBzcGVjaWZ5IHRoZSBEcm9wYm94IGFwcCBrZXkgbGlrZSBzbzpcbiAgICpcbiAgICogKHN0YXJ0IGNvZGUpXG4gICAqXG4gICAqIHJlbW90ZVN0b3JhZ2Uuc2V0QXBpS2V5cygnZHJvcGJveCcsIHtcbiAgICogICBhcHBLZXk6ICd5b3VyLWFwcC1rZXknXG4gICAqIH0pO1xuICAgKlxuICAgKiAoZW5kIGNvZGUpXG4gICAqXG4gICAqIEFuIGFwcCBrZXkgY2FuIGJlIG9idGFpbmVkIGJ5IHJlZ2lzdGVyaW5nIHlvdXIgYXBwIGF0IGh0dHBzOi8vd3d3LmRyb3Bib3guY29tL2RldmVsb3BlcnMvYXBwc1xuICAgKlxuICAgKiBLbm93biBpc3N1ZXM6XG4gICAqXG4gICAqICAgLSBTdG9yaW5nIGZpbGVzIGxhcmdlciB0aGFuIDE1ME1CIGlzIG5vdCB5ZXQgc3VwcG9ydGVkXG4gICAqICAgLSBMaXN0aW5nIGFuZCBkZWxldGluZyBmb2xkZXJzIHdpdGggbW9yZSB0aGFuIDEwJzAwMCBmaWxlcyB3aWxsIGNhdXNlIHByb2JsZW1zXG4gICAqICAgLSBDb250ZW50LVR5cGUgaXMgbm90IGZ1bGx5IHN1cHBvcnRlZCBkdWUgdG8gbGltaXRhdGlvbnMgb2YgdGhlIERyb3Bib3ggQVBJXG4gICAqICAgLSBEcm9wYm94IHByZXNlcnZlcyBjYXNlcyBidXQgaXMgbm90IGNhc2Utc2Vuc2l0aXZlXG4gICAqICAgLSBnZXRJdGVtVVJMIGlzIGFzeW5jaHJvbm91cyB3aGljaCBtZWFucyBnZXRJZXRtVVJMIHJldHVybnMgdXNlZnVsIHZhbHVlc1xuICAgKiAgICAgYWZ0ZXIgdGhlIHN5bmNDeWNsZVxuICAgKi9cblxuICB2YXIgaGFzTG9jYWxTdG9yYWdlO1xuICB2YXIgQVVUSF9VUkwgPSAnaHR0cHM6Ly93d3cuZHJvcGJveC5jb20vMS9vYXV0aDIvYXV0aG9yaXplJztcbiAgdmFyIFNFVFRJTkdTX0tFWSA9ICdyZW1vdGVzdG9yYWdlOmRyb3Bib3gnO1xuICB2YXIgUEFUSF9QUkVGSVggPSAnL3JlbW90ZXN0b3JhZ2UnO1xuXG4gIHZhciBpc0ZvbGRlciA9IHV0aWwuaXNGb2xkZXI7XG5cbiAgLyoqXG4gICAqIEZ1bmN0aW9uOiBnZXREcm9wYm94UGF0aChwYXRoKVxuICAgKlxuICAgKiBNYXAgYSBsb2NhbCBwYXRoIHRvIGEgcGF0aCBpbiBEcm9wQm94LlxuICAgKi9cbiAgdmFyIGdldERyb3Bib3hQYXRoID0gZnVuY3Rpb24gKHBhdGgpIHtcbiAgICByZXR1cm4gV2lyZUNsaWVudC5jbGVhblBhdGgoUEFUSF9QUkVGSVggKyAnLycgKyBwYXRoKTtcbiAgfTtcblxuICB2YXIgZW5jb2RlUXVlcnkgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgdmFyIHBhaXJzID0gW107XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgcGFpcnMucHVzaChlbmNvZGVVUklDb21wb25lbnQoa2V5KSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChvYmpba2V5XSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBwYWlycy5qb2luKCcmJyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIGNsYXNzOiBMb3dlckNhc2VDYWNoZVxuICAgKlxuICAgKiBBIGNhY2hlIHdoaWNoIGF1dG9tYXRpY2FsbHkgY29udmVydHMgYWxsIGtleXMgdG8gbG93ZXIgY2FzZSBhbmQgY2FuXG4gICAqIHByb3BhZ2F0ZSBjaGFuZ2VzIHVwIHRvIHBhcmVudCBmb2xkZXJzLlxuICAgKlxuICAgKiBCeSBkZWZhdWx0IHRoZSBzZXQgYW5kIGRlbGV0ZSBtZXRob2RzIGFyZSBhbGlhc2VkIHRvIGp1c3RTZXQgYW5kIGp1c3REZWxldGUuXG4gICAqXG4gICAqIFBhcmFtZXRlcnM6XG4gICAqXG4gICAqICAgZGVmYXVsdFZhbHVlIC0gdGhlIHZhbHVlIHRoYXQgaXMgcmV0dXJuZWQgZm9yIGFsbCBrZXlzIHRoYXQgZG9uJ3QgZXhpc3RcbiAgICogICAgICAgICAgICAgICAgICBpbiB0aGUgY2FjaGVcbiAgICovXG4gIGZ1bmN0aW9uIExvd2VyQ2FzZUNhY2hlKGRlZmF1bHRWYWx1ZSl7XG4gICAgdGhpcy5kZWZhdWx0VmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgdGhpcy5fc3RvcmFnZSA9IHsgfTtcbiAgICB0aGlzLnNldCA9IHRoaXMuanVzdFNldDtcbiAgICB0aGlzLmRlbGV0ZSA9IHRoaXMuanVzdERlbGV0ZTtcbiAgfVxuXG4gIExvd2VyQ2FzZUNhY2hlLnByb3RvdHlwZSA9IHtcbiAgICAvKipcbiAgICAgKiBNZXRob2Q6IGdldFxuICAgICAqXG4gICAgICogR2V0IGEgdmFsdWUgZnJvbSB0aGUgY2FjaGUgb3IgZGVmYXVsdFZhbHVlLCBpZiB0aGUga2V5IGlzIG5vdCBpbiB0aGVcbiAgICAgKiBjYWNoZS5cbiAgICAgKi9cbiAgICBnZXQgOiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBrZXkgPSBrZXkudG9Mb3dlckNhc2UoKTtcbiAgICAgIHZhciBzdG9yZWQgPSB0aGlzLl9zdG9yYWdlW2tleV07XG4gICAgICBpZiAodHlwZW9mIHN0b3JlZCA9PT0gJ3VuZGVmaW5lZCcpe1xuICAgICAgICBzdG9yZWQgPSB0aGlzLmRlZmF1bHRWYWx1ZTtcbiAgICAgICAgdGhpcy5fc3RvcmFnZVtrZXldID0gc3RvcmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0b3JlZDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kOiBwcm9wYWdhdGVTZXRcbiAgICAgKlxuICAgICAqIFNldCBhIHZhbHVlIGFuZCBhbHNvIHVwZGF0ZSB0aGUgcGFyZW50IGZvbGRlcnMgd2l0aCB0aGF0IHZhbHVlLlxuICAgICAqL1xuICAgIHByb3BhZ2F0ZVNldCA6IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICBrZXkgPSBrZXkudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmICh0aGlzLl9zdG9yYWdlW2tleV0gPT09IHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3Byb3BhZ2F0ZShrZXksIHZhbHVlKTtcbiAgICAgIHRoaXMuX3N0b3JhZ2Vba2V5XSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNZXRob2Q6IHByb3BhZ2F0ZURlbGV0ZVxuICAgICAqXG4gICAgICogRGVsZXRlIGEgdmFsdWUgYW5kIHByb3BhZ2F0ZSB0aGUgY2hhbmdlcyB0byB0aGUgcGFyZW50IGZvbGRlcnMuXG4gICAgICovXG4gICAgcHJvcGFnYXRlRGVsZXRlIDogZnVuY3Rpb24gKGtleSkge1xuICAgICAga2V5ID0ga2V5LnRvTG93ZXJDYXNlKCk7XG4gICAgICB0aGlzLl9wcm9wYWdhdGUoa2V5LCB0aGlzLl9zdG9yYWdlW2tleV0pO1xuICAgICAgcmV0dXJuIGRlbGV0ZSB0aGlzLl9zdG9yYWdlW2tleV07XG4gICAgfSxcblxuICAgIF9hY3RpdmF0ZVByb3BhZ2F0aW9uOiBmdW5jdGlvbiAoKXtcbiAgICAgIHRoaXMuc2V0ID0gdGhpcy5wcm9wYWdhdGVTZXQ7XG4gICAgICB0aGlzLmRlbGV0ZSA9IHRoaXMucHJvcGFnYXRlRGVsZXRlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1ldGhvZDoganVzdFNldFxuICAgICAqXG4gICAgICogU2V0IGEgdmFsdWUgd2l0aG91dCBwcm9wYWdhdGluZy5cbiAgICAgKi9cbiAgICBqdXN0U2V0IDogZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgIGtleSA9IGtleS50b0xvd2VyQ2FzZSgpO1xuICAgICAgdGhpcy5fc3RvcmFnZVtrZXldID0gdmFsdWU7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1ldGhvZDoganVzdERlbGV0ZVxuICAgICAqXG4gICAgICogRGVsZXRlIGEgdmFsdWUgd2l0aG91dCBwcm9wYWdhdGluZy5cbiAgICAgKi9cbiAgICBqdXN0RGVsZXRlIDogZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgIGtleSA9IGtleS50b0xvd2VyQ2FzZSgpO1xuICAgICAgcmV0dXJuIGRlbGV0ZSB0aGlzLl9zdG9yYWdlW2tleV07XG4gICAgfSxcblxuICAgIF9wcm9wYWdhdGU6IGZ1bmN0aW9uIChrZXksIHJldil7XG4gICAgICB2YXIgZm9sZGVycyA9IGtleS5zcGxpdCgnLycpLnNsaWNlKDAsLTEpO1xuICAgICAgdmFyIHBhdGggPSAnJztcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGZvbGRlcnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspe1xuICAgICAgICBwYXRoICs9IGZvbGRlcnNbaV0rJy8nO1xuICAgICAgICBpZiAoIXJldikge1xuICAgICAgICAgIHJldiA9IHRoaXMuX3N0b3JhZ2VbcGF0aF0rMTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdG9yYWdlW3BhdGhdID0gIHJldjtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uRXJyb3JDYjtcblxuICAvKipcbiAgICogQ2xhc3M6IERyb3Bib3hcbiAgICovXG4gIHZhciBEcm9wYm94ID0gZnVuY3Rpb24gKHJzKSB7XG5cbiAgICB0aGlzLnJzID0gcnM7XG4gICAgdGhpcy5jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLnJzID0gcnM7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgb25FcnJvckNiID0gZnVuY3Rpb24gKGVycm9yKXtcbiAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEF1dGhvcml6ZS5VbmF1dGhvcml6ZWQpIHtcbiAgICAgICAgLy8gRGVsZXRlIGFsbCB0aGUgc2V0dGluZ3MgLSBzZWUgdGhlIGRvY3VtZW50YXRpb24gb2Ygd2lyZWNsaWVudC5jb25maWd1cmVcbiAgICAgICAgc2VsZi5jb25maWd1cmUoe1xuICAgICAgICAgIHVzZXJBZGRyZXNzOiBudWxsLFxuICAgICAgICAgIGhyZWY6IG51bGwsXG4gICAgICAgICAgc3RvcmFnZUFwaTogbnVsbCxcbiAgICAgICAgICB0b2tlbjogbnVsbCxcbiAgICAgICAgICBvcHRpb25zOiBudWxsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBldmVudEhhbmRsaW5nKHRoaXMsICdjaGFuZ2UnLCAnY29ubmVjdGVkJywgJ3dpcmUtYnVzeScsICd3aXJlLWRvbmUnLCAnbm90LWNvbm5lY3RlZCcpO1xuICAgIHJzLm9uKCdlcnJvcicsIG9uRXJyb3JDYik7XG5cbiAgICB0aGlzLmNsaWVudElkID0gcnMuYXBpS2V5cy5kcm9wYm94LmFwcEtleTtcbiAgICB0aGlzLl9yZXZDYWNoZSA9IG5ldyBMb3dlckNhc2VDYWNoZSgncmV2Jyk7XG4gICAgdGhpcy5faXRlbVJlZnMgPSB7fTtcbiAgICB0aGlzLl9tZXRhZGF0YUNhY2hlID0ge307XG5cbiAgICBoYXNMb2NhbFN0b3JhZ2UgPSB1dGlsLmxvY2FsU3RvcmFnZUF2YWlsYWJsZSgpO1xuXG4gICAgaWYgKGhhc0xvY2FsU3RvcmFnZSl7XG4gICAgICB2YXIgc2V0dGluZ3M7XG4gICAgICB0cnkge1xuICAgICAgICBzZXR0aW5ncyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oU0VUVElOR1NfS0VZKSk7XG4gICAgICB9IGNhdGNoKGUpe31cbiAgICAgIGlmIChzZXR0aW5ncykge1xuICAgICAgICB0aGlzLmNvbmZpZ3VyZShzZXR0aW5ncyk7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLl9pdGVtUmVmcyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oU0VUVElOR1NfS0VZKyc6c2hhcmVzJykpO1xuICAgICAgfSBjYXRjaChlKSB7ICB9XG4gICAgfVxuICAgIGlmICh0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgc2V0VGltZW91dCh0aGlzLl9lbWl0LmJpbmQodGhpcyksIDAsICdjb25uZWN0ZWQnKTtcbiAgICB9XG4gIH07XG5cbiAgRHJvcGJveC5wcm90b3R5cGUgPSB7XG4gICAgb25saW5lOiB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kOiBjb25uZWN0XG4gICAgICpcbiAgICAgKiBTZXQgdGhlIGJhY2tlZCB0byAnZHJvcGJveCcgYW5kIHN0YXJ0IHRoZSBhdXRoZW50aWNhdGlvbiBmbG93IGluIG9yZGVyXG4gICAgICogdG8gb2J0YWluIGFuIEFQSSB0b2tlbiBmcm9tIERyb3Bib3guXG4gICAgICovXG4gICAgY29ubmVjdDogZnVuY3Rpb24gKCkge1xuICAgICAgLy8gVE9ETyBoYW5kbGluZyB3aGVuIHRva2VuIGlzIGFscmVhZHkgcHJlc2VudFxuICAgICAgdGhpcy5ycy5zZXRCYWNrZW5kKCdkcm9wYm94Jyk7XG4gICAgICBpZiAodGhpcy50b2tlbil7XG4gICAgICAgIGhvb2tJdCh0aGlzLnJzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIEF1dGhvcml6ZSh0aGlzLnJzLCBBVVRIX1VSTCwgJycsIFN0cmluZyhBdXRob3JpemUuZ2V0TG9jYXRpb24oKSksIHRoaXMuY2xpZW50SWQpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgOiBjb25maWd1cmUoc2V0dGluZ3MpXG4gICAgICogQWNjZXB0cyBpdHMgcGFyYW1ldGVycyBhY2NvcmRpbmcgdG8gdGhlIDxXaXJlQ2xpZW50Pi5cbiAgICAgKiBTZXRzIHRoZSBjb25uZWN0ZWQgZmxhZ1xuICAgICAqKi9cbiAgICBjb25maWd1cmU6IGZ1bmN0aW9uIChzZXR0aW5ncykge1xuICAgICAgLy8gV2Ugb25seSB1cGRhdGUgdGhpcy51c2VyQWRkcmVzcyBpZiBzZXR0aW5ncy51c2VyQWRkcmVzcyBpcyBzZXQgdG8gYSBzdHJpbmcgb3IgdG8gbnVsbDpcbiAgICAgIGlmICh0eXBlb2Ygc2V0dGluZ3MudXNlckFkZHJlc3MgIT09ICd1bmRlZmluZWQnKSB7IHRoaXMudXNlckFkZHJlc3MgPSBzZXR0aW5ncy51c2VyQWRkcmVzczsgfVxuICAgICAgLy8gU2FtZSBmb3IgdGhpcy50b2tlbi4gSWYgb25seSBvbmUgb2YgdGhlc2UgdHdvIGlzIHNldCwgd2UgbGVhdmUgdGhlIG90aGVyIG9uZSBhdCBpdHMgZXhpc3RpbmcgdmFsdWU6XG4gICAgICBpZiAodHlwZW9mIHNldHRpbmdzLnRva2VuICE9PSAndW5kZWZpbmVkJykgeyB0aGlzLnRva2VuID0gc2V0dGluZ3MudG9rZW47IH1cblxuICAgICAgdmFyIHdyaXRlU2V0dGluZ3NUb0NhY2hlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChoYXNMb2NhbFN0b3JhZ2UpIHtcbiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTRVRUSU5HU19LRVksIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIHVzZXJBZGRyZXNzOiB0aGlzLnVzZXJBZGRyZXNzLFxuICAgICAgICAgICAgdG9rZW46IHRoaXMudG9rZW5cbiAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZhciBoYW5kbGVFcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICBpZiAoaGFzTG9jYWxTdG9yYWdlKSB7XG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oU0VUVElOR1NfS0VZKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMudG9rZW4pIHtcbiAgICAgICAgdGhpcy5jb25uZWN0ZWQgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy51c2VyQWRkcmVzcykge1xuICAgICAgICAgIHRoaXMuX2VtaXQoJ2Nvbm5lY3RlZCcpO1xuICAgICAgICAgIHdyaXRlU2V0dGluZ3NUb0NhY2hlLmFwcGx5KHRoaXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuaW5mbygpLnRoZW4oZnVuY3Rpb24gKGluZm8pe1xuICAgICAgICAgICAgdGhpcy51c2VyQWRkcmVzcyA9IGluZm8uZW1haWw7XG4gICAgICAgICAgICB0aGlzLl9lbWl0KCdjb25uZWN0ZWQnKTtcbiAgICAgICAgICAgIHdyaXRlU2V0dGluZ3NUb0NhY2hlLmFwcGx5KHRoaXMpO1xuICAgICAgICAgIH0uYmluZCh0aGlzKSkuY2F0Y2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBoYW5kbGVFcnJvci5hcHBseSh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMucnMuX2VtaXQoJ2Vycm9yJywgbmV3IEVycm9yKCdDb3VsZCBub3QgZmV0Y2ggdXNlciBpbmZvLicpKTtcbiAgICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoYW5kbGVFcnJvci5hcHBseSh0aGlzKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kOiBzdG9wV2FpdGluZ0ZvclRva2VuXG4gICAgICpcbiAgICAgKiBTdG9wIHdhaXRpbmcgZm9yIHRoZSB0b2tlbiBhbmQgZW1pdCBub3QtY29ubmVjdGVkXG4gICAgICovXG4gICAgc3RvcFdhaXRpbmdGb3JUb2tlbjogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCF0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgICB0aGlzLl9lbWl0KCdub3QtY29ubmVjdGVkJyk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1ldGhvZDogX2dldEZvbGRlclxuICAgICAqXG4gICAgICogR2V0IGFsbCBpdGVtcyBpbiBhIGZvbGRlci5cbiAgICAgKlxuICAgICAqIFBhcmFtZXRlcnM6XG4gICAgICpcbiAgICAgKiAgIHBhdGggLSBwYXRoIG9mIHRoZSBmb2xkZXIgdG8gZ2V0LCB3aXRoIGxlYWRpbmcgc2xhc2hcbiAgICAgKiAgIG9wdGlvbnMgLSBub3QgdXNlZFxuICAgICAqXG4gICAgICogUmV0dXJuczpcbiAgICAgKlxuICAgICAqICBzdGF0dXNDb2RlIC0gSFRUUCBzdGF0dXMgY29kZVxuICAgICAqICBib2R5IC0gYXJyYXkgb2YgdGhlIGl0ZW1zIGZvdW5kXG4gICAgICogIGNvbnRlbnRUeXBlIC0gJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgnXG4gICAgICogIHJldmlzaW9uIC0gcmV2aXNpb24gb2YgdGhlIGZvbGRlclxuICAgICAqL1xuICAgIF9nZXRGb2xkZXI6IGZ1bmN0aW9uIChwYXRoLCBvcHRpb25zKSB7XG4gICAgICAvLyBGSVhNRSBzaW1wbGlmeSBwcm9taXNlIGhhbmRsaW5nXG4gICAgICB2YXIgdXJsID0gJ2h0dHBzOi8vYXBpLmRyb3Bib3guY29tLzEvbWV0YWRhdGEvYXV0bycgKyBnZXREcm9wYm94UGF0aChwYXRoKTtcbiAgICAgIHZhciByZXZDYWNoZSA9IHRoaXMuX3JldkNhY2hlO1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnR0VUJywgdXJsLCB7fSkudGhlbihmdW5jdGlvbiAocmVzcCkge1xuICAgICAgICB2YXIgc3RhdHVzID0gcmVzcC5zdGF0dXM7XG4gICAgICAgIGlmIChzdGF0dXMgPT09IDMwNCkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe3N0YXR1c0NvZGU6IHN0YXR1c30pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsaXN0aW5nLCBib2R5LCBtaW1lLCByZXY7XG4gICAgICAgIHRyeXtcbiAgICAgICAgICBib2R5ID0gSlNPTi5wYXJzZShyZXNwLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV2ID0gc2VsZi5fcmV2Q2FjaGUuZ2V0KHBhdGgpO1xuICAgICAgICBtaW1lID0gJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgnO1xuICAgICAgICBpZiAoYm9keS5jb250ZW50cykge1xuICAgICAgICAgIGxpc3RpbmcgPSBib2R5LmNvbnRlbnRzLnJlZHVjZShmdW5jdGlvbiAobSwgaXRlbSkge1xuICAgICAgICAgICAgdmFyIGl0ZW1OYW1lID0gaXRlbS5wYXRoLnNwbGl0KCcvJykuc2xpY2UoLTEpWzBdICsgKCBpdGVtLmlzX2RpciA/ICcvJyA6ICcnICk7XG4gICAgICAgICAgICBpZiAoaXRlbS5pc19kaXIpe1xuICAgICAgICAgICAgICBtW2l0ZW1OYW1lXSA9IHsgRVRhZzogcmV2Q2FjaGUuZ2V0KHBhdGgraXRlbU5hbWUpIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBtW2l0ZW1OYW1lXSA9IHsgRVRhZzogaXRlbS5yZXYgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtO1xuICAgICAgICAgIH0sIHt9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtzdGF0dXNDb2RlOiBzdGF0dXMsIGJvZHk6IGxpc3RpbmcsIGNvbnRlbnRUeXBlOiBtaW1lLCByZXZpc2lvbjogcmV2fSk7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kOiBnZXRcbiAgICAgKlxuICAgICAqIENvbXBhdGlibGUgd2l0aCA8V2lyZUNsaWVudC5nZXQ+XG4gICAgICpcbiAgICAgKiBDaGVja3MgZm9yIHRoZSBwYXRoIGluIF9yZXZDYWNoZSBhbmQgZGVjaWRlcyBiYXNlZCBvbiB0aGF0IGlmIGZpbGUgaGFzXG4gICAgICogY2hhbmdlZC4gQ2FsbHMgX2dldEZvbGRlciBpcyB0aGUgcGF0aCBwb2ludHMgdG8gYSBmb2xkZXIuXG4gICAgICpcbiAgICAgKiBDYWxscyA8RHJvcGJveC5zaGFyZT4gYWZ0ZXJ3YXJkcyB0byBmaWxsIF9pdGVtUmVmcy5cbiAgICAgKi9cbiAgICBnZXQ6IGZ1bmN0aW9uIChwYXRoLCBvcHRpb25zKSB7XG4gICAgICBpZiAoISB0aGlzLmNvbm5lY3RlZCkgeyByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJub3QgY29ubmVjdGVkIChwYXRoOiBcIiArIHBhdGggKyBcIilcIik7IH1cbiAgICAgIHZhciB1cmwgPSAnaHR0cHM6Ly9hcGktY29udGVudC5kcm9wYm94LmNvbS8xL2ZpbGVzL2F1dG8nICsgZ2V0RHJvcGJveFBhdGgocGF0aCk7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIHZhciBzYXZlZFJldiA9IHRoaXMuX3JldkNhY2hlLmdldChwYXRoKTtcbiAgICAgIGlmIChzYXZlZFJldiA9PT0gbnVsbCkge1xuICAgICAgICAvLyBmaWxlIHdhcyBkZWxldGVkIHNlcnZlciBzaWRlXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe3N0YXR1c0NvZGU6IDQwNH0pO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5pZk5vbmVNYXRjaCAmJlxuICAgICAgICAgc2F2ZWRSZXYgJiYgKHNhdmVkUmV2ID09PSBvcHRpb25zLmlmTm9uZU1hdGNoKSkge1xuICAgICAgICAvLyBub3RoaW5nIGNoYW5nZWQuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe3N0YXR1c0NvZGU6IDMwNH0pO1xuICAgICAgfVxuXG4gICAgICAvL3VzZSBfZ2V0Rm9sZGVyIGZvciBmb2xkZXJzXG4gICAgICBpZiAocGF0aC5zdWJzdHIoLTEpID09PSAnLycpIHsgcmV0dXJuIHRoaXMuX2dldEZvbGRlcihwYXRoLCBvcHRpb25zKTsgfVxuXG4gICAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnR0VUJywgdXJsLCB7fSkudGhlbihmdW5jdGlvbiAocmVzcCkge1xuICAgICAgICB2YXIgc3RhdHVzID0gcmVzcC5zdGF0dXM7XG4gICAgICAgIHZhciBtZXRhLCBib2R5LCBtaW1lLCByZXY7XG4gICAgICAgIGlmIChzdGF0dXMgIT09IDIwMCkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe3N0YXR1c0NvZGU6IHN0YXR1c30pO1xuICAgICAgICB9XG5cbiAgICAgICAgYm9keSA9IHJlc3AucmVzcG9uc2VUZXh0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgIG1ldGEgPSBKU09OLnBhcnNlKCByZXNwLmdldFJlc3BvbnNlSGVhZGVyKCd4LWRyb3Bib3gtbWV0YWRhdGEnKSApO1xuICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7XG4gICAgICAgIH1cblxuICAgICAgICBtaW1lID0gbWV0YS5taW1lX3R5cGU7IC8vcmVzcC5nZXRSZXNwb25zZUhlYWRlcignQ29udGVudC1UeXBlJyk7XG4gICAgICAgIHJldiA9IG1ldGEucmV2O1xuICAgICAgICBzZWxmLl9yZXZDYWNoZS5zZXQocGF0aCwgcmV2KTtcbiAgICAgICAgc2VsZi5fc2hhcmVJZk5lZWRlZChwYXRoKTsgLy8gVGhlIHNoYXJlZCBsaW5rIGV4cGlyZXMgZXZlcnkgNCBob3Vyc1xuXG4gICAgICAgIC8vIGhhbmRsaW5nIGJpbmFyeVxuICAgICAgICBpZiAoIXJlc3AuZ2V0UmVzcG9uc2VIZWFkZXIoJ0NvbnRlbnQtVHlwZScpIHx8XG4gICAgICAgICAgICByZXNwLmdldFJlc3BvbnNlSGVhZGVyKCdDb250ZW50LVR5cGUnKS5tYXRjaCgvY2hhcnNldD1iaW5hcnkvKSkge1xuXG4gICAgICAgICAgLy8gVE9GSVg6IHdvdWxkIGJlIGJldHRlciB0byBtYWtlIHJlYWRCaW5hcnlEYXRhIHJldHVybiBhIFByb21pc2UgLSBsZXNcbiAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIFdpcmVDbGllbnQucmVhZEJpbmFyeURhdGEocmVzcC5yZXNwb25zZSwgbWltZSwgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICAgICAgICBzdGF0dXNDb2RlOiBzdGF0dXMsXG4gICAgICAgICAgICAgICAgYm9keTogcmVzdWx0LFxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBtaW1lLFxuICAgICAgICAgICAgICAgIHJldmlzaW9uOiByZXZcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaGFuZGxpbmcganNvbiAoYWx3YXlzIHRyeSlcbiAgICAgICAgLy8gY29tbWVudCBpdCBvdXQgYXMgdGhpcyBpcyBhbHdheXMgdHJ1ZSAoZmFsc2UgJiYgZmFsc2UgfHwgdHJ1ZSlcbiAgICAgICAgLy8gYW5kIGpzaGludCBpcyBjb21wbGFpbmluZ1xuICAgICAgICAvLyBpZiAobWltZSAmJiBtaW1lLnNlYXJjaCgnYXBwbGljYXRpb24vanNvbicpID49IDAgfHwgdHJ1ZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGJvZHkgPSBKU09OLnBhcnNlKGJvZHkpO1xuICAgICAgICAgIG1pbWUgPSAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOCc7XG4gICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgIC8vRmFpbGVkIHBhcnNpbmcgSnNvbiwgYXNzdW1lIGl0IGlzIHNvbWV0aGluZyBlbHNlIHRoZW5cbiAgICAgICAgfVxuICAgICAgICAvLyB9XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7c3RhdHVzQ29kZTogc3RhdHVzLCBib2R5OiBib2R5LCBjb250ZW50VHlwZTogbWltZSwgcmV2aXNpb246IHJldn0pO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1ldGhvZDogcHV0XG4gICAgICpcbiAgICAgKiBDb21wYXRpYmxlIHdpdGggPFdpcmVDbGllbnQ+XG4gICAgICpcbiAgICAgKiBDaGVja3MgZm9yIHRoZSBwYXRoIGluIF9yZXZDYWNoZSBhbmQgZGVjaWRlcyBiYXNlZCBvbiB0aGF0IGlmIGZpbGUgaGFzXG4gICAgICogY2hhbmdlZC5cbiAgICAgKlxuICAgICAqIENhbGxzIDxEcm9wYm94LnNoYXJlPiBhZnRlcndhcmRzIHRvIGZpbGwgX2l0ZW1SZWZzLlxuICAgICAqL1xuICAgIHB1dDogZnVuY3Rpb24gKHBhdGgsIGJvZHksIGNvbnRlbnRUeXBlLCBvcHRpb25zKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIGlmICghdGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm90IGNvbm5lY3RlZCAocGF0aDogXCIgKyBwYXRoICsgXCIpXCIpO1xuICAgICAgfVxuXG4gICAgICAvL2NoZWNrIGlmIGZpbGUgaGFzIGNoYW5nZWQgYW5kIHJldHVybiA0MTJcbiAgICAgIHZhciBzYXZlZFJldiA9IHRoaXMuX3JldkNhY2hlLmdldChwYXRoKTtcbiAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuaWZNYXRjaCAmJlxuICAgICAgICAgIHNhdmVkUmV2ICYmIChzYXZlZFJldiAhPT0gb3B0aW9ucy5pZk1hdGNoKSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtzdGF0dXNDb2RlOiA0MTIsIHJldmlzaW9uOiBzYXZlZFJldn0pO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMgJiYgKG9wdGlvbnMuaWZOb25lTWF0Y2ggPT09ICcqJykgJiZcbiAgICAgICAgICBzYXZlZFJldiAmJiAoc2F2ZWRSZXYgIT09ICdyZXYnKSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtzdGF0dXNDb2RlOiA0MTIsIHJldmlzaW9uOiBzYXZlZFJldn0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoKCFjb250ZW50VHlwZS5tYXRjaCgvY2hhcnNldD0vKSkgJiZcbiAgICAgICAgICAoYm9keSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyIHx8IFdpcmVDbGllbnQuaXNBcnJheUJ1ZmZlclZpZXcoYm9keSkpKSB7XG4gICAgICAgIGNvbnRlbnRUeXBlICs9ICc7IGNoYXJzZXQ9YmluYXJ5JztcbiAgICAgIH1cblxuICAgICAgaWYgKGJvZHkubGVuZ3RoID4gMTUwICogMTAyNCAqIDEwMjQpIHtcbiAgICAgICAgLy9odHRwczovL3d3dy5kcm9wYm94LmNvbS9kZXZlbG9wZXJzL2NvcmUvZG9jcyNjaHVua2VkLXVwbG9hZFxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiQ2Fubm90IHVwbG9hZCBmaWxlIGxhcmdlciB0aGFuIDE1ME1CXCIpKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlc3VsdDtcbiAgICAgIHZhciBuZWVkc01ldGFkYXRhID0gb3B0aW9ucyAmJiAob3B0aW9ucy5pZk1hdGNoIHx8IChvcHRpb25zLmlmTm9uZU1hdGNoID09PSAnKicpKTtcbiAgICAgIHZhciB1cGxvYWRQYXJhbXMgPSB7XG4gICAgICAgIGJvZHk6IGJvZHksXG4gICAgICAgIGNvbnRlbnRUeXBlOiBjb250ZW50VHlwZSxcbiAgICAgICAgcGF0aDogcGF0aFxuICAgICAgfTtcblxuICAgICAgaWYgKG5lZWRzTWV0YWRhdGEpIHtcbiAgICAgICAgcmVzdWx0ID0gdGhpcy5fZ2V0TWV0YWRhdGEocGF0aCkudGhlbihmdW5jdGlvbiAobWV0YWRhdGEpIHtcbiAgICAgICAgICBpZiAob3B0aW9ucyAmJiAob3B0aW9ucy5pZk5vbmVNYXRjaCA9PT0gJyonKSAmJiBtZXRhZGF0YSkge1xuICAgICAgICAgICAgLy8gaWYgISFtZXRhZGF0YSA9PT0gdHJ1ZSwgdGhlIGZpbGUgZXhpc3RzXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgICAgc3RhdHVzQ29kZTogNDEyLFxuICAgICAgICAgICAgICByZXZpc2lvbjogbWV0YWRhdGEucmV2XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmlmTWF0Y2ggJiYgbWV0YWRhdGEgJiYgKG1ldGFkYXRhLnJldiAhPT0gb3B0aW9ucy5pZk1hdGNoKSkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICAgIHN0YXR1c0NvZGU6IDQxMixcbiAgICAgICAgICAgICAgcmV2aXNpb246IG1ldGFkYXRhLnJldlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHNlbGYuX3VwbG9hZFNpbXBsZSh1cGxvYWRQYXJhbXMpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IHNlbGYuX3VwbG9hZFNpbXBsZSh1cGxvYWRQYXJhbXMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0LnRoZW4oZnVuY3Rpb24gKHJldCkge1xuICAgICAgICBzZWxmLl9zaGFyZUlmTmVlZGVkKHBhdGgpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1ldGhvZDogZGVsZXRlXG4gICAgICpcbiAgICAgKiBDb21wYXRpYmxlIHdpdGggPFdpcmVDbGllbnQuZGVsZXRlPlxuICAgICAqXG4gICAgICogQ2hlY2tzIGZvciB0aGUgcGF0aCBpbiBfcmV2Q2FjaGUgYW5kIGRlY2lkZXMgYmFzZWQgb24gdGhhdCBpZiBmaWxlIGhhc1xuICAgICAqIGNoYW5nZWQuXG4gICAgICpcbiAgICAgKiBDYWxscyA8RHJvcGJveC5zaGFyZT4gYWZ0ZXJ3YXJkcyB0byBmaWxsIF9pdGVtUmVmcy5cbiAgICAgKi9cbiAgICAnZGVsZXRlJzogZnVuY3Rpb24gKHBhdGgsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgaWYgKCF0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub3QgY29ubmVjdGVkIChwYXRoOiBcIiArIHBhdGggKyBcIilcIik7XG4gICAgICB9XG5cbiAgICAgIC8vY2hlY2sgaWYgZmlsZSBoYXMgY2hhbmdlZCBhbmQgcmV0dXJuIDQxMlxuICAgICAgdmFyIHNhdmVkUmV2ID0gdGhpcy5fcmV2Q2FjaGUuZ2V0KHBhdGgpO1xuICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5pZk1hdGNoICYmIHNhdmVkUmV2ICYmIChvcHRpb25zLmlmTWF0Y2ggIT09IHNhdmVkUmV2KSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHsgc3RhdHVzQ29kZTogNDEyLCByZXZpc2lvbjogc2F2ZWRSZXYgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuaWZNYXRjaCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0TWV0YWRhdGEocGF0aCkudGhlbihmdW5jdGlvbiAobWV0YWRhdGEpIHtcbiAgICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmlmTWF0Y2ggJiYgbWV0YWRhdGEgJiYgKG1ldGFkYXRhLnJldiAhPT0gb3B0aW9ucy5pZk1hdGNoKSkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICAgIHN0YXR1c0NvZGU6IDQxMixcbiAgICAgICAgICAgICAgcmV2aXNpb246IG1ldGFkYXRhLnJldlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHNlbGYuX2RlbGV0ZVNpbXBsZShwYXRoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmLl9kZWxldGVTaW1wbGUocGF0aCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1ldGhvZDogX3NoYXJlSWZOZWVkZWRcbiAgICAgKlxuICAgICAqIENhbGxzIHNoYXJlLCBpZiB0aGUgcHJvdmlkZWQgcGF0aCByZXNpZGVzIGluIGEgcHVibGljIGZvbGRlci5cbiAgICAgKi9cbiAgICBfc2hhcmVJZk5lZWRlZDogZnVuY3Rpb24gKHBhdGgpIHtcbiAgICAgIGlmIChwYXRoLm1hdGNoKC9eXFwvcHVibGljXFwvLipbXlxcL10kLykgJiYgdGhpcy5faXRlbVJlZnNbcGF0aF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLnNoYXJlKHBhdGgpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNZXRob2Q6IHNoYXJlXG4gICAgICpcbiAgICAgKiBHZXRzIGEgcHVibGljbHktYWNjZXNzaWJsZSBVUkwgZm9yIHRoZSBwYXRoIGZyb20gRHJvcGJveCBhbmQgc3RvcmVzIGl0XG4gICAgICogaW4gX2l0ZW1SZWZzLlxuICAgICAqXG4gICAgICogUmV0dXJuczpcbiAgICAgKlxuICAgICAqICAgQSBwcm9taXNlIGZvciB0aGUgVVJMXG4gICAgICovXG4gICAgc2hhcmU6IGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgdXJsID0gJ2h0dHBzOi8vYXBpLmRyb3Bib3guY29tLzEvbWVkaWEvYXV0bycgKyBnZXREcm9wYm94UGF0aChwYXRoKTtcblxuICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ1BPU1QnLCB1cmwsIHt9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzICE9PSAyMDApIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdJbnZhbGlkIERyb3Bib3ggQVBJIHJlc3BvbnNlIHN0YXR1cyB3aGVuIHNoYXJpbmcgXCInICsgcGF0aCArICdcIjonICsgcmVzcG9uc2Uuc3RhdHVzKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgIHJlc3BvbnNlID0gSlNPTi5wYXJzZShyZXNwb25zZS5yZXNwb25zZVRleHQpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignSW52YWxpZCBEcm9wYm94IEFQSSByZXNwb25zZSB3aGVuIHNoYXJpbmcgXCInICsgcGF0aCArICdcIjogJyArIHJlc3BvbnNlLnJlc3BvbnNlVGV4dCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZi5faXRlbVJlZnNbcGF0aF0gPSByZXNwb25zZS51cmw7XG5cbiAgICAgICAgaWYgKGhhc0xvY2FsU3RvcmFnZSkge1xuICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFNFVFRJTkdTX0tFWSsnOnNoYXJlcycsIEpTT04uc3RyaW5naWZ5KHNlbGYuX2l0ZW1SZWZzKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHVybCk7XG4gICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgZXJyLm1lc3NhZ2UgPSAnU2hhcmluZyBkcm9wYm94IGZpbGUgb3IgZm9sZGVyIChcIicgKyBwYXRoICsgJ1wiKSBmYWlsZWQuJyArIGVyci5tZXNzYWdlO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1ldGhvZDogaW5mb1xuICAgICAqXG4gICAgICogRmV0Y2hlcyB0aGUgdXNlcidzIGluZm8gZnJvbSBkcm9wYm94IGFuZCByZXR1cm5zIGEgcHJvbWlzZSBmb3IgaXQuXG4gICAgICpcbiAgICAgKiBSZXR1cm5zOlxuICAgICAqXG4gICAgICogICBBIHByb21pc2UgdG8gdGhlIHVzZXIncyBpbmZvXG4gICAgICovXG4gICAgaW5mbzogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHVybCA9ICdodHRwczovL2FwaS5kcm9wYm94LmNvbS8xL2FjY291bnQvaW5mbyc7XG4gICAgICAvLyByZXF1ZXN0aW5nIHVzZXIgaW5mbyhtYWlubHkgZm9yIHVzZXJBZHJlc3MpXG4gICAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnR0VUJywgdXJsLCB7fSkudGhlbihmdW5jdGlvbiAocmVzcCl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIGluZm8gPSBKU09OLnBhcnNlKHJlc3AucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGluZm8pO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kOiBfcmVxdWVzdFxuICAgICAqXG4gICAgICogTWFrZSBhIEhUVFAgcmVxdWVzdC5cbiAgICAgKlxuICAgICAqIE9wdGlvbnM6XG4gICAgICpcbiAgICAgKiAgIGhlYWRlcnMgLSBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgcmVxdWVzdCBoZWFkZXJzXG4gICAgICpcbiAgICAgKiBQYXJhbWV0ZXJzOlxuICAgICAqXG4gICAgICogICBtZXRob2QgLSB0aGUgbWV0aG9kIHRvIHVzZVxuICAgICAqICAgdXJsIC0gdGhlIFVSTCB0byBtYWtlIHRoZSByZXF1ZXN0IHRvXG4gICAgICogICBvcHRpb25zIC0gc2VlIGFib3ZlXG4gICAgICovXG4gICAgX3JlcXVlc3Q6IGZ1bmN0aW9uIChtZXRob2QsIHVybCwgb3B0aW9ucykge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICBpZiAoISBvcHRpb25zLmhlYWRlcnMpIHsgb3B0aW9ucy5oZWFkZXJzID0ge307IH1cbiAgICAgIG9wdGlvbnMuaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gJ0JlYXJlciAnICsgdGhpcy50b2tlbjtcblxuICAgICAgdGhpcy5fZW1pdCgnd2lyZS1idXN5Jywge1xuICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgaXNGb2xkZXI6IGlzRm9sZGVyKHVybClcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gV2lyZUNsaWVudC5yZXF1ZXN0LmNhbGwodGhpcywgbWV0aG9kLCB1cmwsIG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24oeGhyKSB7XG4gICAgICAgIC8vIDUwMyBtZWFucyByZXRyeSB0aGlzIGxhdGVyXG4gICAgICAgIGlmICh4aHIgJiYgeGhyLnN0YXR1cyA9PT0gNTAzKSB7XG4gICAgICAgICAgaWYgKHNlbGYub25saW5lKSB7XG4gICAgICAgICAgICBzZWxmLm9ubGluZSA9IGZhbHNlO1xuICAgICAgICAgICAgc2VsZi5ycy5fZW1pdCgnbmV0d29yay1vZmZsaW5lJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KHNlbGYuX3JlcXVlc3QobWV0aG9kLCB1cmwsIG9wdGlvbnMpLCAzMjEwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoIXNlbGYub25saW5lKSB7XG4gICAgICAgICAgICBzZWxmLm9ubGluZSA9IHRydWU7XG4gICAgICAgICAgICBzZWxmLnJzLl9lbWl0KCduZXR3b3JrLW9ubGluZScpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZWxmLl9lbWl0KCd3aXJlLWRvbmUnLCB7XG4gICAgICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgICAgIGlzRm9sZGVyOiBpc0ZvbGRlcih1cmwpLFxuICAgICAgICAgICAgc3VjY2VzczogdHJ1ZVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh4aHIpO1xuICAgICAgICB9XG4gICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICBpZiAoc2VsZi5vbmxpbmUpIHtcbiAgICAgICAgICBzZWxmLm9ubGluZSA9IGZhbHNlO1xuICAgICAgICAgIHNlbGYucnMuX2VtaXQoJ25ldHdvcmstb2ZmbGluZScpO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYuX2VtaXQoJ3dpcmUtZG9uZScsIHtcbiAgICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgICBpc0ZvbGRlcjogaXNGb2xkZXIodXJsKSxcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1ldGhvZDogZmV0Y2hEZWx0YVxuICAgICAqXG4gICAgICogRmV0Y2hlcyB0aGUgcmV2aXNpb24gb2YgYWxsIHRoZSBmaWxlcyBmcm9tIGRyb3Bib3ggQVBJIGFuZCBwdXRzIHRoZW1cbiAgICAgKiBpbnRvIF9yZXZDYWNoZS4gVGhlc2UgdmFsdWVzIGNhbiB0aGVuIGJlIHVzZWQgdG8gZGV0ZXJtaW5lIGlmIHNvbWV0aGluZ1xuICAgICAqIGhhcyBjaGFuZ2VkLlxuICAgICAqL1xuICAgIGZldGNoRGVsdGE6IGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIFRPRE86IEhhbmRsZSBgaGFzX21vcmVgXG5cbiAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBib2R5ID0geyBwYXRoX3ByZWZpeDogUEFUSF9QUkVGSVggfTtcblxuICAgICAgaWYgKHNlbGYuX2RlbHRhQ3Vyc29yKSB7XG4gICAgICAgIGJvZHkuY3Vyc29yID0gc2VsZi5fZGVsdGFDdXJzb3I7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmLl9yZXF1ZXN0KCdQT1NUJywgJ2h0dHBzOi8vYXBpLmRyb3Bib3guY29tLzEvZGVsdGEnLCB7XG4gICAgICAgIGJvZHk6IGVuY29kZVF1ZXJ5KGJvZHkpLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnXG4gICAgICAgIH1cbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIC8vIGJyZWFrIGlmIHN0YXR1cyAhPSAyMDBcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwICkge1xuICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwMCkge1xuICAgICAgICAgICAgc2VsZi5ycy5fZW1pdCgnZXJyb3InLCBuZXcgQXV0aG9yaXplLlVuYXV0aG9yaXplZCgpKTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoYXJncyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcImRyb3Bib3guZmV0Y2hEZWx0YSByZXR1cm5lZCBcIityZXNwb25zZS5zdGF0dXMrcmVzcG9uc2UucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGVsdGE7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZGVsdGEgPSBKU09OLnBhcnNlKHJlc3BvbnNlLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgIH0gY2F0Y2goZXJyb3IpIHtcbiAgICAgICAgICBsb2coJ2ZldGNoRGVsdGFzIGNhbiBub3QgcGFyc2UgcmVzcG9uc2UnLGVycm9yKTtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJjYW4gbm90IHBhcnNlIHJlc3BvbnNlIG9mIGZldGNoRGVsdGEgOiBcIitlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBicmVhayBpZiBubyBlbnRyaWVzIGZvdW5kXG4gICAgICAgIGlmICghZGVsdGEuZW50cmllcykge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnZHJvcGJveC5mZXRjaERlbHRhcyBmYWlsZWQsIG5vIGVudHJpZXMgZm91bmQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERyb3Bib3ggc2VuZHMgdGhlIGNvbXBsZXRlIHN0YXRlXG4gICAgICAgIGlmIChkZWx0YS5yZXNldCkge1xuICAgICAgICAgIHNlbGYuX3JldkNhY2hlID0gbmV3IExvd2VyQ2FzZUNhY2hlKCdyZXYnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vc2F2aW5nIHRoZSBjdXJzb3IgZm9yIHJlcXVlc3RpbmcgZnVydGhlciBkZWx0YXMgaW4gcmVsYXRpb24gdG8gdGhlIGN1cnNvciBwb3NpdGlvblxuICAgICAgICBpZiAoZGVsdGEuY3Vyc29yKSB7XG4gICAgICAgICAgc2VsZi5fZGVsdGFDdXJzb3IgPSBkZWx0YS5jdXJzb3I7XG4gICAgICAgIH1cblxuICAgICAgICAvL3VwZGF0aW5nIHJldkNhY2hlXG4gICAgICAgIGRlbHRhLmVudHJpZXMuZm9yRWFjaChmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgICB2YXIgcGF0aCA9IGVudHJ5WzBdLnN1YnN0cihQQVRIX1BSRUZJWC5sZW5ndGgpO1xuICAgICAgICAgIHZhciByZXY7XG4gICAgICAgICAgaWYgKCFlbnRyeVsxXSl7XG4gICAgICAgICAgICByZXYgPSBudWxsO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoZW50cnlbMV0uaXNfZGlyKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldiA9IGVudHJ5WzFdLnJldjtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2VsZi5fcmV2Q2FjaGUuc2V0KHBhdGgsIHJldik7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGFyZ3MpO1xuICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICB0aGlzLnJzLmxvZygnZmV0Y2hEZWx0YXMnLCBlcnIpO1xuICAgICAgICB0aGlzLnJzLl9lbWl0KCdlcnJvcicsIG5ldyBTeW5jLlN5bmNFcnJvcignZmV0Y2hEZWx0YXMgZmFpbGVkLicgKyBlcnIpKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShhcmdzKTtcbiAgICAgIH0uYmluZCh0aGlzKSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChzZWxmLl9yZXZDYWNoZSkge1xuICAgICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICAgICAgICBzZWxmLl9yZXZDYWNoZS5fYWN0aXZhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoYXJncyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNZXRob2Q6IF9nZXRNZXRhZGF0YVxuICAgICAqXG4gICAgICogR2V0cyBtZXRhZGF0YSBmb3IgYSBwYXRoIChjYW4gcG9pbnQgdG8gZWl0aGVyIGEgZmlsZSBvciBhIGZvbGRlcikuXG4gICAgICpcbiAgICAgKiBPcHRpb25zOlxuICAgICAqXG4gICAgICogICBsaXN0IC0gaWYgcGF0aCBwb2ludHMgdG8gYSBmb2xkZXIsIHNwZWNpZmllcyB3aGV0aGVyIHRvIGxpc3QgdGhlXG4gICAgICogICAgICAgICAgbWV0YWRhdGEgb2YgdGhlIGZvbGRlcidzIGNoaWxkcmVuLiBGYWxzZSBieSBkZWZhdWx0LlxuICAgICAqXG4gICAgICogUGFyYW1ldGVyczpcbiAgICAgKlxuICAgICAqICAgcGF0aCAtIHRoZSBwYXRoIHRvIGdldCBtZXRhZGF0YSBmb3JcbiAgICAgKiAgIG9wdGlvbnMgLSBzZWUgYWJvdmVcbiAgICAgKlxuICAgICAqIFJldHVybnM6XG4gICAgICpcbiAgICAgKiAgIEEgcHJvbWlzZSBmb3IgdGhlIG1ldGFkYXRhXG4gICAgICovXG4gICAgX2dldE1ldGFkYXRhOiBmdW5jdGlvbiAocGF0aCwgb3B0aW9ucykge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGNhY2hlZCA9IHRoaXMuX21ldGFkYXRhQ2FjaGVbcGF0aF07XG4gICAgICB2YXIgdXJsID0gJ2h0dHBzOi8vYXBpLmRyb3Bib3guY29tLzEvbWV0YWRhdGEvYXV0bycgKyBnZXREcm9wYm94UGF0aChwYXRoKTtcbiAgICAgIHVybCArPSAnP2xpc3Q9JyArICgob3B0aW9ucyAmJiBvcHRpb25zLmxpc3QpID8gJ3RydWUnIDogJ2ZhbHNlJyk7XG4gICAgICBpZiAoY2FjaGVkICYmIGNhY2hlZC5oYXNoKSB7XG4gICAgICAgIHVybCArPSAnJmhhc2g9JyArIGVuY29kZVVSSUNvbXBvbmVudChjYWNoZWQuaGFzaCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnR0VUJywgdXJsLCB7fSkudGhlbihmdW5jdGlvbiAocmVzcCkge1xuICAgICAgICBpZiAocmVzcC5zdGF0dXMgPT09IDMwNCkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoY2FjaGVkKTtcbiAgICAgICAgfSBlbHNlIGlmIChyZXNwLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgdmFyIHJlc3BvbnNlID0gSlNPTi5wYXJzZShyZXNwLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgc2VsZi5fbWV0YWRhdGFDYWNoZVtwYXRoXSA9IHJlc3BvbnNlO1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFRoZSBmaWxlIGRvZXNuJ3QgZXhpc3RcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNZXRob2Q6IF91cGxvYWRTaW1wbGVcbiAgICAgKlxuICAgICAqIFVwbG9hZCBhIHNpbXBsZSBmaWxlICh0aGUgc2l6ZSBpcyBubyBtb3JlIHRoYW4gMTUwTUIpLlxuICAgICAqXG4gICAgICogUGFyYW1ldGVyczpcbiAgICAgKlxuICAgICAqICAgaWZNYXRjaCAtIHNhbWUgYXMgZm9yIGdldFxuICAgICAqICAgcGF0aCAtIHBhdGggb2YgdGhlIGZpbGVcbiAgICAgKiAgIGJvZHkgLSBjb250ZW50cyBvZiB0aGUgZmlsZSB0byB1cGxvYWRcbiAgICAgKiAgIGNvbnRlbnRUeXBlIC0gbWltZSB0eXBlIG9mIHRoZSBmaWxlXG4gICAgICpcbiAgICAgKiBSZXR1cm5zOlxuICAgICAqXG4gICAgICogICBzdGF0dXNDb2RlIC0gSFRUUCBzdGF0dXMgY29kZVxuICAgICAqICAgcmV2aXNpb24gLSByZXZpc2lvbiBvZiB0aGUgbmV3bHktY3JlYXRlZCBmaWxlLCBpZiBhbnlcbiAgICAgKi9cbiAgICBfdXBsb2FkU2ltcGxlOiBmdW5jdGlvbiAocGFyYW1zKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgdXJsID0gJ2h0dHBzOi8vYXBpLWNvbnRlbnQuZHJvcGJveC5jb20vMS9maWxlc19wdXQvYXV0bycgKyBnZXREcm9wYm94UGF0aChwYXJhbXMucGF0aCkgKyAnPyc7XG5cbiAgICAgIGlmIChwYXJhbXMgJiYgcGFyYW1zLmlmTWF0Y2gpIHtcbiAgICAgICAgdXJsICs9IFwicGFyZW50X3Jldj1cIiArIGVuY29kZVVSSUNvbXBvbmVudChwYXJhbXMuaWZNYXRjaCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmLl9yZXF1ZXN0KCdQVVQnLCB1cmwsIHtcbiAgICAgICAgYm9keTogcGFyYW1zLmJvZHksXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogcGFyYW1zLmNvbnRlbnRUeXBlXG4gICAgICAgIH1cbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHtcbiAgICAgICAgaWYgKHJlc3Auc3RhdHVzICE9PSAyMDApIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHsgc3RhdHVzQ29kZTogcmVzcC5zdGF0dXMgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVzcG9uc2U7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXNwb25zZSA9IEpTT04ucGFyc2UocmVzcC5yZXNwb25zZVRleHQpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ29uZmxpY3QgaGFwcGVuZWQuIERlbGV0ZSB0aGUgY29weSBjcmVhdGVkIGJ5IGRyb3Bib3hcbiAgICAgICAgaWYgKHJlc3BvbnNlLnBhdGggIT09IGdldERyb3Bib3hQYXRoKHBhcmFtcy5wYXRoKSkge1xuICAgICAgICAgIHZhciBkZWxldGVVcmwgPSAnaHR0cHM6Ly9hcGkuZHJvcGJveC5jb20vMS9maWxlb3BzL2RlbGV0ZT9yb290PWF1dG8mcGF0aD0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHJlc3BvbnNlLnBhdGgpO1xuICAgICAgICAgIHNlbGYuX3JlcXVlc3QoJ1BPU1QnLCBkZWxldGVVcmwsIHt9KTtcblxuICAgICAgICAgIHJldHVybiBzZWxmLl9nZXRNZXRhZGF0YShwYXJhbXMucGF0aCkudGhlbihmdW5jdGlvbiAobWV0YWRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgICBzdGF0dXNDb2RlOiA0MTIsXG4gICAgICAgICAgICAgIHJldmlzaW9uOiBtZXRhZGF0YS5yZXZcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZi5fcmV2Q2FjaGUucHJvcGFnYXRlU2V0KHBhcmFtcy5wYXRoLCByZXNwb25zZS5yZXYpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHsgc3RhdHVzQ29kZTogcmVzcC5zdGF0dXMgfSk7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kOiBfZGVsZXRlU2ltcGxlXG4gICAgICpcbiAgICAgKiBEZWxldGVzIGEgZmlsZSBvciBhIGZvbGRlci4gSWYgdGhlIGZvbGRlciBjb250YWlucyBtb3JlIHRoYW4gMTAnMDAwIGl0ZW1zXG4gICAgICogKHJlY3Vyc2l2ZWx5KSB0aGVuIHRoZSBvcGVyYXRpb24gbWF5IG5vdCBjb21wbGV0ZSBzdWNjZXNzZnVsbHkuIElmIHRoYXRcbiAgICAgKiBpcyB0aGUgY2FzZSwgYW4gRXJyb3IgZ2V0cyB0aHJvd24uXG4gICAgICpcbiAgICAgKiBQYXJhbWV0ZXJzOlxuICAgICAqXG4gICAgICogICBwYXRoIC0gdGhlIHBhdGggdG8gZGVsZXRlXG4gICAgICpcbiAgICAgKiBSZXR1cm5zOlxuICAgICAqXG4gICAgICogICBzdGF0dXNDb2RlIC0gSFRUUCBzdGF0dXMgY29kZVxuICAgICAqL1xuICAgIF9kZWxldGVTaW1wbGU6IGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgdXJsID0gJ2h0dHBzOi8vYXBpLmRyb3Bib3guY29tLzEvZmlsZW9wcy9kZWxldGU/cm9vdD1hdXRvJnBhdGg9JyArIGVuY29kZVVSSUNvbXBvbmVudChnZXREcm9wYm94UGF0aChwYXRoKSk7XG5cbiAgICAgIHJldHVybiBzZWxmLl9yZXF1ZXN0KCdQT1NUJywgdXJsLCB7fSkudGhlbihmdW5jdGlvbiAocmVzcCkge1xuICAgICAgICBpZiAocmVzcC5zdGF0dXMgPT09IDQwNikge1xuICAgICAgICAgIC8vIFRvbyBtYW55IGZpbGVzIHdvdWxkIGJlIGludm9sdmVkIGluIHRoZSBvcGVyYXRpb24gZm9yIGl0IHRvXG4gICAgICAgICAgLy8gY29tcGxldGUgc3VjY2Vzc2Z1bGx5LlxuICAgICAgICAgIC8vIFRPRE86IEhhbmRsZSB0aGlzIHNvbWVob3dcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiQ2Fubm90IGRlbGV0ZSAnXCIgKyBwYXRoICsgXCInOiB0b28gbWFueSBmaWxlcyBpbnZvbHZlZFwiKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVzcC5zdGF0dXMgPT09IDIwMCB8fCByZXNwLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgICAgc2VsZi5fcmV2Q2FjaGUuZGVsZXRlKHBhdGgpO1xuICAgICAgICAgIGRlbGV0ZSBzZWxmLl9pdGVtUmVmc1twYXRoXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoeyBzdGF0dXNDb2RlOiByZXNwLnN0YXR1cyB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICAvLyBIb29raW5nIGFuZCB1bmhvb2tpbmcgdGhlIHN5bmNcblxuICBmdW5jdGlvbiBob29rU3luYyhycykge1xuICAgIGlmIChycy5fZHJvcGJveE9yaWdTeW5jKSB7IHJldHVybjsgfSAvLyBhbHJlYWR5IGhvb2tlZFxuICAgIHJzLl9kcm9wYm94T3JpZ1N5bmMgPSBycy5zeW5jLnN5bmMuYmluZChycy5zeW5jKTtcbiAgICBycy5zeW5jLnN5bmMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5kcm9wYm94LmZldGNoRGVsdGEuYXBwbHkodGhpcy5kcm9wYm94LCBhcmd1bWVudHMpLlxuICAgICAgICB0aGVuKHJzLl9kcm9wYm94T3JpZ1N5bmMsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICBycy5fZW1pdCgnZXJyb3InLCBuZXcgU3luYy5TeW5jRXJyb3IoZXJyKSk7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XG4gICAgICAgIH0pO1xuICAgIH0uYmluZChycyk7XG4gIH1cblxuICBmdW5jdGlvbiB1bkhvb2tTeW5jKHJzKSB7XG4gICAgaWYgKCEgcnMuX2Ryb3Bib3hPcmlnU3luYykgeyByZXR1cm47IH0gLy8gbm90IGhvb2tlZFxuICAgIHJzLnN5bmMuc3luYyA9IHJzLl9kcm9wYm94T3JpZ1N5bmM7XG4gICAgZGVsZXRlIHJzLl9kcm9wYm94T3JpZ1N5bmM7XG4gIH1cblxuICAvLyBIb29raW5nIGFuZCB1bmhvb2tpbmcgZ2V0SXRlbVVSTFxuXG4gIGZ1bmN0aW9uIGhvb2tHZXRJdGVtVVJMKHJzKSB7XG4gICAgaWYgKHJzLl9vcmlnQmFzZUNsaWVudEdldEl0ZW1VUkwpIHsgcmV0dXJuOyB9XG4gICAgcnMuX29yaWdCYXNlQ2xpZW50R2V0SXRlbVVSTCA9IEJhc2VDbGllbnQucHJvdG90eXBlLmdldEl0ZW1VUkw7XG4gICAgQmFzZUNsaWVudC5wcm90b3R5cGUuZ2V0SXRlbVVSTCA9IGZ1bmN0aW9uIChwYXRoKXtcbiAgICAgIHZhciByZXQgPSBycy5kcm9wYm94Ll9pdGVtUmVmc1twYXRoXTtcbiAgICAgIHJldHVybiAgcmV0ID8gcmV0IDogJyc7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVuSG9va0dldEl0ZW1VUkwocnMpe1xuICAgIGlmICghIHJzLl9vcmlnQmFzZUNsaWVudEdldEl0ZW1VUkwpIHsgcmV0dXJuOyB9XG4gICAgQmFzZUNsaWVudC5wcm90b3R5cGUuZ2V0SXRlbVVSTCA9IHJzLl9vcmlnQmFzZUNsaWVudEdldEl0ZW1VUkw7XG4gICAgZGVsZXRlIHJzLl9vcmlnQmFzZUNsaWVudEdldEl0ZW1VUkw7XG4gIH1cblxuICBmdW5jdGlvbiBob29rUmVtb3RlKHJzKXtcbiAgICBpZiAocnMuX29yaWdSZW1vdGUpIHsgcmV0dXJuOyB9XG4gICAgcnMuX29yaWdSZW1vdGUgPSBycy5yZW1vdGU7XG4gICAgcnMucmVtb3RlID0gcnMuZHJvcGJveDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVuSG9va1JlbW90ZShycyl7XG4gICAgaWYgKHJzLl9vcmlnUmVtb3RlKSB7XG4gICAgICBycy5yZW1vdGUgPSBycy5fb3JpZ1JlbW90ZTtcbiAgICAgIGRlbGV0ZSBycy5fb3JpZ1JlbW90ZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBob29rSXQocnMpe1xuICAgIGhvb2tSZW1vdGUocnMpO1xuICAgIGlmIChycy5zeW5jKSB7XG4gICAgICBob29rU3luYyhycyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHdoZW4gc3luYyBpcyBub3QgYXZhaWxhYmxlIHlldCwgd2Ugd2FpdCBmb3IgdGhlIHJlbW90ZSB0byBiZSBjb25uZWN0ZWQsXG4gICAgICAvLyBhdCB3aGljaCBwb2ludCBzeW5jIHNob3VsZCBiZSBhdmFpbGFibGUgYXMgd2VsbFxuICAgICAgcnMub24oJ2Nvbm5lY3RlZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAocnMuc3luYykge1xuICAgICAgICAgIGhvb2tTeW5jKHJzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGhvb2tHZXRJdGVtVVJMKHJzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVuSG9va0l0KHJzKXtcbiAgICB1bkhvb2tSZW1vdGUocnMpO1xuICAgIHVuSG9va1N5bmMocnMpO1xuICAgIHVuSG9va0dldEl0ZW1VUkwocnMpO1xuICB9XG5cbiAgRHJvcGJveC5fcnNfaW5pdCA9IGZ1bmN0aW9uIChycykge1xuICAgIGhhc0xvY2FsU3RvcmFnZSA9IHV0aWwubG9jYWxTdG9yYWdlQXZhaWxhYmxlKCk7XG4gICAgaWYgKCBycy5hcGlLZXlzLmRyb3Bib3ggKSB7XG4gICAgICBycy5kcm9wYm94ID0gbmV3IERyb3Bib3gocnMpO1xuICAgIH1cbiAgICBpZiAocnMuYmFja2VuZCA9PT0gJ2Ryb3Bib3gnKSB7XG4gICAgICBob29rSXQocnMpO1xuICAgIH1cbiAgfTtcblxuICBEcm9wYm94Ll9yc19zdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgRHJvcGJveC5fcnNfY2xlYW51cCA9IGZ1bmN0aW9uIChycykge1xuICAgIHVuSG9va0l0KHJzKTtcbiAgICBpZiAoaGFzTG9jYWxTdG9yYWdlKXtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFNFVFRJTkdTX0tFWSk7XG4gICAgfVxuICAgIHJzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgb25FcnJvckNiKTtcbiAgICBycy5zZXRCYWNrZW5kKHVuZGVmaW5lZCk7XG4gIH07XG5cblxuICBtb2R1bGUuZXhwb3J0cyA9IERyb3Bib3g7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvZHJvcGJveC5qcyJdLCJzb3VyY2VSb290IjoiIn0=")
},function(module,exports,__webpack_require__){eval('\'use strict\';\n\nvar eventHandling = __webpack_require__(3);\n\nvar mode = typeof window !== \'undefined\' ? \'browser\' : \'node\',\n    env = {},\n    isBackground = false;\n\nvar Env = function Env() {\n  return env;\n};\n\nEnv.isBrowser = function () {\n  return mode === "browser";\n};\n\nEnv.isNode = function () {\n  return mode === "node";\n};\n\nEnv.goBackground = function () {\n  isBackground = true;\n  Env._emit("background");\n};\n\nEnv.goForeground = function () {\n  isBackground = false;\n  Env._emit("foreground");\n};\n\nEnv._rs_init = function (remoteStorage) {\n  eventHandling(Env, "background", "foreground");\n\n  function visibility() {\n    if (document[env.hiddenProperty]) {\n      Env.goBackground();\n    } else {\n      Env.goForeground();\n    }\n  }\n\n  if (mode === \'browser\') {\n    if (typeof document.hidden !== "undefined") {\n      env.hiddenProperty = "hidden";\n      env.visibilityChangeEvent = "visibilitychange";\n    } else if (typeof document.mozHidden !== "undefined") {\n      env.hiddenProperty = "mozHidden";\n      env.visibilityChangeEvent = "mozvisibilitychange";\n    } else if (typeof document.msHidden !== "undefined") {\n      env.hiddenProperty = "msHidden";\n      env.visibilityChangeEvent = "msvisibilitychange";\n    } else if (typeof document.webkitHidden !== "undefined") {\n      env.hiddenProperty = "webkitHidden";\n      env.visibilityChangeEvent = "webkitvisibilitychange";\n    }\n    document.addEventListener(env.visibilityChangeEvent, visibility, false);\n    visibility();\n  }\n};\n\nEnv._rs_cleanup = function (remoteStorage) {};\n\nmodule.exports = Env;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZW52LmpzP2M5OWIiXSwibmFtZXMiOlsiZXZlbnRIYW5kbGluZyIsInJlcXVpcmUiLCJtb2RlIiwid2luZG93IiwiZW52IiwiaXNCYWNrZ3JvdW5kIiwiRW52IiwiaXNCcm93c2VyIiwiaXNOb2RlIiwiZ29CYWNrZ3JvdW5kIiwiX2VtaXQiLCJnb0ZvcmVncm91bmQiLCJfcnNfaW5pdCIsInJlbW90ZVN0b3JhZ2UiLCJ2aXNpYmlsaXR5IiwiZG9jdW1lbnQiLCJoaWRkZW5Qcm9wZXJ0eSIsImhpZGRlbiIsInZpc2liaWxpdHlDaGFuZ2VFdmVudCIsIm1vekhpZGRlbiIsIm1zSGlkZGVuIiwid2Via2l0SGlkZGVuIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9yc19jbGVhbnVwIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBRSxJQUFJQSxnQkFBZ0IsbUJBQUFDLENBQVEsQ0FBUixDQUFwQjs7QUFFQSxJQUFJQyxPQUFPLE9BQU9DLE1BQVAsS0FBbUIsV0FBbkIsR0FBaUMsU0FBakMsR0FBNkMsTUFBeEQ7QUFBQSxJQUNJQyxNQUFNLEVBRFY7QUFBQSxJQUVJQyxlQUFlLEtBRm5COztBQUtBLElBQUlDLE1BQU0sU0FBTkEsR0FBTSxHQUFZO0FBQ3BCLFNBQU9GLEdBQVA7QUFDRCxDQUZEOztBQUlBRSxJQUFJQyxTQUFKLEdBQWdCLFlBQVk7QUFDMUIsU0FBT0wsU0FBUyxTQUFoQjtBQUNELENBRkQ7O0FBSUFJLElBQUlFLE1BQUosR0FBYSxZQUFZO0FBQ3ZCLFNBQU9OLFNBQVMsTUFBaEI7QUFDRCxDQUZEOztBQUlBSSxJQUFJRyxZQUFKLEdBQW1CLFlBQVk7QUFDN0JKLGlCQUFlLElBQWY7QUFDQUMsTUFBSUksS0FBSixDQUFVLFlBQVY7QUFDRCxDQUhEOztBQUtBSixJQUFJSyxZQUFKLEdBQW1CLFlBQVk7QUFDN0JOLGlCQUFlLEtBQWY7QUFDQUMsTUFBSUksS0FBSixDQUFVLFlBQVY7QUFDRCxDQUhEOztBQUtBSixJQUFJTSxRQUFKLEdBQWUsVUFBVUMsYUFBVixFQUF5QjtBQUN0Q2IsZ0JBQWNNLEdBQWQsRUFBbUIsWUFBbkIsRUFBaUMsWUFBakM7O0FBRUEsV0FBU1EsVUFBVCxHQUFzQjtBQUNwQixRQUFJQyxTQUFTWCxJQUFJWSxjQUFiLENBQUosRUFBa0M7QUFDaENWLFVBQUlHLFlBQUo7QUFDRCxLQUZELE1BRU87QUFDTEgsVUFBSUssWUFBSjtBQUNEO0FBQ0Y7O0FBRUQsTUFBS1QsU0FBUyxTQUFkLEVBQXlCO0FBQ3ZCLFFBQUssT0FBT2EsU0FBU0UsTUFBaEIsS0FBNEIsV0FBakMsRUFBK0M7QUFDN0NiLFVBQUlZLGNBQUosR0FBcUIsUUFBckI7QUFDQVosVUFBSWMscUJBQUosR0FBNEIsa0JBQTVCO0FBQ0QsS0FIRCxNQUdPLElBQUssT0FBT0gsU0FBU0ksU0FBaEIsS0FBK0IsV0FBcEMsRUFBa0Q7QUFDdkRmLFVBQUlZLGNBQUosR0FBcUIsV0FBckI7QUFDQVosVUFBSWMscUJBQUosR0FBNEIscUJBQTVCO0FBQ0QsS0FITSxNQUdBLElBQUssT0FBT0gsU0FBU0ssUUFBaEIsS0FBOEIsV0FBbkMsRUFBaUQ7QUFDdERoQixVQUFJWSxjQUFKLEdBQXFCLFVBQXJCO0FBQ0FaLFVBQUljLHFCQUFKLEdBQTRCLG9CQUE1QjtBQUNELEtBSE0sTUFHQSxJQUFLLE9BQU9ILFNBQVNNLFlBQWhCLEtBQWtDLFdBQXZDLEVBQXFEO0FBQzFEakIsVUFBSVksY0FBSixHQUFxQixjQUFyQjtBQUNBWixVQUFJYyxxQkFBSixHQUE0Qix3QkFBNUI7QUFDRDtBQUNESCxhQUFTTyxnQkFBVCxDQUEwQmxCLElBQUljLHFCQUE5QixFQUFxREosVUFBckQsRUFBaUUsS0FBakU7QUFDQUE7QUFDRDtBQUNGLENBNUJEOztBQThCQVIsSUFBSWlCLFdBQUosR0FBa0IsVUFBVVYsYUFBVixFQUF5QixDQUMxQyxDQUREOztBQUlBVyxPQUFPQyxPQUFQLEdBQWlCbkIsR0FBakIiLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgIHZhciBldmVudEhhbmRsaW5nID0gcmVxdWlyZSgnLi9ldmVudGhhbmRsaW5nJyk7XG4gIFxuICB2YXIgbW9kZSA9IHR5cGVvZih3aW5kb3cpICE9PSAndW5kZWZpbmVkJyA/ICdicm93c2VyJyA6ICdub2RlJyxcbiAgICAgIGVudiA9IHt9LFxuICAgICAgaXNCYWNrZ3JvdW5kID0gZmFsc2U7XG5cblxuICB2YXIgRW52ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBlbnY7XG4gIH07XG5cbiAgRW52LmlzQnJvd3NlciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbW9kZSA9PT0gXCJicm93c2VyXCI7XG4gIH07XG5cbiAgRW52LmlzTm9kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbW9kZSA9PT0gXCJub2RlXCI7XG4gIH07XG5cbiAgRW52LmdvQmFja2dyb3VuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpc0JhY2tncm91bmQgPSB0cnVlO1xuICAgIEVudi5fZW1pdChcImJhY2tncm91bmRcIik7XG4gIH07XG5cbiAgRW52LmdvRm9yZWdyb3VuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpc0JhY2tncm91bmQgPSBmYWxzZTtcbiAgICBFbnYuX2VtaXQoXCJmb3JlZ3JvdW5kXCIpO1xuICB9O1xuXG4gIEVudi5fcnNfaW5pdCA9IGZ1bmN0aW9uIChyZW1vdGVTdG9yYWdlKSB7XG4gICAgZXZlbnRIYW5kbGluZyhFbnYsIFwiYmFja2dyb3VuZFwiLCBcImZvcmVncm91bmRcIik7XG5cbiAgICBmdW5jdGlvbiB2aXNpYmlsaXR5KCkge1xuICAgICAgaWYgKGRvY3VtZW50W2Vudi5oaWRkZW5Qcm9wZXJ0eV0pIHtcbiAgICAgICAgRW52LmdvQmFja2dyb3VuZCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgRW52LmdvRm9yZWdyb3VuZCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICggbW9kZSA9PT0gJ2Jyb3dzZXInKSB7XG4gICAgICBpZiAoIHR5cGVvZihkb2N1bWVudC5oaWRkZW4pICE9PSBcInVuZGVmaW5lZFwiICkge1xuICAgICAgICBlbnYuaGlkZGVuUHJvcGVydHkgPSBcImhpZGRlblwiO1xuICAgICAgICBlbnYudmlzaWJpbGl0eUNoYW5nZUV2ZW50ID0gXCJ2aXNpYmlsaXR5Y2hhbmdlXCI7XG4gICAgICB9IGVsc2UgaWYgKCB0eXBlb2YoZG9jdW1lbnQubW96SGlkZGVuKSAhPT0gXCJ1bmRlZmluZWRcIiApIHtcbiAgICAgICAgZW52LmhpZGRlblByb3BlcnR5ID0gXCJtb3pIaWRkZW5cIjtcbiAgICAgICAgZW52LnZpc2liaWxpdHlDaGFuZ2VFdmVudCA9IFwibW96dmlzaWJpbGl0eWNoYW5nZVwiO1xuICAgICAgfSBlbHNlIGlmICggdHlwZW9mKGRvY3VtZW50Lm1zSGlkZGVuKSAhPT0gXCJ1bmRlZmluZWRcIiApIHtcbiAgICAgICAgZW52LmhpZGRlblByb3BlcnR5ID0gXCJtc0hpZGRlblwiO1xuICAgICAgICBlbnYudmlzaWJpbGl0eUNoYW5nZUV2ZW50ID0gXCJtc3Zpc2liaWxpdHljaGFuZ2VcIjtcbiAgICAgIH0gZWxzZSBpZiAoIHR5cGVvZihkb2N1bWVudC53ZWJraXRIaWRkZW4pICE9PSBcInVuZGVmaW5lZFwiICkge1xuICAgICAgICBlbnYuaGlkZGVuUHJvcGVydHkgPSBcIndlYmtpdEhpZGRlblwiO1xuICAgICAgICBlbnYudmlzaWJpbGl0eUNoYW5nZUV2ZW50ID0gXCJ3ZWJraXR2aXNpYmlsaXR5Y2hhbmdlXCI7XG4gICAgICB9XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGVudi52aXNpYmlsaXR5Q2hhbmdlRXZlbnQsIHZpc2liaWxpdHksIGZhbHNlKTtcbiAgICAgIHZpc2liaWxpdHkoKTtcbiAgICB9XG4gIH07XG5cbiAgRW52Ll9yc19jbGVhbnVwID0gZnVuY3Rpb24gKHJlbW90ZVN0b3JhZ2UpIHtcbiAgfTtcblxuXG4gIG1vZHVsZS5leHBvcnRzID0gRW52O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Vudi5qcyJdLCJzb3VyY2VSb290IjoiIn0=')},function(module,exports,__webpack_require__){
eval("'use strict';\n\nvar _GoogleDrive$prototyp;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n * Class: GoogleDrive\n *\n * WORK IN PROGRESS, NOT RECOMMENDED FOR PRODUCTION USE\n *\n * To use this backend, you need to specify the app's client ID like so:\n *\n * (start code)\n *\n * remoteStorage.setApiKeys('googledrive', {\n *   clientId: 'your-client-id'\n * });\n *\n * (end code)\n *\n * An client ID can be obtained by registering your app in the Google\n * Developers Console: https://developers.google.com/drive/web/auth/web-client\n *\n * Docs: https://developers.google.com/drive/web/auth/web-client#create_a_client_id_and_client_secret\n **/\n\nvar Authorize = __webpack_require__(4);\nvar WireClient = __webpack_require__(9);\nvar eventHandling = __webpack_require__(3);\nvar util = __webpack_require__(2);\n\nvar BASE_URL = 'https://www.googleapis.com';\nvar AUTH_URL = 'https://accounts.google.com/o/oauth2/auth';\nvar AUTH_SCOPE = 'https://www.googleapis.com/auth/drive';\nvar SETTINGS_KEY = 'remotestorage:googledrive';\n\nvar GD_DIR_MIME_TYPE = 'application/vnd.google-apps.folder';\nvar RS_DIR_MIME_TYPE = 'application/json; charset=UTF-8';\n\nvar isFolder = util.isFolder;\nvar hasLocalStorage;\n\n// function buildQueryString(params) {\n//   return Object.keys(params).map(function (key) {\n//     return encodeURIComponent(key) + '=' + encodeURIComponent(params[key]);\n//   }).join('&');\n// }\n\n// function fileNameFromMeta(meta) {\n//   return encodeURIComponent(meta.title) + (meta.mimeType === GD_DIR_MIME_TYPE ? '/' : '');\n// }\n\nfunction metaTitleFromFileName(filename) {\n  if (filename.substr(-1) === '/') {\n    filename = filename.substr(0, filename.length - 1);\n  }\n  return decodeURIComponent(filename);\n}\n\nfunction parentPath(path) {\n  return path.replace(/[^\\/]+\\/?$/, '');\n}\n\nfunction baseName(path) {\n  var parts = path.split('/');\n  if (path.substr(-1) === '/') {\n    return parts[parts.length - 2] + '/';\n  } else {\n    return parts[parts.length - 1];\n  }\n}\n\nvar Cache = function Cache(maxAge) {\n  this.maxAge = maxAge;\n  this._items = {};\n};\n\nCache.prototype = {\n  get: function get(key) {\n    var item = this._items[key];\n    var now = new Date().getTime();\n    return item && item.t >= now - this.maxAge ? item.v : undefined;\n  },\n\n  set: function set(key, value) {\n    this._items[key] = {\n      v: value,\n      t: new Date().getTime()\n    };\n  }\n};\n\nvar GoogleDrive = function GoogleDrive(remoteStorage, clientId) {\n\n  eventHandling(this, 'change', 'connected', 'wire-busy', 'wire-done', 'not-connected');\n\n  this.rs = remoteStorage;\n  this.clientId = clientId;\n\n  this._fileIdCache = new Cache(60 * 5); // ids expire after 5 minutes (is this a good idea?)\n\n  hasLocalStorage = util.localStorageAvailable();\n\n  if (hasLocalStorage) {\n    var settings;\n    try {\n      settings = JSON.parse(localStorage.getItem(SETTINGS_KEY));\n    } catch (e) {}\n    if (settings) {\n      this.configure(settings);\n    }\n  }\n};\n\nGoogleDrive.prototype = (_GoogleDrive$prototyp = {\n  connected: false,\n  online: true,\n\n  configure: function configure(settings) {\n    // Settings parameter compatible with WireClient\n    // We only update this.userAddress if settings.userAddress is set to a string or to null\n    if (typeof settings.userAddress !== 'undefined') {\n      this.userAddress = settings.userAddress;\n    }\n    // Same for this.token. If only one of these two is set, we leave the other one at its existing value\n    if (typeof settings.token !== 'undefined') {\n      this.token = settings.token;\n    }\n\n    var writeSettingsToCache = function writeSettingsToCache() {\n      if (hasLocalStorage) {\n        localStorage.setItem(SETTINGS_KEY, JSON.stringify({\n          userAddress: this.userAddress,\n          token: this.token\n        }));\n      }\n    };\n\n    var handleError = function handleError() {\n      this.connected = false;\n      delete this.token;\n      if (hasLocalStorage) {\n        localStorage.removeItem(SETTINGS_KEY);\n      }\n    };\n\n    if (this.token) {\n      this.connected = true;\n\n      if (this.userAddress) {\n        this._emit('connected');\n        writeSettingsToCache.apply(this);\n      } else {\n        this.info().then(function (info) {\n          this.userAddress = info.user.emailAddress;\n          this.rs.widget.view.setUserAddress(this.userAddress);\n          this._emit('connected');\n          writeSettingsToCache.apply(this);\n        }.bind(this)).catch(function () {\n          handleError.apply(this);\n          this.rs._emit('error', new Error('Could not fetch user info.'));\n        }.bind(this));\n      }\n    } else {\n      handleError.apply(this);\n    }\n  },\n\n  connect: function connect() {\n    this.rs.setBackend('googledrive');\n    Authorize(this.rs, AUTH_URL, AUTH_SCOPE, String(Authorize.getLocation()), this.clientId);\n  },\n\n  stopWaitingForToken: function stopWaitingForToken() {\n    if (!this.connected) {\n      this._emit('not-connected');\n    }\n  },\n\n  get: function get(path, options) {\n    if (path.substr(-1) === '/') {\n      return this._getFolder(path, options);\n    } else {\n      return this._getFile(path, options);\n    }\n  },\n\n  put: function put(path, body, contentType, options) {\n    var self = this;\n    function putDone(response) {\n      if (response.status >= 200 && response.status < 300) {\n        var meta = JSON.parse(response.responseText);\n        var etagWithoutQuotes = meta.etag.substring(1, meta.etag.length - 1);\n        return Promise.resolve({ statusCode: 200, contentType: meta.mimeType, revision: etagWithoutQuotes });\n      } else if (response.status === 412) {\n        return Promise.resolve({ statusCode: 412, revision: 'conflict' });\n      } else {\n        return Promise.reject(\"PUT failed with status \" + response.status + \" (\" + response.responseText + \")\");\n      }\n    }\n    return self._getFileId(path).then(function (id) {\n      if (id) {\n        if (options && options.ifNoneMatch === '*') {\n          return putDone({ status: 412 });\n        }\n        return self._updateFile(id, path, body, contentType, options).then(putDone);\n      } else {\n        return self._createFile(path, body, contentType, options).then(putDone);\n      }\n    });\n  },\n\n  'delete': function _delete(path, options) {\n    var self = this;\n    return self._getFileId(path).then(function (id) {\n      if (!id) {\n        // File doesn't exist. Ignore.\n        return Promise.resolve({ statusCode: 200 });\n      }\n\n      return self._getMeta(id).then(function (meta) {\n        var etagWithoutQuotes;\n        if ((typeof meta === 'undefined' ? 'undefined' : _typeof(meta)) === 'object' && typeof meta.etag === 'string') {\n          etagWithoutQuotes = meta.etag.substring(1, meta.etag.length - 1);\n        }\n        if (options && options.ifMatch && options.ifMatch !== etagWithoutQuotes) {\n          return { statusCode: 412, revision: etagWithoutQuotes };\n        }\n\n        return self._request('DELETE', BASE_URL + '/drive/v2/files/' + id, {}).then(function (response) {\n          if (response.status === 200 || response.status === 204) {\n            return { statusCode: 200 };\n          } else {\n            return Promise.reject(\"Delete failed: \" + response.status + \" (\" + response.responseText + \")\");\n          }\n        });\n      });\n    });\n  },\n\n  /**\n   * Method: info\n   *\n   * Fetches the user's info from Google and returns a promise for it.\n   *\n   * Returns:\n   *\n   *   A promise to the user's info\n   */\n  info: function info() {\n    var url = BASE_URL + '/drive/v2/about?fields=user';\n    // requesting user info(mainly for userAdress)\n    return this._request('GET', url, {}).then(function (resp) {\n      try {\n        var info = JSON.parse(resp.responseText);\n        return Promise.resolve(info);\n      } catch (e) {\n        return Promise.reject(e);\n      }\n    });\n  },\n\n  _updateFile: function _updateFile(id, path, body, contentType, options) {\n    var self = this;\n    var metadata = {\n      mimeType: contentType\n    };\n    var headers = {\n      'Content-Type': 'application/json; charset=UTF-8'\n    };\n\n    if (options && options.ifMatch) {\n      headers['If-Match'] = '\"' + options.ifMatch + '\"';\n    }\n\n    return self._request('PUT', BASE_URL + '/upload/drive/v2/files/' + id + '?uploadType=resumable', {\n      body: JSON.stringify(metadata),\n      headers: headers\n    }).then(function (response) {\n      if (response.status === 412) {\n        return response;\n      } else {\n        return self._request('PUT', response.getResponseHeader('Location'), {\n          body: contentType.match(/^application\\/json/) ? JSON.stringify(body) : body\n        });\n      }\n    });\n  },\n\n  _createFile: function _createFile(path, body, contentType, options) {\n    var self = this;\n    return self._getParentId(path).then(function (parentId) {\n      var fileName = baseName(path);\n      var metadata = {\n        title: metaTitleFromFileName(fileName),\n        mimeType: contentType,\n        parents: [{\n          kind: \"drive#fileLink\",\n          id: parentId\n        }]\n      };\n      return self._request('POST', BASE_URL + '/upload/drive/v2/files?uploadType=resumable', {\n        body: JSON.stringify(metadata),\n        headers: {\n          'Content-Type': 'application/json; charset=UTF-8'\n        }\n      }).then(function (response) {\n        return self._request('POST', response.getResponseHeader('Location'), {\n          body: contentType.match(/^application\\/json/) ? JSON.stringify(body) : body\n        });\n      });\n    });\n  },\n\n  _getFile: function _getFile(path, options) {\n    var self = this;\n    return self._getFileId(path).then(function (id) {\n      return self._getMeta(id).then(function (meta) {\n        var etagWithoutQuotes;\n        if ((typeof meta === 'undefined' ? 'undefined' : _typeof(meta)) === 'object' && typeof meta.etag === 'string') {\n          etagWithoutQuotes = meta.etag.substring(1, meta.etag.length - 1);\n        }\n\n        if (options && options.ifNoneMatch && etagWithoutQuotes === options.ifNoneMatch) {\n          return Promise.resolve({ statusCode: 304 });\n        }\n\n        var options2 = {};\n        if (!meta.downloadUrl) {\n          if (meta.exportLinks && meta.exportLinks['text/html']) {\n            // Documents that were generated inside GoogleDocs have no\n            // downloadUrl, but you can export them to text/html instead:\n            meta.mimeType += ';export=text/html';\n            meta.downloadUrl = meta.exportLinks['text/html'];\n          } else {\n            // empty file\n            return Promise.resolve({ statusCode: 200, body: '', contentType: meta.mimeType, revision: etagWithoutQuotes });\n          }\n        }\n\n        if (meta.mimeType.match(/charset=binary/)) {\n          options2.responseType = 'blob';\n        }\n        return self._request('GET', meta.downloadUrl, options2).then(function (response) {\n          var body = response.response;\n          if (meta.mimeType.match(/^application\\/json/)) {\n            try {\n              body = JSON.parse(body);\n            } catch (e) {}\n          }\n          return Promise.resolve({ statusCode: 200, body: body, contentType: meta.mimeType, revision: etagWithoutQuotes });\n        });\n      });\n    });\n  },\n\n  _getFolder: function _getFolder(path, options) {\n    var self = this;\n    return self._getFileId(path).then(function (id) {\n      var query, fields, data, etagWithoutQuotes, itemsMap;\n      if (!id) {\n        return Promise.resolve({ statusCode: 404 });\n      }\n\n      query = '\\'' + id + '\\' in parents';\n      fields = 'items(downloadUrl,etag,fileSize,id,mimeType,title)';\n      return self._request('GET', BASE_URL + '/drive/v2/files?' + 'q=' + encodeURIComponent(query) + '&fields=' + encodeURIComponent(fields) + '&maxResults=1000', {}).then(function (response) {\n        if (response.status !== 200) {\n          return Promise.reject('request failed or something: ' + response.status);\n        }\n\n        try {\n          data = JSON.parse(response.responseText);\n        } catch (e) {\n          return Promise.reject('non-JSON response from GoogleDrive');\n        }\n\n        itemsMap = {};\n        for (var i = 0, len = data.items.length; i < len; i++) {\n          etagWithoutQuotes = data.items[i].etag.substring(1, data.items[i].etag.length - 1);\n          if (data.items[i].mimeType === GD_DIR_MIME_TYPE) {\n            self._fileIdCache.set(path + data.items[i].title + '/', data.items[i].id);\n            itemsMap[data.items[i].title + '/'] = {\n              ETag: etagWithoutQuotes\n            };\n          } else {\n            self._fileIdCache.set(path + data.items[i].title, data.items[i].id);\n            itemsMap[data.items[i].title] = {\n              ETag: etagWithoutQuotes,\n              'Content-Type': data.items[i].mimeType,\n              'Content-Length': data.items[i].fileSize\n            };\n          }\n        }\n        // FIXME: add revision of folder!\n        return Promise.resolve({ statusCode: 200, body: itemsMap, contentType: RS_DIR_MIME_TYPE, revision: undefined });\n      });\n    });\n  },\n\n  _getParentId: function _getParentId(path) {\n    var foldername = parentPath(path);\n    var self = this;\n    return self._getFileId(foldername).then(function (parentId) {\n      if (parentId) {\n        return Promise.resolve(parentId);\n      } else {\n        return self._createFolder(foldername);\n      }\n    });\n  },\n\n  _createFolder: function _createFolder(path) {\n    var self = this;\n    return self._getParentId(path).then(function (parentId) {\n      return self._request('POST', BASE_URL + '/drive/v2/files', {\n        body: JSON.stringify({\n          title: metaTitleFromFileName(baseName(path)),\n          mimeType: GD_DIR_MIME_TYPE,\n          parents: [{\n            id: parentId\n          }]\n        }),\n        headers: {\n          'Content-Type': 'application/json; charset=UTF-8'\n        }\n      }).then(function (response) {\n        var meta = JSON.parse(response.responseText);\n        return Promise.resolve(meta.id);\n      });\n    });\n  },\n\n  _getFileId: function _getFileId(path) {\n    var self = this;\n    var id;\n    if (path === '/') {\n      // \"root\" is a special alias for the fileId of the root folder\n      return Promise.resolve('root');\n    } else if (id = this._fileIdCache.get(path)) {\n      // id is cached.\n      return Promise.resolve(id);\n    }\n    // id is not cached (or file doesn't exist).\n    // load parent folder listing to propagate / update id cache.\n    return self._getFolder(parentPath(path)).then(function () {\n      id = self._fileIdCache.get(path);\n      if (!id) {\n        if (path.substr(-1) === '/') {\n          return self._createFolder(path).then(function () {\n            return self._getFileId(path);\n          });\n        } else {\n          return Promise.resolve();\n        }\n      }\n      return Promise.resolve(id);\n    });\n  },\n\n  _getMeta: function _getMeta(id) {\n    return this._request('GET', BASE_URL + '/drive/v2/files/' + id, {}).then(function (response) {\n      if (response.status === 200) {\n        return Promise.resolve(JSON.parse(response.responseText));\n      } else {\n        return Promise.reject(\"request (getting metadata for \" + id + \") failed with status: \" + response.status);\n      }\n    });\n  }\n\n}, _defineProperty(_GoogleDrive$prototyp, 'info', function info() {\n  var url = BASE_URL + '/drive/v2/about';\n  // requesting user info(mainly for userAdress)\n  return this._request('GET', url, {}).then(function (resp) {\n    try {\n      var info = JSON.parse(resp.responseText);\n      return Promise.resolve(info);\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  });\n}), _defineProperty(_GoogleDrive$prototyp, '_request', function _request(method, url, options) {\n  var self = this;\n\n  if (!options.headers) {\n    options.headers = {};\n  }\n  options.headers['Authorization'] = 'Bearer ' + self.token;\n\n  this._emit('wire-busy', {\n    method: method,\n    isFolder: isFolder(url)\n  });\n\n  return WireClient.request.call(this, method, url, options).then(function (xhr) {\n    // Google tokens expire from time to time...\n    if (xhr && xhr.status === 401) {\n      self.connect();\n      return;\n    } else {\n      if (!self.online) {\n        self.online = true;\n        self.rs._emit('network-online');\n      }\n      self._emit('wire-done', {\n        method: method,\n        isFolder: isFolder(url),\n        success: true\n      });\n\n      return Promise.resolve(xhr);\n    }\n  }, function (error) {\n    if (self.online) {\n      self.online = false;\n      self.rs._emit('network-offline');\n    }\n    self._emit('wire-done', {\n      method: method,\n      isFolder: isFolder(url),\n      success: false\n    });\n\n    return Promise.reject(error);\n  });\n}), _GoogleDrive$prototyp);\n\nGoogleDrive._rs_init = function (remoteStorage) {\n  var config = remoteStorage.apiKeys.googledrive;\n  if (config) {\n    remoteStorage.googledrive = new GoogleDrive(remoteStorage, config.clientId);\n    if (remoteStorage.backend === 'googledrive') {\n      remoteStorage._origRemote = remoteStorage.remote;\n      remoteStorage.remote = remoteStorage.googledrive;\n    }\n  }\n};\n\nGoogleDrive._rs_supported = function (rs) {\n  return true;\n};\n\nGoogleDrive._rs_cleanup = function (remoteStorage) {\n  remoteStorage.setBackend(undefined);\n  if (remoteStorage._origRemote) {\n    remoteStorage.remote = remoteStorage._origRemote;\n    delete remoteStorage._origRemote;\n  }\n};\n\nmodule.exports = GoogleDrive;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZ29vZ2xlZHJpdmUuanM/MTJkZiJdLCJuYW1lcyI6WyJBdXRob3JpemUiLCJyZXF1aXJlIiwiV2lyZUNsaWVudCIsImV2ZW50SGFuZGxpbmciLCJ1dGlsIiwiQkFTRV9VUkwiLCJBVVRIX1VSTCIsIkFVVEhfU0NPUEUiLCJTRVRUSU5HU19LRVkiLCJHRF9ESVJfTUlNRV9UWVBFIiwiUlNfRElSX01JTUVfVFlQRSIsImlzRm9sZGVyIiwiaGFzTG9jYWxTdG9yYWdlIiwibWV0YVRpdGxlRnJvbUZpbGVOYW1lIiwiZmlsZW5hbWUiLCJzdWJzdHIiLCJsZW5ndGgiLCJkZWNvZGVVUklDb21wb25lbnQiLCJwYXJlbnRQYXRoIiwicGF0aCIsInJlcGxhY2UiLCJiYXNlTmFtZSIsInBhcnRzIiwic3BsaXQiLCJDYWNoZSIsIm1heEFnZSIsIl9pdGVtcyIsInByb3RvdHlwZSIsImdldCIsImtleSIsIml0ZW0iLCJub3ciLCJEYXRlIiwiZ2V0VGltZSIsInQiLCJ2IiwidW5kZWZpbmVkIiwic2V0IiwidmFsdWUiLCJHb29nbGVEcml2ZSIsInJlbW90ZVN0b3JhZ2UiLCJjbGllbnRJZCIsInJzIiwiX2ZpbGVJZENhY2hlIiwibG9jYWxTdG9yYWdlQXZhaWxhYmxlIiwic2V0dGluZ3MiLCJKU09OIiwicGFyc2UiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiZSIsImNvbmZpZ3VyZSIsImNvbm5lY3RlZCIsIm9ubGluZSIsInVzZXJBZGRyZXNzIiwidG9rZW4iLCJ3cml0ZVNldHRpbmdzVG9DYWNoZSIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJoYW5kbGVFcnJvciIsInJlbW92ZUl0ZW0iLCJfZW1pdCIsImFwcGx5IiwiaW5mbyIsInRoZW4iLCJ1c2VyIiwiZW1haWxBZGRyZXNzIiwid2lkZ2V0IiwidmlldyIsInNldFVzZXJBZGRyZXNzIiwiYmluZCIsImNhdGNoIiwiRXJyb3IiLCJjb25uZWN0Iiwic2V0QmFja2VuZCIsIlN0cmluZyIsImdldExvY2F0aW9uIiwic3RvcFdhaXRpbmdGb3JUb2tlbiIsIm9wdGlvbnMiLCJfZ2V0Rm9sZGVyIiwiX2dldEZpbGUiLCJwdXQiLCJib2R5IiwiY29udGVudFR5cGUiLCJzZWxmIiwicHV0RG9uZSIsInJlc3BvbnNlIiwic3RhdHVzIiwibWV0YSIsInJlc3BvbnNlVGV4dCIsImV0YWdXaXRob3V0UXVvdGVzIiwiZXRhZyIsInN1YnN0cmluZyIsIlByb21pc2UiLCJyZXNvbHZlIiwic3RhdHVzQ29kZSIsIm1pbWVUeXBlIiwicmV2aXNpb24iLCJyZWplY3QiLCJfZ2V0RmlsZUlkIiwiaWQiLCJpZk5vbmVNYXRjaCIsIl91cGRhdGVGaWxlIiwiX2NyZWF0ZUZpbGUiLCJfZ2V0TWV0YSIsImlmTWF0Y2giLCJfcmVxdWVzdCIsInVybCIsInJlc3AiLCJtZXRhZGF0YSIsImhlYWRlcnMiLCJnZXRSZXNwb25zZUhlYWRlciIsIm1hdGNoIiwiX2dldFBhcmVudElkIiwicGFyZW50SWQiLCJmaWxlTmFtZSIsInRpdGxlIiwicGFyZW50cyIsImtpbmQiLCJvcHRpb25zMiIsImRvd25sb2FkVXJsIiwiZXhwb3J0TGlua3MiLCJyZXNwb25zZVR5cGUiLCJxdWVyeSIsImZpZWxkcyIsImRhdGEiLCJpdGVtc01hcCIsImVuY29kZVVSSUNvbXBvbmVudCIsImkiLCJsZW4iLCJpdGVtcyIsIkVUYWciLCJmaWxlU2l6ZSIsImZvbGRlcm5hbWUiLCJfY3JlYXRlRm9sZGVyIiwibWV0aG9kIiwicmVxdWVzdCIsImNhbGwiLCJ4aHIiLCJzdWNjZXNzIiwiZXJyb3IiLCJfcnNfaW5pdCIsImNvbmZpZyIsImFwaUtleXMiLCJnb29nbGVkcml2ZSIsImJhY2tlbmQiLCJfb3JpZ1JlbW90ZSIsInJlbW90ZSIsIl9yc19zdXBwb3J0ZWQiLCJfcnNfY2xlYW51cCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQ0U7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXFCQSxJQUFJQSxZQUFZLG1CQUFBQyxDQUFR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biAgICpcbiAgICogV09SSyBJTiBQUk9HUkVTUywgTk9UIFJFQ09NTUVOREVEIEZPUiBQUk9EVUNUSU9OIFVTRVxuICAgKlxuICAgKiBUbyB1c2UgdGhpcyBiYWNrZW5kLCB5b3UgbmVlZCB0byBzcGVjaWZ5IHRoZSBhcHAncyBjbGllbnQgSUQgbGlrZSBzbzpcbiAgICpcbiAgICogKHN0YXJ0IGNvZGUpXG4gICAqXG4gICAqIHJlbW90ZVN0b3JhZ2Uuc2V0QXBpS2V5cygnZ29vZ2xlZHJpdmUnLCB7XG4gICAqICAgY2xpZW50SWQ6ICd5b3VyLWNsaWVudC1pZCdcbiAgICogfSk7XG4gICAqXG4gICAqIChlbmQgY29kZSlcbiAgICpcbiAgICogQW4gY2xpZW50IElEIGNhbiBiZSBvYnRhaW5lZCBieSByZWdpc3RlcmluZyB5b3VyIGFwcCBpbiB0aGUgR29vZ2xlXG4gICAqIERldmVsb3BlcnMgQ29uc29sZTogaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vZHJpdmUvd2ViL2F1dGgvd2ViLWNsaWVudFxuICAgKlxuICAgKiBEb2NzOiBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9kcml2ZS93ZWIvYXV0aC93ZWItY2xpZW50I2NyZWF0ZV9hX2NsaWVudF9pZF9hbmRfY2xpZW50X3NlY3JldFxuICAgKiovXG5cbiAgdmFyIEF1dGhvcml6ZSA9IHJlcXVpcmUoJy4vYXV0aG9yaXplJyk7XG4gIHZhciBXaXJlQ2xpZW50ID0gcmVxdWlyZSgnLi93aXJlY2xpZW50Jyk7XG4gIHZhciBldmVudEhhbmRsaW5nID0gcmVxdWlyZSgnLi9ldmVudGhhbmRsaW5nJyk7XG4gIHZhciB1dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG5cbiAgdmFyIEJBU0VfVVJMID0gJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tJztcbiAgdmFyIEFVVEhfVVJMID0gJ2h0dHBzOi8vYWNjb3VudHMuZ29vZ2xlLmNvbS9vL29hdXRoMi9hdXRoJztcbiAgdmFyIEFVVEhfU0NPUEUgPSAnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC9kcml2ZSc7XG4gIHZhciBTRVRUSU5HU19LRVkgPSAncmVtb3Rlc3RvcmFnZTpnb29nbGVkcml2ZSc7XG5cbiAgdmFyIEdEX0RJUl9NSU1FX1RZUEUgPSAnYXBwbGljYXRpb24vdm5kLmdvb2dsZS1hcHBzLmZvbGRlcic7XG4gIHZhciBSU19ESVJfTUlNRV9UWVBFID0gJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgnO1xuXG4gIHZhciBpc0ZvbGRlciA9IHV0aWwuaXNGb2xkZXI7XG4gIHZhciBoYXNMb2NhbFN0b3JhZ2U7XG5cbiAgLy8gZnVuY3Rpb24gYnVpbGRRdWVyeVN0cmluZyhwYXJhbXMpIHtcbiAgLy8gICByZXR1cm4gT2JqZWN0LmtleXMocGFyYW1zKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAvLyAgICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChrZXkpICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtc1trZXldKTtcbiAgLy8gICB9KS5qb2luKCcmJyk7XG4gIC8vIH1cblxuICAvLyBmdW5jdGlvbiBmaWxlTmFtZUZyb21NZXRhKG1ldGEpIHtcbiAgLy8gICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KG1ldGEudGl0bGUpICsgKG1ldGEubWltZVR5cGUgPT09IEdEX0RJUl9NSU1FX1RZUEUgPyAnLycgOiAnJyk7XG4gIC8vIH1cblxuICBmdW5jdGlvbiBtZXRhVGl0bGVGcm9tRmlsZU5hbWUoZmlsZW5hbWUpIHtcbiAgICBpZiAoZmlsZW5hbWUuc3Vic3RyKC0xKSA9PT0gJy8nKSB7XG4gICAgICBmaWxlbmFtZSA9IGZpbGVuYW1lLnN1YnN0cigwLCBmaWxlbmFtZS5sZW5ndGggLSAxKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChmaWxlbmFtZSk7XG4gIH1cblxuICBmdW5jdGlvbiBwYXJlbnRQYXRoKHBhdGgpIHtcbiAgICByZXR1cm4gcGF0aC5yZXBsYWNlKC9bXlxcL10rXFwvPyQvLCAnJyk7XG4gIH1cblxuICBmdW5jdGlvbiBiYXNlTmFtZShwYXRoKSB7XG4gICAgdmFyIHBhcnRzID0gcGF0aC5zcGxpdCgnLycpO1xuICAgIGlmIChwYXRoLnN1YnN0cigtMSkgPT09ICcvJykge1xuICAgICAgcmV0dXJuIHBhcnRzW3BhcnRzLmxlbmd0aC0yXSsnLyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBwYXJ0c1twYXJ0cy5sZW5ndGgtMV07XG4gICAgfVxuICB9XG5cbiAgdmFyIENhY2hlID0gZnVuY3Rpb24gKG1heEFnZSkge1xuICAgIHRoaXMubWF4QWdlID0gbWF4QWdlO1xuICAgIHRoaXMuX2l0ZW1zID0ge307XG4gIH07XG5cbiAgQ2FjaGUucHJvdG90eXBlID0ge1xuICAgIGdldDogZnVuY3Rpb24gKGtleSkge1xuICAgICAgdmFyIGl0ZW0gPSB0aGlzLl9pdGVtc1trZXldO1xuICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgcmV0dXJuIChpdGVtICYmIGl0ZW0udCA+PSAobm93IC0gdGhpcy5tYXhBZ2UpKSA/IGl0ZW0udiA6IHVuZGVmaW5lZDtcbiAgICB9LFxuXG4gICAgc2V0OiBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgdGhpcy5faXRlbXNba2V5XSA9IHtcbiAgICAgICAgdjogdmFsdWUsXG4gICAgICAgIHQ6IG5ldyBEYXRlKCkuZ2V0VGltZSgpXG4gICAgICB9O1xuICAgIH1cbiAgfTtcblxuICB2YXIgR29vZ2xlRHJpdmUgPSBmdW5jdGlvbiAocmVtb3RlU3RvcmFnZSwgY2xpZW50SWQpIHtcblxuICAgIGV2ZW50SGFuZGxpbmcodGhpcywgJ2NoYW5nZScsICdjb25uZWN0ZWQnLCAnd2lyZS1idXN5JywgJ3dpcmUtZG9uZScsICdub3QtY29ubmVjdGVkJyk7XG5cbiAgICB0aGlzLnJzID0gcmVtb3RlU3RvcmFnZTtcbiAgICB0aGlzLmNsaWVudElkID0gY2xpZW50SWQ7XG5cbiAgICB0aGlzLl9maWxlSWRDYWNoZSA9IG5ldyBDYWNoZSg2MCAqIDUpOyAvLyBpZHMgZXhwaXJlIGFmdGVyIDUgbWludXRlcyAoaXMgdGhpcyBhIGdvb2QgaWRlYT8pXG5cbiAgICBoYXNMb2NhbFN0b3JhZ2UgPSB1dGlsLmxvY2FsU3RvcmFnZUF2YWlsYWJsZSgpO1xuXG4gICAgaWYgKGhhc0xvY2FsU3RvcmFnZSl7XG4gICAgICB2YXIgc2V0dGluZ3M7XG4gICAgICB0cnkge1xuICAgICAgICBzZXR0aW5ncyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oU0VUVElOR1NfS0VZKSk7XG4gICAgICB9IGNhdGNoKGUpe31cbiAgICAgIGlmIChzZXR0aW5ncykge1xuICAgICAgICB0aGlzLmNvbmZpZ3VyZShzZXR0aW5ncyk7XG4gICAgICB9XG4gICAgfVxuXG4gIH07XG5cbiAgR29vZ2xlRHJpdmUucHJvdG90eXBlID0ge1xuICAgIGNvbm5lY3RlZDogZmFsc2UsXG4gICAgb25saW5lOiB0cnVlLFxuXG4gICAgY29uZmlndXJlOiBmdW5jdGlvbiAoc2V0dGluZ3MpIHsgLy8gU2V0dGluZ3MgcGFyYW1ldGVyIGNvbXBhdGlibGUgd2l0aCBXaXJlQ2xpZW50XG4gICAgICAvLyBXZSBvbmx5IHVwZGF0ZSB0aGlzLnVzZXJBZGRyZXNzIGlmIHNldHRpbmdzLnVzZXJBZGRyZXNzIGlzIHNldCB0byBhIHN0cmluZyBvciB0byBudWxsXG4gICAgICBpZiAodHlwZW9mIHNldHRpbmdzLnVzZXJBZGRyZXNzICE9PSAndW5kZWZpbmVkJykgeyB0aGlzLnVzZXJBZGRyZXNzID0gc2V0dGluZ3MudXNlckFkZHJlc3M7IH1cbiAgICAgIC8vIFNhbWUgZm9yIHRoaXMudG9rZW4uIElmIG9ubHkgb25lIG9mIHRoZXNlIHR3byBpcyBzZXQsIHdlIGxlYXZlIHRoZSBvdGhlciBvbmUgYXQgaXRzIGV4aXN0aW5nIHZhbHVlXG4gICAgICBpZiAodHlwZW9mIHNldHRpbmdzLnRva2VuICE9PSAndW5kZWZpbmVkJykgeyB0aGlzLnRva2VuID0gc2V0dGluZ3MudG9rZW47IH1cblxuICAgICAgdmFyIHdyaXRlU2V0dGluZ3NUb0NhY2hlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChoYXNMb2NhbFN0b3JhZ2UpIHtcbiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTRVRUSU5HU19LRVksIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIHVzZXJBZGRyZXNzOiB0aGlzLnVzZXJBZGRyZXNzLFxuICAgICAgICAgICAgdG9rZW46IHRoaXMudG9rZW5cbiAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZhciBoYW5kbGVFcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICBkZWxldGUgdGhpcy50b2tlbjtcbiAgICAgICAgaWYgKGhhc0xvY2FsU3RvcmFnZSkge1xuICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFNFVFRJTkdTX0tFWSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLnRva2VuKSB7XG4gICAgICAgIHRoaXMuY29ubmVjdGVkID0gdHJ1ZTtcblxuICAgICAgICBpZiAodGhpcy51c2VyQWRkcmVzcykge1xuICAgICAgICAgIHRoaXMuX2VtaXQoJ2Nvbm5lY3RlZCcpO1xuICAgICAgICAgIHdyaXRlU2V0dGluZ3NUb0NhY2hlLmFwcGx5KHRoaXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuaW5mbygpLnRoZW4oZnVuY3Rpb24oaW5mbykge1xuICAgICAgICAgICAgdGhpcy51c2VyQWRkcmVzcyA9IGluZm8udXNlci5lbWFpbEFkZHJlc3M7XG4gICAgICAgICAgICB0aGlzLnJzLndpZGdldC52aWV3LnNldFVzZXJBZGRyZXNzKHRoaXMudXNlckFkZHJlc3MpO1xuICAgICAgICAgICAgdGhpcy5fZW1pdCgnY29ubmVjdGVkJyk7XG4gICAgICAgICAgICB3cml0ZVNldHRpbmdzVG9DYWNoZS5hcHBseSh0aGlzKTtcbiAgICAgICAgICB9LmJpbmQodGhpcykpLmNhdGNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaGFuZGxlRXJyb3IuYXBwbHkodGhpcyk7XG4gICAgICAgICAgICB0aGlzLnJzLl9lbWl0KCdlcnJvcicsIG5ldyBFcnJvcignQ291bGQgbm90IGZldGNoIHVzZXIgaW5mby4nKSk7XG4gICAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaGFuZGxlRXJyb3IuYXBwbHkodGhpcyk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGNvbm5lY3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMucnMuc2V0QmFja2VuZCgnZ29vZ2xlZHJpdmUnKTtcbiAgICAgIEF1dGhvcml6ZSh0aGlzLnJzLCBBVVRIX1VSTCwgQVVUSF9TQ09QRSwgU3RyaW5nKEF1dGhvcml6ZS5nZXRMb2NhdGlvbigpKSwgdGhpcy5jbGllbnRJZCk7XG4gICAgfSxcblxuICAgIHN0b3BXYWl0aW5nRm9yVG9rZW46IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghdGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgICAgdGhpcy5fZW1pdCgnbm90LWNvbm5lY3RlZCcpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBnZXQ6IGZ1bmN0aW9uIChwYXRoLCBvcHRpb25zKSB7XG4gICAgICBpZiAocGF0aC5zdWJzdHIoLTEpID09PSAnLycpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldEZvbGRlcihwYXRoLCBvcHRpb25zKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRGaWxlKHBhdGgsIG9wdGlvbnMpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBwdXQ6IGZ1bmN0aW9uIChwYXRoLCBib2R5LCBjb250ZW50VHlwZSwgb3B0aW9ucykge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgZnVuY3Rpb24gcHV0RG9uZShyZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCAzMDApIHtcbiAgICAgICAgICB2YXIgbWV0YSA9IEpTT04ucGFyc2UocmVzcG9uc2UucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICB2YXIgZXRhZ1dpdGhvdXRRdW90ZXMgPSBtZXRhLmV0YWcuc3Vic3RyaW5nKDEsIG1ldGEuZXRhZy5sZW5ndGgtMSk7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7c3RhdHVzQ29kZTogMjAwLCBjb250ZW50VHlwZTogbWV0YS5taW1lVHlwZSwgcmV2aXNpb246IGV0YWdXaXRob3V0UXVvdGVzfSk7XG4gICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MTIpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtzdGF0dXNDb2RlOiA0MTIsIHJldmlzaW9uOiAnY29uZmxpY3QnfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiUFVUIGZhaWxlZCB3aXRoIHN0YXR1cyBcIiArIHJlc3BvbnNlLnN0YXR1cyArIFwiIChcIiArIHJlc3BvbnNlLnJlc3BvbnNlVGV4dCArIFwiKVwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHNlbGYuX2dldEZpbGVJZChwYXRoKS50aGVuKGZ1bmN0aW9uIChpZCkge1xuICAgICAgICBpZiAoaWQpIHtcbiAgICAgICAgICBpZiAob3B0aW9ucyAmJiAob3B0aW9ucy5pZk5vbmVNYXRjaCA9PT0gJyonKSkge1xuICAgICAgICAgICAgcmV0dXJuIHB1dERvbmUoeyBzdGF0dXM6IDQxMiB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHNlbGYuX3VwZGF0ZUZpbGUoaWQsIHBhdGgsIGJvZHksIGNvbnRlbnRUeXBlLCBvcHRpb25zKS50aGVuKHB1dERvbmUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBzZWxmLl9jcmVhdGVGaWxlKHBhdGgsIGJvZHksIGNvbnRlbnRUeXBlLCBvcHRpb25zKS50aGVuKHB1dERvbmUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgJ2RlbGV0ZSc6IGZ1bmN0aW9uIChwYXRoLCBvcHRpb25zKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICByZXR1cm4gc2VsZi5fZ2V0RmlsZUlkKHBhdGgpLnRoZW4oZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIGlmICghaWQpIHtcbiAgICAgICAgICAvLyBGaWxlIGRvZXNuJ3QgZXhpc3QuIElnbm9yZS5cbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtzdGF0dXNDb2RlOiAyMDB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZWxmLl9nZXRNZXRhKGlkKS50aGVuKGZ1bmN0aW9uIChtZXRhKSB7XG4gICAgICAgICAgdmFyIGV0YWdXaXRob3V0UXVvdGVzO1xuICAgICAgICAgIGlmICgodHlwZW9mIG1ldGEgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1ldGEuZXRhZyA9PT0gJ3N0cmluZycpKSB7XG4gICAgICAgICAgICBldGFnV2l0aG91dFF1b3RlcyA9IG1ldGEuZXRhZy5zdWJzdHJpbmcoMSwgbWV0YS5ldGFnLmxlbmd0aC0xKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5pZk1hdGNoICYmIChvcHRpb25zLmlmTWF0Y2ggIT09IGV0YWdXaXRob3V0UXVvdGVzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHtzdGF0dXNDb2RlOiA0MTIsIHJldmlzaW9uOiBldGFnV2l0aG91dFF1b3Rlc307XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHNlbGYuX3JlcXVlc3QoJ0RFTEVURScsIEJBU0VfVVJMICsgJy9kcml2ZS92Mi9maWxlcy8nICsgaWQsIHt9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwIHx8IHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgIHJldHVybiB7c3RhdHVzQ29kZTogMjAwfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcIkRlbGV0ZSBmYWlsZWQ6IFwiICsgcmVzcG9uc2Uuc3RhdHVzICsgXCIgKFwiICsgcmVzcG9uc2UucmVzcG9uc2VUZXh0ICsgXCIpXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNZXRob2Q6IGluZm9cbiAgICAgKlxuICAgICAqIEZldGNoZXMgdGhlIHVzZXIncyBpbmZvIGZyb20gR29vZ2xlIGFuZCByZXR1cm5zIGEgcHJvbWlzZSBmb3IgaXQuXG4gICAgICpcbiAgICAgKiBSZXR1cm5zOlxuICAgICAqXG4gICAgICogICBBIHByb21pc2UgdG8gdGhlIHVzZXIncyBpbmZvXG4gICAgICovXG4gICAgaW5mbzogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHVybCA9IEJBU0VfVVJMICsgJy9kcml2ZS92Mi9hYm91dD9maWVsZHM9dXNlcic7XG4gICAgICAvLyByZXF1ZXN0aW5nIHVzZXIgaW5mbyhtYWlubHkgZm9yIHVzZXJBZHJlc3MpXG4gICAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnR0VUJywgdXJsLCB7fSkudGhlbihmdW5jdGlvbiAocmVzcCl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIGluZm8gPSBKU09OLnBhcnNlKHJlc3AucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGluZm8pO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgX3VwZGF0ZUZpbGU6IGZ1bmN0aW9uIChpZCwgcGF0aCwgYm9keSwgY29udGVudFR5cGUsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBtZXRhZGF0YSA9IHtcbiAgICAgICAgbWltZVR5cGU6IGNvbnRlbnRUeXBlXG4gICAgICB9O1xuICAgICAgdmFyIGhlYWRlcnMgPSB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOCdcbiAgICAgIH07XG5cbiAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuaWZNYXRjaCkge1xuICAgICAgICBoZWFkZXJzWydJZi1NYXRjaCddID0gJ1wiJyArIG9wdGlvbnMuaWZNYXRjaCArICdcIic7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmLl9yZXF1ZXN0KCdQVVQnLCBCQVNFX1VSTCArICcvdXBsb2FkL2RyaXZlL3YyL2ZpbGVzLycgKyBpZCArICc/dXBsb2FkVHlwZT1yZXN1bWFibGUnLCB7XG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KG1ldGFkYXRhKSxcbiAgICAgICAgaGVhZGVyczogaGVhZGVyc1xuICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDEyKSB7XG4gICAgICAgICAgcmV0dXJuIChyZXNwb25zZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHNlbGYuX3JlcXVlc3QoJ1BVVCcsIHJlc3BvbnNlLmdldFJlc3BvbnNlSGVhZGVyKCdMb2NhdGlvbicpLCB7XG4gICAgICAgICAgICBib2R5OiBjb250ZW50VHlwZS5tYXRjaCgvXmFwcGxpY2F0aW9uXFwvanNvbi8pID8gSlNPTi5zdHJpbmdpZnkoYm9keSkgOiBib2R5XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBfY3JlYXRlRmlsZTogZnVuY3Rpb24gKHBhdGgsIGJvZHksIGNvbnRlbnRUeXBlLCBvcHRpb25zKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICByZXR1cm4gc2VsZi5fZ2V0UGFyZW50SWQocGF0aCkudGhlbihmdW5jdGlvbiAocGFyZW50SWQpIHtcbiAgICAgICAgdmFyIGZpbGVOYW1lID0gYmFzZU5hbWUocGF0aCk7XG4gICAgICAgIHZhciBtZXRhZGF0YSA9IHtcbiAgICAgICAgICB0aXRsZTogbWV0YVRpdGxlRnJvbUZpbGVOYW1lKGZpbGVOYW1lKSxcbiAgICAgICAgICBtaW1lVHlwZTogY29udGVudFR5cGUsXG4gICAgICAgICAgcGFyZW50czogW3tcbiAgICAgICAgICAgIGtpbmQ6IFwiZHJpdmUjZmlsZUxpbmtcIixcbiAgICAgICAgICAgIGlkOiBwYXJlbnRJZFxuICAgICAgICAgIH1dXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBzZWxmLl9yZXF1ZXN0KCdQT1NUJywgQkFTRV9VUkwgKyAnL3VwbG9hZC9kcml2ZS92Mi9maWxlcz91cGxvYWRUeXBlPXJlc3VtYWJsZScsIHtcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShtZXRhZGF0YSksXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04J1xuICAgICAgICAgIH1cbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICByZXR1cm4gc2VsZi5fcmVxdWVzdCgnUE9TVCcsIHJlc3BvbnNlLmdldFJlc3BvbnNlSGVhZGVyKCdMb2NhdGlvbicpLCB7XG4gICAgICAgICAgICBib2R5OiBjb250ZW50VHlwZS5tYXRjaCgvXmFwcGxpY2F0aW9uXFwvanNvbi8pID8gSlNPTi5zdHJpbmdpZnkoYm9keSkgOiBib2R5XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIF9nZXRGaWxlOiBmdW5jdGlvbiAocGF0aCwgb3B0aW9ucykge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgcmV0dXJuIHNlbGYuX2dldEZpbGVJZChwYXRoKS50aGVuKGZ1bmN0aW9uIChpZCkge1xuICAgICAgICByZXR1cm4gc2VsZi5fZ2V0TWV0YShpZCkudGhlbihmdW5jdGlvbiAobWV0YSkge1xuICAgICAgICAgIHZhciBldGFnV2l0aG91dFF1b3RlcztcbiAgICAgICAgICBpZiAodHlwZW9mKG1ldGEpID09PSAnb2JqZWN0JyAmJiB0eXBlb2YobWV0YS5ldGFnKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGV0YWdXaXRob3V0UXVvdGVzID0gbWV0YS5ldGFnLnN1YnN0cmluZygxLCBtZXRhLmV0YWcubGVuZ3RoLTEpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuaWZOb25lTWF0Y2ggJiYgKGV0YWdXaXRob3V0UXVvdGVzID09PSBvcHRpb25zLmlmTm9uZU1hdGNoKSkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7c3RhdHVzQ29kZTogMzA0fSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIG9wdGlvbnMyID0ge307XG4gICAgICAgICAgaWYgKCFtZXRhLmRvd25sb2FkVXJsKSB7XG4gICAgICAgICAgICBpZiAobWV0YS5leHBvcnRMaW5rcyAmJiBtZXRhLmV4cG9ydExpbmtzWyd0ZXh0L2h0bWwnXSkge1xuICAgICAgICAgICAgICAvLyBEb2N1bWVudHMgdGhhdCB3ZXJlIGdlbmVyYXRlZCBpbnNpZGUgR29vZ2xlRG9jcyBoYXZlIG5vXG4gICAgICAgICAgICAgIC8vIGRvd25sb2FkVXJsLCBidXQgeW91IGNhbiBleHBvcnQgdGhlbSB0byB0ZXh0L2h0bWwgaW5zdGVhZDpcbiAgICAgICAgICAgICAgbWV0YS5taW1lVHlwZSArPSAnO2V4cG9ydD10ZXh0L2h0bWwnO1xuICAgICAgICAgICAgICBtZXRhLmRvd25sb2FkVXJsID0gbWV0YS5leHBvcnRMaW5rc1sndGV4dC9odG1sJ107XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBlbXB0eSBmaWxlXG4gICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe3N0YXR1c0NvZGU6IDIwMCwgYm9keTogJycsIGNvbnRlbnRUeXBlOiBtZXRhLm1pbWVUeXBlLCByZXZpc2lvbjogZXRhZ1dpdGhvdXRRdW90ZXN9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobWV0YS5taW1lVHlwZS5tYXRjaCgvY2hhcnNldD1iaW5hcnkvKSkge1xuICAgICAgICAgICAgb3B0aW9uczIucmVzcG9uc2VUeXBlID0gJ2Jsb2InO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gc2VsZi5fcmVxdWVzdCgnR0VUJywgbWV0YS5kb3dubG9hZFVybCwgb3B0aW9uczIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICB2YXIgYm9keSA9IHJlc3BvbnNlLnJlc3BvbnNlO1xuICAgICAgICAgICAgaWYgKG1ldGEubWltZVR5cGUubWF0Y2goL15hcHBsaWNhdGlvblxcL2pzb24vKSkge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGJvZHkgPSBKU09OLnBhcnNlKGJvZHkpO1xuICAgICAgICAgICAgICB9IGNhdGNoKGUpIHt9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtzdGF0dXNDb2RlOiAyMDAsIGJvZHk6IGJvZHksIGNvbnRlbnRUeXBlOiBtZXRhLm1pbWVUeXBlLCByZXZpc2lvbjogZXRhZ1dpdGhvdXRRdW90ZXN9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgX2dldEZvbGRlcjogZnVuY3Rpb24gKHBhdGgsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHJldHVybiBzZWxmLl9nZXRGaWxlSWQocGF0aCkudGhlbihmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgdmFyIHF1ZXJ5LCBmaWVsZHMsIGRhdGEsIGV0YWdXaXRob3V0UXVvdGVzLCBpdGVtc01hcDtcbiAgICAgICAgaWYgKCEgaWQpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtzdGF0dXNDb2RlOiA0MDR9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHF1ZXJ5ID0gJ1xcJycgKyBpZCArICdcXCcgaW4gcGFyZW50cyc7XG4gICAgICAgIGZpZWxkcyA9ICdpdGVtcyhkb3dubG9hZFVybCxldGFnLGZpbGVTaXplLGlkLG1pbWVUeXBlLHRpdGxlKSc7XG4gICAgICAgIHJldHVybiBzZWxmLl9yZXF1ZXN0KCdHRVQnLCBCQVNFX1VSTCArICcvZHJpdmUvdjIvZmlsZXM/J1xuICAgICAgICAgICAgKyAncT0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHF1ZXJ5KVxuICAgICAgICAgICAgKyAnJmZpZWxkcz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGZpZWxkcylcbiAgICAgICAgICAgICsgJyZtYXhSZXN1bHRzPTEwMDAnLFxuICAgICAgICAgICAge30pXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IDIwMCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdyZXF1ZXN0IGZhaWxlZCBvciBzb21ldGhpbmc6ICcgKyByZXNwb25zZS5zdGF0dXMpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShyZXNwb25zZS5yZXNwb25zZVRleHQpO1xuICAgICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdub24tSlNPTiByZXNwb25zZSBmcm9tIEdvb2dsZURyaXZlJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaXRlbXNNYXAgPSB7fTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZGF0YS5pdGVtcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgZXRhZ1dpdGhvdXRRdW90ZXMgPSBkYXRhLml0ZW1zW2ldLmV0YWcuc3Vic3RyaW5nKDEsIGRhdGEuaXRlbXNbaV0uZXRhZy5sZW5ndGgtMSk7XG4gICAgICAgICAgICBpZiAoZGF0YS5pdGVtc1tpXS5taW1lVHlwZSA9PT0gR0RfRElSX01JTUVfVFlQRSkge1xuICAgICAgICAgICAgICBzZWxmLl9maWxlSWRDYWNoZS5zZXQocGF0aCArIGRhdGEuaXRlbXNbaV0udGl0bGUgKyAnLycsIGRhdGEuaXRlbXNbaV0uaWQpO1xuICAgICAgICAgICAgICBpdGVtc01hcFtkYXRhLml0ZW1zW2ldLnRpdGxlICsgJy8nXSA9IHtcbiAgICAgICAgICAgICAgICBFVGFnOiBldGFnV2l0aG91dFF1b3Rlc1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2VsZi5fZmlsZUlkQ2FjaGUuc2V0KHBhdGggKyBkYXRhLml0ZW1zW2ldLnRpdGxlLCBkYXRhLml0ZW1zW2ldLmlkKTtcbiAgICAgICAgICAgICAgaXRlbXNNYXBbZGF0YS5pdGVtc1tpXS50aXRsZV0gPSB7XG4gICAgICAgICAgICAgICAgRVRhZzogZXRhZ1dpdGhvdXRRdW90ZXMsXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6IGRhdGEuaXRlbXNbaV0ubWltZVR5cGUsXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtTGVuZ3RoJzogZGF0YS5pdGVtc1tpXS5maWxlU2l6ZVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBGSVhNRTogYWRkIHJldmlzaW9uIG9mIGZvbGRlciFcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtzdGF0dXNDb2RlOiAyMDAsIGJvZHk6IGl0ZW1zTWFwLCBjb250ZW50VHlwZTogUlNfRElSX01JTUVfVFlQRSwgcmV2aXNpb246IHVuZGVmaW5lZH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBfZ2V0UGFyZW50SWQ6IGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgICB2YXIgZm9sZGVybmFtZSA9IHBhcmVudFBhdGgocGF0aCk7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICByZXR1cm4gc2VsZi5fZ2V0RmlsZUlkKGZvbGRlcm5hbWUpLnRoZW4oZnVuY3Rpb24gKHBhcmVudElkKSB7XG4gICAgICAgIGlmIChwYXJlbnRJZCkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocGFyZW50SWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBzZWxmLl9jcmVhdGVGb2xkZXIoZm9sZGVybmFtZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBfY3JlYXRlRm9sZGVyOiBmdW5jdGlvbiAocGF0aCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgcmV0dXJuIHNlbGYuX2dldFBhcmVudElkKHBhdGgpLnRoZW4oZnVuY3Rpb24gKHBhcmVudElkKSB7XG4gICAgICAgIHJldHVybiBzZWxmLl9yZXF1ZXN0KCdQT1NUJywgQkFTRV9VUkwgKyAnL2RyaXZlL3YyL2ZpbGVzJywge1xuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIHRpdGxlOiBtZXRhVGl0bGVGcm9tRmlsZU5hbWUoYmFzZU5hbWUocGF0aCkpLFxuICAgICAgICAgICAgbWltZVR5cGU6IEdEX0RJUl9NSU1FX1RZUEUsXG4gICAgICAgICAgICBwYXJlbnRzOiBbe1xuICAgICAgICAgICAgICBpZDogcGFyZW50SWRcbiAgICAgICAgICAgIH1dXG4gICAgICAgICAgfSksXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04J1xuICAgICAgICAgIH1cbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICB2YXIgbWV0YSA9IEpTT04ucGFyc2UocmVzcG9uc2UucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG1ldGEuaWQpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBfZ2V0RmlsZUlkOiBmdW5jdGlvbiAocGF0aCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGlkO1xuICAgICAgaWYgKHBhdGggPT09ICcvJykge1xuICAgICAgICAvLyBcInJvb3RcIiBpcyBhIHNwZWNpYWwgYWxpYXMgZm9yIHRoZSBmaWxlSWQgb2YgdGhlIHJvb3QgZm9sZGVyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoJ3Jvb3QnKTtcbiAgICAgIH0gZWxzZSBpZiAoKGlkID0gdGhpcy5fZmlsZUlkQ2FjaGUuZ2V0KHBhdGgpKSkge1xuICAgICAgICAvLyBpZCBpcyBjYWNoZWQuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoaWQpO1xuICAgICAgfVxuICAgICAgLy8gaWQgaXMgbm90IGNhY2hlZCAob3IgZmlsZSBkb2Vzbid0IGV4aXN0KS5cbiAgICAgIC8vIGxvYWQgcGFyZW50IGZvbGRlciBsaXN0aW5nIHRvIHByb3BhZ2F0ZSAvIHVwZGF0ZSBpZCBjYWNoZS5cbiAgICAgIHJldHVybiBzZWxmLl9nZXRGb2xkZXIocGFyZW50UGF0aChwYXRoKSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlkID0gc2VsZi5fZmlsZUlkQ2FjaGUuZ2V0KHBhdGgpO1xuICAgICAgICBpZiAoIWlkKSB7XG4gICAgICAgICAgaWYgKHBhdGguc3Vic3RyKC0xKSA9PT0gJy8nKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VsZi5fY3JlYXRlRm9sZGVyKHBhdGgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICByZXR1cm4gc2VsZi5fZ2V0RmlsZUlkKHBhdGgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShpZCk7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgX2dldE1ldGE6IGZ1bmN0aW9uIChpZCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ0dFVCcsIEJBU0VfVVJMICsgJy9kcml2ZS92Mi9maWxlcy8nICsgaWQsIHt9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKEpTT04ucGFyc2UocmVzcG9uc2UucmVzcG9uc2VUZXh0KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFwicmVxdWVzdCAoZ2V0dGluZyBtZXRhZGF0YSBmb3IgXCIgKyBpZCArIFwiKSBmYWlsZWQgd2l0aCBzdGF0dXM6IFwiICsgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1ldGhvZDogaW5mb1xuICAgICAqXG4gICAgICogRmV0Y2hlcyB0aGUgdXNlcidzIGluZm8gZnJvbSBkcm9wYm94IGFuZCByZXR1cm5zIGEgcHJvbWlzZSBmb3IgaXQuXG4gICAgICpcbiAgICAgKiBSZXR1cm5zOlxuICAgICAqXG4gICAgICogICBBIHByb21pc2UgdG8gdGhlIHVzZXIncyBpbmZvXG4gICAgICovXG4gICAgaW5mbzogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHVybCA9IEJBU0VfVVJMICsgJy9kcml2ZS92Mi9hYm91dCc7XG4gICAgICAvLyByZXF1ZXN0aW5nIHVzZXIgaW5mbyhtYWlubHkgZm9yIHVzZXJBZHJlc3MpXG4gICAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnR0VUJywgdXJsLCB7fSkudGhlbihmdW5jdGlvbiAocmVzcCl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIGluZm8gPSBKU09OLnBhcnNlKHJlc3AucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGluZm8pO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuXG5cbiAgICBfcmVxdWVzdDogZnVuY3Rpb24gKG1ldGhvZCwgdXJsLCBvcHRpb25zKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIGlmICghIG9wdGlvbnMuaGVhZGVycykgeyBvcHRpb25zLmhlYWRlcnMgPSB7fTsgfVxuICAgICAgb3B0aW9ucy5oZWFkZXJzWydBdXRob3JpemF0aW9uJ10gPSAnQmVhcmVyICcgKyBzZWxmLnRva2VuO1xuXG4gICAgICB0aGlzLl9lbWl0KCd3aXJlLWJ1c3knLCB7XG4gICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICBpc0ZvbGRlcjogaXNGb2xkZXIodXJsKVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBXaXJlQ2xpZW50LnJlcXVlc3QuY2FsbCh0aGlzLCBtZXRob2QsIHVybCwgb3B0aW9ucykudGhlbihmdW5jdGlvbih4aHIpIHtcbiAgICAgICAgLy8gR29vZ2xlIHRva2VucyBleHBpcmUgZnJvbSB0aW1lIHRvIHRpbWUuLi5cbiAgICAgICAgaWYgKHhociAmJiB4aHIuc3RhdHVzID09PSA0MDEpIHtcbiAgICAgICAgICBzZWxmLmNvbm5lY3QoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKCFzZWxmLm9ubGluZSkge1xuICAgICAgICAgICAgc2VsZi5vbmxpbmUgPSB0cnVlO1xuICAgICAgICAgICAgc2VsZi5ycy5fZW1pdCgnbmV0d29yay1vbmxpbmUnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2VsZi5fZW1pdCgnd2lyZS1kb25lJywge1xuICAgICAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgICAgICBpc0ZvbGRlcjogaXNGb2xkZXIodXJsKSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWVcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoeGhyKTtcbiAgICAgICAgfVxuICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgaWYgKHNlbGYub25saW5lKSB7XG4gICAgICAgICAgc2VsZi5vbmxpbmUgPSBmYWxzZTtcbiAgICAgICAgICBzZWxmLnJzLl9lbWl0KCduZXR3b3JrLW9mZmxpbmUnKTtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLl9lbWl0KCd3aXJlLWRvbmUnLCB7XG4gICAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgICAgaXNGb2xkZXI6IGlzRm9sZGVyKHVybCksXG4gICAgICAgICAgc3VjY2VzczogZmFsc2VcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBHb29nbGVEcml2ZS5fcnNfaW5pdCA9IGZ1bmN0aW9uIChyZW1vdGVTdG9yYWdlKSB7XG4gICAgdmFyIGNvbmZpZyA9IHJlbW90ZVN0b3JhZ2UuYXBpS2V5cy5nb29nbGVkcml2ZTtcbiAgICBpZiAoY29uZmlnKSB7XG4gICAgICByZW1vdGVTdG9yYWdlLmdvb2dsZWRyaXZlID0gbmV3IEdvb2dsZURyaXZlKHJlbW90ZVN0b3JhZ2UsIGNvbmZpZy5jbGllbnRJZCk7XG4gICAgICBpZiAocmVtb3RlU3RvcmFnZS5iYWNrZW5kID09PSAnZ29vZ2xlZHJpdmUnKSB7XG4gICAgICAgIHJlbW90ZVN0b3JhZ2UuX29yaWdSZW1vdGUgPSByZW1vdGVTdG9yYWdlLnJlbW90ZTtcbiAgICAgICAgcmVtb3RlU3RvcmFnZS5yZW1vdGUgPSByZW1vdGVTdG9yYWdlLmdvb2dsZWRyaXZlO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBHb29nbGVEcml2ZS5fcnNfc3VwcG9ydGVkID0gZnVuY3Rpb24gKHJzKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgR29vZ2xlRHJpdmUuX3JzX2NsZWFudXAgPSBmdW5jdGlvbiAocmVtb3RlU3RvcmFnZSkge1xuICAgIHJlbW90ZVN0b3JhZ2Uuc2V0QmFja2VuZCh1bmRlZmluZWQpO1xuICAgIGlmIChyZW1vdGVTdG9yYWdlLl9vcmlnUmVtb3RlKSB7XG4gICAgICByZW1vdGVTdG9yYWdlLnJlbW90ZSA9IHJlbW90ZVN0b3JhZ2UuX29yaWdSZW1vdGU7XG4gICAgICBkZWxldGUgcmVtb3RlU3RvcmFnZS5fb3JpZ1JlbW90ZTtcbiAgICB9XG4gIH07XG5cblxuICBtb2R1bGUuZXhwb3J0cyA9IEdvb2dsZURyaXZlO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2dvb2dsZWRyaXZlLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==")
},function(module,exports,__webpack_require__){
eval("'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar hasLocalStorage;\n\nfunction emitUnauthorized(r) {\n  if (r.statusCode === 403 || r.statusCode === 401) {\n    this._emit('error', new Authorize.Unauthorized());\n  }\n  return Promise.resolve(r);\n}\n\nvar util = __webpack_require__(2);\nvar Dropbox = __webpack_require__(13);\nvar GoogleDrive = __webpack_require__(15);\nvar Discover = __webpack_require__(12);\nvar BaseClient = __webpack_require__(6);\nvar config = __webpack_require__(5);\nvar Authorize = __webpack_require__(4);\nvar Sync = __webpack_require__(8);\nvar _log = __webpack_require__(1);\nvar Features = __webpack_require__(17);\nvar globalContext = util.getGlobalContext();\nvar eventHandling = __webpack_require__(3);\n\n/**\n * Class: RemoteStorage\n *\n * TODO needs proper introduction and links to relevant classes etc\n *\n * Constructor for remoteStorage object.\n *\n * This class primarily contains feature detection code and convenience API.\n *\n * Depending on which features are built in, it contains different attributes and\n * functions. See the individual features for more information.\n *\n *  (start code)\n *  var remoteStorage = new RemoteStorage({\n *    logging: true,  // defaults to false\n *    cordovaRedirectUri: 'https://app.mygreatapp.com' // defaults to undefined\n *  });\n *  (end code)\n */\nvar RemoteStorage = function RemoteStorage(cfg) {\n  /**\n   * Event: ready\n   *\n   * Fired when ready\n   **/\n  /**\n   * Event: not-connected\n   *\n   * Fired when ready, but no storage connected (\"anonymous mode\")\n   **/\n  /**\n   * Event: connected\n   *\n   * Fired when a remote storage has been connected\n   **/\n  /**\n   * Event: disconnected\n   *\n   * Fired after disconnect\n   **/\n  /**\n   * Event: error\n   *\n   * Fired when an error occurs\n   *\n   * Arguments:\n   * the error\n   **/\n  /**\n   * Event: features-loaded\n   *\n   * Fired when all features are loaded\n   **/\n  /**\n   * Event: connecting\n   *\n   * Fired before webfinger lookup\n   **/\n  /**\n   * Event: authing\n   *\n   * Fired before redirecting to the authing server\n   **/\n  /**\n   * Event: wire-busy\n   *\n   * Fired when a wire request starts\n   **/\n  /**\n   * Event: wire-done\n   *\n   * Fired when a wire request completes\n   **/\n  /**\n   * Event: network-offline\n   *\n   * Fired once when a wire request fails for the first time, and\n   * `remote.online` is set to false\n   **/\n  /**\n   * Event: network-online\n   *\n   * Fired once when a wire request succeeds for the first time after a\n   * failed one, and `remote.online` is set back to true\n   **/\n\n  // Initial configuration property settings.\n  if ((typeof cfg === 'undefined' ? 'undefined' : _typeof(cfg)) === 'object') {\n    util.extend(config, cfg);\n  }\n\n  eventHandling(this, 'ready', 'connected', 'disconnected', 'not-connected', 'conflict', 'error', 'features-loaded', 'connecting', 'authing', 'sync-interval-change', 'wire-busy', 'wire-done', 'network-offline', 'network-online');\n\n  // pending get/put/delete calls.\n  this._pending = [];\n\n  this._setGPD({\n    get: this._pendingGPD('get'),\n    put: this._pendingGPD('put'),\n    delete: this._pendingGPD('delete')\n  });\n\n  this._cleanups = [];\n\n  this._pathHandlers = { change: {} };\n\n  this.apiKeys = {};\n\n  hasLocalStorage = util.localStorageAvailable();\n\n  if (hasLocalStorage) {\n    try {\n      this.apiKeys = JSON.parse(localStorage.getItem('remotestorage:api-keys')) || {};\n    } catch (exc) {\n      // ignored\n    }\n    this.setBackend(localStorage.getItem('remotestorage:backend') || 'remotestorage');\n  }\n\n  var origOn = this.on;\n\n  this.on = function (eventName, handler) {\n    if (eventName === 'ready' && this.remote && this.remote.connected && this._allLoaded) {\n      setTimeout(handler, 0);\n    } else if (eventName === 'features-loaded' && this._allLoaded) {\n      setTimeout(handler, 0);\n    }\n    return origOn.call(this, eventName, handler);\n  };\n\n  // load all features and emit `ready`\n  this._init();\n\n  this.fireInitial = function () {\n    if (this.local) {\n      setTimeout(this.local.fireInitial.bind(this.local), 0);\n    }\n  }.bind(this);\n\n  this.on('ready', this.fireInitial.bind(this));\n};\n\n// TOFIX: Instead of doing this, would be better to only \n// export setAuthURL / getAuthURL from RemoteStorage prototype\nRemoteStorage.Authorize = Authorize;\n\nRemoteStorage.SyncError = Sync.SyncError;\nRemoteStorage.Unauthorized = Authorize.Unauthorized;\nRemoteStorage.DiscoveryError = Discover.DiscoveryError;\n\nRemoteStorage.prototype = {\n  authorize: function authorize(authURL, cordovaRedirectUri) {\n    this.access.setStorageType(this.remote.storageType);\n    var scope = this.access.scopeParameter;\n\n    var redirectUri = globalContext.cordova ? cordovaRedirectUri : String(Authorize.getLocation());\n\n    var clientId = redirectUri.match(/^(https?:\\/\\/[^\\/]+)/)[0];\n\n    Authorize(this, authURL, scope, redirectUri, clientId);\n  },\n\n  impliedauth: function impliedauth(storageApi, redirectUri) {\n    storageApi = this.remote.storageApi;\n    redirectUri = String(document.location);\n\n    _log('ImpliedAuth proceeding due to absent authURL; storageApi = ' + storageApi + ' redirectUri = ' + redirectUri);\n    // Set a fixed access token, signalling to not send it as Bearer\n    this.remote.configure({\n      token: Authorize.IMPLIED_FAKE_TOKEN\n    });\n    document.location = redirectUri;\n  },\n  /**\n   * Property: remote\n   *\n   * Properties:\n   *\n   *   connected   - Boolean, whether or not a remote store is connected\n   *   online      - Boolean, whether last sync action was successful or not\n   *   userAddress - String, the user address of the connected user\n   *   properties  - String, the properties of the WebFinger link\n   */\n\n  /**\n   * Method: scope\n   *\n   * Returns a BaseClient with a certain scope (base path). Please use this method\n   * only for debugging, and always use defineModule instead, to get access to a\n   * BaseClient from a module in an app.\n   *\n   * Parameters:\n   *\n   *   scope - A string, with a leading and a trailing slash, specifying the\n   *           base path of the BaseClient that will be returned.\n   *\n   * Code example:\n   *\n   * (start code)\n   * remoteStorage.scope('/pictures/').getListing('');\n   * remoteStorage.scope('/public/pictures/').getListing('');\n   */\n\n  /**\n   * Method: startSync\n   *\n   * Start synchronization with remote storage, downloading and uploading any\n   * changes within the cached paths.\n   *\n   * Please consider: local changes will attempt sync immediately, and remote\n   * changes should also be synced timely when using library defaults. So\n   * this is mostly useful for letting users sync manually, when pressing a\n   * sync button for example. This might feel safer to them sometimes, esp.\n   * when shifting between offline and online a lot.\n   */\n  // (see src/sync.js for implementation)\n\n  /**\n   * Method: connect\n   *\n   * Connect to a remoteStorage server.\n   *\n   * Parameters:\n   *   userAddress        - The user address (user@host) to connect to.\n   *   token              - (optional) A bearer token acquired beforehand\n   *\n   * Discovers the WebFinger profile of the given user address and initiates\n   * the OAuth dance.\n   *\n   * This method must be called *after* all required access has been claimed.\n   * When using the connect widget, it will call this method itself.\n   *\n   * Special cases:\n   *\n   * 1. If a bearer token is supplied as second argument, the OAuth dance\n   *    will be skipped and the supplied token be used instead. This is\n   *    useful outside of browser environments, where the token has been\n   *    acquired in a different way.\n   *\n   * 2. If the Webfinger profile for the given user address doesn't contain\n   *    an auth URL, the library will assume that client and server have\n   *    established authorization among themselves, which will omit bearer\n   *    tokens in all requests later on. This is useful for example when using\n   *    Kerberos and similar protocols.\n   */\n  connect: function connect(userAddress, token) {\n    this.setBackend('remotestorage');\n    if (userAddress.indexOf('@') < 0) {\n      this._emit('error', new RemoteStorage.DiscoveryError(\"User address doesn't contain an @.\"));\n      return;\n    }\n\n    if (globalContext.cordova) {\n      if (typeof config.cordovaRedirectUri !== 'string') {\n        this._emit('error', new RemoteStorage.DiscoveryError(\"Please supply a custom HTTPS redirect URI for your Cordova app\"));\n        return;\n      }\n      if (!globalContext.cordova.InAppBrowser) {\n        this._emit('error', new RemoteStorage.DiscoveryError(\"Please include the InAppBrowser Cordova plugin to enable OAuth\"));\n        return;\n      }\n    }\n\n    this.remote.configure({\n      userAddress: userAddress\n    });\n    this._emit('connecting');\n\n    var discoveryTimeout = setTimeout(function () {\n      this._emit('error', new RemoteStorage.DiscoveryError(\"No storage information found for this user address.\"));\n    }.bind(this), config.discoveryTimeout);\n\n    Discover(userAddress).then(function (info) {\n      // Info contains fields: href, storageApi, authURL (optional), properties\n\n      clearTimeout(discoveryTimeout);\n      this._emit('authing');\n      info.userAddress = userAddress;\n      this.remote.configure(info);\n      if (!this.remote.connected) {\n        if (info.authURL) {\n          if (typeof token === 'undefined') {\n            // Normal authorization step; the default way to connect\n            this.authorize(info.authURL, config.cordovaRedirectUri);\n          } else if (typeof token === 'string') {\n            // Token supplied directly by app/developer/user\n            _log('Skipping authorization sequence and connecting with known token');\n            this.remote.configure({ token: token });\n          } else {\n            throw new Error(\"Supplied bearer token must be a string\");\n          }\n        } else {\n          // In lieu of an excplicit authURL, assume that the browser and\n          // server handle any authorization needs; for instance, TLS may\n          // trigger the browser to use a client certificate, or a 401 Not\n          // Authorized response may make the browser send a Kerberos ticket\n          // using the SPNEGO method.\n          this.impliedauth();\n        }\n      }\n    }.bind(this), function (err) {\n      clearTimeout(discoveryTimeout);\n      this._emit('error', new RemoteStorage.DiscoveryError(\"No storage information found for this user address.\"));\n    }.bind(this));\n  },\n\n  /**\n   * Method: disconnect\n   *\n   * \"Disconnect\" from remotestorage server to terminate current session.\n   * This method clears all stored settings and deletes the entire local\n   * cache.\n   */\n  disconnect: function disconnect() {\n    if (this.remote) {\n      this.remote.configure({\n        userAddress: null,\n        href: null,\n        storageApi: null,\n        token: null,\n        properties: null\n      });\n    }\n    this._setGPD({\n      get: this._pendingGPD('get'),\n      put: this._pendingGPD('put'),\n      delete: this._pendingGPD('delete')\n    });\n    var n = this._cleanups.length,\n        i = 0;\n\n    var oneDone = function () {\n      i++;\n      if (i >= n) {\n        this._init();\n        _log('Done cleaning up, emitting disconnected and disconnect events');\n        this._emit('disconnected');\n      }\n    }.bind(this);\n\n    if (n > 0) {\n      this._cleanups.forEach(function (cleanup) {\n        var cleanupResult = cleanup(this);\n        if ((typeof cleanupResult === 'undefined' ? 'undefined' : _typeof(cleanupResult)) === 'object' && typeof cleanupResult.then === 'function') {\n          cleanupResult.then(oneDone);\n        } else {\n          oneDone();\n        }\n      }.bind(this));\n    } else {\n      oneDone();\n    }\n  },\n\n  setBackend: function setBackend(what) {\n    this.backend = what;\n    if (hasLocalStorage) {\n      if (what) {\n        localStorage.setItem('remotestorage:backend', what);\n      } else {\n        localStorage.removeItem('remotestorage:backend');\n      }\n    }\n  },\n\n  /**\n   * Method: onChange\n   *\n   * Add a \"change\" event handler to the given path. Whenever a \"change\"\n   * happens (as determined by the backend, such as e.g.\n   * <RemoteStorage.IndexedDB>) and the affected path is equal to or below\n   * the given 'path', the given handler is called.\n   *\n   * You should usually not use this method directly, but instead use the\n   * \"change\" events provided by <RemoteStorage.BaseClient>.\n   *\n   * Parameters:\n   *   path    - Absolute path to attach handler to.\n   *   handler - Handler function.\n   */\n  onChange: function onChange(path, handler) {\n    if (!this._pathHandlers.change[path]) {\n      this._pathHandlers.change[path] = [];\n    }\n    this._pathHandlers.change[path].push(handler);\n  },\n\n  /**\n   * Method: enableLog\n   *\n   * Enable remoteStorage logging.\n   */\n  enableLog: function enableLog() {\n    config.logging = true;\n  },\n\n  /**\n   * Method: disableLog\n   *\n   * Disable remoteStorage logging\n   */\n  disableLog: function disableLog() {\n    config.logging = false;\n  },\n\n  /**\n   * Method: log\n   *\n   * The same as <RemoteStorage.log>.\n   */\n  log: function log() {\n    _log.apply(RemoteStorage, arguments);\n  },\n\n  /**\n   * Method: setApiKeys (experimental)\n   *\n   * Set API keys for (currently) GoogleDrive and/or Dropbox backend support.\n   * See also the 'backends' example in the starter-kit. Note that support for\n   * both these backends is still experimental.\n   *\n   * Parameters:\n   *   type - string, either 'googledrive' or 'dropbox'\n   *   keys - object, with one string field; 'clientId' for GoogleDrive, or\n   *          'appKey' for Dropbox.\n   *\n   */\n  setApiKeys: function setApiKeys(type, keys) {\n    if (keys) {\n      this.apiKeys[type] = keys;\n      if (type === 'dropbox' && (typeof this.dropbox === 'undefined' || this.dropbox.clientId !== keys.appKey)) {\n        Dropbox._rs_init(this);\n      } else if (type === 'googledrive' && (typeof this.googledrive === 'undefined' || this.googledrive.clientId !== keys.clientId)) {\n        GoogleDrive._rs_init(this);\n      }\n    } else {\n      delete this.apiKeys[type];\n    }\n    if (hasLocalStorage) {\n      localStorage.setItem('remotestorage:api-keys', JSON.stringify(this.apiKeys));\n    }\n  },\n\n  /**\n   * Method: setCordovaRedirectUri\n   *\n   * Set redirect URI to be used for the OAuth redirect within the\n   * in-app-browser window in Cordova apps.\n   *\n   * Parameters:\n   *   uri - string, valid HTTP(S) URI\n   */\n  setCordovaRedirectUri: function setCordovaRedirectUri(uri) {\n    if (typeof uri !== 'string' || !uri.match(/http(s)?\\:\\/\\//)) {\n      throw new Error(\"Cordova redirect URI must be a URI string\");\n    }\n    config.cordovaRedirectUri = uri;\n  },\n\n  /* FEATURES INITIALIZATION */\n  _init: Features.loadFeatures,\n  features: Features.features,\n  loadFeature: Features.loadFeature,\n  featureSupported: Features.featureSupported,\n  featureDone: Features.featureDone,\n  featuresDone: Features.featuresDone,\n  featuresLoaded: Features.featuresLoaded,\n  featureInitialized: Features.featureInitialized,\n  featureFailed: Features.featureFailed,\n  hasFeature: Features.hasFeature,\n  _setCachingModule: Features._setCachingModule,\n  _collectCleanupFunctions: Features._collectCleanupFunctions,\n  _fireReady: Features._fireReady,\n  initFeature: Features.initFeature,\n\n  /**\n   * TOFIX: needs some explanation on this -les\n   ** GET/PUT/DELETE INTERFACE HELPERS\n   **/\n\n  _setGPD: function _setGPD(impl, context) {\n    function wrap(func) {\n      return function () {\n        return func.apply(context, arguments).then(emitUnauthorized.bind(this));\n      };\n    }\n    this.get = wrap(impl.get);\n    this.put = wrap(impl.put);\n    this.delete = wrap(impl.delete);\n  },\n\n  _pendingGPD: function _pendingGPD(methodName) {\n    return function () {\n      var methodArguments = Array.prototype.slice.call(arguments);\n      return new Promise(function (resolve, reject) {\n        this._pending.push({\n          method: methodName,\n          args: methodArguments,\n          promise: {\n            resolve: resolve,\n            reject: reject\n          }\n        });\n      }.bind(this));\n    }.bind(this);\n  },\n\n  _processPending: function _processPending() {\n    this._pending.forEach(function (pending) {\n      try {\n        this[pending.method].apply(this, pending.args).then(pending.promise.resolve, pending.promise.reject);\n      } catch (e) {\n        pending.promise.reject(e);\n      }\n    }.bind(this));\n    this._pending = [];\n  },\n\n  /**\n   ** CHANGE EVENT HANDLING\n   **/\n  _bindChange: function _bindChange(object) {\n    object.on('change', this._dispatchEvent.bind(this, 'change'));\n  },\n\n  _dispatchEvent: function _dispatchEvent(eventName, event) {\n    var self = this;\n    Object.keys(this._pathHandlers[eventName]).forEach(function (path) {\n      var pl = path.length;\n      if (event.path.substr(0, pl) === path) {\n        self._pathHandlers[eventName][path].forEach(function (handler) {\n          var ev = {};\n          for (var key in event) {\n            ev[key] = event[key];\n          }\n          ev.relativePath = event.path.replace(new RegExp('^' + path), '');\n          try {\n            handler(ev);\n          } catch (e) {\n            console.error(\"'change' handler failed: \", e, e.stack);\n            self._emit('error', e);\n          }\n        });\n      }\n    });\n  },\n\n  scope: function scope(path) {\n    if (typeof path !== 'string') {\n      throw 'Argument \\'path\\' of baseClient.scope must be a string';\n    }\n\n    if (!this.access.checkPathPermission(path, 'r')) {\n      var escapedPath = path.replace(/(['\\\\])/g, '\\\\$1');\n      console.warn('WARNING: please call remoteStorage.access.claim(\\'' + escapedPath + '\\', \\'r\\') (read only) or remoteStorage.access.claim(\\'' + escapedPath + '\\', \\'rw\\') (read/write) first');\n    }\n    return new BaseClient(this, path);\n  },\n\n  /**\n   * Method: getSyncInterval\n   *\n   * Get the value of the sync interval when application is in the foreground\n   *\n   * Returns a number of milliseconds\n   *\n  //  */\n  getSyncInterval: function getSyncInterval() {\n    return config.syncInterval;\n  },\n\n  /**\n   * Method: setSyncInterval\n   *\n   * Set the value of the sync interval when application is in the foreground\n   *\n   * Parameters:\n   *   interval - sync interval in milliseconds\n   *\n   */\n  setSyncInterval: function setSyncInterval(interval) {\n    if (!isValidInterval(interval)) {\n      throw interval + \" is not a valid sync interval\";\n    }\n    var oldValue = config.syncInterval;\n    config.syncInterval = parseInt(interval, 10);\n    this._emit('sync-interval-change', { oldValue: oldValue, newValue: interval });\n  },\n\n  /**\n   * Method: getBackgroundSyncInterval\n   *\n   * Get the value of the sync interval when application is in the background\n   *\n   * Returns a number of milliseconds\n   *\n   */\n  getBackgroundSyncInterval: function getBackgroundSyncInterval() {\n    return config.backgroundSyncInterval;\n  },\n\n  /**\n   * Method: setBackgroundSyncInterval\n   *\n   * Set the value of the sync interval when the application is in the background\n   *\n   * Parameters:\n   *   interval - sync interval in milliseconds\n   *\n   */\n  setBackgroundSyncInterval: function setBackgroundSyncInterval(interval) {\n    if (!isValidInterval(interval)) {\n      throw interval + \" is not a valid sync interval\";\n    }\n    var oldValue = config.backgroundSyncInterval;\n    config.backgroundSyncInterval = parseInt(interval, 10);\n    this._emit('sync-interval-change', { oldValue: oldValue, newValue: interval });\n  },\n\n  /**\n   * Method: getCurrentSyncInterval\n   *\n   * Get the value of the current sync interval\n   *\n   * Returns a number of milliseconds\n   *\n   */\n  getCurrentSyncInterval: function getCurrentSyncInterval() {\n    return config.isBackground ? config.backgroundSyncInterval : config.syncInterval;\n  },\n\n  syncCycle: function syncCycle() {\n    if (this.sync.stopped) {\n      return;\n    }\n\n    this.sync.on('done', function () {\n      _log('[Sync] Sync done. Setting timer to', this.getCurrentSyncInterval());\n      if (!this.sync.stopped) {\n        if (this._syncTimer) {\n          clearTimeout(this._syncTimer);\n        }\n        this._syncTimer = setTimeout(this.sync.sync.bind(this.sync), this.getCurrentSyncInterval());\n      }\n    }.bind(this));\n\n    this.sync.sync();\n  },\n\n  stopSync: function stopSync() {\n    if (this.sync) {\n      _log('[Sync] Stopping sync');\n      this.sync.stopped = true;\n    } else {\n      // TODO When is this ever the case and what is syncStopped for then?\n      _log('[Sync] Will instantiate sync stopped');\n      this.syncStopped = true;\n    }\n  },\n\n  startSync: function startSync() {\n    if (!config.cache) {\n      return;\n    }\n    this.sync.stopped = false;\n    this.syncStopped = false;\n    this.sync.sync();\n  }\n\n};\n\n/**\n* Check if interval is valid: numeric and between 1000ms and 3600000ms\n*\n*/\nfunction isValidInterval(interval) {\n  return typeof interval === 'number' && interval > 1000 && interval < 3600000;\n}\n\nRemoteStorage.util = util;\n// RemoteStorage.defineModule = modules.defineModule;\n\n/**\n * Property: connected\n *\n * Boolean property indicating if remoteStorage is currently connected.\n */\nObject.defineProperty(RemoteStorage.prototype, 'connected', {\n  get: function get() {\n    return this.remote.connected;\n  }\n});\n\n/**\n * Property: access\n *\n * Tracking claimed access scopes. A <RemoteStorage.Access> instance.\n*/\nvar Access = __webpack_require__(10);\nObject.defineProperty(RemoteStorage.prototype, 'access', {\n  get: function get() {\n    var access = new Access();\n    Object.defineProperty(this, 'access', {\n      value: access\n    });\n    return access;\n  },\n  configurable: true\n});\n\n// TODO clean up/harmonize how modules are loaded and/or document this architecture properly\n//\n// At this point the remoteStorage object has not been created yet.\n// Only its prototype exists so far, so we define a self-constructing\n// property on there:\n/**\n *\n * Property: caching\n *\n * Caching settings. A <RemoteStorage.Caching> instance.\n *\n * Not available in no-cache builds.\n *\n */\n\n// TOFIX was in rs_init of Caching but don't want to require RemoteStorage from there.\nvar Caching = __webpack_require__(11);\nObject.defineProperty(RemoteStorage.prototype, 'caching', {\n  configurable: true,\n  get: function get() {\n    var caching = new Caching();\n    Object.defineProperty(this, 'caching', {\n      value: caching\n    });\n    return caching;\n  }\n});\n\n/*\n* Property: remote\n*\n* Access to the remote backend used. Usually a <RemoteStorage.WireClient>.\n*\n*\n* Property: local\n*\n* Access to the local caching backend used. Usually either a\n* <RemoteStorage.IndexedDB> or <RemoteStorage.LocalStorage> instance.\n*\n* Not available in no-cache builds.\n*/\n\nmodule.exports = RemoteStorage;\n__webpack_require__(21);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcmVtb3Rlc3RvcmFnZS5qcz9hMTc4Il0sIm5hbWVzIjpbImhhc0xvY2FsU3RvcmFnZSIsImVtaXRVbmF1dGhvcml6ZWQiLCJyIiwic3RhdHVzQ29kZSIsIl9lbWl0IiwiQXV0aG9yaXplIiwiVW5hdXRob3JpemVkIiwiUHJvbWlzZSIsInJlc29sdmUiLCJ1dGlsIiwicmVxdWlyZSIsIkRyb3Bib3giLCJHb29nbGVEcml2ZSIsIkRpc2NvdmVyIiwiQmFzZUNsaWVudCIsImNvbmZpZyIsIlN5bmMiLCJsb2ciLCJGZWF0dXJlcyIsImdsb2JhbENvbnRleHQiLCJnZXRHbG9iYWxDb250ZXh0IiwiZXZlbnRIYW5kbGluZyIsIlJlbW90ZVN0b3JhZ2UiLCJjZmciLCJleHRlbmQiLCJfcGVuZGluZyIsIl9zZXRHUEQiLCJnZXQiLCJfcGVuZGluZ0dQRCIsInB1dCIsImRlbGV0ZSIsIl9jbGVhbnVwcyIsIl9wYXRoSGFuZGxlcnMiLCJjaGFuZ2UiLCJhcGlLZXlzIiwibG9jYWxTdG9yYWdlQXZhaWxhYmxlIiwiSlNPTiIsInBhcnNlIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImV4YyIsInNldEJhY2tlbmQiLCJvcmlnT24iLCJvbiIsImV2ZW50TmFtZSIsImhhbmRsZXIiLCJyZW1vdGUiLCJjb25uZWN0ZWQiLCJfYWxsTG9hZGVkIiwic2V0VGltZW91dCIsImNhbGwiLCJfaW5pdCIsImZpcmVJbml0aWFsIiwibG9jYWwiLCJiaW5kIiwiU3luY0Vycm9yIiwiRGlzY292ZXJ5RXJyb3IiLCJwcm90b3R5cGUiLCJhdXRob3JpemUiLCJhdXRoVVJMIiwiY29yZG92YVJlZGlyZWN0VXJpIiwiYWNjZXNzIiwic2V0U3RvcmFnZVR5cGUiLCJzdG9yYWdlVHlwZSIsInNjb3BlIiwic2NvcGVQYXJhbWV0ZXIiLCJyZWRpcmVjdFVyaSIsImNvcmRvdmEiLCJTdHJpbmciLCJnZXRMb2NhdGlvbiIsImNsaWVudElkIiwibWF0Y2giLCJpbXBsaWVkYXV0aCIsInN0b3JhZ2VBcGkiLCJkb2N1bWVudCIsImxvY2F0aW9uIiwiY29uZmlndXJlIiwidG9rZW4iLCJJTVBMSUVEX0ZBS0VfVE9LRU4iLCJjb25uZWN0IiwidXNlckFkZHJlc3MiLCJpbmRleE9mIiwiSW5BcHBCcm93c2VyIiwiZGlzY292ZXJ5VGltZW91dCIsInRoZW4iLCJpbmZvIiwiY2xlYXJUaW1lb3V0IiwiRXJyb3IiLCJlcnIiLCJkaXNjb25uZWN0IiwiaHJlZiIsInByb3BlcnRpZXMiLCJuIiwibGVuZ3RoIiwiaSIsIm9uZURvbmUiLCJmb3JFYWNoIiwiY2xlYW51cCIsImNsZWFudXBSZXN1bHQiLCJ3aGF0IiwiYmFja2VuZCIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwib25DaGFuZ2UiLCJwYXRoIiwicHVzaCIsImVuYWJsZUxvZyIsImxvZ2dpbmciLCJkaXNhYmxlTG9nIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJzZXRBcGlLZXlzIiwidHlwZSIsImtleXMiLCJkcm9wYm94IiwiYXBwS2V5IiwiX3JzX2luaXQiLCJnb29nbGVkcml2ZSIsInN0cmluZ2lmeSIsInNldENvcmRvdmFSZWRpcmVjdFVyaSIsInVyaSIsImxvYWRGZWF0dXJlcyIsImZlYXR1cmVzIiwibG9hZEZlYXR1cmUiLCJmZWF0dXJlU3VwcG9ydGVkIiwiZmVhdHVyZURvbmUiLCJmZWF0dXJlc0RvbmUiLCJmZWF0dXJlc0xvYWRlZCIsImZlYXR1cmVJbml0aWFsaXplZCIsImZlYXR1cmVGYWlsZWQiLCJoYXNGZWF0dXJlIiwiX3NldENhY2hpbmdNb2R1bGUiLCJfY29sbGVjdENsZWFudXBGdW5jdGlvbnMiLCJfZmlyZVJlYWR5IiwiaW5pdEZlYXR1cmUiLCJpbXBsIiwiY29udGV4dCIsIndyYXAiLCJmdW5jIiwibWV0aG9kTmFtZSIsIm1ldGhvZEFyZ3VtZW50cyIsIkFycmF5Iiwic2xpY2UiLCJyZWplY3QiLCJtZXRob2QiLCJhcmdzIiwicHJvbWlzZSIsIl9wcm9jZXNzUGVuZGluZyIsInBlbmRpbmciLCJlIiwiX2JpbmRDaGFuZ2UiLCJvYmplY3QiLCJfZGlzcGF0Y2hFdmVudCIsImV2ZW50Iiwic2VsZiIsIk9iamVjdCIsInBsIiwic3Vic3RyIiwiZXYiLCJrZXkiLCJyZWxhdGl2ZVBhdGgiLCJyZXBsYWNlIiwiUmVnRXhwIiwiY29uc29sZSIsImVycm9yIiwic3RhY2siLCJjaGVja1BhdGhQZXJtaXNzaW9uIiwiZXNjYXBlZFBhdGgiLCJ3YXJuIiwiZ2V0U3luY0ludGVydmFsIiwic3luY0ludGVydmFsIiwic2V0U3luY0ludGVydmFsIiwiaW50ZXJ2YWwiLCJpc1ZhbGlkSW50ZXJ2YWwiLCJvbGRWYWx1ZSIsInBhcnNlSW50IiwibmV3VmFsdWUiLCJnZXRCYWNrZ3JvdW5kU3luY0ludGVydmFsIiwiYmFja2dyb3VuZFN5bmNJbnRlcnZhbCIsInNldEJhY2tncm91bmRTeW5jSW50ZXJ2YWwiLCJnZXRDdXJyZW50U3luY0ludGVydmFsIiwiaXNCYWNrZ3JvdW5kIiwic3luY0N5Y2xlIiwic3luYyIsInN0b3BwZWQiLCJfc3luY1RpbWVyIiwic3RvcFN5bmMiLCJzeW5jU3RvcHBlZCIsInN0YXJ0U3luYyIsImNhY2hlIiwiZGVmaW5lUHJvcGVydHkiLCJBY2Nlc3MiLCJ2YWx1ZSIsImNvbmZpZ3VyYWJsZSIsIkNhY2hpbmciLCJjYWNoaW5nIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7QUFDRSxJQUFJQSxlQUFKOztBQUVBLFNBQVNDLGdCQUFULENBQTBCQyxDQUExQixFQUE2QjtBQUMzQixNQUFJQSxFQUFFQyxVQUFGLEtBQWlCLEdBQWpCLElBQXlCRCxFQUFFQyxVQUFGLEtBQWlCLEdBQTlDLEVBQW1EO0FBQ2pELFNBQUtDLEtBQUwsQ0FBVyxPQUFYLEVBQW9CLElBQUlDLFVBQVVDLFlBQWQsRUFBcEI7QUFDRDtBQUNELFNBQU9DLFFBQVFDLE9BQVIsQ0FBZ0JOLENBQWhCLENBQVA7QUFDRDs7QUFFRCxJQUFNTyxPQUFPLG1CQUFBQyxDQUFRLENBQVIsQ0FBYjtBQUNBLElBQU1DLFVB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O0FBV0M7Ozs7Ozs7Ozs7Ozs7O0FBZUhDLE9BQU9DLE9BQVAsR0FBaUIvSyxhQUFqQjtBQUNBLG1CQUFBWixDQUFRLEVBQVIiLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG4gIHZhciBoYXNMb2NhbFN0b3JhZ2U7XG5cbiAgZnVuY3Rpb24gZW1pdFVuYXV0aG9yaXplZChyKSB7XG4gICAgaWYgKHIuc3RhdHVzQ29kZSA9PT0gNDAzICB8fCByLnN0YXR1c0NvZGUgPT09IDQwMSkge1xuICAgICAgdGhpcy5fZW1pdCgnZXJyb3InLCBuZXcgQXV0aG9yaXplLlVuYXV0aG9yaXplZCgpKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyKTtcbiAgfVxuXG4gIGNvbnN0IHV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcbiAgY29uc3QgRHJvcGJveCA9IHJlcXVpcmUoJy4vZHJvcGJveCcpO1xuICBjb25zdCBHb29nbGVEcml2ZSA9IHJlcXVpcmUoJy4vZ29vZ2xlZHJpdmUnKTtcbiAgY29uc3QgRGlzY292ZXIgPSByZXF1aXJlKCcuL2Rpc2NvdmVyJyk7XG4gIGNvbnN0IEJhc2VDbGllbnQgPSByZXF1aXJlKCcuL2Jhc2VjbGllbnQnKTtcbiAgY29uc3QgY29uZmlnID0gcmVxdWlyZSgnLi9jb25maWcnKTtcbiAgY29uc3QgQXV0aG9yaXplID0gcmVxdWlyZSgnLi9hdXRob3JpemUnKTtcbiAgY29uc3QgU3luYyA9IHJlcXVpcmUoJy4vc3luYycpO1xuICBjb25zdCBsb2cgPSByZXF1aXJlKCcuL2xvZycpO1xuICBjb25zdCBGZWF0dXJlcyA9IHJlcXVpcmUoJy4vZmVhdHVyZXMnKTtcbiAgY29uc3QgZ2xvYmFsQ29udGV4dCA9IHV0aWwuZ2V0R2xvYmFsQ29udGV4dCgpO1xuICBjb25zdCBldmVudEhhbmRsaW5nID0gcmVxdWlyZSgnLi9ldmVudGhhbmRsaW5nJyk7XG5cblxuICAvKipcbiAgICogQ2xhc3M6IFJlbW90ZVN0b3JhZ2VcbiAgICpcbiAgICogVE9ETyBuZWVkcyBwcm9wZXIgaW50cm9kdWN0aW9uIGFuZCBsaW5rcyB0byByZWxldmFudCBjbGFzc2VzIGV0Y1xuICAgKlxuICAgKiBDb25zdHJ1Y3RvciBmb3IgcmVtb3RlU3RvcmFnZSBvYmplY3QuXG4gICAqXG4gICAqIFRoaXMgY2xhc3MgcHJpbWFyaWx5IGNvbnRhaW5zIGZlYXR1cmUgZGV0ZWN0aW9uIGNvZGUgYW5kIGNvbnZlbmllbmNlIEFQSS5cbiAgICpcbiAgICogRGVwZW5kaW5nIG9uIHdoaWNoIGZlYXR1cmVzIGFyZSBidWlsdCBpbiwgaXQgY29udGFpbnMgZGlmZmVyZW50IGF0dHJpYnV0ZXMgYW5kXG4gICAqIGZ1bmN0aW9ucy4gU2VlIHRoZSBpbmRpdmlkdWFsIGZlYXR1cmVzIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgKlxuICAgKiAgKHN0YXJ0IGNvZGUpXG4gICAqICB2YXIgcmVtb3RlU3RvcmFnZSA9IG5ldyBSZW1vdGVTdG9yYWdlKHtcbiAgICogICAgbG9nZ2luZzogdHJ1ZSwgIC8vIGRlZmF1bHRzIHRvIGZhbHNlXG4gICAqICAgIGNvcmRvdmFSZWRpcmVjdFVyaTogJ2h0dHBzOi8vYXBwLm15Z3JlYXRhcHAuY29tJyAvLyBkZWZhdWx0cyB0byB1bmRlZmluZWRcbiAgICogIH0pO1xuICAgKiAgKGVuZCBjb2RlKVxuICAgKi9cbiAgdmFyIFJlbW90ZVN0b3JhZ2UgPSBmdW5jdGlvbiAoY2ZnKSB7XG4gICAgLyoqXG4gICAgICogRXZlbnQ6IHJlYWR5XG4gICAgICpcbiAgICAgKiBGaXJlZCB3aGVuIHJlYWR5XG4gICAgICoqL1xuICAgIC8qKlxuICAgICAqIEV2ZW50OiBub3QtY29ubmVjdGVkXG4gICAgICpcbiAgICAgKiBGaXJlZCB3aGVuIHJlYWR5LCBidXQgbm8gc3RvcmFnZSBjb25uZWN0ZWQgKFwiYW5vbnltb3VzIG1vZGVcIilcbiAgICAgKiovXG4gICAgLyoqXG4gICAgICogRXZlbnQ6IGNvbm5lY3RlZFxuICAgICAqXG4gICAgICogRmlyZWQgd2hlbiBhIHJlbW90ZSBzdG9yYWdlIGhhcyBiZWVuIGNvbm5lY3RlZFxuICAgICAqKi9cbiAgICAvKipcbiAgICAgKiBFdmVudDogZGlzY29ubmVjdGVkXG4gICAgICpcbiAgICAgKiBGaXJlZCBhZnRlciBkaXNjb25uZWN0XG4gICAgICoqL1xuICAgIC8qKlxuICAgICAqIEV2ZW50OiBlcnJvclxuICAgICAqXG4gICAgICogRmlyZWQgd2hlbiBhbiBlcnJvciBvY2N1cnNcbiAgICAgKlxuICAgICAqIEFyZ3VtZW50czpcbiAgICAgKiB0aGUgZXJyb3JcbiAgICAgKiovXG4gICAgLyoqXG4gICAgICogRXZlbnQ6IGZlYXR1cmVzLWxvYWRlZFxuICAgICAqXG4gICAgICogRmlyZWQgd2hlbiBhbGwgZmVhdHVyZXMgYXJlIGxvYWRlZFxuICAgICAqKi9cbiAgICAvKipcbiAgICAgKiBFdmVudDogY29ubmVjdGluZ1xuICAgICAqXG4gICAgICogRmlyZWQgYmVmb3JlIHdlYmZpbmdlciBsb29rdXBcbiAgICAgKiovXG4gICAgLyoqXG4gICAgICogRXZlbnQ6IGF1dGhpbmdcbiAgICAgKlxuICAgICAqIEZpcmVkIGJlZm9yZSByZWRpcmVjdGluZyB0byB0aGUgYXV0aGluZyBzZXJ2ZXJcbiAgICAgKiovXG4gICAgLyoqXG4gICAgICogRXZlbnQ6IHdpcmUtYnVzeVxuICAgICAqXG4gICAgICogRmlyZWQgd2hlbiBhIHdpcmUgcmVxdWVzdCBzdGFydHNcbiAgICAgKiovXG4gICAgLyoqXG4gICAgICogRXZlbnQ6IHdpcmUtZG9uZVxuICAgICAqXG4gICAgICogRmlyZWQgd2hlbiBhIHdpcmUgcmVxdWVzdCBjb21wbGV0ZXNcbiAgICAgKiovXG4gICAgLyoqXG4gICAgICogRXZlbnQ6IG5ldHdvcmstb2ZmbGluZVxuICAgICAqXG4gICAgICogRmlyZWQgb25jZSB3aGVuIGEgd2lyZSByZXF1ZXN0IGZhaWxzIGZvciB0aGUgZmlyc3QgdGltZSwgYW5kXG4gICAgICogYHJlbW90ZS5vbmxpbmVgIGlzIHNldCB0byBmYWxzZVxuICAgICAqKi9cbiAgICAvKipcbiAgICAgKiBFdmVudDogbmV0d29yay1vbmxpbmVcbiAgICAgKlxuICAgICAqIEZpcmVkIG9uY2Ugd2hlbiBhIHdpcmUgcmVxdWVzdCBzdWNjZWVkcyBmb3IgdGhlIGZpcnN0IHRpbWUgYWZ0ZXIgYVxuICAgICAqIGZhaWxlZCBvbmUsIGFuZCBgcmVtb3RlLm9ubGluZWAgaXMgc2V0IGJhY2sgdG8gdHJ1ZVxuICAgICAqKi9cblxuICAgIC8vIEluaXRpYWwgY29uZmlndXJhdGlvbiBwcm9wZXJ0eSBzZXR0aW5ncy5cbiAgICBpZiAodHlwZW9mIGNmZyA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHV0aWwuZXh0ZW5kKGNvbmZpZywgY2ZnKTtcbiAgICB9XG5cbiAgICBldmVudEhhbmRsaW5nKFxuICAgICAgdGhpcywgJ3JlYWR5JywgJ2Nvbm5lY3RlZCcsICdkaXNjb25uZWN0ZWQnLCAnbm90LWNvbm5lY3RlZCcsICdjb25mbGljdCcsXG4gICAgICAgICAgICAnZXJyb3InLCAnZmVhdHVyZXMtbG9hZGVkJywgJ2Nvbm5lY3RpbmcnLCAnYXV0aGluZycsXG4gICAgICAgICAgICAnc3luYy1pbnRlcnZhbC1jaGFuZ2UnLCAnd2lyZS1idXN5JywgJ3dpcmUtZG9uZScsXG4gICAgICAgICAgICAnbmV0d29yay1vZmZsaW5lJywgJ25ldHdvcmstb25saW5lJ1xuICAgICk7XG5cbiAgICAvLyBwZW5kaW5nIGdldC9wdXQvZGVsZXRlIGNhbGxzLlxuICAgIHRoaXMuX3BlbmRpbmcgPSBbXTtcblxuICAgIHRoaXMuX3NldEdQRCh7XG4gICAgICBnZXQ6IHRoaXMuX3BlbmRpbmdHUEQoJ2dldCcpLFxuICAgICAgcHV0OiB0aGlzLl9wZW5kaW5nR1BEKCdwdXQnKSxcbiAgICAgIGRlbGV0ZTogdGhpcy5fcGVuZGluZ0dQRCgnZGVsZXRlJylcbiAgICB9KTtcblxuICAgIHRoaXMuX2NsZWFudXBzID0gW107XG5cbiAgICB0aGlzLl9wYXRoSGFuZGxlcnMgPSB7IGNoYW5nZToge30gfTtcblxuICAgIHRoaXMuYXBpS2V5cyA9IHt9O1xuXG4gICAgaGFzTG9jYWxTdG9yYWdlID0gdXRpbC5sb2NhbFN0b3JhZ2VBdmFpbGFibGUoKTtcblxuICAgIGlmIChoYXNMb2NhbFN0b3JhZ2UpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMuYXBpS2V5cyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3JlbW90ZXN0b3JhZ2U6YXBpLWtleXMnKSkgfHwge307XG4gICAgICB9IGNhdGNoKGV4Yykge1xuICAgICAgICAvLyBpZ25vcmVkXG4gICAgICB9XG4gICAgICB0aGlzLnNldEJhY2tlbmQobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3JlbW90ZXN0b3JhZ2U6YmFja2VuZCcpIHx8ICdyZW1vdGVzdG9yYWdlJyk7XG4gICAgfVxuXG4gICAgdmFyIG9yaWdPbiA9IHRoaXMub247XG5cbiAgICB0aGlzLm9uID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgaGFuZGxlcikge1xuICAgICAgaWYgKGV2ZW50TmFtZSA9PT0gJ3JlYWR5JyAmJiB0aGlzLnJlbW90ZSAmJiB0aGlzLnJlbW90ZS5jb25uZWN0ZWQgJiYgdGhpcy5fYWxsTG9hZGVkKSB7XG4gICAgICAgIHNldFRpbWVvdXQoaGFuZGxlciwgMCk7XG4gICAgICB9IGVsc2UgaWYgKGV2ZW50TmFtZSA9PT0gJ2ZlYXR1cmVzLWxvYWRlZCcgJiYgdGhpcy5fYWxsTG9hZGVkKSB7XG4gICAgICAgIHNldFRpbWVvdXQoaGFuZGxlciwgMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gb3JpZ09uLmNhbGwodGhpcywgZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICB9O1xuXG4gICAgLy8gbG9hZCBhbGwgZmVhdHVyZXMgYW5kIGVtaXQgYHJlYWR5YFxuICAgIHRoaXMuX2luaXQoKTtcblxuICAgIHRoaXMuZmlyZUluaXRpYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5sb2NhbCkge1xuICAgICAgICBzZXRUaW1lb3V0KHRoaXMubG9jYWwuZmlyZUluaXRpYWwuYmluZCh0aGlzLmxvY2FsKSwgMCk7XG4gICAgICB9XG4gICAgfS5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy5vbigncmVhZHknLCB0aGlzLmZpcmVJbml0aWFsLmJpbmQodGhpcykpO1xuICB9O1xuXG5cbiAgLy8gVE9GSVg6IEluc3RlYWQgb2YgZG9pbmcgdGhpcywgd291bGQgYmUgYmV0dGVyIHRvIG9ubHkgXG4gIC8vIGV4cG9ydCBzZXRBdXRoVVJMIC8gZ2V0QXV0aFVSTCBmcm9tIFJlbW90ZVN0b3JhZ2UgcHJvdG90eXBlXG4gIFJlbW90ZVN0b3JhZ2UuQXV0aG9yaXplID0gQXV0aG9yaXplO1xuXG4gIFJlbW90ZVN0b3JhZ2UuU3luY0Vycm9yID0gU3luYy5TeW5jRXJyb3I7XG4gIFJlbW90ZVN0b3JhZ2UuVW5hdXRob3JpemVkID0gQXV0aG9yaXplLlVuYXV0aG9yaXplZDtcbiAgUmVtb3RlU3RvcmFnZS5EaXNjb3ZlcnlFcnJvciA9IERpc2NvdmVyLkRpc2NvdmVyeUVycm9yO1xuXG4gXG4gIFJlbW90ZVN0b3JhZ2UucHJvdG90eXBlID0ge1xuICAgIGF1dGhvcml6ZTogZnVuY3Rpb24gYXV0aG9yaXplKGF1dGhVUkwsIGNvcmRvdmFSZWRpcmVjdFVyaSkge1xuICAgICAgdGhpcy5hY2Nlc3Muc2V0U3RvcmFnZVR5cGUodGhpcy5yZW1vdGUuc3RvcmFnZVR5cGUpO1xuICAgICAgdmFyIHNjb3BlID0gdGhpcy5hY2Nlc3Muc2NvcGVQYXJhbWV0ZXI7XG5cbiAgICAgIHZhciByZWRpcmVjdFVyaSA9IGdsb2JhbENvbnRleHQuY29yZG92YSA/XG4gICAgICAgIGNvcmRvdmFSZWRpcmVjdFVyaSA6XG4gICAgICAgIFN0cmluZyhBdXRob3JpemUuZ2V0TG9jYXRpb24oKSk7XG5cbiAgICAgIHZhciBjbGllbnRJZCA9IHJlZGlyZWN0VXJpLm1hdGNoKC9eKGh0dHBzPzpcXC9cXC9bXlxcL10rKS8pWzBdO1xuXG4gICAgICBBdXRob3JpemUodGhpcywgYXV0aFVSTCwgc2NvcGUsIHJlZGlyZWN0VXJpLCBjbGllbnRJZCk7XG4gICAgfSxcbiAgXG5cbiAgICBpbXBsaWVkYXV0aDogZnVuY3Rpb24gKHN0b3JhZ2VBcGksIHJlZGlyZWN0VXJpKSB7XG4gICAgICBzdG9yYWdlQXBpID0gdGhpcy5yZW1vdGUuc3RvcmFnZUFwaTtcbiAgICAgIHJlZGlyZWN0VXJpID0gIFN0cmluZyhkb2N1bWVudC5sb2NhdGlvbik7XG5cbiAgICAgIGxvZygnSW1wbGllZEF1dGggcHJvY2VlZGluZyBkdWUgdG8gYWJzZW50IGF1dGhVUkw7IHN0b3JhZ2VBcGkgPSAnICsgc3RvcmFnZUFwaSArICcgcmVkaXJlY3RVcmkgPSAnICsgcmVkaXJlY3RVcmkpO1xuICAgICAgLy8gU2V0IGEgZml4ZWQgYWNjZXNzIHRva2VuLCBzaWduYWxsaW5nIHRvIG5vdCBzZW5kIGl0IGFzIEJlYXJlclxuICAgICAgdGhpcy5yZW1vdGUuY29uZmlndXJlKHtcbiAgICAgICAgdG9rZW46IEF1dGhvcml6ZS5JTVBMSUVEX0ZBS0VfVE9LRU5cbiAgICAgIH0pO1xuICAgICAgZG9jdW1lbnQubG9jYXRpb24gPSByZWRpcmVjdFVyaTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5OiByZW1vdGVcbiAgICAgKlxuICAgICAqIFByb3BlcnRpZXM6XG4gICAgICpcbiAgICAgKiAgIGNvbm5lY3RlZCAgIC0gQm9vbGVhbiwgd2hldGhlciBvciBub3QgYSByZW1vdGUgc3RvcmUgaXMgY29ubmVjdGVkXG4gICAgICogICBvbmxpbmUgICAgICAtIEJvb2xlYW4sIHdoZXRoZXIgbGFzdCBzeW5jIGFjdGlvbiB3YXMgc3VjY2Vzc2Z1bCBvciBub3RcbiAgICAgKiAgIHVzZXJBZGRyZXNzIC0gU3RyaW5nLCB0aGUgdXNlciBhZGRyZXNzIG9mIHRoZSBjb25uZWN0ZWQgdXNlclxuICAgICAqICAgcHJvcGVydGllcyAgLSBTdHJpbmcsIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBXZWJGaW5nZXIgbGlua1xuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogTWV0aG9kOiBzY29wZVxuICAgICAqXG4gICAgICogUmV0dXJucyBhIEJhc2VDbGllbnQgd2l0aCBhIGNlcnRhaW4gc2NvcGUgKGJhc2UgcGF0aCkuIFBsZWFzZSB1c2UgdGhpcyBtZXRob2RcbiAgICAgKiBvbmx5IGZvciBkZWJ1Z2dpbmcsIGFuZCBhbHdheXMgdXNlIGRlZmluZU1vZHVsZSBpbnN0ZWFkLCB0byBnZXQgYWNjZXNzIHRvIGFcbiAgICAgKiBCYXNlQ2xpZW50IGZyb20gYSBtb2R1bGUgaW4gYW4gYXBwLlxuICAgICAqXG4gICAgICogUGFyYW1ldGVyczpcbiAgICAgKlxuICAgICAqICAgc2NvcGUgLSBBIHN0cmluZywgd2l0aCBhIGxlYWRpbmcgYW5kIGEgdHJhaWxpbmcgc2xhc2gsIHNwZWNpZnlpbmcgdGhlXG4gICAgICogICAgICAgICAgIGJhc2UgcGF0aCBvZiB0aGUgQmFzZUNsaWVudCB0aGF0IHdpbGwgYmUgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBDb2RlIGV4YW1wbGU6XG4gICAgICpcbiAgICAgKiAoc3RhcnQgY29kZSlcbiAgICAgKiByZW1vdGVTdG9yYWdlLnNjb3BlKCcvcGljdHVyZXMvJykuZ2V0TGlzdGluZygnJyk7XG4gICAgICogcmVtb3RlU3RvcmFnZS5zY29wZSgnL3B1YmxpYy9waWN0dXJlcy8nKS5nZXRMaXN0aW5nKCcnKTtcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIE1ldGhvZDogc3RhcnRTeW5jXG4gICAgICpcbiAgICAgKiBTdGFydCBzeW5jaHJvbml6YXRpb24gd2l0aCByZW1vdGUgc3RvcmFnZSwgZG93bmxvYWRpbmcgYW5kIHVwbG9hZGluZyBhbnlcbiAgICAgKiBjaGFuZ2VzIHdpdGhpbiB0aGUgY2FjaGVkIHBhdGhzLlxuICAgICAqXG4gICAgICogUGxlYXNlIGNvbnNpZGVyOiBsb2NhbCBjaGFuZ2VzIHdpbGwgYXR0ZW1wdCBzeW5jIGltbWVkaWF0ZWx5LCBhbmQgcmVtb3RlXG4gICAgICogY2hhbmdlcyBzaG91bGQgYWxzbyBiZSBzeW5jZWQgdGltZWx5IHdoZW4gdXNpbmcgbGlicmFyeSBkZWZhdWx0cy4gU29cbiAgICAgKiB0aGlzIGlzIG1vc3RseSB1c2VmdWwgZm9yIGxldHRpbmcgdXNlcnMgc3luYyBtYW51YWxseSwgd2hlbiBwcmVzc2luZyBhXG4gICAgICogc3luYyBidXR0b24gZm9yIGV4YW1wbGUuIFRoaXMgbWlnaHQgZmVlbCBzYWZlciB0byB0aGVtIHNvbWV0aW1lcywgZXNwLlxuICAgICAqIHdoZW4gc2hpZnRpbmcgYmV0d2VlbiBvZmZsaW5lIGFuZCBvbmxpbmUgYSBsb3QuXG4gICAgICovXG4gICAgIC8vIChzZWUgc3JjL3N5bmMuanMgZm9yIGltcGxlbWVudGF0aW9uKVxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kOiBjb25uZWN0XG4gICAgICpcbiAgICAgKiBDb25uZWN0IHRvIGEgcmVtb3RlU3RvcmFnZSBzZXJ2ZXIuXG4gICAgICpcbiAgICAgKiBQYXJhbWV0ZXJzOlxuICAgICAqICAgdXNlckFkZHJlc3MgICAgICAgIC0gVGhlIHVzZXIgYWRkcmVzcyAodXNlckBob3N0KSB0byBjb25uZWN0IHRvLlxuICAgICAqICAgdG9rZW4gICAgICAgICAgICAgIC0gKG9wdGlvbmFsKSBBIGJlYXJlciB0b2tlbiBhY3F1aXJlZCBiZWZvcmVoYW5kXG4gICAgICpcbiAgICAgKiBEaXNjb3ZlcnMgdGhlIFdlYkZpbmdlciBwcm9maWxlIG9mIHRoZSBnaXZlbiB1c2VyIGFkZHJlc3MgYW5kIGluaXRpYXRlc1xuICAgICAqIHRoZSBPQXV0aCBkYW5jZS5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIG11c3QgYmUgY2FsbGVkICphZnRlciogYWxsIHJlcXVpcmVkIGFjY2VzcyBoYXMgYmVlbiBjbGFpbWVkLlxuICAgICAqIFdoZW4gdXNpbmcgdGhlIGNvbm5lY3Qgd2lkZ2V0LCBpdCB3aWxsIGNhbGwgdGhpcyBtZXRob2QgaXRzZWxmLlxuICAgICAqXG4gICAgICogU3BlY2lhbCBjYXNlczpcbiAgICAgKlxuICAgICAqIDEuIElmIGEgYmVhcmVyIHRva2VuIGlzIHN1cHBsaWVkIGFzIHNlY29uZCBhcmd1bWVudCwgdGhlIE9BdXRoIGRhbmNlXG4gICAgICogICAgd2lsbCBiZSBza2lwcGVkIGFuZCB0aGUgc3VwcGxpZWQgdG9rZW4gYmUgdXNlZCBpbnN0ZWFkLiBUaGlzIGlzXG4gICAgICogICAgdXNlZnVsIG91dHNpZGUgb2YgYnJvd3NlciBlbnZpcm9ubWVudHMsIHdoZXJlIHRoZSB0b2tlbiBoYXMgYmVlblxuICAgICAqICAgIGFjcXVpcmVkIGluIGEgZGlmZmVyZW50IHdheS5cbiAgICAgKlxuICAgICAqIDIuIElmIHRoZSBXZWJmaW5nZXIgcHJvZmlsZSBmb3IgdGhlIGdpdmVuIHVzZXIgYWRkcmVzcyBkb2Vzbid0IGNvbnRhaW5cbiAgICAgKiAgICBhbiBhdXRoIFVSTCwgdGhlIGxpYnJhcnkgd2lsbCBhc3N1bWUgdGhhdCBjbGllbnQgYW5kIHNlcnZlciBoYXZlXG4gICAgICogICAgZXN0YWJsaXNoZWQgYXV0aG9yaXphdGlvbiBhbW9uZyB0aGVtc2VsdmVzLCB3aGljaCB3aWxsIG9taXQgYmVhcmVyXG4gICAgICogICAgdG9rZW5zIGluIGFsbCByZXF1ZXN0cyBsYXRlciBvbi4gVGhpcyBpcyB1c2VmdWwgZm9yIGV4YW1wbGUgd2hlbiB1c2luZ1xuICAgICAqICAgIEtlcmJlcm9zIGFuZCBzaW1pbGFyIHByb3RvY29scy5cbiAgICAgKi9cbiAgICBjb25uZWN0OiBmdW5jdGlvbiAodXNlckFkZHJlc3MsIHRva2VuKSB7XG4gICAgICB0aGlzLnNldEJhY2tlbmQoJ3JlbW90ZXN0b3JhZ2UnKTtcbiAgICAgIGlmICh1c2VyQWRkcmVzcy5pbmRleE9mKCdAJykgPCAwKSB7XG4gICAgICAgIHRoaXMuX2VtaXQoJ2Vycm9yJywgbmV3IFJlbW90ZVN0b3JhZ2UuRGlzY292ZXJ5RXJyb3IoXCJVc2VyIGFkZHJlc3MgZG9lc24ndCBjb250YWluIGFuIEAuXCIpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoZ2xvYmFsQ29udGV4dC5jb3Jkb3ZhKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnLmNvcmRvdmFSZWRpcmVjdFVyaSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB0aGlzLl9lbWl0KCdlcnJvcicsIG5ldyBSZW1vdGVTdG9yYWdlLkRpc2NvdmVyeUVycm9yKFwiUGxlYXNlIHN1cHBseSBhIGN1c3RvbSBIVFRQUyByZWRpcmVjdCBVUkkgZm9yIHlvdXIgQ29yZG92YSBhcHBcIikpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWdsb2JhbENvbnRleHQuY29yZG92YS5JbkFwcEJyb3dzZXIpIHtcbiAgICAgICAgICB0aGlzLl9lbWl0KCdlcnJvcicsIG5ldyBSZW1vdGVTdG9yYWdlLkRpc2NvdmVyeUVycm9yKFwiUGxlYXNlIGluY2x1ZGUgdGhlIEluQXBwQnJvd3NlciBDb3Jkb3ZhIHBsdWdpbiB0byBlbmFibGUgT0F1dGhcIikpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLnJlbW90ZS5jb25maWd1cmUoe1xuICAgICAgICB1c2VyQWRkcmVzczogdXNlckFkZHJlc3NcbiAgICAgIH0pO1xuICAgICAgdGhpcy5fZW1pdCgnY29ubmVjdGluZycpO1xuXG4gICAgICB2YXIgZGlzY292ZXJ5VGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9lbWl0KCdlcnJvcicsIG5ldyBSZW1vdGVTdG9yYWdlLkRpc2NvdmVyeUVycm9yKFwiTm8gc3RvcmFnZSBpbmZvcm1hdGlvbiBmb3VuZCBmb3IgdGhpcyB1c2VyIGFkZHJlc3MuXCIpKTtcbiAgICAgIH0uYmluZCh0aGlzKSwgY29uZmlnLmRpc2NvdmVyeVRpbWVvdXQpO1xuXG4gICAgICBEaXNjb3Zlcih1c2VyQWRkcmVzcykudGhlbihmdW5jdGlvbiAoaW5mbykge1xuICAgICAgICAvLyBJbmZvIGNvbnRhaW5zIGZpZWxkczogaHJlZiwgc3RvcmFnZUFwaSwgYXV0aFVSTCAob3B0aW9uYWwpLCBwcm9wZXJ0aWVzXG5cbiAgICAgICAgY2xlYXJUaW1lb3V0KGRpc2NvdmVyeVRpbWVvdXQpO1xuICAgICAgICB0aGlzLl9lbWl0KCdhdXRoaW5nJyk7XG4gICAgICAgIGluZm8udXNlckFkZHJlc3MgPSB1c2VyQWRkcmVzcztcbiAgICAgICAgdGhpcy5yZW1vdGUuY29uZmlndXJlKGluZm8pO1xuICAgICAgICBpZiAoISB0aGlzLnJlbW90ZS5jb25uZWN0ZWQpIHtcbiAgICAgICAgICBpZiAoaW5mby5hdXRoVVJMKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRva2VuID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAvLyBOb3JtYWwgYXV0aG9yaXphdGlvbiBzdGVwOyB0aGUgZGVmYXVsdCB3YXkgdG8gY29ubmVjdFxuICAgICAgICAgICAgICB0aGlzLmF1dGhvcml6ZShpbmZvLmF1dGhVUkwsIGNvbmZpZy5jb3Jkb3ZhUmVkaXJlY3RVcmkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdG9rZW4gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIC8vIFRva2VuIHN1cHBsaWVkIGRpcmVjdGx5IGJ5IGFwcC9kZXZlbG9wZXIvdXNlclxuICAgICAgICAgICAgICBsb2coJ1NraXBwaW5nIGF1dGhvcml6YXRpb24gc2VxdWVuY2UgYW5kIGNvbm5lY3Rpbmcgd2l0aCBrbm93biB0b2tlbicpO1xuICAgICAgICAgICAgICB0aGlzLnJlbW90ZS5jb25maWd1cmUoeyB0b2tlbjogdG9rZW4gfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTdXBwbGllZCBiZWFyZXIgdG9rZW4gbXVzdCBiZSBhIHN0cmluZ1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gSW4gbGlldSBvZiBhbiBleGNwbGljaXQgYXV0aFVSTCwgYXNzdW1lIHRoYXQgdGhlIGJyb3dzZXIgYW5kXG4gICAgICAgICAgICAvLyBzZXJ2ZXIgaGFuZGxlIGFueSBhdXRob3JpemF0aW9uIG5lZWRzOyBmb3IgaW5zdGFuY2UsIFRMUyBtYXlcbiAgICAgICAgICAgIC8vIHRyaWdnZXIgdGhlIGJyb3dzZXIgdG8gdXNlIGEgY2xpZW50IGNlcnRpZmljYXRlLCBvciBhIDQwMSBOb3RcbiAgICAgICAgICAgIC8vIEF1dGhvcml6ZWQgcmVzcG9uc2UgbWF5IG1ha2UgdGhlIGJyb3dzZXIgc2VuZCBhIEtlcmJlcm9zIHRpY2tldFxuICAgICAgICAgICAgLy8gdXNpbmcgdGhlIFNQTkVHTyBtZXRob2QuXG4gICAgICAgICAgICB0aGlzLmltcGxpZWRhdXRoKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LmJpbmQodGhpcyksIGZ1bmN0aW9uKGVycikge1xuICAgICAgICBjbGVhclRpbWVvdXQoZGlzY292ZXJ5VGltZW91dCk7XG4gICAgICAgIHRoaXMuX2VtaXQoJ2Vycm9yJywgbmV3IFJlbW90ZVN0b3JhZ2UuRGlzY292ZXJ5RXJyb3IoXCJObyBzdG9yYWdlIGluZm9ybWF0aW9uIGZvdW5kIGZvciB0aGlzIHVzZXIgYWRkcmVzcy5cIikpO1xuICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kOiBkaXNjb25uZWN0XG4gICAgICpcbiAgICAgKiBcIkRpc2Nvbm5lY3RcIiBmcm9tIHJlbW90ZXN0b3JhZ2Ugc2VydmVyIHRvIHRlcm1pbmF0ZSBjdXJyZW50IHNlc3Npb24uXG4gICAgICogVGhpcyBtZXRob2QgY2xlYXJzIGFsbCBzdG9yZWQgc2V0dGluZ3MgYW5kIGRlbGV0ZXMgdGhlIGVudGlyZSBsb2NhbFxuICAgICAqIGNhY2hlLlxuICAgICAqL1xuICAgIGRpc2Nvbm5lY3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLnJlbW90ZSkge1xuICAgICAgICB0aGlzLnJlbW90ZS5jb25maWd1cmUoe1xuICAgICAgICAgIHVzZXJBZGRyZXNzOiBudWxsLFxuICAgICAgICAgIGhyZWY6IG51bGwsXG4gICAgICAgICAgc3RvcmFnZUFwaTogbnVsbCxcbiAgICAgICAgICB0b2tlbjogbnVsbCxcbiAgICAgICAgICBwcm9wZXJ0aWVzOiBudWxsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdGhpcy5fc2V0R1BEKHtcbiAgICAgICAgZ2V0OiB0aGlzLl9wZW5kaW5nR1BEKCdnZXQnKSxcbiAgICAgICAgcHV0OiB0aGlzLl9wZW5kaW5nR1BEKCdwdXQnKSxcbiAgICAgICAgZGVsZXRlOiB0aGlzLl9wZW5kaW5nR1BEKCdkZWxldGUnKVxuICAgICAgfSk7XG4gICAgICB2YXIgbiA9IHRoaXMuX2NsZWFudXBzLmxlbmd0aCwgaSA9IDA7XG5cbiAgICAgIHZhciBvbmVEb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpKys7XG4gICAgICAgIGlmIChpID49IG4pIHtcbiAgICAgICAgICB0aGlzLl9pbml0KCk7XG4gICAgICAgICAgbG9nKCdEb25lIGNsZWFuaW5nIHVwLCBlbWl0dGluZyBkaXNjb25uZWN0ZWQgYW5kIGRpc2Nvbm5lY3QgZXZlbnRzJyk7XG4gICAgICAgICAgdGhpcy5fZW1pdCgnZGlzY29ubmVjdGVkJyk7XG4gICAgICAgIH1cbiAgICAgIH0uYmluZCh0aGlzKTtcblxuICAgICAgaWYgKG4gPiAwKSB7XG4gICAgICAgIHRoaXMuX2NsZWFudXBzLmZvckVhY2goZnVuY3Rpb24gKGNsZWFudXApIHtcbiAgICAgICAgICB2YXIgY2xlYW51cFJlc3VsdCA9IGNsZWFudXAodGhpcyk7XG4gICAgICAgICAgaWYgKHR5cGVvZihjbGVhbnVwUmVzdWx0KSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mKGNsZWFudXBSZXN1bHQudGhlbikgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNsZWFudXBSZXN1bHQudGhlbihvbmVEb25lKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb25lRG9uZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9uZURvbmUoKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc2V0QmFja2VuZDogZnVuY3Rpb24gKHdoYXQpIHtcbiAgICAgIHRoaXMuYmFja2VuZCA9IHdoYXQ7XG4gICAgICBpZiAoaGFzTG9jYWxTdG9yYWdlKSB7XG4gICAgICAgIGlmICh3aGF0KSB7XG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3JlbW90ZXN0b3JhZ2U6YmFja2VuZCcsIHdoYXQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdyZW1vdGVzdG9yYWdlOmJhY2tlbmQnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNZXRob2Q6IG9uQ2hhbmdlXG4gICAgICpcbiAgICAgKiBBZGQgYSBcImNoYW5nZVwiIGV2ZW50IGhhbmRsZXIgdG8gdGhlIGdpdmVuIHBhdGguIFdoZW5ldmVyIGEgXCJjaGFuZ2VcIlxuICAgICAqIGhhcHBlbnMgKGFzIGRldGVybWluZWQgYnkgdGhlIGJhY2tlbmQsIHN1Y2ggYXMgZS5nLlxuICAgICAqIDxSZW1vdGVTdG9yYWdlLkluZGV4ZWREQj4pIGFuZCB0aGUgYWZmZWN0ZWQgcGF0aCBpcyBlcXVhbCB0byBvciBiZWxvd1xuICAgICAqIHRoZSBnaXZlbiAncGF0aCcsIHRoZSBnaXZlbiBoYW5kbGVyIGlzIGNhbGxlZC5cbiAgICAgKlxuICAgICAqIFlvdSBzaG91bGQgdXN1YWxseSBub3QgdXNlIHRoaXMgbWV0aG9kIGRpcmVjdGx5LCBidXQgaW5zdGVhZCB1c2UgdGhlXG4gICAgICogXCJjaGFuZ2VcIiBldmVudHMgcHJvdmlkZWQgYnkgPFJlbW90ZVN0b3JhZ2UuQmFzZUNsaWVudD4uXG4gICAgICpcbiAgICAgKiBQYXJhbWV0ZXJzOlxuICAgICAqICAgcGF0aCAgICAtIEFic29sdXRlIHBhdGggdG8gYXR0YWNoIGhhbmRsZXIgdG8uXG4gICAgICogICBoYW5kbGVyIC0gSGFuZGxlciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBvbkNoYW5nZTogZnVuY3Rpb24gKHBhdGgsIGhhbmRsZXIpIHtcbiAgICAgIGlmICghIHRoaXMuX3BhdGhIYW5kbGVycy5jaGFuZ2VbcGF0aF0pIHtcbiAgICAgICAgdGhpcy5fcGF0aEhhbmRsZXJzLmNoYW5nZVtwYXRoXSA9IFtdO1xuICAgICAgfVxuICAgICAgdGhpcy5fcGF0aEhhbmRsZXJzLmNoYW5nZVtwYXRoXS5wdXNoKGhhbmRsZXIpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNZXRob2Q6IGVuYWJsZUxvZ1xuICAgICAqXG4gICAgICogRW5hYmxlIHJlbW90ZVN0b3JhZ2UgbG9nZ2luZy5cbiAgICAgKi9cbiAgICBlbmFibGVMb2c6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbmZpZy5sb2dnaW5nID0gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kOiBkaXNhYmxlTG9nXG4gICAgICpcbiAgICAgKiBEaXNhYmxlIHJlbW90ZVN0b3JhZ2UgbG9nZ2luZ1xuICAgICAqL1xuICAgIGRpc2FibGVMb2c6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbmZpZy5sb2dnaW5nID0gZmFsc2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1ldGhvZDogbG9nXG4gICAgICpcbiAgICAgKiBUaGUgc2FtZSBhcyA8UmVtb3RlU3RvcmFnZS5sb2c+LlxuICAgICAqL1xuICAgIGxvZzogZnVuY3Rpb24gKCkge1xuICAgICAgbG9nLmFwcGx5KFJlbW90ZVN0b3JhZ2UsIGFyZ3VtZW50cyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1ldGhvZDogc2V0QXBpS2V5cyAoZXhwZXJpbWVudGFsKVxuICAgICAqXG4gICAgICogU2V0IEFQSSBrZXlzIGZvciAoY3VycmVudGx5KSBHb29nbGVEcml2ZSBhbmQvb3IgRHJvcGJveCBiYWNrZW5kIHN1cHBvcnQuXG4gICAgICogU2VlIGFsc28gdGhlICdiYWNrZW5kcycgZXhhbXBsZSBpbiB0aGUgc3RhcnRlci1raXQuIE5vdGUgdGhhdCBzdXBwb3J0IGZvclxuICAgICAqIGJvdGggdGhlc2UgYmFja2VuZHMgaXMgc3RpbGwgZXhwZXJpbWVudGFsLlxuICAgICAqXG4gICAgICogUGFyYW1ldGVyczpcbiAgICAgKiAgIHR5cGUgLSBzdHJpbmcsIGVpdGhlciAnZ29vZ2xlZHJpdmUnIG9yICdkcm9wYm94J1xuICAgICAqICAga2V5cyAtIG9iamVjdCwgd2l0aCBvbmUgc3RyaW5nIGZpZWxkOyAnY2xpZW50SWQnIGZvciBHb29nbGVEcml2ZSwgb3JcbiAgICAgKiAgICAgICAgICAnYXBwS2V5JyBmb3IgRHJvcGJveC5cbiAgICAgKlxuICAgICAqL1xuICAgIHNldEFwaUtleXM6IGZ1bmN0aW9uICh0eXBlLCBrZXlzKSB7XG4gICAgICBpZiAoa2V5cykge1xuICAgICAgICB0aGlzLmFwaUtleXNbdHlwZV0gPSBrZXlzO1xuICAgICAgICBpZiAodHlwZSA9PT0gJ2Ryb3Bib3gnICYmICh0eXBlb2YgdGhpcy5kcm9wYm94ID09PSAndW5kZWZpbmVkJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRyb3Bib3guY2xpZW50SWQgIT09IGtleXMuYXBwS2V5KSkge1xuICAgICAgICAgIERyb3Bib3guX3JzX2luaXQodGhpcyk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2dvb2dsZWRyaXZlJyAmJiAodHlwZW9mIHRoaXMuZ29vZ2xlZHJpdmUgPT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nb29nbGVkcml2ZS5jbGllbnRJZCAhPT0ga2V5cy5jbGllbnRJZCkpIHtcbiAgICAgICAgICBHb29nbGVEcml2ZS5fcnNfaW5pdCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuYXBpS2V5c1t0eXBlXTtcbiAgICAgIH1cbiAgICAgIGlmIChoYXNMb2NhbFN0b3JhZ2UpIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3JlbW90ZXN0b3JhZ2U6YXBpLWtleXMnLCBKU09OLnN0cmluZ2lmeSh0aGlzLmFwaUtleXMpKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kOiBzZXRDb3Jkb3ZhUmVkaXJlY3RVcmlcbiAgICAgKlxuICAgICAqIFNldCByZWRpcmVjdCBVUkkgdG8gYmUgdXNlZCBmb3IgdGhlIE9BdXRoIHJlZGlyZWN0IHdpdGhpbiB0aGVcbiAgICAgKiBpbi1hcHAtYnJvd3NlciB3aW5kb3cgaW4gQ29yZG92YSBhcHBzLlxuICAgICAqXG4gICAgICogUGFyYW1ldGVyczpcbiAgICAgKiAgIHVyaSAtIHN0cmluZywgdmFsaWQgSFRUUChTKSBVUklcbiAgICAgKi9cbiAgICBzZXRDb3Jkb3ZhUmVkaXJlY3RVcmk6IGZ1bmN0aW9uICh1cmkpIHtcbiAgICAgIGlmICh0eXBlb2YgdXJpICE9PSAnc3RyaW5nJyB8fCAhdXJpLm1hdGNoKC9odHRwKHMpP1xcOlxcL1xcLy8pKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvcmRvdmEgcmVkaXJlY3QgVVJJIG11c3QgYmUgYSBVUkkgc3RyaW5nXCIpO1xuICAgICAgfVxuICAgICAgY29uZmlnLmNvcmRvdmFSZWRpcmVjdFVyaSA9IHVyaTtcbiAgICB9LFxuXG5cbiAgICAvKiBGRUFUVVJFUyBJTklUSUFMSVpBVElPTiAqL1xuICAgIF9pbml0OiBGZWF0dXJlcy5sb2FkRmVhdHVyZXMsXG4gICAgZmVhdHVyZXM6IEZlYXR1cmVzLmZlYXR1cmVzLFxuICAgIGxvYWRGZWF0dXJlOiBGZWF0dXJlcy5sb2FkRmVhdHVyZSxcbiAgICBmZWF0dXJlU3VwcG9ydGVkOiBGZWF0dXJlcy5mZWF0dXJlU3VwcG9ydGVkLFxuICAgIGZlYXR1cmVEb25lOiBGZWF0dXJlcy5mZWF0dXJlRG9uZSxcbiAgICBmZWF0dXJlc0RvbmU6IEZlYXR1cmVzLmZlYXR1cmVzRG9uZSxcbiAgICBmZWF0dXJlc0xvYWRlZDogRmVhdHVyZXMuZmVhdHVyZXNMb2FkZWQsXG4gICAgZmVhdHVyZUluaXRpYWxpemVkOiBGZWF0dXJlcy5mZWF0dXJlSW5pdGlhbGl6ZWQsXG4gICAgZmVhdHVyZUZhaWxlZDogRmVhdHVyZXMuZmVhdHVyZUZhaWxlZCxcbiAgICBoYXNGZWF0dXJlOiBGZWF0dXJlcy5oYXNGZWF0dXJlLFxuICAgIF9zZXRDYWNoaW5nTW9kdWxlOiBGZWF0dXJlcy5fc2V0Q2FjaGluZ01vZHVsZSxcbiAgICBfY29sbGVjdENsZWFudXBGdW5jdGlvbnM6IEZlYXR1cmVzLl9jb2xsZWN0Q2xlYW51cEZ1bmN0aW9ucyxcbiAgICBfZmlyZVJlYWR5OiBGZWF0dXJlcy5fZmlyZVJlYWR5LFxuICAgIGluaXRGZWF0dXJlOiBGZWF0dXJlcy5pbml0RmVhdHVyZSxcblxuXG4gICAgLyoqXG4gICAgICogVE9GSVg6IG5lZWRzIHNvbWUgZXhwbGFuYXRpb24gb24gdGhpcyAtbGVzXG4gICAgICoqIEdFVC9QVVQvREVMRVRFIElOVEVSRkFDRSBIRUxQRVJTXG4gICAgICoqL1xuXG4gICAgX3NldEdQRDogZnVuY3Rpb24gKGltcGwsIGNvbnRleHQpIHtcbiAgICAgIGZ1bmN0aW9uIHdyYXAoZnVuYykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3VtZW50cylcbiAgICAgICAgICAgIC50aGVuKGVtaXRVbmF1dGhvcml6ZWQuYmluZCh0aGlzKSk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICB0aGlzLmdldCA9IHdyYXAoaW1wbC5nZXQpO1xuICAgICAgdGhpcy5wdXQgPSB3cmFwKGltcGwucHV0KTtcbiAgICAgIHRoaXMuZGVsZXRlID0gd3JhcChpbXBsLmRlbGV0ZSk7XG4gICAgfSxcblxuICAgIF9wZW5kaW5nR1BEOiBmdW5jdGlvbiAobWV0aG9kTmFtZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1ldGhvZEFyZ3VtZW50cyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICB0aGlzLl9wZW5kaW5nLnB1c2goe1xuICAgICAgICAgICAgbWV0aG9kOiBtZXRob2ROYW1lLFxuICAgICAgICAgICAgYXJnczogbWV0aG9kQXJndW1lbnRzLFxuICAgICAgICAgICAgcHJvbWlzZToge1xuICAgICAgICAgICAgICByZXNvbHZlOiByZXNvbHZlLFxuICAgICAgICAgICAgICByZWplY3Q6IHJlamVjdFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgfS5iaW5kKHRoaXMpO1xuICAgIH0sXG5cbiAgICBfcHJvY2Vzc1BlbmRpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuX3BlbmRpbmcuZm9yRWFjaChmdW5jdGlvbiAocGVuZGluZykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHRoaXNbcGVuZGluZy5tZXRob2RdLmFwcGx5KHRoaXMsIHBlbmRpbmcuYXJncykudGhlbihwZW5kaW5nLnByb21pc2UucmVzb2x2ZSwgcGVuZGluZy5wcm9taXNlLnJlamVjdCk7XG4gICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgIHBlbmRpbmcucHJvbWlzZS5yZWplY3QoZSk7XG4gICAgICAgIH1cbiAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICB0aGlzLl9wZW5kaW5nID0gW107XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqKiBDSEFOR0UgRVZFTlQgSEFORExJTkdcbiAgICAgKiovXG4gICAgX2JpbmRDaGFuZ2U6IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICAgIG9iamVjdC5vbignY2hhbmdlJywgdGhpcy5fZGlzcGF0Y2hFdmVudC5iaW5kKHRoaXMsICdjaGFuZ2UnKSk7XG4gICAgfSxcblxuICAgIF9kaXNwYXRjaEV2ZW50OiBmdW5jdGlvbiAoZXZlbnROYW1lLCBldmVudCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgT2JqZWN0LmtleXModGhpcy5fcGF0aEhhbmRsZXJzW2V2ZW50TmFtZV0pLmZvckVhY2goZnVuY3Rpb24gKHBhdGgpIHtcbiAgICAgICAgdmFyIHBsID0gcGF0aC5sZW5ndGg7XG4gICAgICAgIGlmIChldmVudC5wYXRoLnN1YnN0cigwLCBwbCkgPT09IHBhdGgpIHtcbiAgICAgICAgICBzZWxmLl9wYXRoSGFuZGxlcnNbZXZlbnROYW1lXVtwYXRoXS5mb3JFYWNoKGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgICAgICB2YXIgZXYgPSB7fTtcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBldmVudCkgeyBldltrZXldID0gZXZlbnRba2V5XTsgfVxuICAgICAgICAgICAgZXYucmVsYXRpdmVQYXRoID0gZXZlbnQucGF0aC5yZXBsYWNlKG5ldyBSZWdFeHAoJ14nICsgcGF0aCksICcnKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGhhbmRsZXIoZXYpO1xuICAgICAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCInY2hhbmdlJyBoYW5kbGVyIGZhaWxlZDogXCIsIGUsIGUuc3RhY2spO1xuICAgICAgICAgICAgICBzZWxmLl9lbWl0KCdlcnJvcicsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuXG5cbiAgICBzY29wZTogZnVuY3Rpb24gKHBhdGgpIHtcbiAgICAgIGlmICh0eXBlb2YocGF0aCkgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93ICdBcmd1bWVudCBcXCdwYXRoXFwnIG9mIGJhc2VDbGllbnQuc2NvcGUgbXVzdCBiZSBhIHN0cmluZyc7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5hY2Nlc3MuY2hlY2tQYXRoUGVybWlzc2lvbihwYXRoLCAncicpKSB7XG4gICAgICAgIHZhciBlc2NhcGVkUGF0aCA9IHBhdGgucmVwbGFjZSgvKFsnXFxcXF0pL2csICdcXFxcJDEnKTtcbiAgICAgICAgY29uc29sZS53YXJuKCdXQVJOSU5HOiBwbGVhc2UgY2FsbCByZW1vdGVTdG9yYWdlLmFjY2Vzcy5jbGFpbShcXCcnICsgZXNjYXBlZFBhdGggKyAnXFwnLCBcXCdyXFwnKSAocmVhZCBvbmx5KSBvciByZW1vdGVTdG9yYWdlLmFjY2Vzcy5jbGFpbShcXCcnICsgZXNjYXBlZFBhdGggKyAnXFwnLCBcXCdyd1xcJykgKHJlYWQvd3JpdGUpIGZpcnN0Jyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IEJhc2VDbGllbnQodGhpcywgcGF0aCk7XG4gICAgfSxcblxuXG5cblxuICAgIC8qKlxuICAgICAqIE1ldGhvZDogZ2V0U3luY0ludGVydmFsXG4gICAgICpcbiAgICAgKiBHZXQgdGhlIHZhbHVlIG9mIHRoZSBzeW5jIGludGVydmFsIHdoZW4gYXBwbGljYXRpb24gaXMgaW4gdGhlIGZvcmVncm91bmRcbiAgICAgKlxuICAgICAqIFJldHVybnMgYSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzXG4gICAgICpcbiAgICAvLyAgKi9cbiAgICBnZXRTeW5jSW50ZXJ2YWw6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBjb25maWcuc3luY0ludGVydmFsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNZXRob2Q6IHNldFN5bmNJbnRlcnZhbFxuICAgICAqXG4gICAgICogU2V0IHRoZSB2YWx1ZSBvZiB0aGUgc3luYyBpbnRlcnZhbCB3aGVuIGFwcGxpY2F0aW9uIGlzIGluIHRoZSBmb3JlZ3JvdW5kXG4gICAgICpcbiAgICAgKiBQYXJhbWV0ZXJzOlxuICAgICAqICAgaW50ZXJ2YWwgLSBzeW5jIGludGVydmFsIGluIG1pbGxpc2Vjb25kc1xuICAgICAqXG4gICAgICovXG4gICAgc2V0U3luY0ludGVydmFsOiBmdW5jdGlvbiAoaW50ZXJ2YWwpIHtcbiAgICAgIGlmICghaXNWYWxpZEludGVydmFsKGludGVydmFsKSkge1xuICAgICAgICB0aHJvdyBpbnRlcnZhbCArIFwiIGlzIG5vdCBhIHZhbGlkIHN5bmMgaW50ZXJ2YWxcIjtcbiAgICAgIH1cbiAgICAgIHZhciBvbGRWYWx1ZSA9IGNvbmZpZy5zeW5jSW50ZXJ2YWw7XG4gICAgICBjb25maWcuc3luY0ludGVydmFsID0gcGFyc2VJbnQoaW50ZXJ2YWwsIDEwKTtcbiAgICAgIHRoaXMuX2VtaXQoJ3N5bmMtaW50ZXJ2YWwtY2hhbmdlJywge29sZFZhbHVlOiBvbGRWYWx1ZSwgbmV3VmFsdWU6IGludGVydmFsfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1ldGhvZDogZ2V0QmFja2dyb3VuZFN5bmNJbnRlcnZhbFxuICAgICAqXG4gICAgICogR2V0IHRoZSB2YWx1ZSBvZiB0aGUgc3luYyBpbnRlcnZhbCB3aGVuIGFwcGxpY2F0aW9uIGlzIGluIHRoZSBiYWNrZ3JvdW5kXG4gICAgICpcbiAgICAgKiBSZXR1cm5zIGEgbnVtYmVyIG9mIG1pbGxpc2Vjb25kc1xuICAgICAqXG4gICAgICovXG4gICAgZ2V0QmFja2dyb3VuZFN5bmNJbnRlcnZhbDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGNvbmZpZy5iYWNrZ3JvdW5kU3luY0ludGVydmFsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNZXRob2Q6IHNldEJhY2tncm91bmRTeW5jSW50ZXJ2YWxcbiAgICAgKlxuICAgICAqIFNldCB0aGUgdmFsdWUgb2YgdGhlIHN5bmMgaW50ZXJ2YWwgd2hlbiB0aGUgYXBwbGljYXRpb24gaXMgaW4gdGhlIGJhY2tncm91bmRcbiAgICAgKlxuICAgICAqIFBhcmFtZXRlcnM6XG4gICAgICogICBpbnRlcnZhbCAtIHN5bmMgaW50ZXJ2YWwgaW4gbWlsbGlzZWNvbmRzXG4gICAgICpcbiAgICAgKi9cbiAgICBzZXRCYWNrZ3JvdW5kU3luY0ludGVydmFsOiBmdW5jdGlvbiAoaW50ZXJ2YWwpIHtcbiAgICAgIGlmKCFpc1ZhbGlkSW50ZXJ2YWwoaW50ZXJ2YWwpKSB7XG4gICAgICAgIHRocm93IGludGVydmFsICsgXCIgaXMgbm90IGEgdmFsaWQgc3luYyBpbnRlcnZhbFwiO1xuICAgICAgfVxuICAgICAgdmFyIG9sZFZhbHVlID0gY29uZmlnLmJhY2tncm91bmRTeW5jSW50ZXJ2YWw7XG4gICAgICBjb25maWcuYmFja2dyb3VuZFN5bmNJbnRlcnZhbCA9IHBhcnNlSW50KGludGVydmFsLCAxMCk7XG4gICAgICB0aGlzLl9lbWl0KCdzeW5jLWludGVydmFsLWNoYW5nZScsIHtvbGRWYWx1ZTogb2xkVmFsdWUsIG5ld1ZhbHVlOiBpbnRlcnZhbH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNZXRob2Q6IGdldEN1cnJlbnRTeW5jSW50ZXJ2YWxcbiAgICAgKlxuICAgICAqIEdldCB0aGUgdmFsdWUgb2YgdGhlIGN1cnJlbnQgc3luYyBpbnRlcnZhbFxuICAgICAqXG4gICAgICogUmV0dXJucyBhIG51bWJlciBvZiBtaWxsaXNlY29uZHNcbiAgICAgKlxuICAgICAqL1xuICAgIGdldEN1cnJlbnRTeW5jSW50ZXJ2YWw6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBjb25maWcuaXNCYWNrZ3JvdW5kID8gY29uZmlnLmJhY2tncm91bmRTeW5jSW50ZXJ2YWwgOiBjb25maWcuc3luY0ludGVydmFsO1xuICAgIH0sXG5cblxuXG4gICAgc3luY0N5Y2xlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5zeW5jLnN0b3BwZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnN5bmMub24oJ2RvbmUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxvZygnW1N5bmNdIFN5bmMgZG9uZS4gU2V0dGluZyB0aW1lciB0bycsIHRoaXMuZ2V0Q3VycmVudFN5bmNJbnRlcnZhbCgpKTtcbiAgICAgICAgaWYgKCF0aGlzLnN5bmMuc3RvcHBlZCkge1xuICAgICAgICAgIGlmICh0aGlzLl9zeW5jVGltZXIpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9zeW5jVGltZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLl9zeW5jVGltZXIgPSBzZXRUaW1lb3V0KHRoaXMuc3luYy5zeW5jLmJpbmQodGhpcy5zeW5jKSwgdGhpcy5nZXRDdXJyZW50U3luY0ludGVydmFsKCkpO1xuICAgICAgICB9XG4gICAgICB9LmJpbmQodGhpcykpO1xuXG4gICAgICB0aGlzLnN5bmMuc3luYygpO1xuICAgIH0sXG5cbiAgICBzdG9wU3luYzogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMuc3luYykge1xuICAgICAgICBsb2coJ1tTeW5jXSBTdG9wcGluZyBzeW5jJyk7XG4gICAgICAgIHRoaXMuc3luYy5zdG9wcGVkID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFRPRE8gV2hlbiBpcyB0aGlzIGV2ZXIgdGhlIGNhc2UgYW5kIHdoYXQgaXMgc3luY1N0b3BwZWQgZm9yIHRoZW4/XG4gICAgICAgIGxvZygnW1N5bmNdIFdpbGwgaW5zdGFudGlhdGUgc3luYyBzdG9wcGVkJyk7XG4gICAgICAgIHRoaXMuc3luY1N0b3BwZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBzdGFydFN5bmM6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghY29uZmlnLmNhY2hlKSB7IHJldHVybjsgfVxuICAgICAgdGhpcy5zeW5jLnN0b3BwZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuc3luY1N0b3BwZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuc3luYy5zeW5jKCk7XG4gICAgfVxuXG4gIH07XG5cblxuICAgIC8qKlxuICAgKiBDaGVjayBpZiBpbnRlcnZhbCBpcyB2YWxpZDogbnVtZXJpYyBhbmQgYmV0d2VlbiAxMDAwbXMgYW5kIDM2MDAwMDBtc1xuICAgKlxuICAgKi9cbiAgZnVuY3Rpb24gaXNWYWxpZEludGVydmFsKGludGVydmFsKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgaW50ZXJ2YWwgPT09ICdudW1iZXInICYmIGludGVydmFsID4gMTAwMCAmJiBpbnRlcnZhbCA8IDM2MDAwMDApO1xuICB9XG5cblxuICBSZW1vdGVTdG9yYWdlLnV0aWwgPSB1dGlsO1xuICAvLyBSZW1vdGVTdG9yYWdlLmRlZmluZU1vZHVsZSA9IG1vZHVsZXMuZGVmaW5lTW9kdWxlO1xuXG4gIC8qKlxuICAgKiBQcm9wZXJ0eTogY29ubmVjdGVkXG4gICAqXG4gICAqIEJvb2xlYW4gcHJvcGVydHkgaW5kaWNhdGluZyBpZiByZW1vdGVTdG9yYWdlIGlzIGN1cnJlbnRseSBjb25uZWN0ZWQuXG4gICAqL1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVtb3RlU3RvcmFnZS5wcm90b3R5cGUsICdjb25uZWN0ZWQnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZW1vdGUuY29ubmVjdGVkO1xuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIFByb3BlcnR5OiBhY2Nlc3NcbiAgICpcbiAgICogVHJhY2tpbmcgY2xhaW1lZCBhY2Nlc3Mgc2NvcGVzLiBBIDxSZW1vdGVTdG9yYWdlLkFjY2Vzcz4gaW5zdGFuY2UuXG4gICovXG4gIHZhciBBY2Nlc3MgPSByZXF1aXJlKCcuL2FjY2VzcycpO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVtb3RlU3RvcmFnZS5wcm90b3R5cGUsICdhY2Nlc3MnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBhY2Nlc3MgPSBuZXcgQWNjZXNzKCk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2FjY2VzcycsIHtcbiAgICAgICAgdmFsdWU6IGFjY2Vzc1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWNjZXNzO1xuICAgIH0sXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xuXG5cblxuXG5cbiAgLy8gVE9ETyBjbGVhbiB1cC9oYXJtb25pemUgaG93IG1vZHVsZXMgYXJlIGxvYWRlZCBhbmQvb3IgZG9jdW1lbnQgdGhpcyBhcmNoaXRlY3R1cmUgcHJvcGVybHlcbiAgLy9cbiAgLy8gQXQgdGhpcyBwb2ludCB0aGUgcmVtb3RlU3RvcmFnZSBvYmplY3QgaGFzIG5vdCBiZWVuIGNyZWF0ZWQgeWV0LlxuICAvLyBPbmx5IGl0cyBwcm90b3R5cGUgZXhpc3RzIHNvIGZhciwgc28gd2UgZGVmaW5lIGEgc2VsZi1jb25zdHJ1Y3RpbmdcbiAgLy8gcHJvcGVydHkgb24gdGhlcmU6XG4gIC8qKlxuICAgKlxuICAgKiBQcm9wZXJ0eTogY2FjaGluZ1xuICAgKlxuICAgKiBDYWNoaW5nIHNldHRpbmdzLiBBIDxSZW1vdGVTdG9yYWdlLkNhY2hpbmc+IGluc3RhbmNlLlxuICAgKlxuICAgKiBOb3QgYXZhaWxhYmxlIGluIG5vLWNhY2hlIGJ1aWxkcy5cbiAgICpcbiAgICovXG5cbiAgLy8gVE9GSVggd2FzIGluIHJzX2luaXQgb2YgQ2FjaGluZyBidXQgZG9uJ3Qgd2FudCB0byByZXF1aXJlIFJlbW90ZVN0b3JhZ2UgZnJvbSB0aGVyZS5cbiAgdmFyIENhY2hpbmcgPSByZXF1aXJlKCcuL2NhY2hpbmcnKTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlbW90ZVN0b3JhZ2UucHJvdG90eXBlLCAnY2FjaGluZycsIHtcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgY2FjaGluZyA9IG5ldyBDYWNoaW5nKCk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2NhY2hpbmcnLCB7XG4gICAgICAgIHZhbHVlOiBjYWNoaW5nXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBjYWNoaW5nO1xuICAgIH1cbiAgfSk7XG5cbiAgIC8qXG4gICAqIFByb3BlcnR5OiByZW1vdGVcbiAgICpcbiAgICogQWNjZXNzIHRvIHRoZSByZW1vdGUgYmFja2VuZCB1c2VkLiBVc3VhbGx5IGEgPFJlbW90ZVN0b3JhZ2UuV2lyZUNsaWVudD4uXG4gICAqXG4gICAqXG4gICAqIFByb3BlcnR5OiBsb2NhbFxuICAgKlxuICAgKiBBY2Nlc3MgdG8gdGhlIGxvY2FsIGNhY2hpbmcgYmFja2VuZCB1c2VkLiBVc3VhbGx5IGVpdGhlciBhXG4gICAqIDxSZW1vdGVTdG9yYWdlLkluZGV4ZWREQj4gb3IgPFJlbW90ZVN0b3JhZ2UuTG9jYWxTdG9yYWdlPiBpbnN0YW5jZS5cbiAgICpcbiAgICogTm90IGF2YWlsYWJsZSBpbiBuby1jYWNoZSBidWlsZHMuXG4gICAqL1xuXG5cbm1vZHVsZS5leHBvcnRzID0gUmVtb3RlU3RvcmFnZTtcbnJlcXVpcmUoJy4vbW9kdWxlcycpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9yZW1vdGVzdG9yYWdlLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==")
},function(module,exports,__webpack_require__){eval("'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar util = __webpack_require__(2);\nvar log = __webpack_require__(1);\nvar SyncedGetPutDelete = __webpack_require__(22);\nvar config = __webpack_require__(5);\n\nvar Features = {\n  features: [],\n  featuresDone: 0,\n  readyFired: false,\n\n  loadFeatures: function loadFeatures() {\n    var _this = this;\n\n    this.features = [];\n    this.featuresDone = 0;\n    this.readyFired = false;\n\n    this.featureModules = {\n      'WireClient': __webpack_require__(9),\n      'Dropbox': __webpack_require__(13),\n      'GoogleDrive': __webpack_require__(15),\n      'Access': __webpack_require__(10),\n      'Discover': __webpack_require__(12),\n      'Authorize': __webpack_require__(4),\n      'BaseClient': __webpack_require__(6),\n      'Env': __webpack_require__(14)\n    };\n\n    // enable caching releate module if needed\n    if (config.cache) {\n      util.extend(this.featureModules, {\n        'Caching': __webpack_require__(11),\n        'IndexedDB': __webpack_require__(18),\n        'LocalStorage': __webpack_require__(20),\n        'InMemoryStorage': __webpack_require__(19),\n        'Sync': __webpack_require__(8)\n      });\n    }\n\n    // disable specified modules\n    config.disableFeatures.forEach(function (feature) {\n      if (_this.featureModules[feature]) {\n        // this.featureModules[feature] = undefined\n        delete _this.featureModules[feature];\n      }\n    });\n\n    this._allLoaded = false;\n\n    for (var featureName in this.featureModules) {\n      // TOFIX this has to push the promised return value into an\n      // array of promises and use Promise.all to emit `ready`\n      // instead of increment a counter of loaded features. -les\n      this.loadFeature(featureName);\n    }\n  },\n\n\n  /**\n   * Method: hasFeature\n   *\n   * Checks whether a feature is enabled or not within remoteStorage.\n   * Returns a boolean.\n   *\n   * Parameters:\n   *   name - Capitalized name of the feature. e.g. Authorize, or IndexedDB\n   *\n   * Example:\n   *   (start code)\n   *   if (remoteStorage.hasFeature('LocalStorage')) {\n   *     console.log('LocalStorage is enabled!');\n   *   }\n   *   (end code)\n   *\n   */\n  hasFeature: function hasFeature(feature) {\n    for (var i = this.features.length - 1; i >= 0; i--) {\n      if (this.features[i].name === feature) {\n        return this.features[i].supported;\n      }\n    }\n    return false;\n  },\n  loadFeature: function loadFeature(featureName) {\n    var _this2 = this;\n\n    var feature = this.featureModules[featureName];\n    var supported = !feature._rs_supported || feature._rs_supported();\n\n    log('[RemoteStorage] [FEATURE ' + featureName + '] initializing ...');\n\n    if ((typeof supported === 'undefined' ? 'undefined' : _typeof(supported)) === 'object') {\n      supported.then(function () {\n        _this2.featureSupported(featureName, true);\n        _this2.initFeature(featureName);\n      }, function () {\n        _this2.featureSupported(featureName, false);\n      });\n    } else if (typeof supported === 'boolean') {\n      this.featureSupported(featureName, supported);\n      if (supported) {\n        this.initFeature(featureName);\n      }\n    } else {\n      this.featureSupported(featureName, false);\n    }\n  },\n  initFeature: function initFeature(featureName) {\n    var _this3 = this;\n\n    var feature = this.featureModules[featureName];\n    var initResult = void 0;\n    try {\n      initResult = feature._rs_init(this);\n    } catch (e) {\n      this.featureFailed(featureName, e);\n      return;\n    }\n\n    if ((typeof initResult === 'undefined' ? 'undefined' : _typeof(initResult)) === 'object' && typeof initResult.then === 'function') {\n      initResult.then(function () {\n        _this3.featureInitialized(featureName);\n      }, function (err) {\n        _this3.featureFailed(featureName, err);\n      });\n    } else {\n      this.featureInitialized(featureName);\n    }\n  },\n  featureFailed: function featureFailed(featureName, err) {\n    log('[RemoteStorage] [FEATURE ' + featureName + '] initialization failed (' + err + ')');\n    this.featureDone();\n  },\n  featureSupported: function featureSupported(featureName, success) {\n    log('[RemoteStorage] [FEATURE ' + featureName + ']  ' + (success ? '' : ' not') + ' supported');\n    if (!success) {\n      this.featureDone();\n    }\n  },\n  featureInitialized: function featureInitialized(featureName) {\n    log('[RemoteStorage] [FEATURE ' + featureName + '] initialized.');\n    this.features.push({\n      name: featureName,\n      init: this.featureModules[featureName]._rs_init,\n      supported: true,\n      cleanup: this.featureModules[featureName]._rs_cleanup\n    });\n    this.featureDone();\n  },\n  featureDone: function featureDone() {\n    this.featuresDone++;\n    if (this.featuresDone === Object.keys(this.featureModules).length) {\n      setTimeout(this.featuresLoaded.bind(this), 0);\n    }\n  },\n  _setCachingModule: function _setCachingModule() {\n    var _this4 = this;\n\n    var cachingModules = ['IndexedDB', 'LocalStorage', 'InMemoryStorage'];\n\n    cachingModules.some(function (cachingLayer) {\n      if (_this4.features.some(function (feature) {\n        return feature.name === cachingLayer;\n      })) {\n        _this4.features.local = _this4.featureModules[cachingLayer];\n        return true;\n      }\n    });\n  },\n  _fireReady: function _fireReady() {\n    try {\n      if (!this.readyFired) {\n        this._emit('ready');\n        this.readyFired = true;\n      }\n    } catch (e) {\n      console.error(\"'ready' failed: \", e, e.stack);\n      this._emit('error', e);\n    }\n  },\n  featuresLoaded: function featuresLoaded() {\n    var _this5 = this;\n\n    log('[REMOTESTORAGE] All features loaded !');\n\n    this._setCachingModule();\n    this.local = config.cache && this.features.local && new this.features.local();\n\n    // this.remote set by WireClient._rs_init as lazy property on\n    // RS.prototype\n\n    if (this.local && this.remote) {\n      this._setGPD(SyncedGetPutDelete, this);\n      this._bindChange(this.local);\n    } else if (this.remote) {\n      this._setGPD(this.remote, this.remote);\n    }\n    if (this.remote) {\n      this.remote.on('connected', function () {\n        _this5._fireReady();\n        _this5._emit('connected');\n      });\n      this.remote.on('not-connected', function () {\n        _this5._fireReady();\n        _this5._emit('not-connected');\n      });\n      if (this.remote.connected) {\n        this._fireReady();\n        this._emit('connected');\n      }\n\n      if (!this.hasFeature('Authorize')) {\n        this.remote.stopWaitingForToken();\n      }\n    }\n\n    this._collectCleanupFunctions();\n\n    try {\n      this._allLoaded = true;\n      this._emit('features-loaded');\n    } catch (exc) {\n      util.logError(exc);\n      this._emit('error', exc);\n    }\n    this._processPending();\n  },\n  _collectCleanupFunctions: function _collectCleanupFunctions() {\n    this._cleanups = [];\n    for (var i = 0; i < this.features.length; i++) {\n      var cleanup = this.features[i].cleanup;\n      if (typeof cleanup === 'function') {\n        this._cleanups.push(cleanup);\n      }\n    }\n  }\n};\n\nmodule.exports = Features;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZmVhdHVyZXMuanM/MmM1NSJdLCJuYW1lcyI6WyJ1dGlsIiwicmVxdWlyZSIsImxvZyIsIlN5bmNlZEdldFB1dERlbGV0ZSIsImNvbmZpZyIsIkZlYXR1cmVzIiwiZmVhdHVyZXMiLCJmZWF0dXJlc0RvbmUiLCJyZWFkeUZpcmVkIiwibG9hZEZlYXR1cmVzIiwiZmVhdHVyZU1vZHVsZXMiLCJjYWNoZSIsImV4dGVuZCIsImRpc2FibGVGZWF0dXJlcyIsImZvckVhY2giLCJmZWF0dXJlIiwiX2FsbExvYWRlZCIsImZlYXR1cmVOYW1lIiwibG9hZEZlYXR1cmUiLCJoYXNGZWF0dXJlIiwiaSIsImxlbmd0aCIsIm5hbWUiLCJzdXBwb3J0ZWQiLCJfcnNfc3VwcG9ydGVkIiwidGhlbiIsImZlYXR1cmVTdXBwb3J0ZWQiLCJpbml0RmVhdHVyZSIsImluaXRSZXN1bHQiLCJfcnNfaW5pdCIsImUiLCJmZWF0dXJlRmFpbGVkIiwiZmVhdHVyZUluaXRpYWxpemVkIiwiZXJyIiwiZmVhdHVyZURvbmUiLCJzdWNjZXNzIiwicHVzaCIsImluaXQiLCJjbGVhbnVwIiwiX3JzX2NsZWFudXAiLCJPYmplY3QiLCJrZXlzIiwic2V0VGltZW91dCIsImZlYXR1cmVzTG9hZGVkIiwiYmluZCIsIl9zZXRDYWNoaW5nTW9kdWxlIiwiY2FjaGluZ01vZHVsZXMiLCJzb21lIiwiY2FjaGluZ0xheWVyIiwibG9jYWwiLCJfZmlyZVJlYWR5IiwiX2VtaXQiLCJjb25zb2xlIiwiZXJyb3IiLCJzdGFjayIsInJlbW90ZSIsIl9zZXRHUEQiLCJfYmluZENoYW5nZSIsIm9uIiwiY29ubmVjdGVkIiwic3RvcFdhaXRpbmdGb3JUb2tlbiIsIl9jb2xsZWN0Q2xlYW51cEZ1bmN0aW9ucyIsImV4YyIsImxvZ0Vycm9yIiwiX3Byb2Nlc3NQZW5kaW5nIiwiX2NsZWFudXBzIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7QUFFQSxJQUFNQSxP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QyxZQUFNO0FBQ3BDLGVBQUtSLFVBQUw7QUFDQSxlQUFLQyxLQUFMLENBQVcsZUFBWDtBQUNELE9BSEQ7QUFJQSxVQUFJLEtBQUtJLE1BQUwsQ0FBWUksU0FBaEIsRUFBMkI7QUFDekIsYUFBS1QsVUFBTDtBQUNBLGFBQUtDLEtBQUwsQ0FBVyxXQUFYO0FBQ0Q7O0FBRUQsVUFBSSxDQUFDLEtBQUtoQyxVQUFMLENBQWdCLFdBQWhCLENBQUwsRUFBbUM7QUFDakMsYUFBS29DLE1BQUwsQ0FBWUssbUJBQVo7QUFDRDtBQUNGOztBQUVELFNBQUtDLHdCQUFMOztBQUVBLFFBQUk7QUFDRixXQUFLN0MsVUFBTCxHQUFrQixJQUFsQjtBQUNBLFdBQUttQyxLQUFMLENBQVcsaUJBQVg7QUFDRCxLQUhELENBR0UsT0FBTVcsR0FBTixFQUFXO0FBQ1g5RCxXQUFLK0QsUUFBTCxDQUFjRCxHQUFkO0FBQ0EsV0FBS1gsS0FBTCxDQUFXLE9BQVgsRUFBb0JXLEdBQXBCO0FBQ0Q7QUFDRCxTQUFLRSxlQUFMO0FBQ0QsR0E5TmM7QUFnT2ZILDBCQWhPZSxzQ0FnT2E7QUFDMUIsU0FBS0ksU0FBTCxHQUFpQixFQUFqQjtBQUNBLFNBQUssSUFBSTdDLElBQUUsQ0FBWCxFQUFjQSxJQUFJLEtBQUtkLFFBQUwsQ0FBY2UsTUFBaEMsRUFBd0NELEdBQXhDLEVBQTZDO0FBQzNDLFVBQUlrQixVQUFVLEtBQUtoQyxRQUFMLENBQWNjLENBQWQsRUFBaUJrQixPQUEvQjtBQUNBLFVBQUksT0FBT0EsT0FBUCxLQUFvQixVQUF4QixFQUFvQztBQUNsQyxhQUFLMkIsU0FBTCxDQUFlN0IsSUFBZixDQUFvQkUsT0FBcEI7QUFDRDtBQUNGO0FBQ0Y7QUF4T2MsQ0FBakI7O0FBNE9BNEIsT0FBT0MsT0FBUCxHQUFpQjlELFFBQWpCIiwiZmlsZSI6IjE3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCB1dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG5jb25zdCBsb2cgPSByZXF1aXJlKCcuL2xvZycpO1xuY29uc3QgU3luY2VkR2V0UHV0RGVsZXRlID0gcmVxdWlyZSgnLi9zeW5jZWRnZXRwdXRkZWxldGUnKTtcbmNvbnN0IGNvbmZpZyA9IHJlcXVpcmUoJy4vY29uZmlnJyk7XG5cbmNvbnN0IEZlYXR1cmVzID0ge1xuICBmZWF0dXJlczogW10sXG4gIGZlYXR1cmVzRG9uZTogMCxcbiAgcmVhZHlGaXJlZDogZmFsc2UsXG4gIFxuICBsb2FkRmVhdHVyZXMgKCkge1xuICAgIHRoaXMuZmVhdHVyZXMgPSBbXTtcbiAgICB0aGlzLmZlYXR1cmVzRG9uZSA9IDA7XG4gICAgdGhpcy5yZWFkeUZpcmVkID0gZmFsc2U7XG5cbiAgICB0aGlzLmZlYXR1cmVNb2R1bGVzID0ge1xuICAgICAgJ1dpcmVDbGllbnQnOiByZXF1aXJlKCcuL3dpcmVjbGllbnQnKSxcbiAgICAgICdEcm9wYm94JzogcmVxdWlyZSgnLi9kcm9wYm94JyksXG4gICAgICAnR29vZ2xlRHJpdmUnOiByZXF1aXJlKCcuL2dvb2dsZWRyaXZlJyksXG4gICAgICAnQWNjZXNzJzogcmVxdWlyZSgnLi9hY2Nlc3MnKSxcbiAgICAgICdEaXNjb3Zlcic6IHJlcXVpcmUoJy4vZGlzY292ZXInKSxcbiAgICAgICdBdXRob3JpemUnOiByZXF1aXJlKCcuL2F1dGhvcml6ZScpLFxuICAgICAgJ0Jhc2VDbGllbnQnOiByZXF1aXJlKCcuL2Jhc2VjbGllbnQnKSxcbiAgICAgICdFbnYnOiByZXF1aXJlKCcuL2VudicpXG4gICAgfTtcbiAgICBcbiAgICAvLyBlbmFibGUgY2FjaGluZyByZWxlYXRlIG1vZHVsZSBpZiBuZWVkZWRcbiAgICBpZiAoY29uZmlnLmNhY2hlKSB7XG4gICAgICB1dGlsLmV4dGVuZCggdGhpcy5mZWF0dXJlTW9kdWxlcywge1xuICAgICAgICAnQ2FjaGluZyc6IHJlcXVpcmUoJy4vY2FjaGluZycpLFxuICAgICAgICAnSW5kZXhlZERCJzogcmVxdWlyZSgnLi9pbmRleGVkZGInKSxcbiAgICAgICAgJ0xvY2FsU3RvcmFnZSc6IHJlcXVpcmUoJy4vbG9jYWxzdG9yYWdlJyksXG4gICAgICAgICdJbk1lbW9yeVN0b3JhZ2UnOiByZXF1aXJlKCcuL2lubWVtb3J5c3RvcmFnZScpLFxuICAgICAgICAnU3luYyc6IHJlcXVpcmUoJy4vc3luYycpXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBkaXNhYmxlIHNwZWNpZmllZCBtb2R1bGVzXG4gICAgY29uZmlnLmRpc2FibGVGZWF0dXJlcy5mb3JFYWNoKCBmZWF0dXJlID0+IHtcbiAgICAgIGlmICh0aGlzLmZlYXR1cmVNb2R1bGVzW2ZlYXR1cmVdKSB7XG4gICAgICAgIC8vIHRoaXMuZmVhdHVyZU1vZHVsZXNbZmVhdHVyZV0gPSB1bmRlZmluZWRcbiAgICAgICAgZGVsZXRlIHRoaXMuZmVhdHVyZU1vZHVsZXNbZmVhdHVyZV07XG4gICAgICB9XG5cbiAgICB9KTtcblxuICAgIHRoaXMuX2FsbExvYWRlZCA9IGZhbHNlO1xuXG4gICAgZm9yIChsZXQgZmVhdHVyZU5hbWUgaW4gdGhpcy5mZWF0dXJlTW9kdWxlcykge1xuICAgICAgLy8gVE9GSVggdGhpcyBoYXMgdG8gcHVzaCB0aGUgcHJvbWlzZWQgcmV0dXJuIHZhbHVlIGludG8gYW5cbiAgICAgIC8vIGFycmF5IG9mIHByb21pc2VzIGFuZCB1c2UgUHJvbWlzZS5hbGwgdG8gZW1pdCBgcmVhZHlgXG4gICAgICAvLyBpbnN0ZWFkIG9mIGluY3JlbWVudCBhIGNvdW50ZXIgb2YgbG9hZGVkIGZlYXR1cmVzLiAtbGVzXG4gICAgICB0aGlzLmxvYWRGZWF0dXJlKGZlYXR1cmVOYW1lKTtcbiAgICB9XG4gIH0sXG5cblxuXG4gIC8qKlxuICAgKiBNZXRob2Q6IGhhc0ZlYXR1cmVcbiAgICpcbiAgICogQ2hlY2tzIHdoZXRoZXIgYSBmZWF0dXJlIGlzIGVuYWJsZWQgb3Igbm90IHdpdGhpbiByZW1vdGVTdG9yYWdlLlxuICAgKiBSZXR1cm5zIGEgYm9vbGVhbi5cbiAgICpcbiAgICogUGFyYW1ldGVyczpcbiAgICogICBuYW1lIC0gQ2FwaXRhbGl6ZWQgbmFtZSBvZiB0aGUgZmVhdHVyZS4gZS5nLiBBdXRob3JpemUsIG9yIEluZGV4ZWREQlxuICAgKlxuICAgKiBFeGFtcGxlOlxuICAgKiAgIChzdGFydCBjb2RlKVxuICAgKiAgIGlmIChyZW1vdGVTdG9yYWdlLmhhc0ZlYXR1cmUoJ0xvY2FsU3RvcmFnZScpKSB7XG4gICAqICAgICBjb25zb2xlLmxvZygnTG9jYWxTdG9yYWdlIGlzIGVuYWJsZWQhJyk7XG4gICAqICAgfVxuICAgKiAgIChlbmQgY29kZSlcbiAgICpcbiAgICovXG4gIGhhc0ZlYXR1cmUgKGZlYXR1cmUpIHtcbiAgICBmb3IgKHZhciBpID0gdGhpcy5mZWF0dXJlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgaWYgKHRoaXMuZmVhdHVyZXNbaV0ubmFtZSA9PT0gZmVhdHVyZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5mZWF0dXJlc1tpXS5zdXBwb3J0ZWQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcblxuXG4gIGxvYWRGZWF0dXJlIChmZWF0dXJlTmFtZSkge1xuICAgIGNvbnN0IGZlYXR1cmUgPSB0aGlzLmZlYXR1cmVNb2R1bGVzW2ZlYXR1cmVOYW1lXTtcbiAgICBsZXQgc3VwcG9ydGVkID0gIWZlYXR1cmUuX3JzX3N1cHBvcnRlZCB8fCBmZWF0dXJlLl9yc19zdXBwb3J0ZWQoKTtcblxuICAgIGxvZyhgW1JlbW90ZVN0b3JhZ2VdIFtGRUFUVVJFICR7ZmVhdHVyZU5hbWV9XSBpbml0aWFsaXppbmcgLi4uYCk7XG5cbiAgICBpZiAodHlwZW9mIHN1cHBvcnRlZCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHN1cHBvcnRlZC50aGVuKCAoKSA9PiB7XG4gICAgICAgIHRoaXMuZmVhdHVyZVN1cHBvcnRlZChmZWF0dXJlTmFtZSwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuaW5pdEZlYXR1cmUoZmVhdHVyZU5hbWUpO1xuICAgICAgfSwgKCkgPT4ge1xuICAgICAgICB0aGlzLmZlYXR1cmVTdXBwb3J0ZWQoZmVhdHVyZU5hbWUsIGZhbHNlKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHN1cHBvcnRlZCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICB0aGlzLmZlYXR1cmVTdXBwb3J0ZWQoZmVhdHVyZU5hbWUsIHN1cHBvcnRlZCk7XG4gICAgICBpZiAoc3VwcG9ydGVkKSB7XG4gICAgICAgIHRoaXMuaW5pdEZlYXR1cmUoZmVhdHVyZU5hbWUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmZlYXR1cmVTdXBwb3J0ZWQoZmVhdHVyZU5hbWUsIGZhbHNlKTtcbiAgICB9XG4gIH0sXG5cbiAgaW5pdEZlYXR1cmUgKGZlYXR1cmVOYW1lKSB7XG4gICAgY29uc3QgZmVhdHVyZSA9IHRoaXMuZmVhdHVyZU1vZHVsZXNbZmVhdHVyZU5hbWVdO1xuICAgIGxldCBpbml0UmVzdWx0O1xuICAgIHRyeSB7XG4gICAgICBpbml0UmVzdWx0ID0gZmVhdHVyZS5fcnNfaW5pdCh0aGlzKTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIHRoaXMuZmVhdHVyZUZhaWxlZChmZWF0dXJlTmFtZSwgZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZihpbml0UmVzdWx0KSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mKGluaXRSZXN1bHQudGhlbikgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGluaXRSZXN1bHQudGhlbihcbiAgICAgICAgKCkgPT4geyB0aGlzLmZlYXR1cmVJbml0aWFsaXplZChmZWF0dXJlTmFtZSk7IH0sXG4gICAgICAgIChlcnIpID0+IHsgdGhpcy5mZWF0dXJlRmFpbGVkKGZlYXR1cmVOYW1lLCBlcnIpOyB9XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmZlYXR1cmVJbml0aWFsaXplZChmZWF0dXJlTmFtZSk7XG4gICAgfVxuICB9LFxuXG4gIGZlYXR1cmVGYWlsZWQgKGZlYXR1cmVOYW1lLCBlcnIpIHtcbiAgICBsb2coYFtSZW1vdGVTdG9yYWdlXSBbRkVBVFVSRSAke2ZlYXR1cmVOYW1lfV0gaW5pdGlhbGl6YXRpb24gZmFpbGVkICgke2Vycn0pYCk7XG4gICAgdGhpcy5mZWF0dXJlRG9uZSgpO1xuICB9LFxuXG5cbiAgZmVhdHVyZVN1cHBvcnRlZCAoZmVhdHVyZU5hbWUsIHN1Y2Nlc3MpIHtcbiAgICBsb2coYFtSZW1vdGVTdG9yYWdlXSBbRkVBVFVSRSAke2ZlYXR1cmVOYW1lfV0gICR7c3VjY2VzcyA/ICcnIDogJyBub3QnfSBzdXBwb3J0ZWRgKTtcbiAgICBpZiAoIXN1Y2Nlc3MpIHtcbiAgICAgIHRoaXMuZmVhdHVyZURvbmUoKTtcbiAgICB9XG4gIH0sXG5cbiAgZmVhdHVyZUluaXRpYWxpemVkIChmZWF0dXJlTmFtZSkge1xuICAgIGxvZyhgW1JlbW90ZVN0b3JhZ2VdIFtGRUFUVVJFICR7ZmVhdHVyZU5hbWV9XSBpbml0aWFsaXplZC5gKTtcbiAgICB0aGlzLmZlYXR1cmVzLnB1c2goe1xuICAgICAgbmFtZSA6IGZlYXR1cmVOYW1lLFxuICAgICAgaW5pdCA6ICB0aGlzLmZlYXR1cmVNb2R1bGVzW2ZlYXR1cmVOYW1lXS5fcnNfaW5pdCxcbiAgICAgIHN1cHBvcnRlZCA6IHRydWUsXG4gICAgICBjbGVhbnVwIDogdGhpcy5mZWF0dXJlTW9kdWxlc1tmZWF0dXJlTmFtZV0uX3JzX2NsZWFudXBcbiAgICB9KTtcbiAgICB0aGlzLmZlYXR1cmVEb25lKCk7XG4gIH0sXG5cbiAgZmVhdHVyZURvbmUgKCkge1xuICAgIHRoaXMuZmVhdHVyZXNEb25lKys7XG4gICAgaWYgKHRoaXMuZmVhdHVyZXNEb25lID09PSBPYmplY3Qua2V5cyh0aGlzLmZlYXR1cmVNb2R1bGVzKS5sZW5ndGgpIHtcbiAgICAgIHNldFRpbWVvdXQodGhpcy5mZWF0dXJlc0xvYWRlZC5iaW5kKHRoaXMpLCAwKTtcbiAgICB9XG4gIH0sXG5cbiAgX3NldENhY2hpbmdNb2R1bGUgKCkge1xuICAgIGNvbnN0IGNhY2hpbmdNb2R1bGVzID0gWydJbmRleGVkREInLCAnTG9jYWxTdG9yYWdlJywgJ0luTWVtb3J5U3RvcmFnZSddO1xuXG4gICAgY2FjaGluZ01vZHVsZXMuc29tZSggY2FjaGluZ0xheWVyID0+IHtcbiAgICAgIGlmICh0aGlzLmZlYXR1cmVzLnNvbWUoZmVhdHVyZSA9PiBmZWF0dXJlLm5hbWUgPT09IGNhY2hpbmdMYXllcikpIHtcbiAgICAgICAgdGhpcy5mZWF0dXJlcy5sb2NhbCA9IHRoaXMuZmVhdHVyZU1vZHVsZXNbY2FjaGluZ0xheWVyXTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cblxuICBfZmlyZVJlYWR5KCkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIXRoaXMucmVhZHlGaXJlZCkge1xuICAgICAgICB0aGlzLl9lbWl0KCdyZWFkeScpO1xuICAgICAgICB0aGlzLnJlYWR5RmlyZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0gY2F0Y2goZSkge1xuICAgICAgY29uc29sZS5lcnJvcihcIidyZWFkeScgZmFpbGVkOiBcIiwgZSwgZS5zdGFjayk7XG4gICAgICB0aGlzLl9lbWl0KCdlcnJvcicsIGUpO1xuICAgIH1cbiAgfSxcblxuICBmZWF0dXJlc0xvYWRlZCAoKSB7XG4gICAgbG9nKGBbUkVNT1RFU1RPUkFHRV0gQWxsIGZlYXR1cmVzIGxvYWRlZCAhYCk7XG4gICAgXG4gICAgdGhpcy5fc2V0Q2FjaGluZ01vZHVsZSgpO1xuICAgIHRoaXMubG9jYWwgPSBjb25maWcuY2FjaGUgJiYgdGhpcy5mZWF0dXJlcy5sb2NhbCAmJiBuZXcgdGhpcy5mZWF0dXJlcy5sb2NhbCgpO1xuXG4gICAgLy8gdGhpcy5yZW1vdGUgc2V0IGJ5IFdpcmVDbGllbnQuX3JzX2luaXQgYXMgbGF6eSBwcm9wZXJ0eSBvblxuICAgIC8vIFJTLnByb3RvdHlwZVxuXG4gICAgaWYgKHRoaXMubG9jYWwgJiYgdGhpcy5yZW1vdGUpIHtcbiAgICAgIHRoaXMuX3NldEdQRChTeW5jZWRHZXRQdXREZWxldGUsIHRoaXMpO1xuICAgICAgdGhpcy5fYmluZENoYW5nZSh0aGlzLmxvY2FsKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucmVtb3RlKSB7XG4gICAgICB0aGlzLl9zZXRHUEQodGhpcy5yZW1vdGUsIHRoaXMucmVtb3RlKTtcbiAgICB9XG4gICAgaWYgKHRoaXMucmVtb3RlKSB7XG4gICAgICB0aGlzLnJlbW90ZS5vbignY29ubmVjdGVkJywgKCkgPT4ge1xuICAgICAgICB0aGlzLl9maXJlUmVhZHkoKTtcbiAgICAgICAgdGhpcy5fZW1pdCgnY29ubmVjdGVkJyk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMucmVtb3RlLm9uKCdub3QtY29ubmVjdGVkJywgKCkgPT4ge1xuICAgICAgICB0aGlzLl9maXJlUmVhZHkoKTtcbiAgICAgICAgdGhpcy5fZW1pdCgnbm90LWNvbm5lY3RlZCcpO1xuICAgICAgfSk7XG4gICAgICBpZiAodGhpcy5yZW1vdGUuY29ubmVjdGVkKSB7XG4gICAgICAgIHRoaXMuX2ZpcmVSZWFkeSgpO1xuICAgICAgICB0aGlzLl9lbWl0KCdjb25uZWN0ZWQnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLmhhc0ZlYXR1cmUoJ0F1dGhvcml6ZScpKSB7XG4gICAgICAgIHRoaXMucmVtb3RlLnN0b3BXYWl0aW5nRm9yVG9rZW4oKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9jb2xsZWN0Q2xlYW51cEZ1bmN0aW9ucygpO1xuXG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuX2FsbExvYWRlZCA9IHRydWU7XG4gICAgICB0aGlzLl9lbWl0KCdmZWF0dXJlcy1sb2FkZWQnKTtcbiAgICB9IGNhdGNoKGV4Yykge1xuICAgICAgdXRpbC5sb2dFcnJvcihleGMpO1xuICAgICAgdGhpcy5fZW1pdCgnZXJyb3InLCBleGMpO1xuICAgIH1cbiAgICB0aGlzLl9wcm9jZXNzUGVuZGluZygpO1xuICB9LFxuXG4gIF9jb2xsZWN0Q2xlYW51cEZ1bmN0aW9ucyAoKSB7XG4gICAgdGhpcy5fY2xlYW51cHMgPSBbXTtcbiAgICBmb3IgKGxldCBpPTA7IGkgPCB0aGlzLmZlYXR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgY2xlYW51cCA9IHRoaXMuZmVhdHVyZXNbaV0uY2xlYW51cDtcbiAgICAgIGlmICh0eXBlb2YoY2xlYW51cCkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5fY2xlYW51cHMucHVzaChjbGVhbnVwKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBGZWF0dXJlcztcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9mZWF0dXJlcy5qcyJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports,__webpack_require__){
eval("'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/**\n * Class: IndexedDB\n *\n *\n * IndexedDB Interface\n * -------------------\n *\n * TODO rewrite, doesn't expose GPD anymore, it's in cachinglayer now\n *\n * This file exposes a get/put/delete interface, accessing data in an IndexedDB.\n *\n * There are multiple parts to this interface:\n *\n *   The RemoteStorage integration:\n *     - IndexedDB._rs_supported() determines if IndexedDB support\n *       is available. If it isn't, RemoteStorage won't initialize the feature.\n *     - IndexedDB._rs_init() initializes the feature. It returns\n *       a promise that is fulfilled as soon as the database has been opened and\n *       migrated.\n *\n *   The storage interface (IndexedDB object):\n *     - Usually this is accessible via \"remoteStorage.local\"\n *     - #get() takes a path and returns a promise.\n *     - #put() takes a path, body and contentType and also returns a promise.\n *     - #delete() takes a path and also returns a promise.\n *     - #on('change', ...) events, being fired whenever something changes in\n *       the storage. Change events roughly follow the StorageEvent pattern.\n *       They have \"oldValue\" and \"newValue\" properties, which can be used to\n *       distinguish create/update/delete operations and analyze changes in\n *       change handlers. In addition they carry a \"origin\" property, which\n *       is either \"window\", \"local\", or \"remote\". \"remote\" events are fired\n *       whenever a change comes in from Sync.\n *\n *   The sync interface (also on IndexedDB object):\n *     - #getNodes([paths]) returns the requested nodes in a promise.\n *     - #setNodes(map) stores all the nodes given in the (path -> node) map.\n *\n */\n\nvar log = __webpack_require__(1);\nvar cachingLayer = __webpack_require__(7);\nvar eventHandling = __webpack_require__(3);\nvar util = __webpack_require__(2);\n\nvar DB_VERSION = 2;\n\nvar DEFAULT_DB_NAME = 'remotestorage';\nvar DEFAULT_DB;\n\nvar IndexedDB = function IndexedDB(database) {\n  this.db = database || DEFAULT_DB;\n\n  if (!this.db) {\n    log(\"[IndexedDB] Failed to open DB\");\n    return undefined;\n  }\n\n  cachingLayer(this);\n  eventHandling(this, 'change', 'local-events-done');\n\n  this.getsRunning = 0;\n  this.putsRunning = 0;\n\n  /**\n   * Property: changesQueued\n   *\n   * Given a node for which uncommitted changes exist, this cache\n   * stores either the entire uncommitted node, or false for a deletion.\n   * The node's path is used as the key.\n   *\n   * changesQueued stores changes for which no IndexedDB transaction has\n   * been started yet.\n   */\n  this.changesQueued = {};\n\n  /**\n   * Property: changesRunning\n   *\n   * Given a node for which uncommitted changes exist, this cache\n   * stores either the entire uncommitted node, or false for a deletion.\n   * The node's path is used as the key.\n   *\n   * At any time there is at most one IndexedDB transaction running.\n   * changesRunning stores the changes that are included in that currently\n   * running IndexedDB transaction, or if none is running, of the last one\n   * that ran.\n   */\n  this.changesRunning = {};\n};\n\nIndexedDB.prototype = {\n  getNodes: function getNodes(paths) {\n    var misses = [],\n        fromCache = {};\n    for (var i = 0, len = paths.length; i < len; i++) {\n      if (this.changesQueued[paths[i]] !== undefined) {\n        fromCache[paths[i]] = util.deepClone(this.changesQueued[paths[i]] || undefined);\n      } else if (this.changesRunning[paths[i]] !== undefined) {\n        fromCache[paths[i]] = util.deepClone(this.changesRunning[paths[i]] || undefined);\n      } else {\n        misses.push(paths[i]);\n      }\n    }\n    if (misses.length > 0) {\n      return this.getNodesFromDb(misses).then(function (nodes) {\n        for (var i in fromCache) {\n          nodes[i] = fromCache[i];\n        }\n        return nodes;\n      });\n    } else {\n      return Promise.resolve(fromCache);\n    }\n  },\n\n  setNodes: function setNodes(nodes) {\n    for (var i in nodes) {\n      this.changesQueued[i] = nodes[i] || false;\n    }\n    this.maybeFlush();\n    return Promise.resolve();\n  },\n\n  maybeFlush: function maybeFlush() {\n    if (this.putsRunning === 0) {\n      this.flushChangesQueued();\n    } else {\n      if (!this.commitSlownessWarning) {\n        this.commitSlownessWarning = setInterval(function () {\n          console.log('WARNING: waited more than 10 seconds for previous commit to finish');\n        }, 10000);\n      }\n    }\n  },\n\n  flushChangesQueued: function flushChangesQueued() {\n    if (this.commitSlownessWarning) {\n      clearInterval(this.commitSlownessWarning);\n      this.commitSlownessWarning = null;\n    }\n    if (Object.keys(this.changesQueued).length > 0) {\n      this.changesRunning = this.changesQueued;\n      this.changesQueued = {};\n      this.setNodesInDb(this.changesRunning).then(this.flushChangesQueued.bind(this));\n    }\n  },\n\n  getNodesFromDb: function getNodesFromDb(paths) {\n    var _this = this;\n\n    return new Promise(function (resolve, reject) {\n\n      var transaction = _this.db.transaction(['nodes'], 'readonly');\n      var nodes = transaction.objectStore('nodes');\n      var retrievedNodes = {};\n\n      _this.getsRunning++;\n\n      paths.map(function (path, i) {\n        nodes.get(path).onsuccess = function (evt) {\n          retrievedNodes[path] = evt.target.result;\n        };\n      });\n\n      transaction.oncomplete = function () {\n        resolve(retrievedNodes);\n        this.getsRunning--;\n      }.bind(_this);\n\n      transaction.onerror = transaction.onabort = function () {\n        reject('get transaction error/abort');\n        this.getsRunning--;\n      }.bind(_this);\n    });\n  },\n\n  setNodesInDb: function setNodesInDb(nodes) {\n    var _this2 = this;\n\n    return new Promise(function (resolve, reject) {\n\n      var transaction = _this2.db.transaction(['nodes'], 'readwrite');\n      var nodesStore = transaction.objectStore('nodes');\n      var startTime = new Date().getTime();\n\n      _this2.putsRunning++;\n\n      log('[IndexedDB] Starting put', nodes, _this2.putsRunning);\n\n      for (var path in nodes) {\n        var node = nodes[path];\n        if ((typeof node === 'undefined' ? 'undefined' : _typeof(node)) === 'object') {\n          try {\n            nodesStore.put(node);\n          } catch (e) {\n            log('[IndexedDB] Error while putting', node, e);\n            throw e;\n          }\n        } else {\n          try {\n            nodesStore.delete(path);\n          } catch (e) {\n            log('[IndexedDB] Error while removing', nodesStore, node, e);\n            throw e;\n          }\n        }\n      }\n\n      transaction.oncomplete = function () {\n        this.putsRunning--;\n        log('[IndexedDB] Finished put', nodes, this.putsRunning, new Date().getTime() - startTime + 'ms');\n        resolve();\n      }.bind(_this2);\n\n      transaction.onerror = function () {\n        this.putsRunning--;\n        reject('transaction error');\n      }.bind(_this2);\n\n      transaction.onabort = function () {\n        reject('transaction abort');\n        this.putsRunning--;\n      }.bind(_this2);\n    });\n  },\n\n  reset: function reset(callback) {\n    var dbName = this.db.name;\n    var self = this;\n\n    this.db.close();\n\n    IndexedDB.clean(this.db.name, function () {\n      IndexedDB.open(dbName, function (err, other) {\n        if (err) {\n          log('[IndexedDB] Error while resetting local storage', err);\n        } else {\n          // hacky!\n          self.db = other;\n        }\n        if (typeof callback === 'function') {\n          callback(self);\n        }\n      });\n    });\n  },\n\n  forAllNodes: function forAllNodes(cb) {\n    var _this3 = this;\n\n    return new Promise(function (resolve, reject) {\n\n      var transaction = _this3.db.transaction(['nodes'], 'readonly');\n      var cursorReq = transaction.objectStore('nodes').openCursor();\n\n      cursorReq.onsuccess = function (evt) {\n        var cursor = evt.target.result;\n\n        if (cursor) {\n          cb(this.migrate(cursor.value));\n          cursor.continue();\n        } else {\n          resolve();\n        }\n      }.bind(_this3);\n    });\n  },\n\n  closeDB: function closeDB() {\n    this.db.close();\n  }\n\n};\n\nIndexedDB.open = function (name, callback) {\n  var timer = setTimeout(function () {\n    callback(\"timeout trying to open db\");\n  }, 10000);\n\n  try {\n    var req = indexedDB.open(name, DB_VERSION);\n\n    req.onerror = function () {\n      log('[IndexedDB] Opening DB failed', req);\n\n      clearTimeout(timer);\n      callback(req.error);\n    };\n\n    req.onupgradeneeded = function (event) {\n      var db = req.result;\n\n      log(\"[IndexedDB] Upgrade: from \", event.oldVersion, \" to \", event.newVersion);\n\n      if (event.oldVersion !== 1) {\n        log(\"[IndexedDB] Creating object store: nodes\");\n        db.createObjectStore('nodes', { keyPath: 'path' });\n      }\n\n      log(\"[IndexedDB] Creating object store: changes\");\n\n      db.createObjectStore('changes', { keyPath: 'path' });\n    };\n\n    req.onsuccess = function () {\n      clearTimeout(timer);\n\n      // check if all object stores exist\n      var db = req.result;\n      if (!db.objectStoreNames.contains('nodes') || !db.objectStoreNames.contains('changes')) {\n        log(\"[IndexedDB] Missing object store. Resetting the database.\");\n        IndexedDB.clean(name, function () {\n          IndexedDB.open(name, callback);\n        });\n        return;\n      }\n\n      callback(null, req.result);\n    };\n  } catch (error) {\n    log(\"[IndexedDB] Failed to open database: \" + error);\n    log(\"[IndexedDB] Resetting database and trying again.\");\n\n    clearTimeout(timer);\n\n    IndexedDB.clean(name, function () {\n      IndexedDB.open(name, callback);\n    });\n  }\n};\n\nIndexedDB.clean = function (databaseName, callback) {\n  var req = indexedDB.deleteDatabase(databaseName);\n\n  req.onsuccess = function () {\n    log('[IndexedDB] Done removing DB');\n    callback();\n  };\n\n  req.onerror = req.onabort = function (evt) {\n    console.error('Failed to remove database \"' + databaseName + '\"', evt);\n  };\n};\n\nIndexedDB._rs_init = function (remoteStorage) {\n\n  return new Promise(function (resolve, reject) {\n\n    IndexedDB.open(DEFAULT_DB_NAME, function (err, db) {\n      if (err) {\n        reject(err);\n      } else {\n        DEFAULT_DB = db;\n        db.onerror = function () {\n          remoteStorage._emit('error', err);\n        };\n        resolve();\n      }\n    });\n  });\n};\n\nIndexedDB._rs_supported = function () {\n  return new Promise(function (resolve, reject) {\n\n    var context = util.getGlobalContext();\n\n    // TOFIX this is causing an error in chrome\n    // context.indexedDB = context.indexedDB    || context.webkitIndexedDB ||\n    //                    context.mozIndexedDB || context.oIndexedDB      ||\n    //                    context.msIndexedDB;\n\n    // Detect browsers with known IndexedDb issues (e.g. Android pre-4.4)\n    var poorIndexedDbSupport = false;\n    if (typeof navigator !== 'undefined' && navigator.userAgent.match(/Android (2|3|4\\.[0-3])/)) {\n      // Chrome and Firefox support IndexedDB\n      if (!navigator.userAgent.match(/Chrome|Firefox/)) {\n        poorIndexedDbSupport = true;\n      }\n    }\n\n    if ('indexedDB' in context && !poorIndexedDbSupport) {\n      try {\n        var check = indexedDB.open(\"rs-check\");\n        check.onerror = function (event) {\n          reject();\n        };\n        check.onsuccess = function (event) {\n          check.result.close();\n          indexedDB.deleteDatabase(\"rs-check\");\n          resolve();\n        };\n      } catch (e) {\n        reject();\n      }\n    } else {\n      reject();\n    }\n  });\n};\n\nIndexedDB._rs_cleanup = function (remoteStorage) {\n  return new Promise(function (resolve, reject) {\n    if (remoteStorage.local) {\n      remoteStorage.local.closeDB();\n    }\n\n    IndexedDB.clean(DEFAULT_DB_NAME, resolve);\n  });\n};\n\nmodule.exports = IndexedDB;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXhlZGRiLmpzPzZhZGIiXSwibmFtZXMiOlsibG9nIiwicmVxdWlyZSIsImNhY2hpbmdMYXllciIsImV2ZW50SGFuZGxpbmciLCJ1dGlsIiwiREJfVkVSU0lPTiIsIkRFRkFVTFRfREJfTkFNRSIsIkRFRkFVTFRfREIiLCJJbmRleGVkREIiLCJkYXRhYmFzZSIsImRiIiwidW5kZWZpbmVkIiwiZ2V0c1J1bm5pbmciLCJwdXRzUnVubmluZyIsImNoYW5nZXNRdWV1ZWQiLCJjaGFuZ2VzUnVubmluZyIsInByb3RvdHlwZSIsImdldE5vZGVzIiwicGF0aHMiLCJtaXNzZXMiLCJmcm9tQ2FjaGUiLCJpIiwibGVuIiwibGVuZ3RoIiwiZGVlcENsb25lIiwicHVzaCIsImdldE5vZGVzRnJvbURiIiwidGhlbiIsIm5vZGVzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXROb2RlcyIsIm1heWJlRmx1c2giLCJmbHVzaENoYW5nZXNRdWV1ZWQiLCJjb21taXRTbG93bmVzc1dhcm5pbmciLCJzZXRJbnRlcnZhbCIsImNvbnNvbGUiLCJjbGVhckludGVydmFsIiwiT2JqZWN0Iiwia2V5cyIsInNldE5vZGVzSW5EYiIsImJpbmQiLCJyZWplY3QiLCJ0cmFuc2FjdGlvbiIsIm9iamVjdFN0b3JlIiwicmV0cmlldmVkTm9kZXMiLCJtYXAiLCJwYXRoIiwiZ2V0Iiwib25zdWNjZXNzIiwiZXZ0IiwidGFyZ2V0IiwicmVzdWx0Iiwib25jb21wbGV0ZSIsIm9uZXJyb3IiLCJvbmFib3J0Iiwibm9kZXNTdG9yZSIsInN0YXJ0VGltZSIsIkRhdGUiLCJnZXRUaW1lIiwibm9kZSIsInB1dCIsImUiLCJkZWxldGUiLCJyZXNldCIsImNhbGxiYWNrIiwiZGJOYW1lIiwibmFtZSIsInNlbGYiLCJjbG9zZSIsImNsZWFuIiwib3BlbiIsImVyciIsIm90aGVyIiwiZm9yQWxsTm9kZXMiLCJjYiIsImN1cnNvclJlcSIsIm9wZW5DdXJzb3IiLCJjdXJzb3IiLCJtaWdyYXRlIiwidmFsdWUiLCJjb250aW51ZSIsImNsb3NlREIiLCJ0aW1lciIsInNldFRpbWVvdXQiLCJyZXEiLCJpbmRleGVkREIiLCJjbGVhclRpbWVvdXQiLCJlcnJvciIsIm9udXBncmFkZW5lZWRlZCIsImV2ZW50Iiwib2xkVmVyc2lvbiIsIm5ld1ZlcnNpb24iLCJjcmVhdGVPYmplY3RTdG9yZSIsImtleVBhdGgiLCJvYmplY3RTdG9yZU5hbWVzIiwiY29udGFpbnMiLCJkYXRhYmFzZU5hbWUiLCJkZWxldGVEYXRhYmFzZSIsIl9yc19pbml0IiwicmVtb3RlU3RvcmFnZSIsIl9lbWl0IiwiX3JzX3N1cHBvcnRlZCIsImNvbnRleHQiLCJnZXRHbG9iYWxDb250ZXh0IiwicG9vckluZGV4ZWREYlN1cHBvcnQiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJtYXRjaCIsImNoZWNrIiwiX3JzX2NsZWFudXAiLCJsb2NhbCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7QUFDRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBdUNBLElBQUlBLE1BQU0sbUJBQUFDLENBQVEsQ0FBUixDQUFWO0FBQ0EsSUFBSUMsZUFBZSxtQkFBQUQsQ0FBUSxDQUFSLENBQW5CO0FBQ0EsSUFBSUUsZ0JBQWdCLG1CQUFBRixDQUFRLENBQVIsQ0FBcEI7QUFDQSxJQUFJRyxPQUFPLG1CQUFBSCxDQUFRLENBQVIsQ0FBWDs7QUFFQSxJQUFJSSxhQUFhLENBQWpCOztBQUVBLElBQUlDLGtCQUFrQixlQUF0QjtBQUNBLElBQUlDLFVBQUo7O0FBRUEsSUFBSUMsWUFBWSxTQUFaQSxTQUFZLENBQVVDLFFBQVYsRUFBb0I7QUFDbEMsT0FBS0MsRUFBTCxHQUFVRCxZQUFZRixVQUF0Qjs7QUFFQSxNQUFJLENBQUMsS0FBS0csRUFBVixFQUFjO0FBQ1pWLFFBQUksK0JBQUo7QUFDQSxXQUFPVyxTQUFQO0FBQ0Q7O0FBRURULGVBQWEsSUFBYjtBQUNBQyxnQkFBYyxJQUFkLEVBQW9C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LElBQVYsQ0FBZSxVQUFmLENBQVo7QUFDQXNDLGNBQU12RCxPQUFOLEdBQWdCLFVBQVVvQyxLQUFWLEVBQWlCO0FBQy9CaEQ7QUFDRCxTQUZEO0FBR0FtRSxjQUFNNUQsU0FBTixHQUFrQixVQUFVeUMsS0FBVixFQUFpQjtBQUNqQ21CLGdCQUFNekQsTUFBTixDQUFhaUIsS0FBYjtBQUNBaUIsb0JBQVVZLGNBQVYsQ0FBeUIsVUFBekI7QUFDQXBFO0FBQ0QsU0FKRDtBQUtELE9BVkQsQ0FVRSxPQUFNZ0MsQ0FBTixFQUFTO0FBQ1RwQjtBQUNEO0FBQ0YsS0FkRCxNQWNPO0FBQ0xBO0FBQ0Q7QUFFRixHQXJDTSxDQUFQO0FBc0NELENBdkNEOztBQXlDQWxDLFVBQVVzRyxXQUFWLEdBQXdCLFVBQVVWLGFBQVYsRUFBeUI7QUFDL0MsU0FBTyxJQUFJdkUsT0FBSixDQUFZLFVBQUNDLE9BQUQsRUFBVVksTUFBVixFQUFxQjtBQUN0QyxRQUFJMEQsY0FBY1csS0FBbEIsRUFBeUI7QUFDdkJYLG9CQUFjVyxLQUFkLENBQW9CN0IsT0FBcEI7QUFDRDs7QUFFRDFFLGNBQVU4RCxLQUFWLENBQWdCaEUsZUFBaEIsRUFBaUN3QixPQUFqQztBQUVELEdBUE0sQ0FBUDtBQVFELENBVEQ7O0FBWUFrRixPQUFPQyxPQUFQLEdBQWlCekcsU0FBakIiLCJmaWxlIjoiMTguanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbiAgLyoqXG4gICAqIENsYXNzOiBJbmRleGVkREJcbiAgICpcbiAgICpcbiAgICogSW5kZXhlZERCIEludGVyZmFjZVxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqXG4gICAqIFRPRE8gcmV3cml0ZSwgZG9lc24ndCBleHBvc2UgR1BEIGFueW1vcmUsIGl0J3MgaW4gY2FjaGluZ2xheWVyIG5vd1xuICAgKlxuICAgKiBUaGlzIGZpbGUgZXhwb3NlcyBhIGdldC9wdXQvZGVsZXRlIGludGVyZmFjZSwgYWNjZXNzaW5nIGRhdGEgaW4gYW4gSW5kZXhlZERCLlxuICAgKlxuICAgKiBUaGVyZSBhcmUgbXVsdGlwbGUgcGFydHMgdG8gdGhpcyBpbnRlcmZhY2U6XG4gICAqXG4gICAqICAgVGhlIFJlbW90ZVN0b3JhZ2UgaW50ZWdyYXRpb246XG4gICAqICAgICAtIEluZGV4ZWREQi5fcnNfc3VwcG9ydGVkKCkgZGV0ZXJtaW5lcyBpZiBJbmRleGVkREIgc3VwcG9ydFxuICAgKiAgICAgICBpcyBhdmFpbGFibGUuIElmIGl0IGlzbid0LCBSZW1vdGVTdG9yYWdlIHdvbid0IGluaXRpYWxpemUgdGhlIGZlYXR1cmUuXG4gICAqICAgICAtIEluZGV4ZWREQi5fcnNfaW5pdCgpIGluaXRpYWxpemVzIHRoZSBmZWF0dXJlLiBJdCByZXR1cm5zXG4gICAqICAgICAgIGEgcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCBhcyBzb29uIGFzIHRoZSBkYXRhYmFzZSBoYXMgYmVlbiBvcGVuZWQgYW5kXG4gICAqICAgICAgIG1pZ3JhdGVkLlxuICAgKlxuICAgKiAgIFRoZSBzdG9yYWdlIGludGVyZmFjZSAoSW5kZXhlZERCIG9iamVjdCk6XG4gICAqICAgICAtIFVzdWFsbHkgdGhpcyBpcyBhY2Nlc3NpYmxlIHZpYSBcInJlbW90ZVN0b3JhZ2UubG9jYWxcIlxuICAgKiAgICAgLSAjZ2V0KCkgdGFrZXMgYSBwYXRoIGFuZCByZXR1cm5zIGEgcHJvbWlzZS5cbiAgICogICAgIC0gI3B1dCgpIHRha2VzIGEgcGF0aCwgYm9keSBhbmQgY29udGVudFR5cGUgYW5kIGFsc28gcmV0dXJucyBhIHByb21pc2UuXG4gICAqICAgICAtICNkZWxldGUoKSB0YWtlcyBhIHBhdGggYW5kIGFsc28gcmV0dXJucyBhIHByb21pc2UuXG4gICAqICAgICAtICNvbignY2hhbmdlJywgLi4uKSBldmVudHMsIGJlaW5nIGZpcmVkIHdoZW5ldmVyIHNvbWV0aGluZyBjaGFuZ2VzIGluXG4gICAqICAgICAgIHRoZSBzdG9yYWdlLiBDaGFuZ2UgZXZlbnRzIHJvdWdobHkgZm9sbG93IHRoZSBTdG9yYWdlRXZlbnQgcGF0dGVybi5cbiAgICogICAgICAgVGhleSBoYXZlIFwib2xkVmFsdWVcIiBhbmQgXCJuZXdWYWx1ZVwiIHByb3BlcnRpZXMsIHdoaWNoIGNhbiBiZSB1c2VkIHRvXG4gICAqICAgICAgIGRpc3Rpbmd1aXNoIGNyZWF0ZS91cGRhdGUvZGVsZXRlIG9wZXJhdGlvbnMgYW5kIGFuYWx5emUgY2hhbmdlcyBpblxuICAgKiAgICAgICBjaGFuZ2UgaGFuZGxlcnMuIEluIGFkZGl0aW9uIHRoZXkgY2FycnkgYSBcIm9yaWdpblwiIHByb3BlcnR5LCB3aGljaFxuICAgKiAgICAgICBpcyBlaXRoZXIgXCJ3aW5kb3dcIiwgXCJsb2NhbFwiLCBvciBcInJlbW90ZVwiLiBcInJlbW90ZVwiIGV2ZW50cyBhcmUgZmlyZWRcbiAgICogICAgICAgd2hlbmV2ZXIgYSBjaGFuZ2UgY29tZXMgaW4gZnJvbSBTeW5jLlxuICAgKlxuICAgKiAgIFRoZSBzeW5jIGludGVyZmFjZSAoYWxzbyBvbiBJbmRleGVkREIgb2JqZWN0KTpcbiAgICogICAgIC0gI2dldE5vZGVzKFtwYXRoc10pIHJldHVybnMgdGhlIHJlcXVlc3RlZCBub2RlcyBpbiBhIHByb21pc2UuXG4gICAqICAgICAtICNzZXROb2RlcyhtYXApIHN0b3JlcyBhbGwgdGhlIG5vZGVzIGdpdmVuIGluIHRoZSAocGF0aCAtPiBub2RlKSBtYXAuXG4gICAqXG4gICAqL1xuXG4gIHZhciBsb2cgPSByZXF1aXJlKCcuL2xvZycpO1xuICB2YXIgY2FjaGluZ0xheWVyID0gcmVxdWlyZSgnLi9jYWNoaW5nbGF5ZXInKTtcbiAgdmFyIGV2ZW50SGFuZGxpbmcgPSByZXF1aXJlKCcuL2V2ZW50aGFuZGxpbmcnKTtcbiAgdmFyIHV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcblxuICB2YXIgREJfVkVSU0lPTiA9IDI7XG5cbiAgdmFyIERFRkFVTFRfREJfTkFNRSA9ICdyZW1vdGVzdG9yYWdlJztcbiAgdmFyIERFRkFVTFRfREI7XG5cbiAgdmFyIEluZGV4ZWREQiA9IGZ1bmN0aW9uIChkYXRhYmFzZSkge1xuICAgIHRoaXMuZGIgPSBkYXRhYmFzZSB8fCBERUZBVUxUX0RCO1xuXG4gICAgaWYgKCF0aGlzLmRiKSB7XG4gICAgICBsb2coXCJbSW5kZXhlZERCXSBGYWlsZWQgdG8gb3BlbiBEQlwiKTtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgY2FjaGluZ0xheWVyKHRoaXMpO1xuICAgIGV2ZW50SGFuZGxpbmcodGhpcywgJ2NoYW5nZScsICdsb2NhbC1ldmVudHMtZG9uZScpO1xuXG4gICAgdGhpcy5nZXRzUnVubmluZyA9IDA7XG4gICAgdGhpcy5wdXRzUnVubmluZyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0eTogY2hhbmdlc1F1ZXVlZFxuICAgICAqXG4gICAgICogR2l2ZW4gYSBub2RlIGZvciB3aGljaCB1bmNvbW1pdHRlZCBjaGFuZ2VzIGV4aXN0LCB0aGlzIGNhY2hlXG4gICAgICogc3RvcmVzIGVpdGhlciB0aGUgZW50aXJlIHVuY29tbWl0dGVkIG5vZGUsIG9yIGZhbHNlIGZvciBhIGRlbGV0aW9uLlxuICAgICAqIFRoZSBub2RlJ3MgcGF0aCBpcyB1c2VkIGFzIHRoZSBrZXkuXG4gICAgICpcbiAgICAgKiBjaGFuZ2VzUXVldWVkIHN0b3JlcyBjaGFuZ2VzIGZvciB3aGljaCBubyBJbmRleGVkREIgdHJhbnNhY3Rpb24gaGFzXG4gICAgICogYmVlbiBzdGFydGVkIHlldC5cbiAgICAgKi9cbiAgICB0aGlzLmNoYW5nZXNRdWV1ZWQgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnR5OiBjaGFuZ2VzUnVubmluZ1xuICAgICAqXG4gICAgICogR2l2ZW4gYSBub2RlIGZvciB3aGljaCB1bmNvbW1pdHRlZCBjaGFuZ2VzIGV4aXN0LCB0aGlzIGNhY2hlXG4gICAgICogc3RvcmVzIGVpdGhlciB0aGUgZW50aXJlIHVuY29tbWl0dGVkIG5vZGUsIG9yIGZhbHNlIGZvciBhIGRlbGV0aW9uLlxuICAgICAqIFRoZSBub2RlJ3MgcGF0aCBpcyB1c2VkIGFzIHRoZSBrZXkuXG4gICAgICpcbiAgICAgKiBBdCBhbnkgdGltZSB0aGVyZSBpcyBhdCBtb3N0IG9uZSBJbmRleGVkREIgdHJhbnNhY3Rpb24gcnVubmluZy5cbiAgICAgKiBjaGFuZ2VzUnVubmluZyBzdG9yZXMgdGhlIGNoYW5nZXMgdGhhdCBhcmUgaW5jbHVkZWQgaW4gdGhhdCBjdXJyZW50bHlcbiAgICAgKiBydW5uaW5nIEluZGV4ZWREQiB0cmFuc2FjdGlvbiwgb3IgaWYgbm9uZSBpcyBydW5uaW5nLCBvZiB0aGUgbGFzdCBvbmVcbiAgICAgKiB0aGF0IHJhbi5cbiAgICAgKi9cbiAgICB0aGlzLmNoYW5nZXNSdW5uaW5nID0ge307XG4gIH07XG5cbiAgSW5kZXhlZERCLnByb3RvdHlwZSA9IHtcbiAgICBnZXROb2RlczogZnVuY3Rpb24gKHBhdGhzKSB7XG4gICAgICB2YXIgbWlzc2VzID0gW10sIGZyb21DYWNoZSA9IHt9O1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHBhdGhzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGlmICh0aGlzLmNoYW5nZXNRdWV1ZWRbcGF0aHNbaV1dICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBmcm9tQ2FjaGVbcGF0aHNbaV1dID0gdXRpbC5kZWVwQ2xvbmUodGhpcy5jaGFuZ2VzUXVldWVkW3BhdGhzW2ldXSB8fCB1bmRlZmluZWQpO1xuICAgICAgICB9IGVsc2UgaWYodGhpcy5jaGFuZ2VzUnVubmluZ1twYXRoc1tpXV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGZyb21DYWNoZVtwYXRoc1tpXV0gPSB1dGlsLmRlZXBDbG9uZSh0aGlzLmNoYW5nZXNSdW5uaW5nW3BhdGhzW2ldXSB8fCB1bmRlZmluZWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1pc3Nlcy5wdXNoKHBhdGhzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG1pc3Nlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE5vZGVzRnJvbURiKG1pc3NlcykudGhlbihmdW5jdGlvbiAobm9kZXMpIHtcbiAgICAgICAgICBmb3IgKHZhciBpIGluIGZyb21DYWNoZSkge1xuICAgICAgICAgICAgbm9kZXNbaV0gPSBmcm9tQ2FjaGVbaV07XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBub2RlcztcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGZyb21DYWNoZSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHNldE5vZGVzOiBmdW5jdGlvbiAobm9kZXMpIHtcbiAgICAgIGZvciAodmFyIGkgaW4gbm9kZXMpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VzUXVldWVkW2ldID0gbm9kZXNbaV0gfHwgZmFsc2U7XG4gICAgICB9XG4gICAgICB0aGlzLm1heWJlRmx1c2goKTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9LFxuXG4gICAgbWF5YmVGbHVzaDogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMucHV0c1J1bm5pbmcgPT09IDApIHtcbiAgICAgICAgdGhpcy5mbHVzaENoYW5nZXNRdWV1ZWQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghdGhpcy5jb21taXRTbG93bmVzc1dhcm5pbmcpIHtcbiAgICAgICAgICB0aGlzLmNvbW1pdFNsb3duZXNzV2FybmluZyA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdXQVJOSU5HOiB3YWl0ZWQgbW9yZSB0aGFuIDEwIHNlY29uZHMgZm9yIHByZXZpb3VzIGNvbW1pdCB0byBmaW5pc2gnKTtcbiAgICAgICAgICB9LCAxMDAwMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgZmx1c2hDaGFuZ2VzUXVldWVkOiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5jb21taXRTbG93bmVzc1dhcm5pbmcpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmNvbW1pdFNsb3duZXNzV2FybmluZyk7XG4gICAgICAgIHRoaXMuY29tbWl0U2xvd25lc3NXYXJuaW5nID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLmNoYW5nZXNRdWV1ZWQpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VzUnVubmluZyA9IHRoaXMuY2hhbmdlc1F1ZXVlZDtcbiAgICAgICAgdGhpcy5jaGFuZ2VzUXVldWVkID0ge307XG4gICAgICAgIHRoaXMuc2V0Tm9kZXNJbkRiKHRoaXMuY2hhbmdlc1J1bm5pbmcpLnRoZW4odGhpcy5mbHVzaENoYW5nZXNRdWV1ZWQuYmluZCh0aGlzKSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGdldE5vZGVzRnJvbURiOiBmdW5jdGlvbiAocGF0aHMpIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cbiAgICAgICAgdmFyIHRyYW5zYWN0aW9uID0gdGhpcy5kYi50cmFuc2FjdGlvbihbJ25vZGVzJ10sICdyZWFkb25seScpO1xuICAgICAgICB2YXIgbm9kZXMgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZSgnbm9kZXMnKTtcbiAgICAgICAgdmFyIHJldHJpZXZlZE5vZGVzID0ge307XG5cbiAgICAgICAgdGhpcy5nZXRzUnVubmluZysrO1xuXG4gICAgICAgIHBhdGhzLm1hcChmdW5jdGlvbiAocGF0aCwgaSkge1xuICAgICAgICAgIG5vZGVzLmdldChwYXRoKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICByZXRyaWV2ZWROb2Rlc1twYXRoXSA9IGV2dC50YXJnZXQucmVzdWx0O1xuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRyYW5zYWN0aW9uLm9uY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmVzb2x2ZShyZXRyaWV2ZWROb2Rlcyk7XG4gICAgICAgICAgdGhpcy5nZXRzUnVubmluZy0tO1xuICAgICAgICB9LmJpbmQodGhpcyk7XG5cbiAgICAgICAgdHJhbnNhY3Rpb24ub25lcnJvciA9IHRyYW5zYWN0aW9uLm9uYWJvcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmVqZWN0KCdnZXQgdHJhbnNhY3Rpb24gZXJyb3IvYWJvcnQnKTtcbiAgICAgICAgICB0aGlzLmdldHNSdW5uaW5nLS07XG4gICAgICAgIH0uYmluZCh0aGlzKTtcblxuICAgICAgfSk7XG4gICAgfSxcblxuICAgIHNldE5vZGVzSW5EYjogZnVuY3Rpb24gKG5vZGVzKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXG4gICAgICAgIHZhciB0cmFuc2FjdGlvbiA9IHRoaXMuZGIudHJhbnNhY3Rpb24oWydub2RlcyddLCAncmVhZHdyaXRlJyk7XG4gICAgICAgIHZhciBub2Rlc1N0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoJ25vZGVzJyk7XG4gICAgICAgIHZhciBzdGFydFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICAgICAgICB0aGlzLnB1dHNSdW5uaW5nKys7XG5cbiAgICAgICAgbG9nKCdbSW5kZXhlZERCXSBTdGFydGluZyBwdXQnLCBub2RlcywgdGhpcy5wdXRzUnVubmluZyk7XG5cbiAgICAgICAgZm9yICh2YXIgcGF0aCBpbiBub2Rlcykge1xuICAgICAgICAgIHZhciBub2RlID0gbm9kZXNbcGF0aF07XG4gICAgICAgICAgaWYodHlwZW9mKG5vZGUpID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgbm9kZXNTdG9yZS5wdXQobm9kZSk7XG4gICAgICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgICAgbG9nKCdbSW5kZXhlZERCXSBFcnJvciB3aGlsZSBwdXR0aW5nJywgbm9kZSwgZSk7XG4gICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIG5vZGVzU3RvcmUuZGVsZXRlKHBhdGgpO1xuICAgICAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICAgIGxvZygnW0luZGV4ZWREQl0gRXJyb3Igd2hpbGUgcmVtb3ZpbmcnLCBub2Rlc1N0b3JlLCBub2RlLCBlKTtcbiAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0cmFuc2FjdGlvbi5vbmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRoaXMucHV0c1J1bm5pbmctLTtcbiAgICAgICAgICBsb2coJ1tJbmRleGVkREJdIEZpbmlzaGVkIHB1dCcsIG5vZGVzLCB0aGlzLnB1dHNSdW5uaW5nLCAobmV3IERhdGUoKS5nZXRUaW1lKCkgLSBzdGFydFRpbWUpKydtcycpO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHRyYW5zYWN0aW9uLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdGhpcy5wdXRzUnVubmluZy0tO1xuICAgICAgICAgIHJlamVjdCgndHJhbnNhY3Rpb24gZXJyb3InKTtcbiAgICAgICAgfS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHRyYW5zYWN0aW9uLm9uYWJvcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmVqZWN0KCd0cmFuc2FjdGlvbiBhYm9ydCcpO1xuICAgICAgICAgIHRoaXMucHV0c1J1bm5pbmctLTtcbiAgICAgICAgfS5iaW5kKHRoaXMpO1xuXG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgdmFyIGRiTmFtZSA9IHRoaXMuZGIubmFtZTtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgdGhpcy5kYi5jbG9zZSgpO1xuXG4gICAgICBJbmRleGVkREIuY2xlYW4odGhpcy5kYi5uYW1lLCBmdW5jdGlvbigpIHtcbiAgICAgICAgSW5kZXhlZERCLm9wZW4oZGJOYW1lLCBmdW5jdGlvbiAoZXJyLCBvdGhlcikge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIGxvZygnW0luZGV4ZWREQl0gRXJyb3Igd2hpbGUgcmVzZXR0aW5nIGxvY2FsIHN0b3JhZ2UnLCBlcnIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBoYWNreSFcbiAgICAgICAgICAgIHNlbGYuZGIgPSBvdGhlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgeyBjYWxsYmFjayhzZWxmKTsgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBmb3JBbGxOb2RlczogZnVuY3Rpb24gKGNiKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXG4gICAgICAgIHZhciB0cmFuc2FjdGlvbiA9IHRoaXMuZGIudHJhbnNhY3Rpb24oWydub2RlcyddLCAncmVhZG9ubHknKTtcbiAgICAgICAgdmFyIGN1cnNvclJlcSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKCdub2RlcycpLm9wZW5DdXJzb3IoKTtcblxuICAgICAgICBjdXJzb3JSZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgIHZhciBjdXJzb3IgPSBldnQudGFyZ2V0LnJlc3VsdDtcblxuICAgICAgICAgIGlmIChjdXJzb3IpIHtcbiAgICAgICAgICAgIGNiKHRoaXMubWlncmF0ZShjdXJzb3IudmFsdWUpKTtcbiAgICAgICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LmJpbmQodGhpcyk7XG5cbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBjbG9zZURCOiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmRiLmNsb3NlKCk7XG4gICAgfVxuXG4gIH07XG5cbiAgSW5kZXhlZERCLm9wZW4gPSBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2spIHtcbiAgICB2YXIgdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxiYWNrKFwidGltZW91dCB0cnlpbmcgdG8gb3BlbiBkYlwiKTtcbiAgICB9LCAxMDAwMCk7XG5cbiAgICB0cnkge1xuICAgICAgdmFyIHJlcSA9IGluZGV4ZWREQi5vcGVuKG5hbWUsIERCX1ZFUlNJT04pO1xuXG4gICAgICByZXEub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9nKCdbSW5kZXhlZERCXSBPcGVuaW5nIERCIGZhaWxlZCcsIHJlcSk7XG5cbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgY2FsbGJhY2socmVxLmVycm9yKTtcbiAgICAgIH07XG5cbiAgICAgIHJlcS5vbnVwZ3JhZGVuZWVkZWQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIGRiID0gcmVxLnJlc3VsdDtcblxuICAgICAgICBsb2coXCJbSW5kZXhlZERCXSBVcGdyYWRlOiBmcm9tIFwiLCBldmVudC5vbGRWZXJzaW9uLCBcIiB0byBcIiwgZXZlbnQubmV3VmVyc2lvbik7XG5cbiAgICAgICAgaWYgKGV2ZW50Lm9sZFZlcnNpb24gIT09IDEpIHtcbiAgICAgICAgICBsb2coXCJbSW5kZXhlZERCXSBDcmVhdGluZyBvYmplY3Qgc3RvcmU6IG5vZGVzXCIpO1xuICAgICAgICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKCdub2RlcycsIHsga2V5UGF0aDogJ3BhdGgnIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgbG9nKFwiW0luZGV4ZWREQl0gQ3JlYXRpbmcgb2JqZWN0IHN0b3JlOiBjaGFuZ2VzXCIpO1xuXG4gICAgICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKCdjaGFuZ2VzJywgeyBrZXlQYXRoOiAncGF0aCcgfSk7XG4gICAgICB9O1xuXG4gICAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuXG4gICAgICAgIC8vIGNoZWNrIGlmIGFsbCBvYmplY3Qgc3RvcmVzIGV4aXN0XG4gICAgICAgIHZhciBkYiA9IHJlcS5yZXN1bHQ7XG4gICAgICAgIGlmKCFkYi5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKCdub2RlcycpIHx8ICFkYi5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKCdjaGFuZ2VzJykpIHtcbiAgICAgICAgICBsb2coXCJbSW5kZXhlZERCXSBNaXNzaW5nIG9iamVjdCBzdG9yZS4gUmVzZXR0aW5nIHRoZSBkYXRhYmFzZS5cIik7XG4gICAgICAgICAgSW5kZXhlZERCLmNsZWFuKG5hbWUsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgSW5kZXhlZERCLm9wZW4obmFtZSwgY2FsbGJhY2spO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHJlcS5yZXN1bHQpO1xuICAgICAgfTtcbiAgICB9IGNhdGNoKGVycm9yKSB7XG4gICAgICBsb2coXCJbSW5kZXhlZERCXSBGYWlsZWQgdG8gb3BlbiBkYXRhYmFzZTogXCIgKyBlcnJvcik7XG4gICAgICBsb2coXCJbSW5kZXhlZERCXSBSZXNldHRpbmcgZGF0YWJhc2UgYW5kIHRyeWluZyBhZ2Fpbi5cIik7XG5cbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG5cbiAgICAgIEluZGV4ZWREQi5jbGVhbihuYW1lLCBmdW5jdGlvbigpIHtcbiAgICAgICAgSW5kZXhlZERCLm9wZW4obmFtZSwgY2FsbGJhY2spO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIEluZGV4ZWREQi5jbGVhbiA9IGZ1bmN0aW9uIChkYXRhYmFzZU5hbWUsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHJlcSA9IGluZGV4ZWREQi5kZWxldGVEYXRhYmFzZShkYXRhYmFzZU5hbWUpO1xuXG4gICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGxvZygnW0luZGV4ZWREQl0gRG9uZSByZW1vdmluZyBEQicpO1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9O1xuXG4gICAgcmVxLm9uZXJyb3IgPSByZXEub25hYm9ydCA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byByZW1vdmUgZGF0YWJhc2UgXCInICsgZGF0YWJhc2VOYW1lICsgJ1wiJywgZXZ0KTtcbiAgICB9O1xuICB9O1xuXG4gIEluZGV4ZWREQi5fcnNfaW5pdCA9IGZ1bmN0aW9uIChyZW1vdGVTdG9yYWdlKSB7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXG4gICAgICBJbmRleGVkREIub3BlbihERUZBVUxUX0RCX05BTUUsIGZ1bmN0aW9uIChlcnIsIGRiKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBERUZBVUxUX0RCID0gZGI7XG4gICAgICAgICAgZGIub25lcnJvciA9IGZ1bmN0aW9uICgpIHsgcmVtb3RlU3RvcmFnZS5fZW1pdCgnZXJyb3InLCBlcnIpOyB9O1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICB9KTtcbiAgfTtcblxuICBJbmRleGVkREIuX3JzX3N1cHBvcnRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXG4gICAgICB2YXIgY29udGV4dCA9IHV0aWwuZ2V0R2xvYmFsQ29udGV4dCgpO1xuXG4gICAgICAvLyBUT0ZJWCB0aGlzIGlzIGNhdXNpbmcgYW4gZXJyb3IgaW4gY2hyb21lXG4gICAgICAvLyBjb250ZXh0LmluZGV4ZWREQiA9IGNvbnRleHQuaW5kZXhlZERCICAgIHx8IGNvbnRleHQud2Via2l0SW5kZXhlZERCIHx8XG4gICAgICAvLyAgICAgICAgICAgICAgICAgICAgY29udGV4dC5tb3pJbmRleGVkREIgfHwgY29udGV4dC5vSW5kZXhlZERCICAgICAgfHxcbiAgICAgIC8vICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm1zSW5kZXhlZERCO1xuXG4gICAgICAvLyBEZXRlY3QgYnJvd3NlcnMgd2l0aCBrbm93biBJbmRleGVkRGIgaXNzdWVzIChlLmcuIEFuZHJvaWQgcHJlLTQuNClcbiAgICAgIHZhciBwb29ySW5kZXhlZERiU3VwcG9ydCA9IGZhbHNlO1xuICAgICAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICAgbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQW5kcm9pZCAoMnwzfDRcXC5bMC0zXSkvKSkge1xuICAgICAgICAvLyBDaHJvbWUgYW5kIEZpcmVmb3ggc3VwcG9ydCBJbmRleGVkREJcbiAgICAgICAgaWYgKCFuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9DaHJvbWV8RmlyZWZveC8pKSB7XG4gICAgICAgICAgcG9vckluZGV4ZWREYlN1cHBvcnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICgnaW5kZXhlZERCJyBpbiBjb250ZXh0ICYmICFwb29ySW5kZXhlZERiU3VwcG9ydCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhciBjaGVjayA9IGluZGV4ZWREQi5vcGVuKFwicnMtY2hlY2tcIik7XG4gICAgICAgICAgY2hlY2sub25lcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBjaGVjay5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGNoZWNrLnJlc3VsdC5jbG9zZSgpO1xuICAgICAgICAgICAgaW5kZXhlZERCLmRlbGV0ZURhdGFiYXNlKFwicnMtY2hlY2tcIik7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlamVjdCgpO1xuICAgICAgfVxuXG4gICAgfSk7XG4gIH07XG5cbiAgSW5kZXhlZERCLl9yc19jbGVhbnVwID0gZnVuY3Rpb24gKHJlbW90ZVN0b3JhZ2UpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgaWYgKHJlbW90ZVN0b3JhZ2UubG9jYWwpIHtcbiAgICAgICAgcmVtb3RlU3RvcmFnZS5sb2NhbC5jbG9zZURCKCk7XG4gICAgICB9XG5cbiAgICAgIEluZGV4ZWREQi5jbGVhbihERUZBVUxUX0RCX05BTUUsIHJlc29sdmUpO1xuXG4gICAgfSk7XG4gIH07XG5cblxuICBtb2R1bGUuZXhwb3J0cyA9IEluZGV4ZWREQjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvaW5kZXhlZGRiLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==")
},function(module,exports,__webpack_require__){eval("'use strict';\n\nvar eventHandling = __webpack_require__(3);\nvar log = __webpack_require__(1);\nvar cachingLayer = __webpack_require__(7);\n/**\n * Class: InMemoryStorage\n *\n * In-memory caching adapter. Used when no IndexedDB or localStorage\n * available.\n **/\n\nvar InMemoryStorage = function InMemoryStorage() {\n  cachingLayer(this);\n  log('[InMemoryStorage] Registering events');\n  eventHandling(this, 'change', 'local-events-done');\n\n  this._storage = {};\n};\n\nInMemoryStorage.prototype = {\n\n  getNodes: function getNodes(paths) {\n    var nodes = {};\n\n    for (var i = 0, len = paths.length; i < len; i++) {\n      nodes[paths[i]] = this._storage[paths[i]];\n    }\n\n    return Promise.resolve(nodes);\n  },\n\n  setNodes: function setNodes(nodes) {\n    for (var path in nodes) {\n      if (nodes[path] === undefined) {\n        delete this._storage[path];\n      } else {\n        this._storage[path] = nodes[path];\n      }\n    }\n\n    return Promise.resolve();\n  },\n\n  forAllNodes: function forAllNodes(cb) {\n    for (var path in this._storage) {\n      cb(this.migrate(this._storage[path]));\n    }\n    return Promise.resolve();\n  }\n\n};\n\nInMemoryStorage._rs_init = function () {};\n\nInMemoryStorage._rs_supported = function () {\n  // In-memory storage is always supported\n  return true;\n};\n\nInMemoryStorage._rs_cleanup = function () {};\n\nmodule.exports = InMemoryStorage;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaW5tZW1vcnlzdG9yYWdlLmpzPzY1NDMiXSwibmFtZXMiOlsiZXZlbnRIYW5kbGluZyIsInJlcXVpcmUiLCJsb2ciLCJjYWNoaW5nTGF5ZXIiLCJJbk1lbW9yeVN0b3JhZ2UiLCJfc3RvcmFnZSIsInByb3RvdHlwZSIsImdldE5vZGVzIiwicGF0aHMiLCJub2RlcyIsImkiLCJsZW4iLCJsZW5ndGgiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldE5vZGVzIiwicGF0aCIsInVuZGVmaW5lZCIsImZvckFsbE5vZGVzIiwiY2IiLCJtaWdyYXRlIiwiX3JzX2luaXQiLCJfcnNfc3VwcG9ydGVkIiwiX3JzX2NsZWFudXAiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFFLElBQUlBLGdCQUFnQixtQkFBQUMsQ0FBUSxDQUFSLENBQXBCO0FBQ0EsSUFBSUMsTUFBTSxtQkFBQUQsQ0FBUSxDQUFSLENBQVY7QUFDQSxJQUFJRSxlQUFlLG1CQUFBRixDQUFRLENBQVIsQ0FBbkI7QUFDQTs7Ozs7OztBQU9BLElBQUlHLGtCQUFrQixTQUFsQkEsZUFBa0IsR0FBWTtBQUNoQ0QsZUFBYSxJQUFiO0FBQ0FELE1BQUksc0NBQUo7QUFDQUYsZ0JBQWMsSUFBZCxFQUFvQixRQUFwQixFQUE4QixtQkFBOUI7O0FBRUEsT0FBS0ssUUFBTCxHQUFnQixFQUFoQjtBQUNELENBTkQ7O0FBUUFELGdCQUFnQkUsU0FBaEIsR0FBNEI7O0FBRTFCQyxZQUFVLGtCQUFVQyxLQUFWLEVBQWlCO0FBQ3pCLFFBQUlDLFFBQVEsRUFBWjs7QUFFQSxTQUFJLElBQUlDLElBQUksQ0FBUixFQUFXQyxNQUFNSCxNQUFNSSxNQUEzQixFQUFtQ0YsSUFBSUMsR0FBdkMsRUFBNENELEdBQTVDLEVBQWlEO0FBQy9DRCxZQUFNRCxNQUFNRSxDQUFOLENBQU4sSUFBa0IsS0FBS0wsUUFBTCxDQUFjRyxNQUFNRSxDQUFOLENBQWQsQ0FBbEI7QUFDRDs7QUFFRCxXQUFPRyxRQUFRQyxPQUFSLENBQWdCTCxLQUFoQixDQUFQO0FBQ0QsR0FWeUI7O0FBWTFCTSxZQUFVLGtCQUFVTixLQUFWLEVBQWlCO0FBQ3pCLFNBQUssSUFBSU8sSUFBVCxJQUFpQlAsS0FBakIsRUFBd0I7QUFDdEIsVUFBSUEsTUFBTU8sSUFBTixNQUFnQkMsU0FBcEIsRUFBK0I7QUFDN0IsZUFBTyxLQUFLWixRQUFMLENBQWNXLElBQWQsQ0FBUDtBQUNELE9BRkQsTUFFTztBQUNMLGFBQUtYLFFBQUwsQ0FBY1csSUFBZCxJQUFzQlAsTUFBTU8sSUFBTixDQUF0QjtBQUNEO0FBQ0Y7O0FBRUQsV0FBT0gsUUFBUUMsT0FBUixFQUFQO0FBQ0QsR0F0QnlCOztBQXdCMUJJLGVBQWEscUJBQVVDLEVBQVYsRUFBYztBQUN6QixTQUFLLElBQUlILElBQVQsSUFBaUIsS0FBS1gsUUFBdEIsRUFBZ0M7QUFDOUJjLFNBQUcsS0FBS0MsT0FBTCxDQUFhLEtBQUtmLFFBQUwsQ0FBY1csSUFBZCxDQUFiLENBQUg7QUFDRDtBQUNELFdBQU9ILFFBQVFDLE9BQVIsRUFBUDtBQUNEOztBQTdCeUIsQ0FBNUI7O0FBaUNBVixnQkFBZ0JpQixRQUFoQixHQUEyQixZQUFZLENBQUUsQ0FBekM7O0FBRUFqQixnQkFBZ0JrQixhQUFoQixHQUFnQyxZQUFZO0FBQzFDO0FBQ0EsU0FBTyxJQUFQO0FBQ0QsQ0FIRDs7QUFLQWxCLGdCQUFnQm1CLFdBQWhCLEdBQThCLFlBQVksQ0FBRSxDQUE1Qzs7QUFFQUMsT0FBT0MsT0FBUCxHQUFpQnJCLGVBQWpCIiwiZmlsZSI6IjE5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiICB2YXIgZXZlbnRIYW5kbGluZyA9IHJlcXVpcmUoJy4vZXZlbnRoYW5kbGluZycpO1xuICB2YXIgbG9nID0gcmVxdWlyZSgnLi9sb2cnKTtcbiAgdmFyIGNhY2hpbmdMYXllciA9IHJlcXVpcmUoJy4vY2FjaGluZ2xheWVyJyk7XG4gIC8qKlxuICAgKiBDbGFzczogSW5NZW1vcnlTdG9yYWdlXG4gICAqXG4gICAqIEluLW1lbW9yeSBjYWNoaW5nIGFkYXB0ZXIuIFVzZWQgd2hlbiBubyBJbmRleGVkREIgb3IgbG9jYWxTdG9yYWdlXG4gICAqIGF2YWlsYWJsZS5cbiAgICoqL1xuXG4gIHZhciBJbk1lbW9yeVN0b3JhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgY2FjaGluZ0xheWVyKHRoaXMpO1xuICAgIGxvZygnW0luTWVtb3J5U3RvcmFnZV0gUmVnaXN0ZXJpbmcgZXZlbnRzJyk7XG4gICAgZXZlbnRIYW5kbGluZyh0aGlzLCAnY2hhbmdlJywgJ2xvY2FsLWV2ZW50cy1kb25lJyk7XG5cbiAgICB0aGlzLl9zdG9yYWdlID0ge307XG4gIH07XG5cbiAgSW5NZW1vcnlTdG9yYWdlLnByb3RvdHlwZSA9IHtcblxuICAgIGdldE5vZGVzOiBmdW5jdGlvbiAocGF0aHMpIHtcbiAgICAgIHZhciBub2RlcyA9IHt9O1xuXG4gICAgICBmb3IodmFyIGkgPSAwLCBsZW4gPSBwYXRocy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBub2Rlc1twYXRoc1tpXV0gPSB0aGlzLl9zdG9yYWdlW3BhdGhzW2ldXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShub2Rlcyk7XG4gICAgfSxcblxuICAgIHNldE5vZGVzOiBmdW5jdGlvbiAobm9kZXMpIHtcbiAgICAgIGZvciAodmFyIHBhdGggaW4gbm9kZXMpIHtcbiAgICAgICAgaWYgKG5vZGVzW3BhdGhdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBkZWxldGUgdGhpcy5fc3RvcmFnZVtwYXRoXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9zdG9yYWdlW3BhdGhdID0gbm9kZXNbcGF0aF07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH0sXG5cbiAgICBmb3JBbGxOb2RlczogZnVuY3Rpb24gKGNiKSB7XG4gICAgICBmb3IgKHZhciBwYXRoIGluIHRoaXMuX3N0b3JhZ2UpIHtcbiAgICAgICAgY2IodGhpcy5taWdyYXRlKHRoaXMuX3N0b3JhZ2VbcGF0aF0pKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgfTtcblxuICBJbk1lbW9yeVN0b3JhZ2UuX3JzX2luaXQgPSBmdW5jdGlvbiAoKSB7fTtcblxuICBJbk1lbW9yeVN0b3JhZ2UuX3JzX3N1cHBvcnRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBJbi1tZW1vcnkgc3RvcmFnZSBpcyBhbHdheXMgc3VwcG9ydGVkXG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgSW5NZW1vcnlTdG9yYWdlLl9yc19jbGVhbnVwID0gZnVuY3Rpb24gKCkge307XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBJbk1lbW9yeVN0b3JhZ2U7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2lubWVtb3J5c3RvcmFnZS5qcyJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports,__webpack_require__){eval("'use strict';\n\nvar cachingLayer = __webpack_require__(7);\nvar log = __webpack_require__(1);\nvar eventHandling = __webpack_require__(3);\nvar util = __webpack_require__(2);\n\n/**\n * Class: LocalStorage\n *\n * localStorage caching adapter. Used when no IndexedDB available.\n **/\n\nvar NODES_PREFIX = \"remotestorage:cache:nodes:\";\nvar CHANGES_PREFIX = \"remotestorage:cache:changes:\";\n\nvar LocalStorage = function LocalStorage() {\n  cachingLayer(this);\n  log('[LocalStorage] Registering events');\n  eventHandling(this, 'change', 'local-events-done');\n};\n\nfunction isRemoteStorageKey(key) {\n  return key.substr(0, NODES_PREFIX.length) === NODES_PREFIX || key.substr(0, CHANGES_PREFIX.length) === CHANGES_PREFIX;\n}\n\nfunction isNodeKey(key) {\n  return key.substr(0, NODES_PREFIX.length) === NODES_PREFIX;\n}\n\nLocalStorage.prototype = {\n\n  getNodes: function getNodes(paths) {\n    var nodes = {};\n\n    for (var i = 0, len = paths.length; i < len; i++) {\n      try {\n        nodes[paths[i]] = JSON.parse(localStorage[NODES_PREFIX + paths[i]]);\n      } catch (e) {\n        nodes[paths[i]] = undefined;\n      }\n    }\n\n    return Promise.resolve(nodes);\n  },\n\n  setNodes: function setNodes(nodes) {\n    for (var path in nodes) {\n      // TODO shouldn't we use getItem/setItem?\n      localStorage[NODES_PREFIX + path] = JSON.stringify(nodes[path]);\n    }\n\n    return Promise.resolve();\n  },\n\n  forAllNodes: function forAllNodes(cb) {\n    var node;\n\n    for (var i = 0, len = localStorage.length; i < len; i++) {\n      if (isNodeKey(localStorage.key(i))) {\n        try {\n          node = this.migrate(JSON.parse(localStorage[localStorage.key(i)]));\n        } catch (e) {\n          node = undefined;\n        }\n        if (node) {\n          cb(node);\n        }\n      }\n    }\n    return Promise.resolve();\n  }\n\n};\n\nLocalStorage._rs_init = function () {};\n\nLocalStorage._rs_supported = function () {\n  return util.localStorageAvailable();\n};\n\n// TODO tests missing!\nLocalStorage._rs_cleanup = function () {\n  var keys = [];\n\n  for (var i = 0, len = localStorage.length; i < len; i++) {\n    var key = localStorage.key(i);\n    if (isRemoteStorageKey(key)) {\n      keys.push(key);\n    }\n  }\n\n  keys.forEach(function (key) {\n    log('[LocalStorage] Removing', key);\n    delete localStorage[key];\n  });\n};\n\nmodule.exports = LocalStorage;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbG9jYWxzdG9yYWdlLmpzPzlhYjYiXSwibmFtZXMiOlsiY2FjaGluZ0xheWVyIiwicmVxdWlyZSIsImxvZyIsImV2ZW50SGFuZGxpbmciLCJ1dGlsIiwiTk9ERVNfUFJFRklYIiwiQ0hBTkdFU19QUkVGSVgiLCJMb2NhbFN0b3JhZ2UiLCJpc1JlbW90ZVN0b3JhZ2VLZXkiLCJrZXkiLCJzdWJzdHIiLCJsZW5ndGgiLCJpc05vZGVLZXkiLCJwcm90b3R5cGUiLCJnZXROb2RlcyIsInBhdGhzIiwibm9kZXMiLCJpIiwibGVuIiwiSlNPTiIsInBhcnNlIiwibG9jYWxTdG9yYWdlIiwiZSIsInVuZGVmaW5lZCIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0Tm9kZXMiLCJwYXRoIiwic3RyaW5naWZ5IiwiZm9yQWxsTm9kZXMiLCJjYiIsIm5vZGUiLCJtaWdyYXRlIiwiX3JzX2luaXQiLCJfcnNfc3VwcG9ydGVkIiwibG9jYWxTdG9yYWdlQXZhaWxhYmxlIiwiX3JzX2NsZWFudXAiLCJrZXlzIiwicHVzaCIsImZvckVhY2giLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFFLElBQUlBLGVBQWUsbUJBQUFDLENBQVEsQ0FBUixDQUFuQjtBQUNBLElBQUlDLE1BQU0sbUJBQUFELENBQVEsQ0FBUixDQUFWO0FBQ0EsSUFBSUUsZ0JBQWdCLG1CQUFBRixDQUFRLENBQVIsQ0FBcEI7QUFDQSxJQUFJRyxPQUFPLG1CQUFBSCxDQUFRLENBQVIsQ0FBWDs7QUFFQTs7Ozs7O0FBTUEsSUFBSUksZUFBZSw0QkFBbkI7QUFDQSxJQUFJQyxpQkFBaUIsOEJBQXJCOztBQUVBLElBQUlDLGVBQWUsU0FBZkEsWUFBZSxHQUFZO0FBQzdCUCxlQUFhLElBQWI7QUFDQUUsTUFBSSxtQ0FBSjtBQUNBQyxnQkFBYyxJQUFkLEVBQW9CLFFBQXBCLEVBQThCLG1CQUE5QjtBQUNELENBSkQ7O0FBTUEsU0FBU0ssa0JBQVQsQ0FBNEJDLEdBQTVC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OztBQWdCQStCLE9BQU9DLE9BQVAsR0FBaUJsQyxZQUFqQiIsImZpbGUiOiIyMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiAgdmFyIGNhY2hpbmdMYXllciA9IHJlcXVpcmUoJy4vY2FjaGluZ2xheWVyJyk7XG4gIHZhciBsb2cgPSByZXF1aXJlKCcuL2xvZycpO1xuICB2YXIgZXZlbnRIYW5kbGluZyA9IHJlcXVpcmUoJy4vZXZlbnRoYW5kbGluZycpO1xuICB2YXIgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG4gIC8qKlxuICAgKiBDbGFzczogTG9jYWxTdG9yYWdlXG4gICAqXG4gICAqIGxvY2FsU3RvcmFnZSBjYWNoaW5nIGFkYXB0ZXIuIFVzZWQgd2hlbiBubyBJbmRleGVkREIgYXZhaWxhYmxlLlxuICAgKiovXG5cbiAgdmFyIE5PREVTX1BSRUZJWCA9IFwicmVtb3Rlc3RvcmFnZTpjYWNoZTpub2RlczpcIjtcbiAgdmFyIENIQU5HRVNfUFJFRklYID0gXCJyZW1vdGVzdG9yYWdlOmNhY2hlOmNoYW5nZXM6XCI7XG5cbiAgdmFyIExvY2FsU3RvcmFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBjYWNoaW5nTGF5ZXIodGhpcyk7XG4gICAgbG9nKCdbTG9jYWxTdG9yYWdlXSBSZWdpc3RlcmluZyBldmVudHMnKTtcbiAgICBldmVudEhhbmRsaW5nKHRoaXMsICdjaGFuZ2UnLCAnbG9jYWwtZXZlbnRzLWRvbmUnKTtcbiAgfTtcblxuICBmdW5jdGlvbiBpc1JlbW90ZVN0b3JhZ2VLZXkoa2V5KSB7XG4gICAgcmV0dXJuIGtleS5zdWJzdHIoMCwgTk9ERVNfUFJFRklYLmxlbmd0aCkgPT09IE5PREVTX1BSRUZJWCB8fFxuICAgICAgICAgICBrZXkuc3Vic3RyKDAsIENIQU5HRVNfUFJFRklYLmxlbmd0aCkgPT09IENIQU5HRVNfUFJFRklYO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNOb2RlS2V5KGtleSkge1xuICAgIHJldHVybiBrZXkuc3Vic3RyKDAsIE5PREVTX1BSRUZJWC5sZW5ndGgpID09PSBOT0RFU19QUkVGSVg7XG4gIH1cblxuICBMb2NhbFN0b3JhZ2UucHJvdG90eXBlID0ge1xuXG4gICAgZ2V0Tm9kZXM6IGZ1bmN0aW9uIChwYXRocykge1xuICAgICAgdmFyIG5vZGVzID0ge307XG5cbiAgICAgIGZvcih2YXIgaSA9IDAsIGxlbiA9IHBhdGhzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbm9kZXNbcGF0aHNbaV1dID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2VbTk9ERVNfUFJFRklYK3BhdGhzW2ldXSk7XG4gICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgIG5vZGVzW3BhdGhzW2ldXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5vZGVzKTtcbiAgICB9LFxuXG4gICAgc2V0Tm9kZXM6IGZ1bmN0aW9uIChub2Rlcykge1xuICAgICAgZm9yICh2YXIgcGF0aCBpbiBub2Rlcykge1xuICAgICAgICAvLyBUT0RPIHNob3VsZG4ndCB3ZSB1c2UgZ2V0SXRlbS9zZXRJdGVtP1xuICAgICAgICBsb2NhbFN0b3JhZ2VbTk9ERVNfUFJFRklYK3BhdGhdID0gSlNPTi5zdHJpbmdpZnkobm9kZXNbcGF0aF0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfSxcblxuICAgIGZvckFsbE5vZGVzOiBmdW5jdGlvbiAoY2IpIHtcbiAgICAgIHZhciBub2RlO1xuXG4gICAgICBmb3IodmFyIGkgPSAwLCBsZW4gPSBsb2NhbFN0b3JhZ2UubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgaWYgKGlzTm9kZUtleShsb2NhbFN0b3JhZ2Uua2V5KGkpKSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBub2RlID0gdGhpcy5taWdyYXRlKEpTT04ucGFyc2UobG9jYWxTdG9yYWdlW2xvY2FsU3RvcmFnZS5rZXkoaSldKSk7XG4gICAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICBub2RlID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobm9kZSkge1xuICAgICAgICAgICAgY2Iobm9kZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gIH07XG5cbiAgTG9jYWxTdG9yYWdlLl9yc19pbml0ID0gZnVuY3Rpb24gKCkge307XG5cbiAgTG9jYWxTdG9yYWdlLl9yc19zdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHV0aWwubG9jYWxTdG9yYWdlQXZhaWxhYmxlKCk7XG4gIH07XG5cbiAgLy8gVE9ETyB0ZXN0cyBtaXNzaW5nIVxuICBMb2NhbFN0b3JhZ2UuX3JzX2NsZWFudXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGtleXMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBsb2NhbFN0b3JhZ2UubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHZhciBrZXkgPSBsb2NhbFN0b3JhZ2Uua2V5KGkpO1xuICAgICAgaWYgKGlzUmVtb3RlU3RvcmFnZUtleShrZXkpKSB7XG4gICAgICAgIGtleXMucHVzaChrZXkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBsb2coJ1tMb2NhbFN0b3JhZ2VdIFJlbW92aW5nJywga2V5KTtcbiAgICAgIGRlbGV0ZSBsb2NhbFN0b3JhZ2Vba2V5XTtcbiAgICB9KTtcbiAgfTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IExvY2FsU3RvcmFnZTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9sb2NhbHN0b3JhZ2UuanMiXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports,__webpack_require__){eval("'use strict';\n\nvar BaseClient = __webpack_require__(6);\nvar RemoteStorage = __webpack_require__(16);\n\nRemoteStorage.MODULES = {};\n\n/*\n * Method: RemoteStorage.defineModule\n *\n * Method for defining a new remoteStorage data module\n *\n * Parameters:\n *   moduleName - Name of the module\n *   builder    - Builder function defining the module\n *\n * The module builder function should return an object containing another\n * object called exports, which will be exported to any <RemoteStorage>\n * instance under the module's name. So when defining a locations module,\n * like in the example below, it would be accessible via\n * `remoteStorage.locations`, which would in turn have a `features` and a\n * `collections` property.\n *\n * The function receives a private and a public client, which are both\n * instances of <RemoteStorage.BaseClient>. In the following example, the\n * scope of privateClient is `/locations` and the scope of publicClient is\n * `/public/locations`.\n *\n * Example:\n *   (start code)\n *   RemoteStorage.defineModule('locations', function (privateClient, publicClient) {\n *     return {\n *       exports: {\n *         features: privateClient.scope('features/').defaultType('feature'),\n *         collections: privateClient.scope('collections/').defaultType('feature-collection')\n *       }\n *     };\n *   });\n * (end code)\n*/\n\nRemoteStorage.defineModule = function (moduleName, builder) {\n  RemoteStorage.MODULES[moduleName] = builder;\n\n  Object.defineProperty(RemoteStorage.prototype, moduleName, {\n    configurable: true,\n    get: function get() {\n      var instance = this._loadModule(moduleName);\n      Object.defineProperty(this, moduleName, {\n        value: instance\n      });\n      return instance;\n    }\n  });\n\n  if (moduleName.indexOf('-') !== -1) {\n    var camelizedName = moduleName.replace(/\\-[a-z]/g, function (s) {\n      return s[1].toUpperCase();\n    });\n    Object.defineProperty(RemoteStorage.prototype, camelizedName, {\n      get: function get() {\n        return this[moduleName];\n      }\n    });\n  }\n};\n\nRemoteStorage.prototype._loadModule = function (moduleName) {\n  var builder = RemoteStorage.MODULES[moduleName];\n  if (builder) {\n    var module = builder(new BaseClient(this, '/' + moduleName + '/'), new BaseClient(this, '/public/' + moduleName + '/'));\n    return module.exports;\n  } else {\n    throw \"Unknown module: \" + moduleName;\n  }\n};\n\nRemoteStorage.prototype.defineModule = function (moduleName) {\n  console.log(\"remoteStorage.defineModule is deprecated, use RemoteStorage.defineModule instead!\");\n  RemoteStorage.defineModule.apply(RemoteStorage, arguments);\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy5qcz9jNzMyIl0sIm5hbWVzIjpbIkJhc2VDbGllbnQiLCJyZXF1aXJlIiwiUmVtb3RlU3RvcmFnZSIsIk1PRFVMRVMiLCJkZWZpbmVNb2R1bGUiLCJtb2R1bGVOYW1lIiwiYnVpbGRlciIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwicHJvdG90eXBlIiwiY29uZmlndXJhYmxlIiwiZ2V0IiwiaW5zdGFuY2UiLCJfbG9hZE1vZHVsZSIsInZhbHVlIiwiaW5kZXhPZiIsImNhbWVsaXplZE5hbWUiLCJyZXBsYWNlIiwicyIsInRvVXBwZXJDYXNlIiwibW9kdWxlIiwiZXhwb3J0cyIsImNvbnNvbGUiLCJsb2ciLCJhcHBseSIsImFyZ3VtZW50cyJdLCJtYXBwaW5ncyI6Ijs7QUFBRSxJQUFJQSxhQUFhLG1CQUFBQyxDQUFRLENBQVIsQ0FBakI7QUFDQSxJQUFJQyxnQkFBZ0IsbUJBQUFELENBQVEsRUFBUixDQUFwQjs7QUFFQUMsY0FBY0MsT0FBZCxHQUF3QixFQUF4Qjs7QUFFQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWtDQUQsY0FBY0UsWUFBZCxHQUE2QixVQUFVQyxVQUFWLEVBQXNCQyxPQUF0QixFQUErQjtBQUMxREosZ0JBQWNDLE9BQWQsQ0FBc0JFLFVBQXRCLElBQW9DQyxPQUFwQzs7QUFFQUMsU0FBT0MsY0FBUCxDQUFzQk4sY0FBY08sU0FBcEMsRUFBK0NKLFVBQS9DLEVBQTJEO0FBQ3pESyxrQkFBYyxJQUQyQztBQUV6REMsU0FBSyxlQUFZO0FBQ2YsVUFBSUMsV0FBVyxLQUFLQyxXQUFMLENBQWlCUixVQUFqQixDQUFmO0FBQ0FFLGFBQU9DLGNBQVAsQ0FBc0IsSUFBdEIsRUFBNEJILFVBQTVCLEVBQXdDO0FBQ3RDUyxlQUFPRjtBQUQrQixPQUF4QztBQUdBLGFBQU9BLFFBQVA7QUFDRDtBQVJ3RCxHQUEzRDs7QUFXQSxNQUFJUCxXQUFXVSxPQUFYLENBQW1CLEdBQW5CLE1BQTRCLENBQUMsQ0FBakMsRUFBb0M7QUFDbEMsUUFBSUMsZ0JBQWdCWCxXQUFXWSxPQUFYLENBQW1CLFVBQW5CLEVBQStCLFVBQVVDLENBQVYsRUFBYTtBQUM5RCxhQUFPQSxFQUFFLENBQUYsRUFBS0MsV0FBTCxFQUFQO0FBQ0QsS0FGbUIsQ0FBcEI7QUFHQVosV0FBT0MsY0FBUCxDQUFzQk4sY0FBY08sU0FBcEMsRUFBK0NPLGFBQS9DLEVBQThEO0FBQzVETCxXQUFLLGVBQVk7QUFDZixlQUFPLEtBQUtOLFVBQUwsQ0FBUDtBQUNEO0FBSDJELEtBQTlEO0FBS0Q7QUFDRixDQXhCRDs7QUEwQkFILGNBQWNPLFNBQWQsQ0FBd0JJLFdBQXhCLEdBQXNDLFVBQVVSLFVBQVYsRUFBc0I7QUFDMUQsTUFBSUMsVUFBVUosY0FBY0MsT0FBZCxDQUFzQkUsVUFBdEIsQ0FBZDtBQUNBLE1BQUlDLE9BQUosRUFBYTtBQUNYLFFBQUljLFNBQVNkLFFBQVEsSUFBSU4sVUFBSixDQUFlLElBQWYsRUFBcUIsTUFBTUssVUFBTixHQUFtQixHQUF4QyxDQUFSLEVBQ1EsSUFBSUwsVUFBSixDQUFlLElBQWYsRUFBcUIsYUFBYUssVUFBYixHQUEwQixHQUEvQyxDQURSLENBQWI7QUFFQSxXQUFPZSxPQUFPQyxPQUFkO0FBQ0QsR0FKRCxNQUlPO0FBQ0wsVUFBTSxxQkFBcUJoQixVQUEzQjtBQUNEO0FBQ0YsQ0FURDs7QUFXQUgsY0FBY08sU0FBZCxDQUF3QkwsWUFBeEIsR0FBdUMsVUFBVUMsVUFBVixFQUFzQjtBQUMzRGlCLFVBQVFDLEdBQVIsQ0FBWSxtRkFBWjtBQUNBckIsZ0JBQWNFLFlBQWQsQ0FBMkJvQixLQUEzQixDQUFpQ3RCLGFBQWpDLEVBQWdEdUIsU0FBaEQ7QUFDRCxDQUhEIiwiZmlsZSI6IjIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiICB2YXIgQmFzZUNsaWVudCA9IHJlcXVpcmUoJy4vYmFzZWNsaWVudCcpO1xuICB2YXIgUmVtb3RlU3RvcmFnZSA9IHJlcXVpcmUoJy4vcmVtb3Rlc3RvcmFnZScpO1xuICBcbiAgUmVtb3RlU3RvcmFnZS5NT0RVTEVTID0ge307XG5cbiAgLypcbiAgICogTWV0aG9kOiBSZW1vdGVTdG9yYWdlLmRlZmluZU1vZHVsZVxuICAgKlxuICAgKiBNZXRob2QgZm9yIGRlZmluaW5nIGEgbmV3IHJlbW90ZVN0b3JhZ2UgZGF0YSBtb2R1bGVcbiAgICpcbiAgICogUGFyYW1ldGVyczpcbiAgICogICBtb2R1bGVOYW1lIC0gTmFtZSBvZiB0aGUgbW9kdWxlXG4gICAqICAgYnVpbGRlciAgICAtIEJ1aWxkZXIgZnVuY3Rpb24gZGVmaW5pbmcgdGhlIG1vZHVsZVxuICAgKlxuICAgKiBUaGUgbW9kdWxlIGJ1aWxkZXIgZnVuY3Rpb24gc2hvdWxkIHJldHVybiBhbiBvYmplY3QgY29udGFpbmluZyBhbm90aGVyXG4gICAqIG9iamVjdCBjYWxsZWQgZXhwb3J0cywgd2hpY2ggd2lsbCBiZSBleHBvcnRlZCB0byBhbnkgPFJlbW90ZVN0b3JhZ2U+XG4gICAqIGluc3RhbmNlIHVuZGVyIHRoZSBtb2R1bGUncyBuYW1lLiBTbyB3aGVuIGRlZmluaW5nIGEgbG9jYXRpb25zIG1vZHVsZSxcbiAgICogbGlrZSBpbiB0aGUgZXhhbXBsZSBiZWxvdywgaXQgd291bGQgYmUgYWNjZXNzaWJsZSB2aWFcbiAgICogYHJlbW90ZVN0b3JhZ2UubG9jYXRpb25zYCwgd2hpY2ggd291bGQgaW4gdHVybiBoYXZlIGEgYGZlYXR1cmVzYCBhbmQgYVxuICAgKiBgY29sbGVjdGlvbnNgIHByb3BlcnR5LlxuICAgKlxuICAgKiBUaGUgZnVuY3Rpb24gcmVjZWl2ZXMgYSBwcml2YXRlIGFuZCBhIHB1YmxpYyBjbGllbnQsIHdoaWNoIGFyZSBib3RoXG4gICAqIGluc3RhbmNlcyBvZiA8UmVtb3RlU3RvcmFnZS5CYXNlQ2xpZW50Pi4gSW4gdGhlIGZvbGxvd2luZyBleGFtcGxlLCB0aGVcbiAgICogc2NvcGUgb2YgcHJpdmF0ZUNsaWVudCBpcyBgL2xvY2F0aW9uc2AgYW5kIHRoZSBzY29wZSBvZiBwdWJsaWNDbGllbnQgaXNcbiAgICogYC9wdWJsaWMvbG9jYXRpb25zYC5cbiAgICpcbiAgICogRXhhbXBsZTpcbiAgICogICAoc3RhcnQgY29kZSlcbiAgICogICBSZW1vdGVTdG9yYWdlLmRlZmluZU1vZHVsZSgnbG9jYXRpb25zJywgZnVuY3Rpb24gKHByaXZhdGVDbGllbnQsIHB1YmxpY0NsaWVudCkge1xuICAgKiAgICAgcmV0dXJuIHtcbiAgICogICAgICAgZXhwb3J0czoge1xuICAgKiAgICAgICAgIGZlYXR1cmVzOiBwcml2YXRlQ2xpZW50LnNjb3BlKCdmZWF0dXJlcy8nKS5kZWZhdWx0VHlwZSgnZmVhdHVyZScpLFxuICAgKiAgICAgICAgIGNvbGxlY3Rpb25zOiBwcml2YXRlQ2xpZW50LnNjb3BlKCdjb2xsZWN0aW9ucy8nKS5kZWZhdWx0VHlwZSgnZmVhdHVyZS1jb2xsZWN0aW9uJylcbiAgICogICAgICAgfVxuICAgKiAgICAgfTtcbiAgICogICB9KTtcbiAgICogKGVuZCBjb2RlKVxuICAqL1xuXG4gIFJlbW90ZVN0b3JhZ2UuZGVmaW5lTW9kdWxlID0gZnVuY3Rpb24gKG1vZHVsZU5hbWUsIGJ1aWxkZXIpIHtcbiAgICBSZW1vdGVTdG9yYWdlLk1PRFVMRVNbbW9kdWxlTmFtZV0gPSBidWlsZGVyO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlbW90ZVN0b3JhZ2UucHJvdG90eXBlLCBtb2R1bGVOYW1lLCB7XG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGluc3RhbmNlID0gdGhpcy5fbG9hZE1vZHVsZShtb2R1bGVOYW1lKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIG1vZHVsZU5hbWUsIHtcbiAgICAgICAgICB2YWx1ZTogaW5zdGFuY2VcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChtb2R1bGVOYW1lLmluZGV4T2YoJy0nKSAhPT0gLTEpIHtcbiAgICAgIHZhciBjYW1lbGl6ZWROYW1lID0gbW9kdWxlTmFtZS5yZXBsYWNlKC9cXC1bYS16XS9nLCBmdW5jdGlvbiAocykge1xuICAgICAgICByZXR1cm4gc1sxXS50b1VwcGVyQ2FzZSgpO1xuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVtb3RlU3RvcmFnZS5wcm90b3R5cGUsIGNhbWVsaXplZE5hbWUsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXNbbW9kdWxlTmFtZV07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBSZW1vdGVTdG9yYWdlLnByb3RvdHlwZS5fbG9hZE1vZHVsZSA9IGZ1bmN0aW9uIChtb2R1bGVOYW1lKSB7XG4gICAgdmFyIGJ1aWxkZXIgPSBSZW1vdGVTdG9yYWdlLk1PRFVMRVNbbW9kdWxlTmFtZV07XG4gICAgaWYgKGJ1aWxkZXIpIHtcbiAgICAgIHZhciBtb2R1bGUgPSBidWlsZGVyKG5ldyBCYXNlQ2xpZW50KHRoaXMsICcvJyArIG1vZHVsZU5hbWUgKyAnLycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJhc2VDbGllbnQodGhpcywgJy9wdWJsaWMvJyArIG1vZHVsZU5hbWUgKyAnLycpKTtcbiAgICAgIHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgXCJVbmtub3duIG1vZHVsZTogXCIgKyBtb2R1bGVOYW1lO1xuICAgIH1cbiAgfTtcblxuICBSZW1vdGVTdG9yYWdlLnByb3RvdHlwZS5kZWZpbmVNb2R1bGUgPSBmdW5jdGlvbiAobW9kdWxlTmFtZSkge1xuICAgIGNvbnNvbGUubG9nKFwicmVtb3RlU3RvcmFnZS5kZWZpbmVNb2R1bGUgaXMgZGVwcmVjYXRlZCwgdXNlIFJlbW90ZVN0b3JhZ2UuZGVmaW5lTW9kdWxlIGluc3RlYWQhXCIpO1xuICAgIFJlbW90ZVN0b3JhZ2UuZGVmaW5lTW9kdWxlLmFwcGx5KFJlbW90ZVN0b3JhZ2UsIGFyZ3VtZW50cyk7XG4gIH07XG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9tb2R1bGVzLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports,__webpack_require__){
eval("'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar log = __webpack_require__(1);\n\nfunction shareFirst(path) {\n  return this.backend === 'dropbox' && path.match(/^\\/public\\/.*[^\\/]$/);\n}\n\nvar SyncedGetPutDelete = {\n  get: function get(path, maxAge) {\n    if (this.local) {\n      if (maxAge === undefined) {\n        if (_typeof(this.remote) === 'object' && this.remote.connected && this.remote.online) {\n          maxAge = 2 * this.getSyncInterval();\n        } else {\n          log('Not setting default maxAge, because remote is offline or not connected');\n          maxAge = false;\n        }\n      }\n      var maxAgeInvalid = function maxAgeInvalid(maxAge) {\n        return maxAge !== false && typeof maxAge !== 'number';\n      };\n\n      if (maxAgeInvalid(maxAge)) {\n        return Promise.reject('Argument \\'maxAge\\' must be false or a number');\n      }\n      return this.local.get(path, maxAge, this.sync.queueGetRequest.bind(this.sync));\n    } else {\n      return this.remote.get(path);\n    }\n  },\n\n  put: function put(path, body, contentType) {\n    if (shareFirst.bind(this)(path)) {\n      return SyncedGetPutDelete._wrapBusyDone.call(this, this.remote.put(path, body, contentType));\n    } else if (this.local) {\n      return this.local.put(path, body, contentType);\n    } else {\n      return SyncedGetPutDelete._wrapBusyDone.call(this, this.remote.put(path, body, contentType));\n    }\n  },\n\n  'delete': function _delete(path) {\n    if (this.local) {\n      return this.local.delete(path);\n    } else {\n      return SyncedGetPutDelete._wrapBusyDone.call(this, this.remote.delete(path));\n    }\n  },\n\n  _wrapBusyDone: function _wrapBusyDone(result) {\n    var self = this;\n    this._emit('wire-busy');\n    return result.then(function (r) {\n      self._emit('wire-done', { success: true });\n      return Promise.resolve(r);\n    }, function (err) {\n      self._emit('wire-done', { success: false });\n      return Promise.reject(err);\n    });\n  }\n};\n\nmodule.exports = SyncedGetPutDelete;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3luY2VkZ2V0cHV0ZGVsZXRlLmpzPzkyNjQiXSwibmFtZXMiOlsibG9nIiwicmVxdWlyZSIsInNoYXJlRmlyc3QiLCJwYXRoIiwiYmFja2VuZCIsIm1hdGNoIiwiU3luY2VkR2V0UHV0RGVsZXRlIiwiZ2V0IiwibWF4QWdlIiwibG9jYWwiLCJ1bmRlZmluZWQiLCJyZW1vdGUiLCJjb25uZWN0ZWQiLCJvbmxpbmUiLCJnZXRTeW5jSW50ZXJ2YWwiLCJtYXhBZ2VJbnZhbGlkIiwiUHJvbWlzZSIsInJlamVjdCIsInN5bmMiLCJxdWV1ZUdldFJlcXVlc3QiLCJiaW5kIiwicHV0IiwiYm9keSIsImNvbnRlbnRUeXBlIiwiX3dyYXBCdXN5RG9uZSIsImNhbGwiLCJkZWxldGUiLCJyZXN1bHQiLCJzZWxmIiwiX2VtaXQiLCJ0aGVuIiwiciIsInN1Y2Nlc3MiLCJyZXNvbHZlIiwiZXJyIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7OztBQUNBLElBQUlBLE1BQU0sbUJBQUFDLENBQVEsQ0FBUixDQUFWOztBQUVBLFNBQVNDLFVBQVQsQ0FBb0JDLElBQXBCLEVBQTBCO0FBQ3hCLFNBQVMsS0FBS0MsT0FBTCxLQUFpQixTQUFqQixJQUNBRCxLQUFLRSxLQUFMLENBQVcscUJBQVgsQ0FEVDtBQUVEOztBQUVELElBQUlDLHFCQUFxQjtBQUN2QkMsT0FBSyxhQUFVSixJQUFWLEVBQWdCSyxNQUFoQixFQUF3QjtBQUMzQixRQUFJLEtBQUtDLEtBQVQsRUFBZ0I7QUFDZCxVQUFJRCxXQUFXRSxTQUFmLEVBQTBCO0FBQ3hCLFlBQUssUUFBTyxLQUFLQyxNQUFaLE1BQXVCLFFBQXhCLElBQ0MsS0FBS0EsTUFBTCxDQUFZQyxTQURiLElBQzBCLEtBQUtELE1BQUwsQ0FBWUUsTUFEMUMsRUFDa0Q7QUFDaERMLG1CQUFTLElBQUUsS0FBS00sZUFBTCxFQUFYO0FBQ0QsU0FIRCxNQUdPO0FBQ0xkLGNBQUksd0VBQUo7QUFDQVEsbUJBQVMsS0FBVDtBQUNEO0FBQ0Y7QUFDRCxVQUFJTyxnQkFBZ0IsU0FBaEJBLGFBQWdCLENBQVVQLE1BQVYsRUFBa0I7QUFDcEMsZUFBT0EsV0FBVyxLQUFYLElBQW9CLE9BQU9BLE1BQVAsS0FBbUIsUUFBOUM7QUFDRCxPQUZEOztBQUlBLFVBQUlPLGNBQWNQLE1BQWQsQ0FBSixFQUEyQjtBQUN6QixlQUFPUSxRQUFRQyxNQUFSLENBQWUsK0NBQWYsQ0FBUDtBQUNEO0FBQ0QsYUFBTyxLQUFLUixLQUFMLENBQVdGLEdBQVgsQ0FBZUosSUFBZixFQUFxQkssTUFBckIsRUFBNkIsS0FBS1UsSUFBTCxDQUFVQyxlQUFWLENBQTBCQyxJQUExQixDQUErQixLQUFLRixJQUFwQyxDQUE3QixDQUFQO0FBQ0QsS0FsQkQsTUFrQk87QUFDTCxhQUFPLEtBQUtQLE1BQUwsQ0FBWUosR0FBWixDQUFnQkosSUFBaEIsQ0FBUDtBQUNEO0FBQ0YsR0F2QnNCOztBQXlCdkJrQixPQUFLLGFBQVVsQixJQUFWLEVBQWdCbUIsSUFBaEIsRUFBc0JDLFdBQXRCLEVBQW1DO0FBQ3RDLFFBQUlyQixXQUFXa0IsSUFBWCxDQUFnQixJQUFoQixFQUFzQmpCLElBQXRCLENBQUosRUFBaUM7QUFDL0IsYUFBT0csbUJBQW1Ca0IsYUFBbkIsQ0FBaUNDLElBQWpDLENBQXNDLElBQXRDLEVBQTRDLEtBQUtkLE1BQUwsQ0FBWVUsR0FBWixDQUFnQmxCLElBQWhCLEVBQXNCbUIsSUFBdEIsRUFBNEJDLFdBQTVCLENBQTVDLENBQVA7QUFDRCxLQUZELE1BR0ssSUFBSSxLQUFLZCxLQUFULEVBQWdCO0FBQ25CLGFBQU8sS0FBS0EsS0FBTCxDQUFXWSxHQUFYLENBQWVsQixJQUFmLEVBQXFCbUIsSUFBckIsRUFBMkJDLFdBQTNCLENBQVA7QUFDRCxLQUZJLE1BRUU7QUFDTCxhQUFPakIsbUJBQW1Ca0IsYUFBbkIsQ0FBaUNDLElBQWpDLENBQXNDLElBQXRDLEVBQTRDLEtBQUtkLE1BQUwsQ0FBWVUsR0FBWixDQUFnQmxCLElBQWhCLEVBQXNCbUIsSUFBdEIsRUFBNEJDLFdBQTVCLENBQTVDLENBQVA7QUFDRDtBQUNGLEdBbENzQjs7QUFvQ3ZCLFlBQVUsaUJBQVVwQixJQUFWLEVBQWdCO0FBQ3hCLFFBQUksS0FBS00sS0FBVCxFQUFnQjtBQUNkLGFBQU8sS0FBS0EsS0FBTCxDQUFXaUIsTUFBWCxDQUFrQnZCLElBQWxCLENBQVA7QUFDRCxLQUZELE1BRU87QUFDTCxhQUFPRyxtQkFBbUJrQixhQUFuQixDQUFpQ0MsSUFBakMsQ0FBc0MsSUFBdEMsRUFBNEMsS0FBS2QsTUFBTCxDQUFZZSxNQUFaLENBQW1CdkIsSUFBbkIsQ0FBNUMsQ0FBUDtBQUNEO0FBQ0YsR0ExQ3NCOztBQTRDdkJxQixpQkFBZSx1QkFBVUcsTUFBVixFQUFrQjtBQUMvQixRQUFJQyxPQUFPLElBQVg7QUFDQSxTQUFLQyxLQUFMLENBQVcsV0FBWDtBQUNBLFdBQU9GLE9BQU9HLElBQVAsQ0FBWSxVQUFVQyxDQUFWLEVBQWE7QUFDOUJILFdBQUtDLEtBQUwsQ0FBVyxXQUFYLEVBQXdCLEVBQUVHLFNBQVMsSUFBWCxFQUF4QjtBQUNBLGFBQU9oQixRQUFRaUIsT0FBUixDQUFnQkYsQ0FBaEIsQ0FBUDtBQUNELEtBSE0sRUFHSixVQUFVRyxHQUFWLEVBQWU7QUFDaEJOLFdBQUtDLEtBQUwsQ0FBVyxXQUFYLEVBQXdCLEVBQUVHLFNBQVMsS0FBWCxFQUF4QjtBQUNBLGFBQU9oQixRQUFRQyxNQUFSLENBQWVpQixHQUFmLENBQVA7QUFDRCxLQU5NLENBQVA7QUFPRDtBQXREc0IsQ0FBekI7O0FBeURBQyxPQUFPQyxPQUFQLEdBQWlCOUIsa0JBQWpCIiwiZmlsZSI6IjIyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG52YXIgbG9nID0gcmVxdWlyZSgnLi9sb2cnKTtcblxuZnVuY3Rpb24gc2hhcmVGaXJzdChwYXRoKSB7XG4gIHJldHVybiAoIHRoaXMuYmFja2VuZCA9PT0gJ2Ryb3Bib3gnICYmXG4gICAgICAgICAgIHBhdGgubWF0Y2goL15cXC9wdWJsaWNcXC8uKlteXFwvXSQvKSApO1xufVxuXG52YXIgU3luY2VkR2V0UHV0RGVsZXRlID0ge1xuICBnZXQ6IGZ1bmN0aW9uIChwYXRoLCBtYXhBZ2UpIHtcbiAgICBpZiAodGhpcy5sb2NhbCkge1xuICAgICAgaWYgKG1heEFnZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmICgodHlwZW9mIHRoaXMucmVtb3RlID09PSAnb2JqZWN0JykgJiZcbiAgICAgICAgICAgICB0aGlzLnJlbW90ZS5jb25uZWN0ZWQgJiYgdGhpcy5yZW1vdGUub25saW5lKSB7XG4gICAgICAgICAgbWF4QWdlID0gMip0aGlzLmdldFN5bmNJbnRlcnZhbCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxvZygnTm90IHNldHRpbmcgZGVmYXVsdCBtYXhBZ2UsIGJlY2F1c2UgcmVtb3RlIGlzIG9mZmxpbmUgb3Igbm90IGNvbm5lY3RlZCcpO1xuICAgICAgICAgIG1heEFnZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgbWF4QWdlSW52YWxpZCA9IGZ1bmN0aW9uIChtYXhBZ2UpIHtcbiAgICAgICAgcmV0dXJuIG1heEFnZSAhPT0gZmFsc2UgJiYgdHlwZW9mKG1heEFnZSkgIT09ICdudW1iZXInO1xuICAgICAgfTtcblxuICAgICAgaWYgKG1heEFnZUludmFsaWQobWF4QWdlKSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ0FyZ3VtZW50IFxcJ21heEFnZVxcJyBtdXN0IGJlIGZhbHNlIG9yIGEgbnVtYmVyJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5sb2NhbC5nZXQocGF0aCwgbWF4QWdlLCB0aGlzLnN5bmMucXVldWVHZXRSZXF1ZXN0LmJpbmQodGhpcy5zeW5jKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnJlbW90ZS5nZXQocGF0aCk7XG4gICAgfVxuICB9LFxuXG4gIHB1dDogZnVuY3Rpb24gKHBhdGgsIGJvZHksIGNvbnRlbnRUeXBlKSB7XG4gICAgaWYgKHNoYXJlRmlyc3QuYmluZCh0aGlzKShwYXRoKSkge1xuICAgICAgcmV0dXJuIFN5bmNlZEdldFB1dERlbGV0ZS5fd3JhcEJ1c3lEb25lLmNhbGwodGhpcywgdGhpcy5yZW1vdGUucHV0KHBhdGgsIGJvZHksIGNvbnRlbnRUeXBlKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHRoaXMubG9jYWwpIHtcbiAgICAgIHJldHVybiB0aGlzLmxvY2FsLnB1dChwYXRoLCBib2R5LCBjb250ZW50VHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBTeW5jZWRHZXRQdXREZWxldGUuX3dyYXBCdXN5RG9uZS5jYWxsKHRoaXMsIHRoaXMucmVtb3RlLnB1dChwYXRoLCBib2R5LCBjb250ZW50VHlwZSkpO1xuICAgIH1cbiAgfSxcblxuICAnZGVsZXRlJzogZnVuY3Rpb24gKHBhdGgpIHtcbiAgICBpZiAodGhpcy5sb2NhbCkge1xuICAgICAgcmV0dXJuIHRoaXMubG9jYWwuZGVsZXRlKHBhdGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gU3luY2VkR2V0UHV0RGVsZXRlLl93cmFwQnVzeURvbmUuY2FsbCh0aGlzLCB0aGlzLnJlbW90ZS5kZWxldGUocGF0aCkpO1xuICAgIH1cbiAgfSxcblxuICBfd3JhcEJ1c3lEb25lOiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHRoaXMuX2VtaXQoJ3dpcmUtYnVzeScpO1xuICAgIHJldHVybiByZXN1bHQudGhlbihmdW5jdGlvbiAocikge1xuICAgICAgc2VsZi5fZW1pdCgnd2lyZS1kb25lJywgeyBzdWNjZXNzOiB0cnVlIH0pO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyKTtcbiAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBzZWxmLl9lbWl0KCd3aXJlLWRvbmUnLCB7IHN1Y2Nlc3M6IGZhbHNlIH0pO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XG4gICAgfSk7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gU3luY2VkR2V0UHV0RGVsZXRlO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3N5bmNlZGdldHB1dGRlbGV0ZS5qcyJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports,__webpack_require__){eval('\'use strict\';\n\nvar tv4 = __webpack_require__(28);\nvar BaseClient = __webpack_require__(6);\n\n/**\n * Class: BaseClient.Types\n *\n * - Manages and validates types of remoteStorage objects, using JSON-LD and\n *   JSON Schema\n * - Adds schema declaration/validation methods to BaseClient instances.\n **/\nBaseClient.Types = {\n  // <alias> -> <uri>\n  uris: {},\n  // <uri> -> <schema>\n  schemas: {},\n  // <uri> -> <alias>\n  aliases: {},\n\n  declare: function declare(moduleName, alias, uri, schema) {\n    var fullAlias = moduleName + \'/\' + alias;\n\n    if (schema.extends) {\n      var extendedAlias;\n      var parts = schema.extends.split(\'/\');\n      if (parts.length === 1) {\n        extendedAlias = moduleName + \'/\' + parts.shift();\n      } else {\n        extendedAlias = parts.join(\'/\');\n      }\n      var extendedUri = this.uris[extendedAlias];\n      if (!extendedUri) {\n        throw "Type \'" + fullAlias + "\' tries to extend unknown schema \'" + extendedAlias + "\'";\n      }\n      schema.extends = this.schemas[extendedUri];\n    }\n\n    this.uris[fullAlias] = uri;\n    this.aliases[uri] = fullAlias;\n    this.schemas[uri] = schema;\n  },\n\n  resolveAlias: function resolveAlias(alias) {\n    return this.uris[alias];\n  },\n\n  getSchema: function getSchema(uri) {\n    return this.schemas[uri];\n  },\n\n  inScope: function inScope(moduleName) {\n    var ml = moduleName.length;\n    var schemas = {};\n    for (var alias in this.uris) {\n      if (alias.substr(0, ml + 1) === moduleName + \'/\') {\n        var uri = this.uris[alias];\n        schemas[uri] = this.schemas[uri];\n      }\n    }\n    return schemas;\n  }\n};\n\nvar SchemaNotFound = function SchemaNotFound(uri) {\n  var error = new Error("Schema not found: " + uri);\n  error.name = "SchemaNotFound";\n  return error;\n};\n\nSchemaNotFound.prototype = Error.prototype;\n\nBaseClient.Types.SchemaNotFound = SchemaNotFound;\n\n/**\n * Class: BaseClient\n **/\nBaseClient.prototype.extend({\n  /**\n   * Method: declareType\n   *\n   * Declare a remoteStorage object type using a JSON schema.\n   *\n   * Parameters:\n   *   alias  - A type alias/shortname\n   *   uri    - (optional) JSON-LD URI of the schema. Automatically generated if none given\n   *   schema - A JSON Schema object describing the object type\n   *\n   * Example:\n   *\n   * (start code)\n   * client.declareType(\'todo-item\', {\n   *   "type": "object",\n   *   "properties": {\n   *     "id": {\n   *       "type": "string"\n   *     },\n   *     "title": {\n   *       "type": "string"\n   *     },\n   *     "finished": {\n   *       "type": "boolean"\n   *       "default": false\n   *     },\n   *     "createdAt": {\n   *       "type": "date"\n   *     }\n   *   },\n   *   "required": ["id", "title"]\n   * })\n   * (end code)\n   *\n   * Visit <http://json-schema.org> for details on how to use JSON Schema.\n   **/\n  declareType: function declareType(alias, uri, schema) {\n    if (!schema) {\n      schema = uri;\n      uri = this._defaultTypeURI(alias);\n    }\n    BaseClient.Types.declare(this.moduleName, alias, uri, schema);\n  },\n\n  /**\n   * Method: validate\n   *\n   * Validate an object against the associated schema.\n   *\n   * Parameters:\n   *  object - Object to validate. Must have a @context property.\n   *\n   * Returns:\n   *   An object containing information about validation errors\n   **/\n  validate: function validate(object) {\n    var schema = BaseClient.Types.getSchema(object[\'@context\']);\n    if (schema) {\n      return tv4.validateResult(object, schema);\n    } else {\n      throw new SchemaNotFound(object[\'@context\']);\n    }\n  },\n\n  _defaultTypeURI: function _defaultTypeURI(alias) {\n    return \'http://remotestorage.io/spec/modules/\' + encodeURIComponent(this.moduleName) + \'/\' + encodeURIComponent(alias);\n  },\n\n  _attachType: function _attachType(object, alias) {\n    object[\'@context\'] = BaseClient.Types.resolveAlias(this.moduleName + \'/\' + alias) || this._defaultTypeURI(alias);\n  }\n});\n\n// Documented in baseclient.js\nObject.defineProperty(BaseClient.prototype, \'schemas\', {\n  configurable: true,\n  get: function get() {\n    return BaseClient.Types.inScope(this.moduleName);\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdHlwZXMuanM/ODlhOCJdLCJuYW1lcyI6WyJ0djQiLCJyZXF1aXJlIiwiQmFzZUNsaWVudCIsIlR5cGVzIiwidXJpcyIsInNjaGVtYXMiLCJhbGlhc2VzIiwiZGVjbGFyZSIsIm1vZHVsZU5hbWUiLCJhbGlhcyIsInVyaSIsInNjaGVtYSIsImZ1bGxBbGlhcyIsImV4dGVuZHMiLCJleHRlbmRlZEFsaWFzIiwicGFydHMiLCJzcGxpdCIsImxlbmd0aCIsInNoaWZ0Iiwiam9pbiIsImV4dGVuZGVkVXJpIiwicmVzb2x2ZUFsaWFzIiwiZ2V0U2NoZW1hIiwiaW5TY29wZSIsIm1sIiwic3Vic3RyIiwiU2NoZW1hTm90Rm91bmQiLCJlcnJvciIsIkVycm9yIiwibmFtZSIsInByb3RvdHlwZSIsImV4dGVuZCIsImRlY2xhcmVUeXBlIiwiX2RlZmF1bHRUeXBlVVJJIiwidmFsaWRhdGUiLCJvYmplY3QiLCJ2YWxpZGF0ZVJlc3VsdCIsImVuY29kZVVSSUNvbXBvbmVudCIsIl9hdHRhY2hUeXBlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJnZXQiXSwibWFwcGluZ3MiOiI7O0FBQUUsSUFBSUEsTUFBTSxtQkFBQUMsQ0FBUSxFQUFSLENBQVY7QUFDQSxJQUFJQyxhQUFhLG1CQUFBRCxDQUFRLENBQVIsQ0FBakI7O0FBRUE7Ozs7Ozs7QUFPQUMsV0FBV0MsS0FBWCxHQUFtQjtBQUNqQjtBQUNBQyxRQUFNLEVBRlc7QUFHakI7QUFDQUMsV0FBUyxFQUpRO0FBS2pCO0FBQ0FDLFdBQVMsRUFOUTs7QUFRakJDLFdBQVMsaUJBQVNDLFVBQVQsRUFBcUJDLEtBQXJCLEVBQTRCQyxHQUE1QixFQUFpQ0MsTUFBakMsRUFBeUM7QUFDaEQsUUFBSUMsWUFBWUosYUFBYSxHQUFiLEdBQW1CQyxLQUFuQzs7QUFFQSxRQUFJRSxPQUFPRSxPQUFYLEVBQW9CO0FBQ2xCLFVBQUlDLGFBQUo7QUFDQSxVQUFJQyxRQUFRSixP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Q0QsS0FGRCxNQUVPO0FBQ0wsWUFBTSxJQUFJZSxjQUFKLENBQW1CUyxPQUFPLFVBQVAsQ0FBbkIsQ0FBTjtBQUNEO0FBQ0YsR0EvRHlCOztBQWlFMUJGLG1CQUFpQix5QkFBU3hCLEtBQVQsRUFBZ0I7QUFDL0IsV0FBTywwQ0FBMEM0QixtQkFBbUIsS0FBSzdCLFVBQXhCLENBQTFDLEdBQWdGLEdBQWhGLEdBQXNGNkIsbUJBQW1CNUIsS0FBbkIsQ0FBN0Y7QUFDRCxHQW5FeUI7O0FBcUUxQjZCLGVBQWEscUJBQVNILE1BQVQsRUFBaUIxQixLQUFqQixFQUF3QjtBQUNuQzBCLFdBQU8sVUFBUCxJQUFxQmpDLFdBQVdDLEtBQVgsQ0FBaUJrQixZQUFqQixDQUE4QixLQUFLYixVQUFMLEdBQWtCLEdBQWxCLEdBQXdCQyxLQUF0RCxLQUFnRSxLQUFLd0IsZUFBTCxDQUFxQnhCLEtBQXJCLENBQXJGO0FBQ0Q7QUF2RXlCLENBQTVCOztBQTBFQTtBQUNBOEIsT0FBT0MsY0FBUCxDQUFzQnRDLFdBQVc0QixTQUFqQyxFQUE0QyxTQUE1QyxFQUF1RDtBQUNyRFcsZ0JBQWMsSUFEdUM7QUFFckRDLE9BQUssZUFBVztBQUNkLFdBQU94QyxXQUFXQyxLQUFYLENBQWlCb0IsT0FBakIsQ0FBeUIsS0FBS2YsVUFBOUIsQ0FBUDtBQUNEO0FBSm9ELENBQXZEIiwiZmlsZSI6IjIzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiICB2YXIgdHY0ID0gcmVxdWlyZSgndHY0Jyk7XG4gIHZhciBCYXNlQ2xpZW50ID0gcmVxdWlyZSgnLi9iYXNlY2xpZW50Jyk7XG5cbiAgLyoqXG4gICAqIENsYXNzOiBCYXNlQ2xpZW50LlR5cGVzXG4gICAqXG4gICAqIC0gTWFuYWdlcyBhbmQgdmFsaWRhdGVzIHR5cGVzIG9mIHJlbW90ZVN0b3JhZ2Ugb2JqZWN0cywgdXNpbmcgSlNPTi1MRCBhbmRcbiAgICogICBKU09OIFNjaGVtYVxuICAgKiAtIEFkZHMgc2NoZW1hIGRlY2xhcmF0aW9uL3ZhbGlkYXRpb24gbWV0aG9kcyB0byBCYXNlQ2xpZW50IGluc3RhbmNlcy5cbiAgICoqL1xuICBCYXNlQ2xpZW50LlR5cGVzID0ge1xuICAgIC8vIDxhbGlhcz4gLT4gPHVyaT5cbiAgICB1cmlzOiB7fSxcbiAgICAvLyA8dXJpPiAtPiA8c2NoZW1hPlxuICAgIHNjaGVtYXM6IHt9LFxuICAgIC8vIDx1cmk+IC0+IDxhbGlhcz5cbiAgICBhbGlhc2VzOiB7fSxcblxuICAgIGRlY2xhcmU6IGZ1bmN0aW9uKG1vZHVsZU5hbWUsIGFsaWFzLCB1cmksIHNjaGVtYSkge1xuICAgICAgdmFyIGZ1bGxBbGlhcyA9IG1vZHVsZU5hbWUgKyAnLycgKyBhbGlhcztcblxuICAgICAgaWYgKHNjaGVtYS5leHRlbmRzKSB7XG4gICAgICAgIHZhciBleHRlbmRlZEFsaWFzO1xuICAgICAgICB2YXIgcGFydHMgPSBzY2hlbWEuZXh0ZW5kcy5zcGxpdCgnLycpO1xuICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgZXh0ZW5kZWRBbGlhcyA9IG1vZHVsZU5hbWUgKyAnLycgKyBwYXJ0cy5zaGlmdCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGV4dGVuZGVkQWxpYXMgPSBwYXJ0cy5qb2luKCcvJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGV4dGVuZGVkVXJpID0gdGhpcy51cmlzW2V4dGVuZGVkQWxpYXNdO1xuICAgICAgICBpZiAoISBleHRlbmRlZFVyaSkge1xuICAgICAgICAgIHRocm93IFwiVHlwZSAnXCIgKyBmdWxsQWxpYXMgKyBcIicgdHJpZXMgdG8gZXh0ZW5kIHVua25vd24gc2NoZW1hICdcIiArIGV4dGVuZGVkQWxpYXMgKyBcIidcIjtcbiAgICAgICAgfVxuICAgICAgICBzY2hlbWEuZXh0ZW5kcyA9IHRoaXMuc2NoZW1hc1tleHRlbmRlZFVyaV07XG4gICAgICB9XG5cbiAgICAgIHRoaXMudXJpc1tmdWxsQWxpYXNdID0gdXJpO1xuICAgICAgdGhpcy5hbGlhc2VzW3VyaV0gPSBmdWxsQWxpYXM7XG4gICAgICB0aGlzLnNjaGVtYXNbdXJpXSA9IHNjaGVtYTtcbiAgICB9LFxuXG4gICAgcmVzb2x2ZUFsaWFzOiBmdW5jdGlvbihhbGlhcykge1xuICAgICAgcmV0dXJuIHRoaXMudXJpc1thbGlhc107XG4gICAgfSxcblxuICAgIGdldFNjaGVtYTogZnVuY3Rpb24odXJpKSB7XG4gICAgICByZXR1cm4gdGhpcy5zY2hlbWFzW3VyaV07XG4gICAgfSxcblxuICAgIGluU2NvcGU6IGZ1bmN0aW9uKG1vZHVsZU5hbWUpIHtcbiAgICAgIHZhciBtbCA9IG1vZHVsZU5hbWUubGVuZ3RoO1xuICAgICAgdmFyIHNjaGVtYXMgPSB7fTtcbiAgICAgIGZvciAodmFyIGFsaWFzIGluIHRoaXMudXJpcykge1xuICAgICAgICBpZiAoYWxpYXMuc3Vic3RyKDAsIG1sICsgMSkgPT09IG1vZHVsZU5hbWUgKyAnLycpIHtcbiAgICAgICAgICB2YXIgdXJpID0gdGhpcy51cmlzW2FsaWFzXTtcbiAgICAgICAgICBzY2hlbWFzW3VyaV0gPSB0aGlzLnNjaGVtYXNbdXJpXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHNjaGVtYXM7XG4gICAgfVxuICB9O1xuXG4gIHZhciBTY2hlbWFOb3RGb3VuZCA9IGZ1bmN0aW9uKHVyaSkge1xuICAgIHZhciBlcnJvciA9IG5ldyBFcnJvcihcIlNjaGVtYSBub3QgZm91bmQ6IFwiICsgdXJpKTtcbiAgICBlcnJvci5uYW1lID0gXCJTY2hlbWFOb3RGb3VuZFwiO1xuICAgIHJldHVybiBlcnJvcjtcbiAgfTtcblxuICBTY2hlbWFOb3RGb3VuZC5wcm90b3R5cGUgPSBFcnJvci5wcm90b3R5cGU7XG5cbiAgQmFzZUNsaWVudC5UeXBlcy5TY2hlbWFOb3RGb3VuZCA9IFNjaGVtYU5vdEZvdW5kO1xuXG4gIC8qKlxuICAgKiBDbGFzczogQmFzZUNsaWVudFxuICAgKiovXG4gIEJhc2VDbGllbnQucHJvdG90eXBlLmV4dGVuZCh7XG4gICAgLyoqXG4gICAgICogTWV0aG9kOiBkZWNsYXJlVHlwZVxuICAgICAqXG4gICAgICogRGVjbGFyZSBhIHJlbW90ZVN0b3JhZ2Ugb2JqZWN0IHR5cGUgdXNpbmcgYSBKU09OIHNjaGVtYS5cbiAgICAgKlxuICAgICAqIFBhcmFtZXRlcnM6XG4gICAgICogICBhbGlhcyAgLSBBIHR5cGUgYWxpYXMvc2hvcnRuYW1lXG4gICAgICogICB1cmkgICAgLSAob3B0aW9uYWwpIEpTT04tTEQgVVJJIG9mIHRoZSBzY2hlbWEuIEF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGlmIG5vbmUgZ2l2ZW5cbiAgICAgKiAgIHNjaGVtYSAtIEEgSlNPTiBTY2hlbWEgb2JqZWN0IGRlc2NyaWJpbmcgdGhlIG9iamVjdCB0eXBlXG4gICAgICpcbiAgICAgKiBFeGFtcGxlOlxuICAgICAqXG4gICAgICogKHN0YXJ0IGNvZGUpXG4gICAgICogY2xpZW50LmRlY2xhcmVUeXBlKCd0b2RvLWl0ZW0nLCB7XG4gICAgICogICBcInR5cGVcIjogXCJvYmplY3RcIixcbiAgICAgKiAgIFwicHJvcGVydGllc1wiOiB7XG4gICAgICogICAgIFwiaWRcIjoge1xuICAgICAqICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiXG4gICAgICogICAgIH0sXG4gICAgICogICAgIFwidGl0bGVcIjoge1xuICAgICAqICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiXG4gICAgICogICAgIH0sXG4gICAgICogICAgIFwiZmluaXNoZWRcIjoge1xuICAgICAqICAgICAgIFwidHlwZVwiOiBcImJvb2xlYW5cIlxuICAgICAqICAgICAgIFwiZGVmYXVsdFwiOiBmYWxzZVxuICAgICAqICAgICB9LFxuICAgICAqICAgICBcImNyZWF0ZWRBdFwiOiB7XG4gICAgICogICAgICAgXCJ0eXBlXCI6IFwiZGF0ZVwiXG4gICAgICogICAgIH1cbiAgICAgKiAgIH0sXG4gICAgICogICBcInJlcXVpcmVkXCI6IFtcImlkXCIsIFwidGl0bGVcIl1cbiAgICAgKiB9KVxuICAgICAqIChlbmQgY29kZSlcbiAgICAgKlxuICAgICAqIFZpc2l0IDxodHRwOi8vanNvbi1zY2hlbWEub3JnPiBmb3IgZGV0YWlscyBvbiBob3cgdG8gdXNlIEpTT04gU2NoZW1hLlxuICAgICAqKi9cbiAgICBkZWNsYXJlVHlwZTogZnVuY3Rpb24oYWxpYXMsIHVyaSwgc2NoZW1hKSB7XG4gICAgICBpZiAoISBzY2hlbWEpIHtcbiAgICAgICAgc2NoZW1hID0gdXJpO1xuICAgICAgICB1cmkgPSB0aGlzLl9kZWZhdWx0VHlwZVVSSShhbGlhcyk7XG4gICAgICB9XG4gICAgICBCYXNlQ2xpZW50LlR5cGVzLmRlY2xhcmUodGhpcy5tb2R1bGVOYW1lLCBhbGlhcywgdXJpLCBzY2hlbWEpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNZXRob2Q6IHZhbGlkYXRlXG4gICAgICpcbiAgICAgKiBWYWxpZGF0ZSBhbiBvYmplY3QgYWdhaW5zdCB0aGUgYXNzb2NpYXRlZCBzY2hlbWEuXG4gICAgICpcbiAgICAgKiBQYXJhbWV0ZXJzOlxuICAgICAqICBvYmplY3QgLSBPYmplY3QgdG8gdmFsaWRhdGUuIE11c3QgaGF2ZSBhIEBjb250ZXh0IHByb3BlcnR5LlxuICAgICAqXG4gICAgICogUmV0dXJuczpcbiAgICAgKiAgIEFuIG9iamVjdCBjb250YWluaW5nIGluZm9ybWF0aW9uIGFib3V0IHZhbGlkYXRpb24gZXJyb3JzXG4gICAgICoqL1xuICAgIHZhbGlkYXRlOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHZhciBzY2hlbWEgPSBCYXNlQ2xpZW50LlR5cGVzLmdldFNjaGVtYShvYmplY3RbJ0Bjb250ZXh0J10pO1xuICAgICAgaWYgKHNjaGVtYSkge1xuICAgICAgICByZXR1cm4gdHY0LnZhbGlkYXRlUmVzdWx0KG9iamVjdCwgc2NoZW1hKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBTY2hlbWFOb3RGb3VuZChvYmplY3RbJ0Bjb250ZXh0J10pO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBfZGVmYXVsdFR5cGVVUkk6IGZ1bmN0aW9uKGFsaWFzKSB7XG4gICAgICByZXR1cm4gJ2h0dHA6Ly9yZW1vdGVzdG9yYWdlLmlvL3NwZWMvbW9kdWxlcy8nICsgZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMubW9kdWxlTmFtZSkgKyAnLycgKyBlbmNvZGVVUklDb21wb25lbnQoYWxpYXMpO1xuICAgIH0sXG5cbiAgICBfYXR0YWNoVHlwZTogZnVuY3Rpb24ob2JqZWN0LCBhbGlhcykge1xuICAgICAgb2JqZWN0WydAY29udGV4dCddID0gQmFzZUNsaWVudC5UeXBlcy5yZXNvbHZlQWxpYXModGhpcy5tb2R1bGVOYW1lICsgJy8nICsgYWxpYXMpIHx8IHRoaXMuX2RlZmF1bHRUeXBlVVJJKGFsaWFzKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIERvY3VtZW50ZWQgaW4gYmFzZWNsaWVudC5qc1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmFzZUNsaWVudC5wcm90b3R5cGUsICdzY2hlbWFzJywge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIEJhc2VDbGllbnQuVHlwZXMuaW5TY29wZSh0aGlzLm1vZHVsZU5hbWUpO1xuICAgIH1cbiAgfSk7XG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy90eXBlcy5qcyJdLCJzb3VyY2VSb290IjoiIn0=')},function(module,exports){
eval("'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction placeHoldersCount (b64) {\n  var len = b64.length\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // the number of equal signs (place holders)\n  // if there are two placeholders, than the two characters before it\n  // represent one byte\n  // if there is only one, then the three characters before it represent 2 bytes\n  // this is just a cheap hack to not do indexOf twice\n  return b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0\n}\n\nfunction byteLength (b64) {\n  // base64 is 4/3 + up to two characters of the original data\n  return b64.length * 3 / 4 - placeHoldersCount(b64)\n}\n\nfunction toByteArray (b64) {\n  var i, j, l, tmp, placeHolders, arr\n  var len = b64.length\n  placeHolders = placeHoldersCount(b64)\n\n  arr = new Arr(len * 3 / 4 - placeHolders)\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  l = placeHolders > 0 ? len - 4 : len\n\n  var L = 0\n\n  for (i = 0, j = 0; i < l; i += 4, j += 3) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 18) | (revLookup[b64.charCodeAt(i + 1)] << 12) | (revLookup[b64.charCodeAt(i + 2)] << 6) | revLookup[b64.charCodeAt(i + 3)]\n    arr[L++] = (tmp >> 16) & 0xFF\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  if (placeHolders === 2) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 2) | (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[L++] = tmp & 0xFF\n  } else if (placeHolders === 1) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 10) | (revLookup[b64.charCodeAt(i + 1)] << 4) | (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var output = ''\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    output += lookup[tmp >> 2]\n    output += lookup[(tmp << 4) & 0x3F]\n    output += '=='\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + (uint8[len - 1])\n    output += lookup[tmp >> 10]\n    output += lookup[(tmp >> 4) & 0x3F]\n    output += lookup[(tmp << 2) & 0x3F]\n    output += '='\n  }\n\n  parts.push(output)\n\n  return parts.join('')\n}\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2Jhc2U2NC1qcy9pbmRleC5qcz8yYWRkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrQ0FBa0MsU0FBUztBQUMzQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUEsb0JBQW9CLE9BQU87QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLFNBQVM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDBDQUEwQyxVQUFVO0FBQ3BEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBIiwiZmlsZSI6IjI0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnXG5cbmV4cG9ydHMuYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGhcbmV4cG9ydHMudG9CeXRlQXJyYXkgPSB0b0J5dGVBcnJheVxuZXhwb3J0cy5mcm9tQnl0ZUFycmF5ID0gZnJvbUJ5dGVBcnJheVxuXG52YXIgbG9va3VwID0gW11cbnZhciByZXZMb29rdXAgPSBbXVxudmFyIEFyciA9IHR5cGVvZiBVaW50OEFycmF5ICE9PSAndW5kZWZpbmVkJyA/IFVpbnQ4QXJyYXkgOiBBcnJheVxuXG52YXIgY29kZSA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvJ1xuZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNvZGUubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgbG9va3VwW2ldID0gY29kZVtpXVxuICByZXZMb29rdXBbY29kZS5jaGFyQ29kZUF0KGkpXSA9IGlcbn1cblxucmV2TG9va3VwWyctJy5jaGFyQ29kZUF0KDApXSA9IDYyXG5yZXZMb29rdXBbJ18nLmNoYXJDb2RlQXQoMCldID0gNjNcblxuZnVuY3Rpb24gcGxhY2VIb2xkZXJzQ291bnQgKGI2NCkge1xuICB2YXIgbGVuID0gYjY0Lmxlbmd0aFxuICBpZiAobGVuICUgNCA+IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc3RyaW5nLiBMZW5ndGggbXVzdCBiZSBhIG11bHRpcGxlIG9mIDQnKVxuICB9XG5cbiAgLy8gdGhlIG51bWJlciBvZiBlcXVhbCBzaWducyAocGxhY2UgaG9sZGVycylcbiAgLy8gaWYgdGhlcmUgYXJlIHR3byBwbGFjZWhvbGRlcnMsIHRoYW4gdGhlIHR3byBjaGFyYWN0ZXJzIGJlZm9yZSBpdFxuICAvLyByZXByZXNlbnQgb25lIGJ5dGVcbiAgLy8gaWYgdGhlcmUgaXMgb25seSBvbmUsIHRoZW4gdGhlIHRocmVlIGNoYXJhY3RlcnMgYmVmb3JlIGl0IHJlcHJlc2VudCAyIGJ5dGVzXG4gIC8vIHRoaXMgaXMganVzdCBhIGNoZWFwIGhhY2sgdG8gbm90IGRvIGluZGV4T2YgdHdpY2VcbiAgcmV0dXJuIGI2NFtsZW4gLSAyXSA9PT0gJz0nID8gMiA6IGI2NFtsZW4gLSAxXSA9PT0gJz0nID8gMSA6IDBcbn1cblxuZnVuY3Rpb24gYnl0ZUxlbmd0aCAoYjY0KSB7XG4gIC8vIGJhc2U2NCBpcyA0LzMgKyB1cCB0byB0d28gY2hhcmFjdGVycyBvZiB0aGUgb3JpZ2luYWwgZGF0YVxuICByZXR1cm4gYjY0Lmxlbmd0aCAqIDMgLyA0IC0gcGxhY2VIb2xkZXJzQ291bnQoYjY0KVxufVxuXG5mdW5jdGlvbiB0b0J5dGVBcnJheSAoYjY0KSB7XG4gIHZhciBpLCBqLCBsLCB0bXAsIHBsYWNlSG9sZGVycywgYXJyXG4gIHZhciBsZW4gPSBiNjQubGVuZ3RoXG4gIHBsYWNlSG9sZGVycyA9IHBsYWNlSG9sZGVyc0NvdW50KGI2NClcblxuICBhcnIgPSBuZXcgQXJyKGxlbiAqIDMgLyA0IC0gcGxhY2VIb2xkZXJzKVxuXG4gIC8vIGlmIHRoZXJlIGFyZSBwbGFjZWhvbGRlcnMsIG9ubHkgZ2V0IHVwIHRvIHRoZSBsYXN0IGNvbXBsZXRlIDQgY2hhcnNcbiAgbCA9IHBsYWNlSG9sZGVycyA+IDAgPyBsZW4gLSA0IDogbGVuXG5cbiAgdmFyIEwgPSAwXG5cbiAgZm9yIChpID0gMCwgaiA9IDA7IGkgPCBsOyBpICs9IDQsIGogKz0gMykge1xuICAgIHRtcCA9IChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDE4KSB8IChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCAxMikgfCAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPDwgNikgfCByZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDMpXVxuICAgIGFycltMKytdID0gKHRtcCA+PiAxNikgJiAweEZGXG4gICAgYXJyW0wrK10gPSAodG1wID4+IDgpICYgMHhGRlxuICAgIGFycltMKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgaWYgKHBsYWNlSG9sZGVycyA9PT0gMikge1xuICAgIHRtcCA9IChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDIpIHwgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldID4+IDQpXG4gICAgYXJyW0wrK10gPSB0bXAgJiAweEZGXG4gIH0gZWxzZSBpZiAocGxhY2VIb2xkZXJzID09PSAxKSB7XG4gICAgdG1wID0gKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTApIHwgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldIDw8IDQpIHwgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMildID4+IDIpXG4gICAgYXJyW0wrK10gPSAodG1wID4+IDgpICYgMHhGRlxuICAgIGFycltMKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIGFyclxufVxuXG5mdW5jdGlvbiB0cmlwbGV0VG9CYXNlNjQgKG51bSkge1xuICByZXR1cm4gbG9va3VwW251bSA+PiAxOCAmIDB4M0ZdICsgbG9va3VwW251bSA+PiAxMiAmIDB4M0ZdICsgbG9va3VwW251bSA+PiA2ICYgMHgzRl0gKyBsb29rdXBbbnVtICYgMHgzRl1cbn1cblxuZnVuY3Rpb24gZW5jb2RlQ2h1bmsgKHVpbnQ4LCBzdGFydCwgZW5kKSB7XG4gIHZhciB0bXBcbiAgdmFyIG91dHB1dCA9IFtdXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSArPSAzKSB7XG4gICAgdG1wID0gKHVpbnQ4W2ldIDw8IDE2KSArICh1aW50OFtpICsgMV0gPDwgOCkgKyAodWludDhbaSArIDJdKVxuICAgIG91dHB1dC5wdXNoKHRyaXBsZXRUb0Jhc2U2NCh0bXApKVxuICB9XG4gIHJldHVybiBvdXRwdXQuam9pbignJylcbn1cblxuZnVuY3Rpb24gZnJvbUJ5dGVBcnJheSAodWludDgpIHtcbiAgdmFyIHRtcFxuICB2YXIgbGVuID0gdWludDgubGVuZ3RoXG4gIHZhciBleHRyYUJ5dGVzID0gbGVuICUgMyAvLyBpZiB3ZSBoYXZlIDEgYnl0ZSBsZWZ0LCBwYWQgMiBieXRlc1xuICB2YXIgb3V0cHV0ID0gJydcbiAgdmFyIHBhcnRzID0gW11cbiAgdmFyIG1heENodW5rTGVuZ3RoID0gMTYzODMgLy8gbXVzdCBiZSBtdWx0aXBsZSBvZiAzXG5cbiAgLy8gZ28gdGhyb3VnaCB0aGUgYXJyYXkgZXZlcnkgdGhyZWUgYnl0ZXMsIHdlJ2xsIGRlYWwgd2l0aCB0cmFpbGluZyBzdHVmZiBsYXRlclxuICBmb3IgKHZhciBpID0gMCwgbGVuMiA9IGxlbiAtIGV4dHJhQnl0ZXM7IGkgPCBsZW4yOyBpICs9IG1heENodW5rTGVuZ3RoKSB7XG4gICAgcGFydHMucHVzaChlbmNvZGVDaHVuayh1aW50OCwgaSwgKGkgKyBtYXhDaHVua0xlbmd0aCkgPiBsZW4yID8gbGVuMiA6IChpICsgbWF4Q2h1bmtMZW5ndGgpKSlcbiAgfVxuXG4gIC8vIHBhZCB0aGUgZW5kIHdpdGggemVyb3MsIGJ1dCBtYWtlIHN1cmUgdG8gbm90IGZvcmdldCB0aGUgZXh0cmEgYnl0ZXNcbiAgaWYgKGV4dHJhQnl0ZXMgPT09IDEpIHtcbiAgICB0bXAgPSB1aW50OFtsZW4gLSAxXVxuICAgIG91dHB1dCArPSBsb29rdXBbdG1wID4+IDJdXG4gICAgb3V0cHV0ICs9IGxvb2t1cFsodG1wIDw8IDQpICYgMHgzRl1cbiAgICBvdXRwdXQgKz0gJz09J1xuICB9IGVsc2UgaWYgKGV4dHJhQnl0ZXMgPT09IDIpIHtcbiAgICB0bXAgPSAodWludDhbbGVuIC0gMl0gPDwgOCkgKyAodWludDhbbGVuIC0gMV0pXG4gICAgb3V0cHV0ICs9IGxvb2t1cFt0bXAgPj4gMTBdXG4gICAgb3V0cHV0ICs9IGxvb2t1cFsodG1wID4+IDQpICYgMHgzRl1cbiAgICBvdXRwdXQgKz0gbG9va3VwWyh0bXAgPDwgMikgJiAweDNGXVxuICAgIG91dHB1dCArPSAnPSdcbiAgfVxuXG4gIHBhcnRzLnB1c2gob3V0cHV0KVxuXG4gIHJldHVybiBwYXJ0cy5qb2luKCcnKVxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2Jhc2U2NC1qcy9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMjRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports,__webpack_require__){
eval("/* WEBPACK VAR INJECTION */(function(global) {/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = __webpack_require__(24)\nvar ieee754 = __webpack_require__(26)\nvar isArray = __webpack_require__(27)\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2J1ZmZlci9pbmRleC5qcz8xYTU1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLG1EQUFtRDtBQUN4RTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLFVBQVU7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFlBQVk7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQSx1Q0FBdUMsU0FBUztBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGlCQUFpQjtBQUNoQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsaUJBQWlCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixTQUFTO0FBQzFCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsU0FBUztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsU0FBUztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxFQUFFO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGlCQUFpQixTQUFTO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixlQUFlO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLHdCQUF3QixRQUFRO0FBQ2hDO0FBQ0EscUJBQXFCLGVBQWU7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFlBQVk7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHFCQUFxQixTQUFTO0FBQzlCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxxQkFBcUIsU0FBUztBQUM5QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxxQkFBcUIsU0FBUztBQUM5QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsa0JBQWtCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxtQkFBbUIsY0FBYztBQUNqQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdURBQXVELE9BQU87QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVEQUF1RCxPQUFPO0FBQzlEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGtCQUFrQjtBQUNsQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHFCQUFxQixRQUFRO0FBQzdCO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxtQkFBbUIsU0FBUztBQUM1QjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxpQkFBaUI7QUFDaEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpQkFBaUIsWUFBWTtBQUM3Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLGdCQUFnQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixnQkFBZ0I7QUFDakM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsaUJBQWlCLFlBQVk7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIFRoZSBidWZmZXIgbW9kdWxlIGZyb20gbm9kZS5qcywgZm9yIHRoZSBicm93c2VyLlxuICpcbiAqIEBhdXRob3IgICBGZXJvc3MgQWJvdWtoYWRpamVoIDxmZXJvc3NAZmVyb3NzLm9yZz4gPGh0dHA6Ly9mZXJvc3Mub3JnPlxuICogQGxpY2Vuc2UgIE1JVFxuICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1wcm90byAqL1xuXG4ndXNlIHN0cmljdCdcblxudmFyIGJhc2U2NCA9IHJlcXVpcmUoJ2Jhc2U2NC1qcycpXG52YXIgaWVlZTc1NCA9IHJlcXVpcmUoJ2llZWU3NTQnKVxudmFyIGlzQXJyYXkgPSByZXF1aXJlKCdpc2FycmF5JylcblxuZXhwb3J0cy5CdWZmZXIgPSBCdWZmZXJcbmV4cG9ydHMuU2xvd0J1ZmZlciA9IFNsb3dCdWZmZXJcbmV4cG9ydHMuSU5TUEVDVF9NQVhfQllURVMgPSA1MFxuXG4vKipcbiAqIElmIGBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVGA6XG4gKiAgID09PSB0cnVlICAgIFVzZSBVaW50OEFycmF5IGltcGxlbWVudGF0aW9uIChmYXN0ZXN0KVxuICogICA9PT0gZmFsc2UgICBVc2UgT2JqZWN0IGltcGxlbWVudGF0aW9uIChtb3N0IGNvbXBhdGlibGUsIGV2ZW4gSUU2KVxuICpcbiAqIEJyb3dzZXJzIHRoYXQgc3VwcG9ydCB0eXBlZCBhcnJheXMgYXJlIElFIDEwKywgRmlyZWZveCA0KywgQ2hyb21lIDcrLCBTYWZhcmkgNS4xKyxcbiAqIE9wZXJhIDExLjYrLCBpT1MgNC4yKy5cbiAqXG4gKiBEdWUgdG8gdmFyaW91cyBicm93c2VyIGJ1Z3MsIHNvbWV0aW1lcyB0aGUgT2JqZWN0IGltcGxlbWVudGF0aW9uIHdpbGwgYmUgdXNlZCBldmVuXG4gKiB3aGVuIHRoZSBicm93c2VyIHN1cHBvcnRzIHR5cGVkIGFycmF5cy5cbiAqXG4gKiBOb3RlOlxuICpcbiAqICAgLSBGaXJlZm94IDQtMjkgbGFja3Mgc3VwcG9ydCBmb3IgYWRkaW5nIG5ldyBwcm9wZXJ0aWVzIHRvIGBVaW50OEFycmF5YCBpbnN0YW5jZXMsXG4gKiAgICAgU2VlOiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD02OTU0MzguXG4gKlxuICogICAtIENocm9tZSA5LTEwIGlzIG1pc3NpbmcgdGhlIGBUeXBlZEFycmF5LnByb3RvdHlwZS5zdWJhcnJheWAgZnVuY3Rpb24uXG4gKlxuICogICAtIElFMTAgaGFzIGEgYnJva2VuIGBUeXBlZEFycmF5LnByb3RvdHlwZS5zdWJhcnJheWAgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyBhcnJheXMgb2ZcbiAqICAgICBpbmNvcnJlY3QgbGVuZ3RoIGluIHNvbWUgc2l0dWF0aW9ucy5cblxuICogV2UgZGV0ZWN0IHRoZXNlIGJ1Z2d5IGJyb3dzZXJzIGFuZCBzZXQgYEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUYCB0byBgZmFsc2VgIHNvIHRoZXlcbiAqIGdldCB0aGUgT2JqZWN0IGltcGxlbWVudGF0aW9uLCB3aGljaCBpcyBzbG93ZXIgYnV0IGJlaGF2ZXMgY29ycmVjdGx5LlxuICovXG5CdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCA9IGdsb2JhbC5UWVBFRF9BUlJBWV9TVVBQT1JUICE9PSB1bmRlZmluZWRcbiAgPyBnbG9iYWwuVFlQRURfQVJSQVlfU1VQUE9SVFxuICA6IHR5cGVkQXJyYXlTdXBwb3J0KClcblxuLypcbiAqIEV4cG9ydCBrTWF4TGVuZ3RoIGFmdGVyIHR5cGVkIGFycmF5IHN1cHBvcnQgaXMgZGV0ZXJtaW5lZC5cbiAqL1xuZXhwb3J0cy5rTWF4TGVuZ3RoID0ga01heExlbmd0aCgpXG5cbmZ1bmN0aW9uIHR5cGVkQXJyYXlTdXBwb3J0ICgpIHtcbiAgdHJ5IHtcbiAgICB2YXIgYXJyID0gbmV3IFVpbnQ4QXJyYXkoMSlcbiAgICBhcnIuX19wcm90b19fID0ge19fcHJvdG9fXzogVWludDhBcnJheS5wcm90b3R5cGUsIGZvbzogZnVuY3Rpb24gKCkgeyByZXR1cm4gNDIgfX1cbiAgICByZXR1cm4gYXJyLmZvbygpID09PSA0MiAmJiAvLyB0eXBlZCBhcnJheSBpbnN0YW5jZXMgY2FuIGJlIGF1Z21lbnRlZFxuICAgICAgICB0eXBlb2YgYXJyLnN1YmFycmF5ID09PSAnZnVuY3Rpb24nICYmIC8vIGNocm9tZSA5LTEwIGxhY2sgYHN1YmFycmF5YFxuICAgICAgICBhcnIuc3ViYXJyYXkoMSwgMSkuYnl0ZUxlbmd0aCA9PT0gMCAvLyBpZTEwIGhhcyBicm9rZW4gYHN1YmFycmF5YFxuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuZnVuY3Rpb24ga01heExlbmd0aCAoKSB7XG4gIHJldHVybiBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVFxuICAgID8gMHg3ZmZmZmZmZlxuICAgIDogMHgzZmZmZmZmZlxufVxuXG5mdW5jdGlvbiBjcmVhdGVCdWZmZXIgKHRoYXQsIGxlbmd0aCkge1xuICBpZiAoa01heExlbmd0aCgpIDwgbGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0ludmFsaWQgdHlwZWQgYXJyYXkgbGVuZ3RoJylcbiAgfVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICAvLyBSZXR1cm4gYW4gYXVnbWVudGVkIGBVaW50OEFycmF5YCBpbnN0YW5jZSwgZm9yIGJlc3QgcGVyZm9ybWFuY2VcbiAgICB0aGF0ID0gbmV3IFVpbnQ4QXJyYXkobGVuZ3RoKVxuICAgIHRoYXQuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuICB9IGVsc2Uge1xuICAgIC8vIEZhbGxiYWNrOiBSZXR1cm4gYW4gb2JqZWN0IGluc3RhbmNlIG9mIHRoZSBCdWZmZXIgY2xhc3NcbiAgICBpZiAodGhhdCA9PT0gbnVsbCkge1xuICAgICAgdGhhdCA9IG5ldyBCdWZmZXIobGVuZ3RoKVxuICAgIH1cbiAgICB0aGF0Lmxlbmd0aCA9IGxlbmd0aFxuICB9XG5cbiAgcmV0dXJuIHRoYXRcbn1cblxuLyoqXG4gKiBUaGUgQnVmZmVyIGNvbnN0cnVjdG9yIHJldHVybnMgaW5zdGFuY2VzIG9mIGBVaW50OEFycmF5YCB0aGF0IGhhdmUgdGhlaXJcbiAqIHByb3RvdHlwZSBjaGFuZ2VkIHRvIGBCdWZmZXIucHJvdG90eXBlYC4gRnVydGhlcm1vcmUsIGBCdWZmZXJgIGlzIGEgc3ViY2xhc3Mgb2ZcbiAqIGBVaW50OEFycmF5YCwgc28gdGhlIHJldHVybmVkIGluc3RhbmNlcyB3aWxsIGhhdmUgYWxsIHRoZSBub2RlIGBCdWZmZXJgIG1ldGhvZHNcbiAqIGFuZCB0aGUgYFVpbnQ4QXJyYXlgIG1ldGhvZHMuIFNxdWFyZSBicmFja2V0IG5vdGF0aW9uIHdvcmtzIGFzIGV4cGVjdGVkIC0tIGl0XG4gKiByZXR1cm5zIGEgc2luZ2xlIG9jdGV0LlxuICpcbiAqIFRoZSBgVWludDhBcnJheWAgcHJvdG90eXBlIHJlbWFpbnMgdW5tb2RpZmllZC5cbiAqL1xuXG5mdW5jdGlvbiBCdWZmZXIgKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgJiYgISh0aGlzIGluc3RhbmNlb2YgQnVmZmVyKSkge1xuICAgIHJldHVybiBuZXcgQnVmZmVyKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgLy8gQ29tbW9uIGNhc2UuXG4gIGlmICh0eXBlb2YgYXJnID09PSAnbnVtYmVyJykge1xuICAgIGlmICh0eXBlb2YgZW5jb2RpbmdPck9mZnNldCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ0lmIGVuY29kaW5nIGlzIHNwZWNpZmllZCB0aGVuIHRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgc3RyaW5nJ1xuICAgICAgKVxuICAgIH1cbiAgICByZXR1cm4gYWxsb2NVbnNhZmUodGhpcywgYXJnKVxuICB9XG4gIHJldHVybiBmcm9tKHRoaXMsIGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxufVxuXG5CdWZmZXIucG9vbFNpemUgPSA4MTkyIC8vIG5vdCB1c2VkIGJ5IHRoaXMgaW1wbGVtZW50YXRpb25cblxuLy8gVE9ETzogTGVnYWN5LCBub3QgbmVlZGVkIGFueW1vcmUuIFJlbW92ZSBpbiBuZXh0IG1ham9yIHZlcnNpb24uXG5CdWZmZXIuX2F1Z21lbnQgPSBmdW5jdGlvbiAoYXJyKSB7XG4gIGFyci5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIHJldHVybiBhcnJcbn1cblxuZnVuY3Rpb24gZnJvbSAodGhhdCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1widmFsdWVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBhIG51bWJlcicpXG4gIH1cblxuICBpZiAodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJiB2YWx1ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgcmV0dXJuIGZyb21BcnJheUJ1ZmZlcih0aGF0LCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gZnJvbVN0cmluZyh0aGF0LCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldClcbiAgfVxuXG4gIHJldHVybiBmcm9tT2JqZWN0KHRoYXQsIHZhbHVlKVxufVxuXG4vKipcbiAqIEZ1bmN0aW9uYWxseSBlcXVpdmFsZW50IHRvIEJ1ZmZlcihhcmcsIGVuY29kaW5nKSBidXQgdGhyb3dzIGEgVHlwZUVycm9yXG4gKiBpZiB2YWx1ZSBpcyBhIG51bWJlci5cbiAqIEJ1ZmZlci5mcm9tKHN0clssIGVuY29kaW5nXSlcbiAqIEJ1ZmZlci5mcm9tKGFycmF5KVxuICogQnVmZmVyLmZyb20oYnVmZmVyKVxuICogQnVmZmVyLmZyb20oYXJyYXlCdWZmZXJbLCBieXRlT2Zmc2V0WywgbGVuZ3RoXV0pXG4gKiovXG5CdWZmZXIuZnJvbSA9IGZ1bmN0aW9uICh2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBmcm9tKG51bGwsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG59XG5cbmlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICBCdWZmZXIucHJvdG90eXBlLl9fcHJvdG9fXyA9IFVpbnQ4QXJyYXkucHJvdG90eXBlXG4gIEJ1ZmZlci5fX3Byb3RvX18gPSBVaW50OEFycmF5XG4gIGlmICh0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wuc3BlY2llcyAmJlxuICAgICAgQnVmZmVyW1N5bWJvbC5zcGVjaWVzXSA9PT0gQnVmZmVyKSB7XG4gICAgLy8gRml4IHN1YmFycmF5KCkgaW4gRVMyMDE2LiBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyL3B1bGwvOTdcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQnVmZmVyLCBTeW1ib2wuc3BlY2llcywge1xuICAgICAgdmFsdWU6IG51bGwsXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KVxuICB9XG59XG5cbmZ1bmN0aW9uIGFzc2VydFNpemUgKHNpemUpIHtcbiAgaWYgKHR5cGVvZiBzaXplICE9PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wic2l6ZVwiIGFyZ3VtZW50IG11c3QgYmUgYSBudW1iZXInKVxuICB9IGVsc2UgaWYgKHNpemUgPCAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1wic2l6ZVwiIGFyZ3VtZW50IG11c3Qgbm90IGJlIG5lZ2F0aXZlJylcbiAgfVxufVxuXG5mdW5jdGlvbiBhbGxvYyAodGhhdCwgc2l6ZSwgZmlsbCwgZW5jb2RpbmcpIHtcbiAgYXNzZXJ0U2l6ZShzaXplKVxuICBpZiAoc2l6ZSA8PSAwKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplKVxuICB9XG4gIGlmIChmaWxsICE9PSB1bmRlZmluZWQpIHtcbiAgICAvLyBPbmx5IHBheSBhdHRlbnRpb24gdG8gZW5jb2RpbmcgaWYgaXQncyBhIHN0cmluZy4gVGhpc1xuICAgIC8vIHByZXZlbnRzIGFjY2lkZW50YWxseSBzZW5kaW5nIGluIGEgbnVtYmVyIHRoYXQgd291bGRcbiAgICAvLyBiZSBpbnRlcnByZXR0ZWQgYXMgYSBzdGFydCBvZmZzZXQuXG4gICAgcmV0dXJuIHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZydcbiAgICAgID8gY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUpLmZpbGwoZmlsbCwgZW5jb2RpbmcpXG4gICAgICA6IGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplKS5maWxsKGZpbGwpXG4gIH1cbiAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplKVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS5cbiAqIGFsbG9jKHNpemVbLCBmaWxsWywgZW5jb2RpbmddXSlcbiAqKi9cbkJ1ZmZlci5hbGxvYyA9IGZ1bmN0aW9uIChzaXplLCBmaWxsLCBlbmNvZGluZykge1xuICByZXR1cm4gYWxsb2MobnVsbCwgc2l6ZSwgZmlsbCwgZW5jb2RpbmcpXG59XG5cbmZ1bmN0aW9uIGFsbG9jVW5zYWZlICh0aGF0LCBzaXplKSB7XG4gIGFzc2VydFNpemUoc2l6ZSlcbiAgdGhhdCA9IGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplIDwgMCA/IDAgOiBjaGVja2VkKHNpemUpIHwgMClcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZTsgKytpKSB7XG4gICAgICB0aGF0W2ldID0gMFxuICAgIH1cbiAgfVxuICByZXR1cm4gdGhhdFxufVxuXG4vKipcbiAqIEVxdWl2YWxlbnQgdG8gQnVmZmVyKG51bSksIGJ5IGRlZmF1bHQgY3JlYXRlcyBhIG5vbi16ZXJvLWZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKiAqL1xuQnVmZmVyLmFsbG9jVW5zYWZlID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgcmV0dXJuIGFsbG9jVW5zYWZlKG51bGwsIHNpemUpXG59XG4vKipcbiAqIEVxdWl2YWxlbnQgdG8gU2xvd0J1ZmZlcihudW0pLCBieSBkZWZhdWx0IGNyZWF0ZXMgYSBub24temVyby1maWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICovXG5CdWZmZXIuYWxsb2NVbnNhZmVTbG93ID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgcmV0dXJuIGFsbG9jVW5zYWZlKG51bGwsIHNpemUpXG59XG5cbmZ1bmN0aW9uIGZyb21TdHJpbmcgKHRoYXQsIHN0cmluZywgZW5jb2RpbmcpIHtcbiAgaWYgKHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycgfHwgZW5jb2RpbmcgPT09ICcnKSB7XG4gICAgZW5jb2RpbmcgPSAndXRmOCdcbiAgfVxuXG4gIGlmICghQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJlbmNvZGluZ1wiIG11c3QgYmUgYSB2YWxpZCBzdHJpbmcgZW5jb2RpbmcnKVxuICB9XG5cbiAgdmFyIGxlbmd0aCA9IGJ5dGVMZW5ndGgoc3RyaW5nLCBlbmNvZGluZykgfCAwXG4gIHRoYXQgPSBjcmVhdGVCdWZmZXIodGhhdCwgbGVuZ3RoKVxuXG4gIHZhciBhY3R1YWwgPSB0aGF0LndyaXRlKHN0cmluZywgZW5jb2RpbmcpXG5cbiAgaWYgKGFjdHVhbCAhPT0gbGVuZ3RoKSB7XG4gICAgLy8gV3JpdGluZyBhIGhleCBzdHJpbmcsIGZvciBleGFtcGxlLCB0aGF0IGNvbnRhaW5zIGludmFsaWQgY2hhcmFjdGVycyB3aWxsXG4gICAgLy8gY2F1c2UgZXZlcnl0aGluZyBhZnRlciB0aGUgZmlyc3QgaW52YWxpZCBjaGFyYWN0ZXIgdG8gYmUgaWdub3JlZC4gKGUuZy5cbiAgICAvLyAnYWJ4eGNkJyB3aWxsIGJlIHRyZWF0ZWQgYXMgJ2FiJylcbiAgICB0aGF0ID0gdGhhdC5zbGljZSgwLCBhY3R1YWwpXG4gIH1cblxuICByZXR1cm4gdGhhdFxufVxuXG5mdW5jdGlvbiBmcm9tQXJyYXlMaWtlICh0aGF0LCBhcnJheSkge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoIDwgMCA/IDAgOiBjaGVja2VkKGFycmF5Lmxlbmd0aCkgfCAwXG4gIHRoYXQgPSBjcmVhdGVCdWZmZXIodGhhdCwgbGVuZ3RoKVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgdGhhdFtpXSA9IGFycmF5W2ldICYgMjU1XG4gIH1cbiAgcmV0dXJuIHRoYXRcbn1cblxuZnVuY3Rpb24gZnJvbUFycmF5QnVmZmVyICh0aGF0LCBhcnJheSwgYnl0ZU9mZnNldCwgbGVuZ3RoKSB7XG4gIGFycmF5LmJ5dGVMZW5ndGggLy8gdGhpcyB0aHJvd3MgaWYgYGFycmF5YCBpcyBub3QgYSB2YWxpZCBBcnJheUJ1ZmZlclxuXG4gIGlmIChieXRlT2Zmc2V0IDwgMCB8fCBhcnJheS5ieXRlTGVuZ3RoIDwgYnl0ZU9mZnNldCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcXCdvZmZzZXRcXCcgaXMgb3V0IG9mIGJvdW5kcycpXG4gIH1cblxuICBpZiAoYXJyYXkuYnl0ZUxlbmd0aCA8IGJ5dGVPZmZzZXQgKyAobGVuZ3RoIHx8IDApKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1xcJ2xlbmd0aFxcJyBpcyBvdXQgb2YgYm91bmRzJylcbiAgfVxuXG4gIGlmIChieXRlT2Zmc2V0ID09PSB1bmRlZmluZWQgJiYgbGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBhcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5KVxuICB9IGVsc2UgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheSwgYnl0ZU9mZnNldClcbiAgfSBlbHNlIHtcbiAgICBhcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5LCBieXRlT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICAvLyBSZXR1cm4gYW4gYXVnbWVudGVkIGBVaW50OEFycmF5YCBpbnN0YW5jZSwgZm9yIGJlc3QgcGVyZm9ybWFuY2VcbiAgICB0aGF0ID0gYXJyYXlcbiAgICB0aGF0Ll9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgfSBlbHNlIHtcbiAgICAvLyBGYWxsYmFjazogUmV0dXJuIGFuIG9iamVjdCBpbnN0YW5jZSBvZiB0aGUgQnVmZmVyIGNsYXNzXG4gICAgdGhhdCA9IGZyb21BcnJheUxpa2UodGhhdCwgYXJyYXkpXG4gIH1cbiAgcmV0dXJuIHRoYXRcbn1cblxuZnVuY3Rpb24gZnJvbU9iamVjdCAodGhhdCwgb2JqKSB7XG4gIGlmIChCdWZmZXIuaXNCdWZmZXIob2JqKSkge1xuICAgIHZhciBsZW4gPSBjaGVja2VkKG9iai5sZW5ndGgpIHwgMFxuICAgIHRoYXQgPSBjcmVhdGVCdWZmZXIodGhhdCwgbGVuKVxuXG4gICAgaWYgKHRoYXQubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhhdFxuICAgIH1cblxuICAgIG9iai5jb3B5KHRoYXQsIDAsIDAsIGxlbilcbiAgICByZXR1cm4gdGhhdFxuICB9XG5cbiAgaWYgKG9iaikge1xuICAgIGlmICgodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICBvYmouYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHx8ICdsZW5ndGgnIGluIG9iaikge1xuICAgICAgaWYgKHR5cGVvZiBvYmoubGVuZ3RoICE9PSAnbnVtYmVyJyB8fCBpc25hbihvYmoubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlQnVmZmVyKHRoYXQsIDApXG4gICAgICB9XG4gICAgICByZXR1cm4gZnJvbUFycmF5TGlrZSh0aGF0LCBvYmopXG4gICAgfVxuXG4gICAgaWYgKG9iai50eXBlID09PSAnQnVmZmVyJyAmJiBpc0FycmF5KG9iai5kYXRhKSkge1xuICAgICAgcmV0dXJuIGZyb21BcnJheUxpa2UodGhhdCwgb2JqLmRhdGEpXG4gICAgfVxuICB9XG5cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcignRmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksIG9yIGFycmF5LWxpa2Ugb2JqZWN0LicpXG59XG5cbmZ1bmN0aW9uIGNoZWNrZWQgKGxlbmd0aCkge1xuICAvLyBOb3RlOiBjYW5ub3QgdXNlIGBsZW5ndGggPCBrTWF4TGVuZ3RoKClgIGhlcmUgYmVjYXVzZSB0aGF0IGZhaWxzIHdoZW5cbiAgLy8gbGVuZ3RoIGlzIE5hTiAod2hpY2ggaXMgb3RoZXJ3aXNlIGNvZXJjZWQgdG8gemVyby4pXG4gIGlmIChsZW5ndGggPj0ga01heExlbmd0aCgpKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0F0dGVtcHQgdG8gYWxsb2NhdGUgQnVmZmVyIGxhcmdlciB0aGFuIG1heGltdW0gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgJ3NpemU6IDB4JyArIGtNYXhMZW5ndGgoKS50b1N0cmluZygxNikgKyAnIGJ5dGVzJylcbiAgfVxuICByZXR1cm4gbGVuZ3RoIHwgMFxufVxuXG5mdW5jdGlvbiBTbG93QnVmZmVyIChsZW5ndGgpIHtcbiAgaWYgKCtsZW5ndGggIT0gbGVuZ3RoKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZXFlcWVxXG4gICAgbGVuZ3RoID0gMFxuICB9XG4gIHJldHVybiBCdWZmZXIuYWxsb2MoK2xlbmd0aClcbn1cblxuQnVmZmVyLmlzQnVmZmVyID0gZnVuY3Rpb24gaXNCdWZmZXIgKGIpIHtcbiAgcmV0dXJuICEhKGIgIT0gbnVsbCAmJiBiLl9pc0J1ZmZlcilcbn1cblxuQnVmZmVyLmNvbXBhcmUgPSBmdW5jdGlvbiBjb21wYXJlIChhLCBiKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGEpIHx8ICFCdWZmZXIuaXNCdWZmZXIoYikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudHMgbXVzdCBiZSBCdWZmZXJzJylcbiAgfVxuXG4gIGlmIChhID09PSBiKSByZXR1cm4gMFxuXG4gIHZhciB4ID0gYS5sZW5ndGhcbiAgdmFyIHkgPSBiLmxlbmd0aFxuXG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBNYXRoLm1pbih4LCB5KTsgaSA8IGxlbjsgKytpKSB7XG4gICAgaWYgKGFbaV0gIT09IGJbaV0pIHtcbiAgICAgIHggPSBhW2ldXG4gICAgICB5ID0gYltpXVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICBpZiAoeCA8IHkpIHJldHVybiAtMVxuICBpZiAoeSA8IHgpIHJldHVybiAxXG4gIHJldHVybiAwXG59XG5cbkJ1ZmZlci5pc0VuY29kaW5nID0gZnVuY3Rpb24gaXNFbmNvZGluZyAoZW5jb2RpbmcpIHtcbiAgc3dpdGNoIChTdHJpbmcoZW5jb2RpbmcpLnRvTG93ZXJDYXNlKCkpIHtcbiAgICBjYXNlICdoZXgnOlxuICAgIGNhc2UgJ3V0ZjgnOlxuICAgIGNhc2UgJ3V0Zi04JzpcbiAgICBjYXNlICdhc2NpaSc6XG4gICAgY2FzZSAnbGF0aW4xJzpcbiAgICBjYXNlICdiaW5hcnknOlxuICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgY2FzZSAndWNzMic6XG4gICAgY2FzZSAndWNzLTInOlxuICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgIHJldHVybiB0cnVlXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbkJ1ZmZlci5jb25jYXQgPSBmdW5jdGlvbiBjb25jYXQgKGxpc3QsIGxlbmd0aCkge1xuICBpZiAoIWlzQXJyYXkobGlzdCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKVxuICB9XG5cbiAgaWYgKGxpc3QubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIEJ1ZmZlci5hbGxvYygwKVxuICB9XG5cbiAgdmFyIGlcbiAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbGVuZ3RoID0gMFxuICAgIGZvciAoaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgKytpKSB7XG4gICAgICBsZW5ndGggKz0gbGlzdFtpXS5sZW5ndGhcbiAgICB9XG4gIH1cblxuICB2YXIgYnVmZmVyID0gQnVmZmVyLmFsbG9jVW5zYWZlKGxlbmd0aClcbiAgdmFyIHBvcyA9IDBcbiAgZm9yIChpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyArK2kpIHtcbiAgICB2YXIgYnVmID0gbGlzdFtpXVxuICAgIGlmICghQnVmZmVyLmlzQnVmZmVyKGJ1ZikpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpXG4gICAgfVxuICAgIGJ1Zi5jb3B5KGJ1ZmZlciwgcG9zKVxuICAgIHBvcyArPSBidWYubGVuZ3RoXG4gIH1cbiAgcmV0dXJuIGJ1ZmZlclxufVxuXG5mdW5jdGlvbiBieXRlTGVuZ3RoIChzdHJpbmcsIGVuY29kaW5nKSB7XG4gIGlmIChCdWZmZXIuaXNCdWZmZXIoc3RyaW5nKSkge1xuICAgIHJldHVybiBzdHJpbmcubGVuZ3RoXG4gIH1cbiAgaWYgKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIEFycmF5QnVmZmVyLmlzVmlldyA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgKEFycmF5QnVmZmVyLmlzVmlldyhzdHJpbmcpIHx8IHN0cmluZyBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSkge1xuICAgIHJldHVybiBzdHJpbmcuYnl0ZUxlbmd0aFxuICB9XG4gIGlmICh0eXBlb2Ygc3RyaW5nICE9PSAnc3RyaW5nJykge1xuICAgIHN0cmluZyA9ICcnICsgc3RyaW5nXG4gIH1cblxuICB2YXIgbGVuID0gc3RyaW5nLmxlbmd0aFxuICBpZiAobGVuID09PSAwKSByZXR1cm4gMFxuXG4gIC8vIFVzZSBhIGZvciBsb29wIHRvIGF2b2lkIHJlY3Vyc2lvblxuICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuICBmb3IgKDs7KSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsZW5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgY2FzZSB1bmRlZmluZWQ6XG4gICAgICAgIHJldHVybiB1dGY4VG9CeXRlcyhzdHJpbmcpLmxlbmd0aFxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIGxlbiAqIDJcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHJldHVybiBsZW4gPj4+IDFcbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIHJldHVybiBiYXNlNjRUb0J5dGVzKHN0cmluZykubGVuZ3RoXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHJldHVybiB1dGY4VG9CeXRlcyhzdHJpbmcpLmxlbmd0aCAvLyBhc3N1bWUgdXRmOFxuICAgICAgICBlbmNvZGluZyA9ICgnJyArIGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuQnVmZmVyLmJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoXG5cbmZ1bmN0aW9uIHNsb3dUb1N0cmluZyAoZW5jb2RpbmcsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxvd2VyZWRDYXNlID0gZmFsc2VcblxuICAvLyBObyBuZWVkIHRvIHZlcmlmeSB0aGF0IFwidGhpcy5sZW5ndGggPD0gTUFYX1VJTlQzMlwiIHNpbmNlIGl0J3MgYSByZWFkLW9ubHlcbiAgLy8gcHJvcGVydHkgb2YgYSB0eXBlZCBhcnJheS5cblxuICAvLyBUaGlzIGJlaGF2ZXMgbmVpdGhlciBsaWtlIFN0cmluZyBub3IgVWludDhBcnJheSBpbiB0aGF0IHdlIHNldCBzdGFydC9lbmRcbiAgLy8gdG8gdGhlaXIgdXBwZXIvbG93ZXIgYm91bmRzIGlmIHRoZSB2YWx1ZSBwYXNzZWQgaXMgb3V0IG9mIHJhbmdlLlxuICAvLyB1bmRlZmluZWQgaXMgaGFuZGxlZCBzcGVjaWFsbHkgYXMgcGVyIEVDTUEtMjYyIDZ0aCBFZGl0aW9uLFxuICAvLyBTZWN0aW9uIDEzLjMuMy43IFJ1bnRpbWUgU2VtYW50aWNzOiBLZXllZEJpbmRpbmdJbml0aWFsaXphdGlvbi5cbiAgaWYgKHN0YXJ0ID09PSB1bmRlZmluZWQgfHwgc3RhcnQgPCAwKSB7XG4gICAgc3RhcnQgPSAwXG4gIH1cbiAgLy8gUmV0dXJuIGVhcmx5IGlmIHN0YXJ0ID4gdGhpcy5sZW5ndGguIERvbmUgaGVyZSB0byBwcmV2ZW50IHBvdGVudGlhbCB1aW50MzJcbiAgLy8gY29lcmNpb24gZmFpbCBiZWxvdy5cbiAgaWYgKHN0YXJ0ID4gdGhpcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIGlmIChlbmQgPT09IHVuZGVmaW5lZCB8fCBlbmQgPiB0aGlzLmxlbmd0aCkge1xuICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gIH1cblxuICBpZiAoZW5kIDw9IDApIHtcbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIC8vIEZvcmNlIGNvZXJzaW9uIHRvIHVpbnQzMi4gVGhpcyB3aWxsIGFsc28gY29lcmNlIGZhbHNleS9OYU4gdmFsdWVzIHRvIDAuXG4gIGVuZCA+Pj49IDBcbiAgc3RhcnQgPj4+PSAwXG5cbiAgaWYgKGVuZCA8PSBzdGFydCkge1xuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgaWYgKCFlbmNvZGluZykgZW5jb2RpbmcgPSAndXRmOCdcblxuICB3aGlsZSAodHJ1ZSkge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHJldHVybiBoZXhTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgICAgcmV0dXJuIHV0ZjhTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICAgIHJldHVybiBhc2NpaVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gbGF0aW4xU2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgICAgcmV0dXJuIGJhc2U2NFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiB1dGYxNmxlU2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgICAgIGVuY29kaW5nID0gKGVuY29kaW5nICsgJycpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgbG93ZXJlZENhc2UgPSB0cnVlXG4gICAgfVxuICB9XG59XG5cbi8vIFRoZSBwcm9wZXJ0eSBpcyB1c2VkIGJ5IGBCdWZmZXIuaXNCdWZmZXJgIGFuZCBgaXMtYnVmZmVyYCAoaW4gU2FmYXJpIDUtNykgdG8gZGV0ZWN0XG4vLyBCdWZmZXIgaW5zdGFuY2VzLlxuQnVmZmVyLnByb3RvdHlwZS5faXNCdWZmZXIgPSB0cnVlXG5cbmZ1bmN0aW9uIHN3YXAgKGIsIG4sIG0pIHtcbiAgdmFyIGkgPSBiW25dXG4gIGJbbl0gPSBiW21dXG4gIGJbbV0gPSBpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDE2ID0gZnVuY3Rpb24gc3dhcDE2ICgpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW4gJSAyICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAxNi1iaXRzJylcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSAyKSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgMSlcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnN3YXAzMiA9IGZ1bmN0aW9uIHN3YXAzMiAoKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuICUgNCAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMzItYml0cycpXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDMpXG4gICAgc3dhcCh0aGlzLCBpICsgMSwgaSArIDIpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwNjQgPSBmdW5jdGlvbiBzd2FwNjQgKCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDggIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDY0LWJpdHMnKVxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDgpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyA3KVxuICAgIHN3YXAodGhpcywgaSArIDEsIGkgKyA2KVxuICAgIHN3YXAodGhpcywgaSArIDIsIGkgKyA1KVxuICAgIHN3YXAodGhpcywgaSArIDMsIGkgKyA0KVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyAoKSB7XG4gIHZhciBsZW5ndGggPSB0aGlzLmxlbmd0aCB8IDBcbiAgaWYgKGxlbmd0aCA9PT0gMCkgcmV0dXJuICcnXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSByZXR1cm4gdXRmOFNsaWNlKHRoaXMsIDAsIGxlbmd0aClcbiAgcmV0dXJuIHNsb3dUb1N0cmluZy5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzIChiKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyJylcbiAgaWYgKHRoaXMgPT09IGIpIHJldHVybiB0cnVlXG4gIHJldHVybiBCdWZmZXIuY29tcGFyZSh0aGlzLCBiKSA9PT0gMFxufVxuXG5CdWZmZXIucHJvdG90eXBlLmluc3BlY3QgPSBmdW5jdGlvbiBpbnNwZWN0ICgpIHtcbiAgdmFyIHN0ciA9ICcnXG4gIHZhciBtYXggPSBleHBvcnRzLklOU1BFQ1RfTUFYX0JZVEVTXG4gIGlmICh0aGlzLmxlbmd0aCA+IDApIHtcbiAgICBzdHIgPSB0aGlzLnRvU3RyaW5nKCdoZXgnLCAwLCBtYXgpLm1hdGNoKC8uezJ9L2cpLmpvaW4oJyAnKVxuICAgIGlmICh0aGlzLmxlbmd0aCA+IG1heCkgc3RyICs9ICcgLi4uICdcbiAgfVxuICByZXR1cm4gJzxCdWZmZXIgJyArIHN0ciArICc+J1xufVxuXG5CdWZmZXIucHJvdG90eXBlLmNvbXBhcmUgPSBmdW5jdGlvbiBjb21wYXJlICh0YXJnZXQsIHN0YXJ0LCBlbmQsIHRoaXNTdGFydCwgdGhpc0VuZCkge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcih0YXJnZXQpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlcicpXG4gIH1cblxuICBpZiAoc3RhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgIHN0YXJ0ID0gMFxuICB9XG4gIGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuICAgIGVuZCA9IHRhcmdldCA/IHRhcmdldC5sZW5ndGggOiAwXG4gIH1cbiAgaWYgKHRoaXNTdGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpc1N0YXJ0ID0gMFxuICB9XG4gIGlmICh0aGlzRW5kID09PSB1bmRlZmluZWQpIHtcbiAgICB0aGlzRW5kID0gdGhpcy5sZW5ndGhcbiAgfVxuXG4gIGlmIChzdGFydCA8IDAgfHwgZW5kID4gdGFyZ2V0Lmxlbmd0aCB8fCB0aGlzU3RhcnQgPCAwIHx8IHRoaXNFbmQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdvdXQgb2YgcmFuZ2UgaW5kZXgnKVxuICB9XG5cbiAgaWYgKHRoaXNTdGFydCA+PSB0aGlzRW5kICYmIHN0YXJ0ID49IGVuZCkge1xuICAgIHJldHVybiAwXG4gIH1cbiAgaWYgKHRoaXNTdGFydCA+PSB0aGlzRW5kKSB7XG4gICAgcmV0dXJuIC0xXG4gIH1cbiAgaWYgKHN0YXJ0ID49IGVuZCkge1xuICAgIHJldHVybiAxXG4gIH1cblxuICBzdGFydCA+Pj49IDBcbiAgZW5kID4+Pj0gMFxuICB0aGlzU3RhcnQgPj4+PSAwXG4gIHRoaXNFbmQgPj4+PSAwXG5cbiAgaWYgKHRoaXMgPT09IHRhcmdldCkgcmV0dXJuIDBcblxuICB2YXIgeCA9IHRoaXNFbmQgLSB0aGlzU3RhcnRcbiAgdmFyIHkgPSBlbmQgLSBzdGFydFxuICB2YXIgbGVuID0gTWF0aC5taW4oeCwgeSlcblxuICB2YXIgdGhpc0NvcHkgPSB0aGlzLnNsaWNlKHRoaXNTdGFydCwgdGhpc0VuZClcbiAgdmFyIHRhcmdldENvcHkgPSB0YXJnZXQuc2xpY2Uoc3RhcnQsIGVuZClcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgaWYgKHRoaXNDb3B5W2ldICE9PSB0YXJnZXRDb3B5W2ldKSB7XG4gICAgICB4ID0gdGhpc0NvcHlbaV1cbiAgICAgIHkgPSB0YXJnZXRDb3B5W2ldXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIGlmICh4IDwgeSkgcmV0dXJuIC0xXG4gIGlmICh5IDwgeCkgcmV0dXJuIDFcbiAgcmV0dXJuIDBcbn1cblxuLy8gRmluZHMgZWl0aGVyIHRoZSBmaXJzdCBpbmRleCBvZiBgdmFsYCBpbiBgYnVmZmVyYCBhdCBvZmZzZXQgPj0gYGJ5dGVPZmZzZXRgLFxuLy8gT1IgdGhlIGxhc3QgaW5kZXggb2YgYHZhbGAgaW4gYGJ1ZmZlcmAgYXQgb2Zmc2V0IDw9IGBieXRlT2Zmc2V0YC5cbi8vXG4vLyBBcmd1bWVudHM6XG4vLyAtIGJ1ZmZlciAtIGEgQnVmZmVyIHRvIHNlYXJjaFxuLy8gLSB2YWwgLSBhIHN0cmluZywgQnVmZmVyLCBvciBudW1iZXJcbi8vIC0gYnl0ZU9mZnNldCAtIGFuIGluZGV4IGludG8gYGJ1ZmZlcmA7IHdpbGwgYmUgY2xhbXBlZCB0byBhbiBpbnQzMlxuLy8gLSBlbmNvZGluZyAtIGFuIG9wdGlvbmFsIGVuY29kaW5nLCByZWxldmFudCBpcyB2YWwgaXMgYSBzdHJpbmdcbi8vIC0gZGlyIC0gdHJ1ZSBmb3IgaW5kZXhPZiwgZmFsc2UgZm9yIGxhc3RJbmRleE9mXG5mdW5jdGlvbiBiaWRpcmVjdGlvbmFsSW5kZXhPZiAoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpIHtcbiAgLy8gRW1wdHkgYnVmZmVyIG1lYW5zIG5vIG1hdGNoXG4gIGlmIChidWZmZXIubGVuZ3RoID09PSAwKSByZXR1cm4gLTFcblxuICAvLyBOb3JtYWxpemUgYnl0ZU9mZnNldFxuICBpZiAodHlwZW9mIGJ5dGVPZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgZW5jb2RpbmcgPSBieXRlT2Zmc2V0XG4gICAgYnl0ZU9mZnNldCA9IDBcbiAgfSBlbHNlIGlmIChieXRlT2Zmc2V0ID4gMHg3ZmZmZmZmZikge1xuICAgIGJ5dGVPZmZzZXQgPSAweDdmZmZmZmZmXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA8IC0weDgwMDAwMDAwKSB7XG4gICAgYnl0ZU9mZnNldCA9IC0weDgwMDAwMDAwXG4gIH1cbiAgYnl0ZU9mZnNldCA9ICtieXRlT2Zmc2V0ICAvLyBDb2VyY2UgdG8gTnVtYmVyLlxuICBpZiAoaXNOYU4oYnl0ZU9mZnNldCkpIHtcbiAgICAvLyBieXRlT2Zmc2V0OiBpdCBpdCdzIHVuZGVmaW5lZCwgbnVsbCwgTmFOLCBcImZvb1wiLCBldGMsIHNlYXJjaCB3aG9sZSBidWZmZXJcbiAgICBieXRlT2Zmc2V0ID0gZGlyID8gMCA6IChidWZmZXIubGVuZ3RoIC0gMSlcbiAgfVxuXG4gIC8vIE5vcm1hbGl6ZSBieXRlT2Zmc2V0OiBuZWdhdGl2ZSBvZmZzZXRzIHN0YXJ0IGZyb20gdGhlIGVuZCBvZiB0aGUgYnVmZmVyXG4gIGlmIChieXRlT2Zmc2V0IDwgMCkgYnl0ZU9mZnNldCA9IGJ1ZmZlci5sZW5ndGggKyBieXRlT2Zmc2V0XG4gIGlmIChieXRlT2Zmc2V0ID49IGJ1ZmZlci5sZW5ndGgpIHtcbiAgICBpZiAoZGlyKSByZXR1cm4gLTFcbiAgICBlbHNlIGJ5dGVPZmZzZXQgPSBidWZmZXIubGVuZ3RoIC0gMVxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPCAwKSB7XG4gICAgaWYgKGRpcikgYnl0ZU9mZnNldCA9IDBcbiAgICBlbHNlIHJldHVybiAtMVxuICB9XG5cbiAgLy8gTm9ybWFsaXplIHZhbFxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICB2YWwgPSBCdWZmZXIuZnJvbSh2YWwsIGVuY29kaW5nKVxuICB9XG5cbiAgLy8gRmluYWxseSwgc2VhcmNoIGVpdGhlciBpbmRleE9mIChpZiBkaXIgaXMgdHJ1ZSkgb3IgbGFzdEluZGV4T2ZcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcih2YWwpKSB7XG4gICAgLy8gU3BlY2lhbCBjYXNlOiBsb29raW5nIGZvciBlbXB0eSBzdHJpbmcvYnVmZmVyIGFsd2F5cyBmYWlsc1xuICAgIGlmICh2YWwubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gLTFcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5SW5kZXhPZihidWZmZXIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcilcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIHZhbCA9IHZhbCAmIDB4RkYgLy8gU2VhcmNoIGZvciBhIGJ5dGUgdmFsdWUgWzAtMjU1XVxuICAgIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCAmJlxuICAgICAgICB0eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaWYgKGRpcikge1xuICAgICAgICByZXR1cm4gVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mLmNhbGwoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQpXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnJheUluZGV4T2YoYnVmZmVyLCBbIHZhbCBdLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKVxuICB9XG5cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcigndmFsIG11c3QgYmUgc3RyaW5nLCBudW1iZXIgb3IgQnVmZmVyJylcbn1cblxuZnVuY3Rpb24gYXJyYXlJbmRleE9mIChhcnIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcikge1xuICB2YXIgaW5kZXhTaXplID0gMVxuICB2YXIgYXJyTGVuZ3RoID0gYXJyLmxlbmd0aFxuICB2YXIgdmFsTGVuZ3RoID0gdmFsLmxlbmd0aFxuXG4gIGlmIChlbmNvZGluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZW5jb2RpbmcgPSBTdHJpbmcoZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICBpZiAoZW5jb2RpbmcgPT09ICd1Y3MyJyB8fCBlbmNvZGluZyA9PT0gJ3Vjcy0yJyB8fFxuICAgICAgICBlbmNvZGluZyA9PT0gJ3V0ZjE2bGUnIHx8IGVuY29kaW5nID09PSAndXRmLTE2bGUnKSB7XG4gICAgICBpZiAoYXJyLmxlbmd0aCA8IDIgfHwgdmFsLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIC0xXG4gICAgICB9XG4gICAgICBpbmRleFNpemUgPSAyXG4gICAgICBhcnJMZW5ndGggLz0gMlxuICAgICAgdmFsTGVuZ3RoIC89IDJcbiAgICAgIGJ5dGVPZmZzZXQgLz0gMlxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWQgKGJ1ZiwgaSkge1xuICAgIGlmIChpbmRleFNpemUgPT09IDEpIHtcbiAgICAgIHJldHVybiBidWZbaV1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGJ1Zi5yZWFkVUludDE2QkUoaSAqIGluZGV4U2l6ZSlcbiAgICB9XG4gIH1cblxuICB2YXIgaVxuICBpZiAoZGlyKSB7XG4gICAgdmFyIGZvdW5kSW5kZXggPSAtMVxuICAgIGZvciAoaSA9IGJ5dGVPZmZzZXQ7IGkgPCBhcnJMZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHJlYWQoYXJyLCBpKSA9PT0gcmVhZCh2YWwsIGZvdW5kSW5kZXggPT09IC0xID8gMCA6IGkgLSBmb3VuZEluZGV4KSkge1xuICAgICAgICBpZiAoZm91bmRJbmRleCA9PT0gLTEpIGZvdW5kSW5kZXggPSBpXG4gICAgICAgIGlmIChpIC0gZm91bmRJbmRleCArIDEgPT09IHZhbExlbmd0aCkgcmV0dXJuIGZvdW5kSW5kZXggKiBpbmRleFNpemVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChmb3VuZEluZGV4ICE9PSAtMSkgaSAtPSBpIC0gZm91bmRJbmRleFxuICAgICAgICBmb3VuZEluZGV4ID0gLTFcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGJ5dGVPZmZzZXQgKyB2YWxMZW5ndGggPiBhcnJMZW5ndGgpIGJ5dGVPZmZzZXQgPSBhcnJMZW5ndGggLSB2YWxMZW5ndGhcbiAgICBmb3IgKGkgPSBieXRlT2Zmc2V0OyBpID49IDA7IGktLSkge1xuICAgICAgdmFyIGZvdW5kID0gdHJ1ZVxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB2YWxMZW5ndGg7IGorKykge1xuICAgICAgICBpZiAocmVhZChhcnIsIGkgKyBqKSAhPT0gcmVhZCh2YWwsIGopKSB7XG4gICAgICAgICAgZm91bmQgPSBmYWxzZVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChmb3VuZCkgcmV0dXJuIGlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gLTFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbmNsdWRlcyA9IGZ1bmN0aW9uIGluY2x1ZGVzICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiB0aGlzLmluZGV4T2YodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykgIT09IC0xXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uIGluZGV4T2YgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGJpZGlyZWN0aW9uYWxJbmRleE9mKHRoaXMsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIHRydWUpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUubGFzdEluZGV4T2YgPSBmdW5jdGlvbiBsYXN0SW5kZXhPZiAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gYmlkaXJlY3Rpb25hbEluZGV4T2YodGhpcywgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZmFsc2UpXG59XG5cbmZ1bmN0aW9uIGhleFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgb2Zmc2V0ID0gTnVtYmVyKG9mZnNldCkgfHwgMFxuICB2YXIgcmVtYWluaW5nID0gYnVmLmxlbmd0aCAtIG9mZnNldFxuICBpZiAoIWxlbmd0aCkge1xuICAgIGxlbmd0aCA9IHJlbWFpbmluZ1xuICB9IGVsc2Uge1xuICAgIGxlbmd0aCA9IE51bWJlcihsZW5ndGgpXG4gICAgaWYgKGxlbmd0aCA+IHJlbWFpbmluZykge1xuICAgICAgbGVuZ3RoID0gcmVtYWluaW5nXG4gICAgfVxuICB9XG5cbiAgLy8gbXVzdCBiZSBhbiBldmVuIG51bWJlciBvZiBkaWdpdHNcbiAgdmFyIHN0ckxlbiA9IHN0cmluZy5sZW5ndGhcbiAgaWYgKHN0ckxlbiAlIDIgIT09IDApIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgaGV4IHN0cmluZycpXG5cbiAgaWYgKGxlbmd0aCA+IHN0ckxlbiAvIDIpIHtcbiAgICBsZW5ndGggPSBzdHJMZW4gLyAyXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIHZhciBwYXJzZWQgPSBwYXJzZUludChzdHJpbmcuc3Vic3RyKGkgKiAyLCAyKSwgMTYpXG4gICAgaWYgKGlzTmFOKHBhcnNlZCkpIHJldHVybiBpXG4gICAgYnVmW29mZnNldCArIGldID0gcGFyc2VkXG4gIH1cbiAgcmV0dXJuIGlcbn1cblxuZnVuY3Rpb24gdXRmOFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIodXRmOFRvQnl0ZXMoc3RyaW5nLCBidWYubGVuZ3RoIC0gb2Zmc2V0KSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gYXNjaWlXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKGFzY2lpVG9CeXRlcyhzdHJpbmcpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBsYXRpbjFXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBhc2NpaVdyaXRlKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gYmFzZTY0V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcihiYXNlNjRUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIHVjczJXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKHV0ZjE2bGVUb0J5dGVzKHN0cmluZywgYnVmLmxlbmd0aCAtIG9mZnNldCksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiB3cml0ZSAoc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCwgZW5jb2RpbmcpIHtcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZylcbiAgaWYgKG9mZnNldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZW5jb2RpbmcgPSAndXRmOCdcbiAgICBsZW5ndGggPSB0aGlzLmxlbmd0aFxuICAgIG9mZnNldCA9IDBcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZywgZW5jb2RpbmcpXG4gIH0gZWxzZSBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIG9mZnNldCA9PT0gJ3N0cmluZycpIHtcbiAgICBlbmNvZGluZyA9IG9mZnNldFxuICAgIGxlbmd0aCA9IHRoaXMubGVuZ3RoXG4gICAgb2Zmc2V0ID0gMFxuICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nLCBvZmZzZXRbLCBsZW5ndGhdWywgZW5jb2RpbmddKVxuICB9IGVsc2UgaWYgKGlzRmluaXRlKG9mZnNldCkpIHtcbiAgICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gICAgaWYgKGlzRmluaXRlKGxlbmd0aCkpIHtcbiAgICAgIGxlbmd0aCA9IGxlbmd0aCB8IDBcbiAgICAgIGlmIChlbmNvZGluZyA9PT0gdW5kZWZpbmVkKSBlbmNvZGluZyA9ICd1dGY4J1xuICAgIH0gZWxzZSB7XG4gICAgICBlbmNvZGluZyA9IGxlbmd0aFxuICAgICAgbGVuZ3RoID0gdW5kZWZpbmVkXG4gICAgfVxuICAvLyBsZWdhY3kgd3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0LCBsZW5ndGgpIC0gcmVtb3ZlIGluIHYwLjEzXG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ0J1ZmZlci53cml0ZShzdHJpbmcsIGVuY29kaW5nLCBvZmZzZXRbLCBsZW5ndGhdKSBpcyBubyBsb25nZXIgc3VwcG9ydGVkJ1xuICAgIClcbiAgfVxuXG4gIHZhciByZW1haW5pbmcgPSB0aGlzLmxlbmd0aCAtIG9mZnNldFxuICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQgfHwgbGVuZ3RoID4gcmVtYWluaW5nKSBsZW5ndGggPSByZW1haW5pbmdcblxuICBpZiAoKHN0cmluZy5sZW5ndGggPiAwICYmIChsZW5ndGggPCAwIHx8IG9mZnNldCA8IDApKSB8fCBvZmZzZXQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdBdHRlbXB0IHRvIHdyaXRlIG91dHNpZGUgYnVmZmVyIGJvdW5kcycpXG4gIH1cblxuICBpZiAoIWVuY29kaW5nKSBlbmNvZGluZyA9ICd1dGY4J1xuXG4gIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlXG4gIGZvciAoOzspIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gaGV4V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiB1dGY4V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgICByZXR1cm4gYXNjaWlXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGxhdGluMVdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIC8vIFdhcm5pbmc6IG1heExlbmd0aCBub3QgdGFrZW4gaW50byBhY2NvdW50IGluIGJhc2U2NFdyaXRlXG4gICAgICAgIHJldHVybiBiYXNlNjRXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gdWNzMldyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgICAgICBlbmNvZGluZyA9ICgnJyArIGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTiAoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ0J1ZmZlcicsXG4gICAgZGF0YTogQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5fYXJyIHx8IHRoaXMsIDApXG4gIH1cbn1cblxuZnVuY3Rpb24gYmFzZTY0U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBpZiAoc3RhcnQgPT09IDAgJiYgZW5kID09PSBidWYubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGJhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1ZilcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYmFzZTY0LmZyb21CeXRlQXJyYXkoYnVmLnNsaWNlKHN0YXJ0LCBlbmQpKVxuICB9XG59XG5cbmZ1bmN0aW9uIHV0ZjhTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcbiAgdmFyIHJlcyA9IFtdXG5cbiAgdmFyIGkgPSBzdGFydFxuICB3aGlsZSAoaSA8IGVuZCkge1xuICAgIHZhciBmaXJzdEJ5dGUgPSBidWZbaV1cbiAgICB2YXIgY29kZVBvaW50ID0gbnVsbFxuICAgIHZhciBieXRlc1BlclNlcXVlbmNlID0gKGZpcnN0Qnl0ZSA+IDB4RUYpID8gNFxuICAgICAgOiAoZmlyc3RCeXRlID4gMHhERikgPyAzXG4gICAgICA6IChmaXJzdEJ5dGUgPiAweEJGKSA/IDJcbiAgICAgIDogMVxuXG4gICAgaWYgKGkgKyBieXRlc1BlclNlcXVlbmNlIDw9IGVuZCkge1xuICAgICAgdmFyIHNlY29uZEJ5dGUsIHRoaXJkQnl0ZSwgZm91cnRoQnl0ZSwgdGVtcENvZGVQb2ludFxuXG4gICAgICBzd2l0Y2ggKGJ5dGVzUGVyU2VxdWVuY2UpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIGlmIChmaXJzdEJ5dGUgPCAweDgwKSB7XG4gICAgICAgICAgICBjb2RlUG9pbnQgPSBmaXJzdEJ5dGVcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdXG4gICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHgxRikgPDwgMHg2IHwgKHNlY29uZEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweDdGKSB7XG4gICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdXG4gICAgICAgICAgdGhpcmRCeXRlID0gYnVmW2kgKyAyXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwICYmICh0aGlyZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweEYpIDw8IDB4QyB8IChzZWNvbmRCeXRlICYgMHgzRikgPDwgMHg2IHwgKHRoaXJkQnl0ZSAmIDB4M0YpXG4gICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4N0ZGICYmICh0ZW1wQ29kZVBvaW50IDwgMHhEODAwIHx8IHRlbXBDb2RlUG9pbnQgPiAweERGRkYpKSB7XG4gICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdXG4gICAgICAgICAgdGhpcmRCeXRlID0gYnVmW2kgKyAyXVxuICAgICAgICAgIGZvdXJ0aEJ5dGUgPSBidWZbaSArIDNdXG4gICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKHRoaXJkQnl0ZSAmIDB4QzApID09PSAweDgwICYmIChmb3VydGhCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHhGKSA8PCAweDEyIHwgKHNlY29uZEJ5dGUgJiAweDNGKSA8PCAweEMgfCAodGhpcmRCeXRlICYgMHgzRikgPDwgMHg2IHwgKGZvdXJ0aEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweEZGRkYgJiYgdGVtcENvZGVQb2ludCA8IDB4MTEwMDAwKSB7XG4gICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNvZGVQb2ludCA9PT0gbnVsbCkge1xuICAgICAgLy8gd2UgZGlkIG5vdCBnZW5lcmF0ZSBhIHZhbGlkIGNvZGVQb2ludCBzbyBpbnNlcnQgYVxuICAgICAgLy8gcmVwbGFjZW1lbnQgY2hhciAoVStGRkZEKSBhbmQgYWR2YW5jZSBvbmx5IDEgYnl0ZVxuICAgICAgY29kZVBvaW50ID0gMHhGRkZEXG4gICAgICBieXRlc1BlclNlcXVlbmNlID0gMVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50ID4gMHhGRkZGKSB7XG4gICAgICAvLyBlbmNvZGUgdG8gdXRmMTYgKHN1cnJvZ2F0ZSBwYWlyIGRhbmNlKVxuICAgICAgY29kZVBvaW50IC09IDB4MTAwMDBcbiAgICAgIHJlcy5wdXNoKGNvZGVQb2ludCA+Pj4gMTAgJiAweDNGRiB8IDB4RDgwMClcbiAgICAgIGNvZGVQb2ludCA9IDB4REMwMCB8IGNvZGVQb2ludCAmIDB4M0ZGXG4gICAgfVxuXG4gICAgcmVzLnB1c2goY29kZVBvaW50KVxuICAgIGkgKz0gYnl0ZXNQZXJTZXF1ZW5jZVxuICB9XG5cbiAgcmV0dXJuIGRlY29kZUNvZGVQb2ludHNBcnJheShyZXMpXG59XG5cbi8vIEJhc2VkIG9uIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIyNzQ3MjcyLzY4MDc0MiwgdGhlIGJyb3dzZXIgd2l0aFxuLy8gdGhlIGxvd2VzdCBsaW1pdCBpcyBDaHJvbWUsIHdpdGggMHgxMDAwMCBhcmdzLlxuLy8gV2UgZ28gMSBtYWduaXR1ZGUgbGVzcywgZm9yIHNhZmV0eVxudmFyIE1BWF9BUkdVTUVOVFNfTEVOR1RIID0gMHgxMDAwXG5cbmZ1bmN0aW9uIGRlY29kZUNvZGVQb2ludHNBcnJheSAoY29kZVBvaW50cykge1xuICB2YXIgbGVuID0gY29kZVBvaW50cy5sZW5ndGhcbiAgaWYgKGxlbiA8PSBNQVhfQVJHVU1FTlRTX0xFTkdUSCkge1xuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgY29kZVBvaW50cykgLy8gYXZvaWQgZXh0cmEgc2xpY2UoKVxuICB9XG5cbiAgLy8gRGVjb2RlIGluIGNodW5rcyB0byBhdm9pZCBcImNhbGwgc3RhY2sgc2l6ZSBleGNlZWRlZFwiLlxuICB2YXIgcmVzID0gJydcbiAgdmFyIGkgPSAwXG4gIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgcmVzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoXG4gICAgICBTdHJpbmcsXG4gICAgICBjb2RlUG9pbnRzLnNsaWNlKGksIGkgKz0gTUFYX0FSR1VNRU5UU19MRU5HVEgpXG4gICAgKVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuZnVuY3Rpb24gYXNjaWlTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciByZXQgPSAnJ1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG5cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICByZXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0gJiAweDdGKVxuICB9XG4gIHJldHVybiByZXRcbn1cblxuZnVuY3Rpb24gbGF0aW4xU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgcmV0ID0gJydcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgcmV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldKVxuICB9XG4gIHJldHVybiByZXRcbn1cblxuZnVuY3Rpb24gaGV4U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgbGVuID0gYnVmLmxlbmd0aFxuXG4gIGlmICghc3RhcnQgfHwgc3RhcnQgPCAwKSBzdGFydCA9IDBcbiAgaWYgKCFlbmQgfHwgZW5kIDwgMCB8fCBlbmQgPiBsZW4pIGVuZCA9IGxlblxuXG4gIHZhciBvdXQgPSAnJ1xuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIG91dCArPSB0b0hleChidWZbaV0pXG4gIH1cbiAgcmV0dXJuIG91dFxufVxuXG5mdW5jdGlvbiB1dGYxNmxlU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgYnl0ZXMgPSBidWYuc2xpY2Uoc3RhcnQsIGVuZClcbiAgdmFyIHJlcyA9ICcnXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICByZXMgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShieXRlc1tpXSArIGJ5dGVzW2kgKyAxXSAqIDI1NilcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbiBzbGljZSAoc3RhcnQsIGVuZCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgc3RhcnQgPSB+fnN0YXJ0XG4gIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuIDogfn5lbmRcblxuICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgc3RhcnQgKz0gbGVuXG4gICAgaWYgKHN0YXJ0IDwgMCkgc3RhcnQgPSAwXG4gIH0gZWxzZSBpZiAoc3RhcnQgPiBsZW4pIHtcbiAgICBzdGFydCA9IGxlblxuICB9XG5cbiAgaWYgKGVuZCA8IDApIHtcbiAgICBlbmQgKz0gbGVuXG4gICAgaWYgKGVuZCA8IDApIGVuZCA9IDBcbiAgfSBlbHNlIGlmIChlbmQgPiBsZW4pIHtcbiAgICBlbmQgPSBsZW5cbiAgfVxuXG4gIGlmIChlbmQgPCBzdGFydCkgZW5kID0gc3RhcnRcblxuICB2YXIgbmV3QnVmXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIG5ld0J1ZiA9IHRoaXMuc3ViYXJyYXkoc3RhcnQsIGVuZClcbiAgICBuZXdCdWYuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuICB9IGVsc2Uge1xuICAgIHZhciBzbGljZUxlbiA9IGVuZCAtIHN0YXJ0XG4gICAgbmV3QnVmID0gbmV3IEJ1ZmZlcihzbGljZUxlbiwgdW5kZWZpbmVkKVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2xpY2VMZW47ICsraSkge1xuICAgICAgbmV3QnVmW2ldID0gdGhpc1tpICsgc3RhcnRdXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ld0J1ZlxufVxuXG4vKlxuICogTmVlZCB0byBtYWtlIHN1cmUgdGhhdCBidWZmZXIgaXNuJ3QgdHJ5aW5nIHRvIHdyaXRlIG91dCBvZiBib3VuZHMuXG4gKi9cbmZ1bmN0aW9uIGNoZWNrT2Zmc2V0IChvZmZzZXQsIGV4dCwgbGVuZ3RoKSB7XG4gIGlmICgob2Zmc2V0ICUgMSkgIT09IDAgfHwgb2Zmc2V0IDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ29mZnNldCBpcyBub3QgdWludCcpXG4gIGlmIChvZmZzZXQgKyBleHQgPiBsZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdUcnlpbmcgdG8gYWNjZXNzIGJleW9uZCBidWZmZXIgbGVuZ3RoJylcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludExFID0gZnVuY3Rpb24gcmVhZFVJbnRMRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldF1cbiAgdmFyIG11bCA9IDFcbiAgdmFyIGkgPSAwXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgaV0gKiBtdWxcbiAgfVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludEJFID0gZnVuY3Rpb24gcmVhZFVJbnRCRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcbiAgfVxuXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIC0tYnl0ZUxlbmd0aF1cbiAgdmFyIG11bCA9IDFcbiAgd2hpbGUgKGJ5dGVMZW5ndGggPiAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgLS1ieXRlTGVuZ3RoXSAqIG11bFxuICB9XG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50OCA9IGZ1bmN0aW9uIHJlYWRVSW50OCAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDEsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gdGhpc1tvZmZzZXRdXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQxNkxFID0gZnVuY3Rpb24gcmVhZFVJbnQxNkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiB0aGlzW29mZnNldF0gfCAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZCRSA9IGZ1bmN0aW9uIHJlYWRVSW50MTZCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSA8PCA4KSB8IHRoaXNbb2Zmc2V0ICsgMV1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyTEUgPSBmdW5jdGlvbiByZWFkVUludDMyTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKCh0aGlzW29mZnNldF0pIHxcbiAgICAgICh0aGlzW29mZnNldCArIDFdIDw8IDgpIHxcbiAgICAgICh0aGlzW29mZnNldCArIDJdIDw8IDE2KSkgK1xuICAgICAgKHRoaXNbb2Zmc2V0ICsgM10gKiAweDEwMDAwMDApXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkJFID0gZnVuY3Rpb24gcmVhZFVJbnQzMkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0gKiAweDEwMDAwMDApICtcbiAgICAoKHRoaXNbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCA4KSB8XG4gICAgdGhpc1tvZmZzZXQgKyAzXSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50TEUgPSBmdW5jdGlvbiByZWFkSW50TEUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdXG4gIHZhciBtdWwgPSAxXG4gIHZhciBpID0gMFxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIGldICogbXVsXG4gIH1cbiAgbXVsICo9IDB4ODBcblxuICBpZiAodmFsID49IG11bCkgdmFsIC09IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50QkUgPSBmdW5jdGlvbiByZWFkSW50QkUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcblxuICB2YXIgaSA9IGJ5dGVMZW5ndGhcbiAgdmFyIG11bCA9IDFcbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0ICsgLS1pXVxuICB3aGlsZSAoaSA+IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyAtLWldICogbXVsXG4gIH1cbiAgbXVsICo9IDB4ODBcblxuICBpZiAodmFsID49IG11bCkgdmFsIC09IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50OCA9IGZ1bmN0aW9uIHJlYWRJbnQ4IChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMSwgdGhpcy5sZW5ndGgpXG4gIGlmICghKHRoaXNbb2Zmc2V0XSAmIDB4ODApKSByZXR1cm4gKHRoaXNbb2Zmc2V0XSlcbiAgcmV0dXJuICgoMHhmZiAtIHRoaXNbb2Zmc2V0XSArIDEpICogLTEpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDE2TEUgPSBmdW5jdGlvbiByZWFkSW50MTZMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdIHwgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOClcbiAgcmV0dXJuICh2YWwgJiAweDgwMDApID8gdmFsIHwgMHhGRkZGMDAwMCA6IHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQxNkJFID0gZnVuY3Rpb24gcmVhZEludDE2QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0ICsgMV0gfCAodGhpc1tvZmZzZXRdIDw8IDgpXG4gIHJldHVybiAodmFsICYgMHg4MDAwKSA/IHZhbCB8IDB4RkZGRjAwMDAgOiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MzJMRSA9IGZ1bmN0aW9uIHJlYWRJbnQzMkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0pIHxcbiAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAzXSA8PCAyNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MzJCRSA9IGZ1bmN0aW9uIHJlYWRJbnQzMkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0gPDwgMjQpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDgpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAzXSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRmxvYXRMRSA9IGZ1bmN0aW9uIHJlYWRGbG9hdExFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCB0cnVlLCAyMywgNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRmxvYXRCRSA9IGZ1bmN0aW9uIHJlYWRGbG9hdEJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCBmYWxzZSwgMjMsIDQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUxFID0gZnVuY3Rpb24gcmVhZERvdWJsZUxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgOCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCB0cnVlLCA1MiwgOClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlQkUgPSBmdW5jdGlvbiByZWFkRG91YmxlQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA4LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIGZhbHNlLCA1MiwgOClcbn1cblxuZnVuY3Rpb24gY2hlY2tJbnQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgZXh0LCBtYXgsIG1pbikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihidWYpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImJ1ZmZlclwiIGFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXIgaW5zdGFuY2UnKVxuICBpZiAodmFsdWUgPiBtYXggfHwgdmFsdWUgPCBtaW4pIHRocm93IG5ldyBSYW5nZUVycm9yKCdcInZhbHVlXCIgYXJndW1lbnQgaXMgb3V0IG9mIGJvdW5kcycpXG4gIGlmIChvZmZzZXQgKyBleHQgPiBidWYubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnRMRSA9IGZ1bmN0aW9uIHdyaXRlVUludExFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIG1heEJ5dGVzID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpIC0gMVxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG1heEJ5dGVzLCAwKVxuICB9XG5cbiAgdmFyIG11bCA9IDFcbiAgdmFyIGkgPSAwXG4gIHRoaXNbb2Zmc2V0XSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAodmFsdWUgLyBtdWwpICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnRCRSA9IGZ1bmN0aW9uIHdyaXRlVUludEJFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIG1heEJ5dGVzID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpIC0gMVxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG1heEJ5dGVzLCAwKVxuICB9XG5cbiAgdmFyIGkgPSBieXRlTGVuZ3RoIC0gMVxuICB2YXIgbXVsID0gMVxuICB0aGlzW29mZnNldCArIGldID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgtLWkgPj0gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAodmFsdWUgLyBtdWwpICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQ4ID0gZnVuY3Rpb24gd3JpdGVVSW50OCAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAxLCAweGZmLCAwKVxuICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB2YWx1ZSA9IE1hdGguZmxvb3IodmFsdWUpXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyAxXG59XG5cbmZ1bmN0aW9uIG9iamVjdFdyaXRlVUludDE2IChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbikge1xuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmZmZiArIHZhbHVlICsgMVxuICBmb3IgKHZhciBpID0gMCwgaiA9IE1hdGgubWluKGJ1Zi5sZW5ndGggLSBvZmZzZXQsIDIpOyBpIDwgajsgKytpKSB7XG4gICAgYnVmW29mZnNldCArIGldID0gKHZhbHVlICYgKDB4ZmYgPDwgKDggKiAobGl0dGxlRW5kaWFuID8gaSA6IDEgLSBpKSkpKSA+Pj5cbiAgICAgIChsaXR0bGVFbmRpYW4gPyBpIDogMSAtIGkpICogOFxuICB9XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MTZMRSA9IGZ1bmN0aW9uIHdyaXRlVUludDE2TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHhmZmZmLCAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2QkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4ZmZmZiwgMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbmZ1bmN0aW9uIG9iamVjdFdyaXRlVUludDMyIChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbikge1xuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmZmZmZmZmYgKyB2YWx1ZSArIDFcbiAgZm9yICh2YXIgaSA9IDAsIGogPSBNYXRoLm1pbihidWYubGVuZ3RoIC0gb2Zmc2V0LCA0KTsgaSA8IGo7ICsraSkge1xuICAgIGJ1ZltvZmZzZXQgKyBpXSA9ICh2YWx1ZSA+Pj4gKGxpdHRsZUVuZGlhbiA/IGkgOiAzIC0gaSkgKiA4KSAmIDB4ZmZcbiAgfVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyTEUgPSBmdW5jdGlvbiB3cml0ZVVJbnQzMkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4ZmZmZmZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgPj4+IDI0KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MzJCRSA9IGZ1bmN0aW9uIHdyaXRlVUludDMyQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHhmZmZmZmZmZiwgMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiAyNClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnRMRSA9IGZ1bmN0aW9uIHdyaXRlSW50TEUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBsaW1pdCA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoIC0gMSlcblxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIGxpbWl0IC0gMSwgLWxpbWl0KVxuICB9XG5cbiAgdmFyIGkgPSAwXG4gIHZhciBtdWwgPSAxXG4gIHZhciBzdWIgPSAwXG4gIHRoaXNbb2Zmc2V0XSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIGlmICh2YWx1ZSA8IDAgJiYgc3ViID09PSAwICYmIHRoaXNbb2Zmc2V0ICsgaSAtIDFdICE9PSAwKSB7XG4gICAgICBzdWIgPSAxXG4gICAgfVxuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAoKHZhbHVlIC8gbXVsKSA+PiAwKSAtIHN1YiAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnRCRSA9IGZ1bmN0aW9uIHdyaXRlSW50QkUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBsaW1pdCA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoIC0gMSlcblxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIGxpbWl0IC0gMSwgLWxpbWl0KVxuICB9XG5cbiAgdmFyIGkgPSBieXRlTGVuZ3RoIC0gMVxuICB2YXIgbXVsID0gMVxuICB2YXIgc3ViID0gMFxuICB0aGlzW29mZnNldCArIGldID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgtLWkgPj0gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIGlmICh2YWx1ZSA8IDAgJiYgc3ViID09PSAwICYmIHRoaXNbb2Zmc2V0ICsgaSArIDFdICE9PSAwKSB7XG4gICAgICBzdWIgPSAxXG4gICAgfVxuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAoKHZhbHVlIC8gbXVsKSA+PiAwKSAtIHN1YiAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQ4ID0gZnVuY3Rpb24gd3JpdGVJbnQ4ICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDEsIDB4N2YsIC0weDgwKVxuICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB2YWx1ZSA9IE1hdGguZmxvb3IodmFsdWUpXG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZiArIHZhbHVlICsgMVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZMRSA9IGZ1bmN0aW9uIHdyaXRlSW50MTZMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweDdmZmYsIC0weDgwMDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQxNkJFID0gZnVuY3Rpb24gd3JpdGVJbnQxNkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4N2ZmZiwgLTB4ODAwMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMkxFID0gZnVuY3Rpb24gd3JpdGVJbnQzMkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4N2ZmZmZmZmYsIC0weDgwMDAwMDAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSA+Pj4gMjQpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJCRSA9IGZ1bmN0aW9uIHdyaXRlSW50MzJCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweDdmZmZmZmZmLCAtMHg4MDAwMDAwMClcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmZmZmZmICsgdmFsdWUgKyAxXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gMjQpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5mdW5jdGlvbiBjaGVja0lFRUU3NTQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgZXh0LCBtYXgsIG1pbikge1xuICBpZiAob2Zmc2V0ICsgZXh0ID4gYnVmLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG4gIGlmIChvZmZzZXQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcbn1cblxuZnVuY3Rpb24gd3JpdGVGbG9hdCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjaGVja0lFRUU3NTQoYnVmLCB2YWx1ZSwgb2Zmc2V0LCA0LCAzLjQwMjgyMzQ2NjM4NTI4ODZlKzM4LCAtMy40MDI4MjM0NjYzODUyODg2ZSszOClcbiAgfVxuICBpZWVlNzU0LndyaXRlKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCAyMywgNClcbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0TEUgPSBmdW5jdGlvbiB3cml0ZUZsb2F0TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZUZsb2F0KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRmxvYXRCRSA9IGZ1bmN0aW9uIHdyaXRlRmxvYXRCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRmxvYXQodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KVxufVxuXG5mdW5jdGlvbiB3cml0ZURvdWJsZSAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjaGVja0lFRUU3NTQoYnVmLCB2YWx1ZSwgb2Zmc2V0LCA4LCAxLjc5NzY5MzEzNDg2MjMxNTdFKzMwOCwgLTEuNzk3NjkzMTM0ODYyMzE1N0UrMzA4KVxuICB9XG4gIGllZWU3NTQud3JpdGUoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIDUyLCA4KVxuICByZXR1cm4gb2Zmc2V0ICsgOFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlTEUgPSBmdW5jdGlvbiB3cml0ZURvdWJsZUxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVEb3VibGUodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVCRSA9IGZ1bmN0aW9uIHdyaXRlRG91YmxlQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZURvdWJsZSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbi8vIGNvcHkodGFyZ2V0QnVmZmVyLCB0YXJnZXRTdGFydD0wLCBzb3VyY2VTdGFydD0wLCBzb3VyY2VFbmQ9YnVmZmVyLmxlbmd0aClcbkJ1ZmZlci5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkgKHRhcmdldCwgdGFyZ2V0U3RhcnQsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKCFzdGFydCkgc3RhcnQgPSAwXG4gIGlmICghZW5kICYmIGVuZCAhPT0gMCkgZW5kID0gdGhpcy5sZW5ndGhcbiAgaWYgKHRhcmdldFN0YXJ0ID49IHRhcmdldC5sZW5ndGgpIHRhcmdldFN0YXJ0ID0gdGFyZ2V0Lmxlbmd0aFxuICBpZiAoIXRhcmdldFN0YXJ0KSB0YXJnZXRTdGFydCA9IDBcbiAgaWYgKGVuZCA+IDAgJiYgZW5kIDwgc3RhcnQpIGVuZCA9IHN0YXJ0XG5cbiAgLy8gQ29weSAwIGJ5dGVzOyB3ZSdyZSBkb25lXG4gIGlmIChlbmQgPT09IHN0YXJ0KSByZXR1cm4gMFxuICBpZiAodGFyZ2V0Lmxlbmd0aCA9PT0gMCB8fCB0aGlzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIDBcblxuICAvLyBGYXRhbCBlcnJvciBjb25kaXRpb25zXG4gIGlmICh0YXJnZXRTdGFydCA8IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcigndGFyZ2V0U3RhcnQgb3V0IG9mIGJvdW5kcycpXG4gIH1cbiAgaWYgKHN0YXJ0IDwgMCB8fCBzdGFydCA+PSB0aGlzLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3NvdXJjZVN0YXJ0IG91dCBvZiBib3VuZHMnKVxuICBpZiAoZW5kIDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3NvdXJjZUVuZCBvdXQgb2YgYm91bmRzJylcblxuICAvLyBBcmUgd2Ugb29iP1xuICBpZiAoZW5kID4gdGhpcy5sZW5ndGgpIGVuZCA9IHRoaXMubGVuZ3RoXG4gIGlmICh0YXJnZXQubGVuZ3RoIC0gdGFyZ2V0U3RhcnQgPCBlbmQgLSBzdGFydCkge1xuICAgIGVuZCA9IHRhcmdldC5sZW5ndGggLSB0YXJnZXRTdGFydCArIHN0YXJ0XG4gIH1cblxuICB2YXIgbGVuID0gZW5kIC0gc3RhcnRcbiAgdmFyIGlcblxuICBpZiAodGhpcyA9PT0gdGFyZ2V0ICYmIHN0YXJ0IDwgdGFyZ2V0U3RhcnQgJiYgdGFyZ2V0U3RhcnQgPCBlbmQpIHtcbiAgICAvLyBkZXNjZW5kaW5nIGNvcHkgZnJvbSBlbmRcbiAgICBmb3IgKGkgPSBsZW4gLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgdGFyZ2V0W2kgKyB0YXJnZXRTdGFydF0gPSB0aGlzW2kgKyBzdGFydF1cbiAgICB9XG4gIH0gZWxzZSBpZiAobGVuIDwgMTAwMCB8fCAhQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICAvLyBhc2NlbmRpbmcgY29weSBmcm9tIHN0YXJ0XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICB0YXJnZXRbaSArIHRhcmdldFN0YXJ0XSA9IHRoaXNbaSArIHN0YXJ0XVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBVaW50OEFycmF5LnByb3RvdHlwZS5zZXQuY2FsbChcbiAgICAgIHRhcmdldCxcbiAgICAgIHRoaXMuc3ViYXJyYXkoc3RhcnQsIHN0YXJ0ICsgbGVuKSxcbiAgICAgIHRhcmdldFN0YXJ0XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIGxlblxufVxuXG4vLyBVc2FnZTpcbi8vICAgIGJ1ZmZlci5maWxsKG51bWJlclssIG9mZnNldFssIGVuZF1dKVxuLy8gICAgYnVmZmVyLmZpbGwoYnVmZmVyWywgb2Zmc2V0WywgZW5kXV0pXG4vLyAgICBidWZmZXIuZmlsbChzdHJpbmdbLCBvZmZzZXRbLCBlbmRdXVssIGVuY29kaW5nXSlcbkJ1ZmZlci5wcm90b3R5cGUuZmlsbCA9IGZ1bmN0aW9uIGZpbGwgKHZhbCwgc3RhcnQsIGVuZCwgZW5jb2RpbmcpIHtcbiAgLy8gSGFuZGxlIHN0cmluZyBjYXNlczpcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgaWYgKHR5cGVvZiBzdGFydCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGVuY29kaW5nID0gc3RhcnRcbiAgICAgIHN0YXJ0ID0gMFxuICAgICAgZW5kID0gdGhpcy5sZW5ndGhcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBlbmQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbmNvZGluZyA9IGVuZFxuICAgICAgZW5kID0gdGhpcy5sZW5ndGhcbiAgICB9XG4gICAgaWYgKHZhbC5sZW5ndGggPT09IDEpIHtcbiAgICAgIHZhciBjb2RlID0gdmFsLmNoYXJDb2RlQXQoMClcbiAgICAgIGlmIChjb2RlIDwgMjU2KSB7XG4gICAgICAgIHZhbCA9IGNvZGVcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGVuY29kaW5nICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIGVuY29kaW5nICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZW5jb2RpbmcgbXVzdCBiZSBhIHN0cmluZycpXG4gICAgfVxuICAgIGlmICh0eXBlb2YgZW5jb2RpbmcgPT09ICdzdHJpbmcnICYmICFCdWZmZXIuaXNFbmNvZGluZyhlbmNvZGluZykpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICB2YWwgPSB2YWwgJiAyNTVcbiAgfVxuXG4gIC8vIEludmFsaWQgcmFuZ2VzIGFyZSBub3Qgc2V0IHRvIGEgZGVmYXVsdCwgc28gY2FuIHJhbmdlIGNoZWNrIGVhcmx5LlxuICBpZiAoc3RhcnQgPCAwIHx8IHRoaXMubGVuZ3RoIDwgc3RhcnQgfHwgdGhpcy5sZW5ndGggPCBlbmQpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignT3V0IG9mIHJhbmdlIGluZGV4JylcbiAgfVxuXG4gIGlmIChlbmQgPD0gc3RhcnQpIHtcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgc3RhcnQgPSBzdGFydCA+Pj4gMFxuICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IHRoaXMubGVuZ3RoIDogZW5kID4+PiAwXG5cbiAgaWYgKCF2YWwpIHZhbCA9IDBcblxuICB2YXIgaVxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICBmb3IgKGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgICB0aGlzW2ldID0gdmFsXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciBieXRlcyA9IEJ1ZmZlci5pc0J1ZmZlcih2YWwpXG4gICAgICA/IHZhbFxuICAgICAgOiB1dGY4VG9CeXRlcyhuZXcgQnVmZmVyKHZhbCwgZW5jb2RpbmcpLnRvU3RyaW5nKCkpXG4gICAgdmFyIGxlbiA9IGJ5dGVzLmxlbmd0aFxuICAgIGZvciAoaSA9IDA7IGkgPCBlbmQgLSBzdGFydDsgKytpKSB7XG4gICAgICB0aGlzW2kgKyBzdGFydF0gPSBieXRlc1tpICUgbGVuXVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzXG59XG5cbi8vIEhFTFBFUiBGVU5DVElPTlNcbi8vID09PT09PT09PT09PT09PT1cblxudmFyIElOVkFMSURfQkFTRTY0X1JFID0gL1teK1xcLzAtOUEtWmEtei1fXS9nXG5cbmZ1bmN0aW9uIGJhc2U2NGNsZWFuIChzdHIpIHtcbiAgLy8gTm9kZSBzdHJpcHMgb3V0IGludmFsaWQgY2hhcmFjdGVycyBsaWtlIFxcbiBhbmQgXFx0IGZyb20gdGhlIHN0cmluZywgYmFzZTY0LWpzIGRvZXMgbm90XG4gIHN0ciA9IHN0cmluZ3RyaW0oc3RyKS5yZXBsYWNlKElOVkFMSURfQkFTRTY0X1JFLCAnJylcbiAgLy8gTm9kZSBjb252ZXJ0cyBzdHJpbmdzIHdpdGggbGVuZ3RoIDwgMiB0byAnJ1xuICBpZiAoc3RyLmxlbmd0aCA8IDIpIHJldHVybiAnJ1xuICAvLyBOb2RlIGFsbG93cyBmb3Igbm9uLXBhZGRlZCBiYXNlNjQgc3RyaW5ncyAobWlzc2luZyB0cmFpbGluZyA9PT0pLCBiYXNlNjQtanMgZG9lcyBub3RcbiAgd2hpbGUgKHN0ci5sZW5ndGggJSA0ICE9PSAwKSB7XG4gICAgc3RyID0gc3RyICsgJz0nXG4gIH1cbiAgcmV0dXJuIHN0clxufVxuXG5mdW5jdGlvbiBzdHJpbmd0cmltIChzdHIpIHtcbiAgaWYgKHN0ci50cmltKSByZXR1cm4gc3RyLnRyaW0oKVxuICByZXR1cm4gc3RyLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKVxufVxuXG5mdW5jdGlvbiB0b0hleCAobikge1xuICBpZiAobiA8IDE2KSByZXR1cm4gJzAnICsgbi50b1N0cmluZygxNilcbiAgcmV0dXJuIG4udG9TdHJpbmcoMTYpXG59XG5cbmZ1bmN0aW9uIHV0ZjhUb0J5dGVzIChzdHJpbmcsIHVuaXRzKSB7XG4gIHVuaXRzID0gdW5pdHMgfHwgSW5maW5pdHlcbiAgdmFyIGNvZGVQb2ludFxuICB2YXIgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aFxuICB2YXIgbGVhZFN1cnJvZ2F0ZSA9IG51bGxcbiAgdmFyIGJ5dGVzID0gW11cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgY29kZVBvaW50ID0gc3RyaW5nLmNoYXJDb2RlQXQoaSlcblxuICAgIC8vIGlzIHN1cnJvZ2F0ZSBjb21wb25lbnRcbiAgICBpZiAoY29kZVBvaW50ID4gMHhEN0ZGICYmIGNvZGVQb2ludCA8IDB4RTAwMCkge1xuICAgICAgLy8gbGFzdCBjaGFyIHdhcyBhIGxlYWRcbiAgICAgIGlmICghbGVhZFN1cnJvZ2F0ZSkge1xuICAgICAgICAvLyBubyBsZWFkIHlldFxuICAgICAgICBpZiAoY29kZVBvaW50ID4gMHhEQkZGKSB7XG4gICAgICAgICAgLy8gdW5leHBlY3RlZCB0cmFpbFxuICAgICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH0gZWxzZSBpZiAoaSArIDEgPT09IGxlbmd0aCkge1xuICAgICAgICAgIC8vIHVucGFpcmVkIGxlYWRcbiAgICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdmFsaWQgbGVhZFxuICAgICAgICBsZWFkU3Vycm9nYXRlID0gY29kZVBvaW50XG5cbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgLy8gMiBsZWFkcyBpbiBhIHJvd1xuICAgICAgaWYgKGNvZGVQb2ludCA8IDB4REMwMCkge1xuICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgbGVhZFN1cnJvZ2F0ZSA9IGNvZGVQb2ludFxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICAvLyB2YWxpZCBzdXJyb2dhdGUgcGFpclxuICAgICAgY29kZVBvaW50ID0gKGxlYWRTdXJyb2dhdGUgLSAweEQ4MDAgPDwgMTAgfCBjb2RlUG9pbnQgLSAweERDMDApICsgMHgxMDAwMFxuICAgIH0gZWxzZSBpZiAobGVhZFN1cnJvZ2F0ZSkge1xuICAgICAgLy8gdmFsaWQgYm1wIGNoYXIsIGJ1dCBsYXN0IGNoYXIgd2FzIGEgbGVhZFxuICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgfVxuXG4gICAgbGVhZFN1cnJvZ2F0ZSA9IG51bGxcblxuICAgIC8vIGVuY29kZSB1dGY4XG4gICAgaWYgKGNvZGVQb2ludCA8IDB4ODApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMSkgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChjb2RlUG9pbnQpXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDgwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAyKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2IHwgMHhDMCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4MTAwMDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMykgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4QyB8IDB4RTAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4MTEwMDAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDQpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDEyIHwgMHhGMCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4QyAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2ICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBjb2RlIHBvaW50JylcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYnl0ZXNcbn1cblxuZnVuY3Rpb24gYXNjaWlUb0J5dGVzIChzdHIpIHtcbiAgdmFyIGJ5dGVBcnJheSA9IFtdXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG4gICAgLy8gTm9kZSdzIGNvZGUgc2VlbXMgdG8gYmUgZG9pbmcgdGhpcyBhbmQgbm90ICYgMHg3Ri4uXG4gICAgYnl0ZUFycmF5LnB1c2goc3RyLmNoYXJDb2RlQXQoaSkgJiAweEZGKVxuICB9XG4gIHJldHVybiBieXRlQXJyYXlcbn1cblxuZnVuY3Rpb24gdXRmMTZsZVRvQnl0ZXMgKHN0ciwgdW5pdHMpIHtcbiAgdmFyIGMsIGhpLCBsb1xuICB2YXIgYnl0ZUFycmF5ID0gW11cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICBpZiAoKHVuaXRzIC09IDIpIDwgMCkgYnJlYWtcblxuICAgIGMgPSBzdHIuY2hhckNvZGVBdChpKVxuICAgIGhpID0gYyA+PiA4XG4gICAgbG8gPSBjICUgMjU2XG4gICAgYnl0ZUFycmF5LnB1c2gobG8pXG4gICAgYnl0ZUFycmF5LnB1c2goaGkpXG4gIH1cblxuICByZXR1cm4gYnl0ZUFycmF5XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFRvQnl0ZXMgKHN0cikge1xuICByZXR1cm4gYmFzZTY0LnRvQnl0ZUFycmF5KGJhc2U2NGNsZWFuKHN0cikpXG59XG5cbmZ1bmN0aW9uIGJsaXRCdWZmZXIgKHNyYywgZHN0LCBvZmZzZXQsIGxlbmd0aCkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgaWYgKChpICsgb2Zmc2V0ID49IGRzdC5sZW5ndGgpIHx8IChpID49IHNyYy5sZW5ndGgpKSBicmVha1xuICAgIGRzdFtpICsgb2Zmc2V0XSA9IHNyY1tpXVxuICB9XG4gIHJldHVybiBpXG59XG5cbmZ1bmN0aW9uIGlzbmFuICh2YWwpIHtcbiAgcmV0dXJuIHZhbCAhPT0gdmFsIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2VsZi1jb21wYXJlXG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYnVmZmVyL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAyNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9")
},function(module,exports){eval("exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2llZWU3NTQvaW5kZXguanM/NzBmZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUSxXQUFXOztBQUVuQjtBQUNBO0FBQ0E7QUFDQSxRQUFRLFdBQVc7O0FBRW5CO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxRQUFRLFdBQVc7O0FBRW5CO0FBQ0E7QUFDQSxRQUFRLFVBQVU7O0FBRWxCO0FBQ0EiLCJmaWxlIjoiMjYuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnRzLnJlYWQgPSBmdW5jdGlvbiAoYnVmZmVyLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZSwgbVxuICB2YXIgZUxlbiA9IG5CeXRlcyAqIDggLSBtTGVuIC0gMVxuICB2YXIgZU1heCA9ICgxIDw8IGVMZW4pIC0gMVxuICB2YXIgZUJpYXMgPSBlTWF4ID4+IDFcbiAgdmFyIG5CaXRzID0gLTdcbiAgdmFyIGkgPSBpc0xFID8gKG5CeXRlcyAtIDEpIDogMFxuICB2YXIgZCA9IGlzTEUgPyAtMSA6IDFcbiAgdmFyIHMgPSBidWZmZXJbb2Zmc2V0ICsgaV1cblxuICBpICs9IGRcblxuICBlID0gcyAmICgoMSA8PCAoLW5CaXRzKSkgLSAxKVxuICBzID4+PSAoLW5CaXRzKVxuICBuQml0cyArPSBlTGVuXG4gIGZvciAoOyBuQml0cyA+IDA7IGUgPSBlICogMjU2ICsgYnVmZmVyW29mZnNldCArIGldLCBpICs9IGQsIG5CaXRzIC09IDgpIHt9XG5cbiAgbSA9IGUgJiAoKDEgPDwgKC1uQml0cykpIC0gMSlcbiAgZSA+Pj0gKC1uQml0cylcbiAgbkJpdHMgKz0gbUxlblxuICBmb3IgKDsgbkJpdHMgPiAwOyBtID0gbSAqIDI1NiArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7fVxuXG4gIGlmIChlID09PSAwKSB7XG4gICAgZSA9IDEgLSBlQmlhc1xuICB9IGVsc2UgaWYgKGUgPT09IGVNYXgpIHtcbiAgICByZXR1cm4gbSA/IE5hTiA6ICgocyA/IC0xIDogMSkgKiBJbmZpbml0eSlcbiAgfSBlbHNlIHtcbiAgICBtID0gbSArIE1hdGgucG93KDIsIG1MZW4pXG4gICAgZSA9IGUgLSBlQmlhc1xuICB9XG4gIHJldHVybiAocyA/IC0xIDogMSkgKiBtICogTWF0aC5wb3coMiwgZSAtIG1MZW4pXG59XG5cbmV4cG9ydHMud3JpdGUgPSBmdW5jdGlvbiAoYnVmZmVyLCB2YWx1ZSwgb2Zmc2V0LCBpc0xFLCBtTGVuLCBuQnl0ZXMpIHtcbiAgdmFyIGUsIG0sIGNcbiAgdmFyIGVMZW4gPSBuQnl0ZXMgKiA4IC0gbUxlbiAtIDFcbiAgdmFyIGVNYXggPSAoMSA8PCBlTGVuKSAtIDFcbiAgdmFyIGVCaWFzID0gZU1heCA+PiAxXG4gIHZhciBydCA9IChtTGVuID09PSAyMyA/IE1hdGgucG93KDIsIC0yNCkgLSBNYXRoLnBvdygyLCAtNzcpIDogMClcbiAgdmFyIGkgPSBpc0xFID8gMCA6IChuQnl0ZXMgLSAxKVxuICB2YXIgZCA9IGlzTEUgPyAxIDogLTFcbiAgdmFyIHMgPSB2YWx1ZSA8IDAgfHwgKHZhbHVlID09PSAwICYmIDEgLyB2YWx1ZSA8IDApID8gMSA6IDBcblxuICB2YWx1ZSA9IE1hdGguYWJzKHZhbHVlKVxuXG4gIGlmIChpc05hTih2YWx1ZSkgfHwgdmFsdWUgPT09IEluZmluaXR5KSB7XG4gICAgbSA9IGlzTmFOKHZhbHVlKSA/IDEgOiAwXG4gICAgZSA9IGVNYXhcbiAgfSBlbHNlIHtcbiAgICBlID0gTWF0aC5mbG9vcihNYXRoLmxvZyh2YWx1ZSkgLyBNYXRoLkxOMilcbiAgICBpZiAodmFsdWUgKiAoYyA9IE1hdGgucG93KDIsIC1lKSkgPCAxKSB7XG4gICAgICBlLS1cbiAgICAgIGMgKj0gMlxuICAgIH1cbiAgICBpZiAoZSArIGVCaWFzID49IDEpIHtcbiAgICAgIHZhbHVlICs9IHJ0IC8gY1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWx1ZSArPSBydCAqIE1hdGgucG93KDIsIDEgLSBlQmlhcylcbiAgICB9XG4gICAgaWYgKHZhbHVlICogYyA+PSAyKSB7XG4gICAgICBlKytcbiAgICAgIGMgLz0gMlxuICAgIH1cblxuICAgIGlmIChlICsgZUJpYXMgPj0gZU1heCkge1xuICAgICAgbSA9IDBcbiAgICAgIGUgPSBlTWF4XG4gICAgfSBlbHNlIGlmIChlICsgZUJpYXMgPj0gMSkge1xuICAgICAgbSA9ICh2YWx1ZSAqIGMgLSAxKSAqIE1hdGgucG93KDIsIG1MZW4pXG4gICAgICBlID0gZSArIGVCaWFzXG4gICAgfSBlbHNlIHtcbiAgICAgIG0gPSB2YWx1ZSAqIE1hdGgucG93KDIsIGVCaWFzIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKVxuICAgICAgZSA9IDBcbiAgICB9XG4gIH1cblxuICBmb3IgKDsgbUxlbiA+PSA4OyBidWZmZXJbb2Zmc2V0ICsgaV0gPSBtICYgMHhmZiwgaSArPSBkLCBtIC89IDI1NiwgbUxlbiAtPSA4KSB7fVxuXG4gIGUgPSAoZSA8PCBtTGVuKSB8IG1cbiAgZUxlbiArPSBtTGVuXG4gIGZvciAoOyBlTGVuID4gMDsgYnVmZmVyW29mZnNldCArIGldID0gZSAmIDB4ZmYsIGkgKz0gZCwgZSAvPSAyNTYsIGVMZW4gLT0gOCkge31cblxuICBidWZmZXJbb2Zmc2V0ICsgaSAtIGRdIHw9IHMgKiAxMjhcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9pZWVlNzU0L2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAyNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports){eval("var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2lzYXJyYXkvaW5kZXguanM/ZWFiYyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxpQkFBaUI7O0FBRWpCO0FBQ0E7QUFDQSIsImZpbGUiOiIyNy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKGFycikge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbChhcnIpID09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2lzYXJyYXkvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDI3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports,__webpack_require__){
eval('var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*\nAuthor: Geraint Luff and others\nYear: 2013\n\nThis code is released into the "public domain" by its author(s).  Anybody may use, alter and distribute the code without restriction.  The author makes no guarantees, and takes no liability of any kind for use of this code.\n\nIf you find a bug or make an improvement, it would be courteous to let the author know, but it is not compulsory.\n*/\n(function (global, factory) {\n  if (true) {\n    // AMD. Register as an anonymous module.\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === \'function\' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else if (typeof module !== \'undefined\' && module.exports){\n    // CommonJS. Define export.\n    module.exports = factory();\n  } else {\n    // Browser globals\n    global.tv4 = factory();\n  }\n}(this, function () {\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys?redirectlocale=en-US&redirectslug=JavaScript%2FReference%2FGlobal_Objects%2FObject%2Fkeys\nif (!Object.keys) {\n\tObject.keys = (function () {\n\t\tvar hasOwnProperty = Object.prototype.hasOwnProperty,\n\t\t\thasDontEnumBug = !({toString: null}).propertyIsEnumerable(\'toString\'),\n\t\t\tdontEnums = [\n\t\t\t\t\'toString\',\n\t\t\t\t\'toLocaleString\',\n\t\t\t\t\'valueOf\',\n\t\t\t\t\'hasOwnProperty\',\n\t\t\t\t\'isPrototypeOf\',\n\t\t\t\t\'propertyIsEnumerable\',\n\t\t\t\t\'constructor\'\n\t\t\t],\n\t\t\tdontEnumsLength = dontEnums.length;\n\n\t\treturn function (obj) {\n\t\t\tif (typeof obj !== \'object\' && typeof obj !== \'function\' || obj === null) {\n\t\t\t\tthrow new TypeError(\'Object.keys called on non-object\');\n\t\t\t}\n\n\t\t\tvar result = [];\n\n\t\t\tfor (var prop in obj) {\n\t\t\t\tif (hasOwnProperty.call(obj, prop)) {\n\t\t\t\t\tresult.push(prop);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (hasDontEnumBug) {\n\t\t\t\tfor (var i=0; i < dontEnumsLength; i++) {\n\t\t\t\t\tif (hasOwnProperty.call(obj, dontEnums[i])) {\n\t\t\t\t\t\tresult.push(dontEnums[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\t})();\n}\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create\nif (!Object.create) {\n\tObject.create = (function(){\n\t\tfunction F(){}\n\n\t\treturn function(o){\n\t\t\tif (arguments.length !== 1) {\n\t\t\t\tthrow new Error(\'Object.create implementation only accepts one parameter.\');\n\t\t\t}\n\t\t\tF.prototype = o;\n\t\t\treturn new F();\n\t\t};\n\t})();\n}\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/isArray?redirectlocale=en-US&redirectslug=JavaScript%2FReference%2FGlobal_Objects%2FArray%2FisArray\nif(!Array.isArray) {\n\tArray.isArray = function (vArg) {\n\t\treturn Object.prototype.toString.call(vArg) === "[object Array]";\n\t};\n}\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf?redirectlocale=en-US&redirectslug=JavaScript%2FReference%2FGlobal_Objects%2FArray%2FindexOf\nif (!Array.prototype.indexOf) {\n\tArray.prototype.indexOf = function (searchElement /*, fromIndex */ ) {\n\t\tif (this === null) {\n\t\t\tthrow new TypeError();\n\t\t}\n\t\tvar t = Object(this);\n\t\tvar len = t.length >>> 0;\n\n\t\tif (len === 0) {\n\t\t\treturn -1;\n\t\t}\n\t\tvar n = 0;\n\t\tif (arguments.length > 1) {\n\t\t\tn = Number(arguments[1]);\n\t\t\tif (n !== n) { // shortcut for verifying if it\'s NaN\n\t\t\t\tn = 0;\n\t\t\t} else if (n !== 0 && n !== Infinity && n !== -Infinity) {\n\t\t\t\tn = (n > 0 || -1) * Math.floor(Math.abs(n));\n\t\t\t}\n\t\t}\n\t\tif (n >= len) {\n\t\t\treturn -1;\n\t\t}\n\t\tvar k = n >= 0 ? n : Math.max(len - Math.abs(n), 0);\n\t\tfor (; k < len; k++) {\n\t\t\tif (k in t && t[k] === searchElement) {\n\t\t\t\treturn k;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t};\n}\n\n// Grungey Object.isFrozen hack\nif (!Object.isFrozen) {\n\tObject.isFrozen = function (obj) {\n\t\tvar key = "tv4_test_frozen_key";\n\t\twhile (obj.hasOwnProperty(key)) {\n\t\t\tkey += Math.random();\n\t\t}\n\t\ttry {\n\t\t\tobj[key] = true;\n\t\t\tdelete obj[key];\n\t\t\treturn false;\n\t\t} catch (e) {\n\t\t\treturn true;\n\t\t}\n\t};\n}\n// Based on: https://github.com/geraintluff/uri-templates, but with all the de-substitution stuff removed\n\nvar uriTemplateGlobalModifiers = {\n\t"+": true,\n\t"#": true,\n\t".": true,\n\t"/": true,\n\t";": true,\n\t"?": true,\n\t"&": true\n};\nvar uriTemplateSuffices = {\n\t"*": true\n};\n\nfunction notReallyPercentEncode(string) {\n\treturn encodeURI(string).replace(/%25[0-9][0-9]/g, function (doubleEncoded) {\n\t\treturn "%" + doubleEncoded.substring(3);\n\t});\n}\n\nfunction uriTemplateSubstitution(spec) {\n\tvar modifier = "";\n\tif (uriTemplateGlobalModifiers[spec.charAt(0)]) {\n\t\tmodifier = spec.charAt(0);\n\t\tspec = spec.substring(1);\n\t}\n\tvar separator = "";\n\tvar prefix = "";\n\tvar shouldEscape = true;\n\tvar showVariables = false;\n\tvar trimEmptyString = false;\n\tif (modifier === \'+\') {\n\t\tshouldEscape = false;\n\t} else if (modifier === ".") {\n\t\tprefix = ".";\n\t\tseparator = ".";\n\t} else if (modifier === "/") {\n\t\tprefix = "/";\n\t\tseparator = "/";\n\t} else if (modifier === \'#\') {\n\t\tprefix = "#";\n\t\tshouldEscape = false;\n\t} else if (modifier === \';\') {\n\t\tprefix = ";";\n\t\tseparator = ";";\n\t\tshowVariables = true;\n\t\ttrimEmptyString = true;\n\t} else if (modifier === \'?\') {\n\t\tprefix = "?";\n\t\tseparator = "&";\n\t\tshowVariables = true;\n\t} else if (modifier === \'&\') {\n\t\tprefix = "&";\n\t\tseparator = "&";\n\t\tshowVariables = true;\n\t}\n\n\tvar varNames = [];\n\tvar varList = spec.split(",");\n\tvar varSpecs = [];\n\tvar varSpecMap = {};\n\tfor (var i = 0; i < varList.length; i++) {\n\t\tvar varName = varList[i];\n\t\tvar truncate = null;\n\t\tif (varName.indexOf(":") !== -1) {\n\t\t\tvar parts = varName.split(":");\n\t\t\tvarName = parts[0];\n\t\t\ttruncate = parseInt(parts[1], 10);\n\t\t}\n\t\tvar suffices = {};\n\t\twhile (uriTemplateSuffices[varName.charAt(varName.length - 1)]) {\n\t\t\tsuffices[varName.charAt(varName.length - 1)] = true;\n\t\t\tvarName = varName.substring(0, varName.length - 1);\n\t\t}\n\t\tvar varSpec = {\n\t\t\ttruncate: truncate,\n\t\t\tname: varName,\n\t\t\tsuffices: suffices\n\t\t};\n\t\tvarSpecs.push(varSpec);\n\t\tvarSpecMap[varName] = varSpec;\n\t\tvarNames.push(varName);\n\t}\n\tvar subFunction = function (valueFunction) {\n\t\tvar result = "";\n\t\tvar startIndex = 0;\n\t\tfor (var i = 0; i < varSpecs.length; i++) {\n\t\t\tvar varSpec = varSpecs[i];\n\t\t\tvar value = valueFunction(varSpec.name);\n\t\t\tif (value === null || value === undefined || (Array.isArray(value) && value.length === 0) || (typeof value === \'object\' && Object.keys(value).length === 0)) {\n\t\t\t\tstartIndex++;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (i === startIndex) {\n\t\t\t\tresult += prefix;\n\t\t\t} else {\n\t\t\t\tresult += (separator || ",");\n\t\t\t}\n\t\t\tif (Array.isArray(value)) {\n\t\t\t\tif (showVariables) {\n\t\t\t\t\tresult += varSpec.name + "=";\n\t\t\t\t}\n\t\t\t\tfor (var j = 0; j < value.length; j++) {\n\t\t\t\t\tif (j > 0) {\n\t\t\t\t\t\tresult += varSpec.suffices[\'*\'] ? (separator || ",") : ",";\n\t\t\t\t\t\tif (varSpec.suffices[\'*\'] && showVariables) {\n\t\t\t\t\t\t\tresult += varSpec.name + "=";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tresult += shouldEscape ? encodeURIComponent(value[j]).replace(/!/g, "%21") : notReallyPercentEncode(value[j]);\n\t\t\t\t}\n\t\t\t} else if (typeof value === "object") {\n\t\t\t\tif (showVariables && !varSpec.suffices[\'*\']) {\n\t\t\t\t\tresult += varSpec.name + "=";\n\t\t\t\t}\n\t\t\t\tvar first = true;\n\t\t\t\tfor (var key in value) {\n\t\t\t\t\tif (!first) {\n\t\t\t\t\t\tresult += varSpec.suffices[\'*\'] ? (separator || ",") : ",";\n\t\t\t\t\t}\n\t\t\t\t\tfirst = false;\n\t\t\t\t\tresult += shouldEscape ? encodeURIComponent(key).replace(/!/g, "%21") : notReallyPercentEncode(key);\n\t\t\t\t\tresult += varSpec.suffices[\'*\'] ? \'=\' : ",";\n\t\t\t\t\tresult += shouldEscape ? encodeURIComponent(value[key]).replace(/!/g, "%21") : notReallyPercentEncode(value[key]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (showVariables) {\n\t\t\t\t\tresult += varSpec.name;\n\t\t\t\t\tif (!trimEmptyString || value !== "") {\n\t\t\t\t\t\tresult += "=";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (varSpec.truncate != null) {\n\t\t\t\t\tvalue = value.substring(0, varSpec.truncate);\n\t\t\t\t}\n\t\t\t\tresult += shouldEscape ? encodeURIComponent(value).replace(/!/g, "%21"): notReallyPercentEncode(value);\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t};\n\tsubFunction.varNames = varNames;\n\treturn {\n\t\tprefix: prefix,\n\t\tsubstitution: subFunction\n\t};\n}\n\nfunction UriTemplate(template) {\n\tif (!(this instanceof UriTemplate)) {\n\t\treturn new UriTemplate(template);\n\t}\n\tvar parts = template.split("{");\n\tvar textParts = [parts.shift()];\n\tvar prefixes = [];\n\tvar substitutions = [];\n\tvar varNames = [];\n\twhile (parts.length > 0) {\n\t\tvar part = parts.shift();\n\t\tvar spec = part.split("}")[0];\n\t\tvar remainder = part.substring(spec.length + 1);\n\t\tvar funcs = uriTemplateSubstitution(spec);\n\t\tsubstitutions.push(funcs.substitution);\n\t\tprefixes.push(funcs.prefix);\n\t\ttextParts.push(remainder);\n\t\tvarNames = varNames.concat(funcs.substitution.varNames);\n\t}\n\tthis.fill = function (valueFunction) {\n\t\tvar result = textParts[0];\n\t\tfor (var i = 0; i < substitutions.length; i++) {\n\t\t\tvar substitution = substitutions[i];\n\t\t\tresult += substitution(valueFunction);\n\t\t\tresult += textParts[i + 1];\n\t\t}\n\t\treturn result;\n\t};\n\tthis.varNames = varNames;\n\tthis.template = template;\n}\nUriTemplate.prototype = {\n\ttoString: function () {\n\t\treturn this.template;\n\t},\n\tfillFromObject: function (obj) {\n\t\treturn this.fill(function (varName) {\n\t\t\treturn obj[varName];\n\t\t});\n\t}\n};\nvar ValidatorContext = function ValidatorContext(parent, collectMultiple, errorReporter, checkRecursive, trackUnknownProperties) {\n\tthis.missing = [];\n\tthis.missingMap = {};\n\tthis.formatValidators = parent ? Object.create(parent.formatValidators) : {};\n\tthis.schemas = parent ? Object.create(parent.schemas) : {};\n\tthis.collectMultiple = collectMultiple;\n\tthis.errors = [];\n\tthis.handleError = collectMultiple ? this.collectError : this.returnError;\n\tif (checkRecursive) {\n\t\tthis.checkRecursive = true;\n\t\tthis.scanned = [];\n\t\tthis.scannedFrozen = [];\n\t\tthis.scannedFrozenSchemas = [];\n\t\tthis.scannedFrozenValidationErrors = [];\n\t\tthis.validatedSchemasKey = \'tv4_validation_id\';\n\t\tthis.validationErrorsKey = \'tv4_validation_errors_id\';\n\t}\n\tif (trackUnknownProperties) {\n\t\tthis.trackUnknownProperties = true;\n\t\tthis.knownPropertyPaths = {};\n\t\tthis.unknownPropertyPaths = {};\n\t}\n\tthis.errorReporter = errorReporter || defaultErrorReporter(\'en\');\n\tif (typeof this.errorReporter === \'string\') {\n\t\tthrow new Error(\'debug\');\n\t}\n\tthis.definedKeywords = {};\n\tif (parent) {\n\t\tfor (var key in parent.definedKeywords) {\n\t\t\tthis.definedKeywords[key] = parent.definedKeywords[key].slice(0);\n\t\t}\n\t}\n};\nValidatorContext.prototype.defineKeyword = function (keyword, keywordFunction) {\n\tthis.definedKeywords[keyword] = this.definedKeywords[keyword] || [];\n\tthis.definedKeywords[keyword].push(keywordFunction);\n};\nValidatorContext.prototype.createError = function (code, messageParams, dataPath, schemaPath, subErrors, data, schema) {\n\tvar error = new ValidationError(code, messageParams, dataPath, schemaPath, subErrors);\n\terror.message = this.errorReporter(error, data, schema);\n\treturn error;\n};\nValidatorContext.prototype.returnError = function (error) {\n\treturn error;\n};\nValidatorContext.prototype.collectError = function (error) {\n\tif (error) {\n\t\tthis.errors.push(error);\n\t}\n\treturn null;\n};\nValidatorContext.prototype.prefixErrors = function (startIndex, dataPath, schemaPath) {\n\tfor (var i = startIndex; i < this.errors.length; i++) {\n\t\tthis.errors[i] = this.errors[i].prefixWith(dataPath, schemaPath);\n\t}\n\treturn this;\n};\nValidatorContext.prototype.banUnknownProperties = function (data, schema) {\n\tfor (var unknownPath in this.unknownPropertyPaths) {\n\t\tvar error = this.createError(ErrorCodes.UNKNOWN_PROPERTY, {path: unknownPath}, unknownPath, "", null, data, schema);\n\t\tvar result = this.handleError(error);\n\t\tif (result) {\n\t\t\treturn result;\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.addFormat = function (format, validator) {\n\tif (typeof format === \'object\') {\n\t\tfor (var key in format) {\n\t\t\tthis.addFormat(key, format[key]);\n\t\t}\n\t\treturn this;\n\t}\n\tthis.formatValidators[format] = validator;\n};\nValidatorContext.prototype.resolveRefs = function (schema, urlHistory) {\n\tif (schema[\'$ref\'] !== undefined) {\n\t\turlHistory = urlHistory || {};\n\t\tif (urlHistory[schema[\'$ref\']]) {\n\t\t\treturn this.createError(ErrorCodes.CIRCULAR_REFERENCE, {urls: Object.keys(urlHistory).join(\', \')}, \'\', \'\', null, undefined, schema);\n\t\t}\n\t\turlHistory[schema[\'$ref\']] = true;\n\t\tschema = this.getSchema(schema[\'$ref\'], urlHistory);\n\t}\n\treturn schema;\n};\nValidatorContext.prototype.getSchema = function (url, urlHistory) {\n\tvar schema;\n\tif (this.schemas[url] !== undefined) {\n\t\tschema = this.schemas[url];\n\t\treturn this.resolveRefs(schema, urlHistory);\n\t}\n\tvar baseUrl = url;\n\tvar fragment = "";\n\tif (url.indexOf(\'#\') !== -1) {\n\t\tfragment = url.substring(url.indexOf("#") + 1);\n\t\tbaseUrl = url.substring(0, url.indexOf("#"));\n\t}\n\tif (typeof this.schemas[baseUrl] === \'object\') {\n\t\tschema = this.schemas[baseUrl];\n\t\tvar pointerPath = decodeURIComponent(fragment);\n\t\tif (pointerPath === "") {\n\t\t\treturn this.resolveRefs(schema, urlHistory);\n\t\t} else if (pointerPath.charAt(0) !== "/") {\n\t\t\treturn undefined;\n\t\t}\n\t\tvar parts = pointerPath.split("/").slice(1);\n\t\tfor (var i = 0; i < parts.length; i++) {\n\t\t\tvar component = parts[i].replace(/~1/g, "/").replace(/~0/g, "~");\n\t\t\tif (schema[component] === undefined) {\n\t\t\t\tschema = undefined;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tschema = schema[component];\n\t\t}\n\t\tif (schema !== undefined) {\n\t\t\treturn this.resolveRefs(schema, urlHistory);\n\t\t}\n\t}\n\tif (this.missing[baseUrl] === undefined) {\n\t\tthis.missing.push(baseUrl);\n\t\tthis.missing[baseUrl] = baseUrl;\n\t\tthis.missingMap[baseUrl] = baseUrl;\n\t}\n};\nValidatorContext.prototype.searchSchemas = function (schema, url) {\n\tif (Array.isArray(schema)) {\n\t\tfor (var i = 0; i < schema.length; i++) {\n\t\t\tthis.searchSchemas(schema[i], url);\n\t\t}\n\t} else if (schema && typeof schema === "object") {\n\t\tif (typeof schema.id === "string") {\n\t\t\tif (isTrustedUrl(url, schema.id)) {\n\t\t\t\tif (this.schemas[schema.id] === undefined) {\n\t\t\t\t\tthis.schemas[schema.id] = schema;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (var key in schema) {\n\t\t\tif (key !== "enum") {\n\t\t\t\tif (typeof schema[key] === "object") {\n\t\t\t\t\tthis.searchSchemas(schema[key], url);\n\t\t\t\t} else if (key === "$ref") {\n\t\t\t\t\tvar uri = getDocumentUri(schema[key]);\n\t\t\t\t\tif (uri && this.schemas[uri] === undefined && this.missingMap[uri] === undefined) {\n\t\t\t\t\t\tthis.missingMap[uri] = uri;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\nValidatorContext.prototype.addSchema = function (url, schema) {\n\t//overload\n\tif (typeof url !== \'string\' || typeof schema === \'undefined\') {\n\t\tif (typeof url === \'object\' && typeof url.id === \'string\') {\n\t\t\tschema = url;\n\t\t\turl = schema.id;\n\t\t}\n\t\telse {\n\t\t\treturn;\n\t\t}\n\t}\n\tif (url === getDocumentUri(url) + "#") {\n\t\t// Remove empty fragment\n\t\turl = getDocumentUri(url);\n\t}\n\tthis.schemas[url] = schema;\n\tdelete this.missingMap[url];\n\tnormSchema(schema, url);\n\tthis.searchSchemas(schema, url);\n};\n\nValidatorContext.prototype.getSchemaMap = function () {\n\tvar map = {};\n\tfor (var key in this.schemas) {\n\t\tmap[key] = this.schemas[key];\n\t}\n\treturn map;\n};\n\nValidatorContext.prototype.getSchemaUris = function (filterRegExp) {\n\tvar list = [];\n\tfor (var key in this.schemas) {\n\t\tif (!filterRegExp || filterRegExp.test(key)) {\n\t\t\tlist.push(key);\n\t\t}\n\t}\n\treturn list;\n};\n\nValidatorContext.prototype.getMissingUris = function (filterRegExp) {\n\tvar list = [];\n\tfor (var key in this.missingMap) {\n\t\tif (!filterRegExp || filterRegExp.test(key)) {\n\t\t\tlist.push(key);\n\t\t}\n\t}\n\treturn list;\n};\n\nValidatorContext.prototype.dropSchemas = function () {\n\tthis.schemas = {};\n\tthis.reset();\n};\nValidatorContext.prototype.reset = function () {\n\tthis.missing = [];\n\tthis.missingMap = {};\n\tthis.errors = [];\n};\n\nValidatorContext.prototype.validateAll = function (data, schema, dataPathParts, schemaPathParts, dataPointerPath) {\n\tvar topLevel;\n\tschema = this.resolveRefs(schema);\n\tif (!schema) {\n\t\treturn null;\n\t} else if (schema instanceof ValidationError) {\n\t\tthis.errors.push(schema);\n\t\treturn schema;\n\t}\n\n\tvar startErrorCount = this.errors.length;\n\tvar frozenIndex, scannedFrozenSchemaIndex = null, scannedSchemasIndex = null;\n\tif (this.checkRecursive && data && typeof data === \'object\') {\n\t\ttopLevel = !this.scanned.length;\n\t\tif (data[this.validatedSchemasKey]) {\n\t\t\tvar schemaIndex = data[this.validatedSchemasKey].indexOf(schema);\n\t\t\tif (schemaIndex !== -1) {\n\t\t\t\tthis.errors = this.errors.concat(data[this.validationErrorsKey][schemaIndex]);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t\tif (Object.isFrozen(data)) {\n\t\t\tfrozenIndex = this.scannedFrozen.indexOf(data);\n\t\t\tif (frozenIndex !== -1) {\n\t\t\t\tvar frozenSchemaIndex = this.scannedFrozenSchemas[frozenIndex].indexOf(schema);\n\t\t\t\tif (frozenSchemaIndex !== -1) {\n\t\t\t\t\tthis.errors = this.errors.concat(this.scannedFrozenValidationErrors[frozenIndex][frozenSchemaIndex]);\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis.scanned.push(data);\n\t\tif (Object.isFrozen(data)) {\n\t\t\tif (frozenIndex === -1) {\n\t\t\t\tfrozenIndex = this.scannedFrozen.length;\n\t\t\t\tthis.scannedFrozen.push(data);\n\t\t\t\tthis.scannedFrozenSchemas.push([]);\n\t\t\t}\n\t\t\tscannedFrozenSchemaIndex = this.scannedFrozenSchemas[frozenIndex].length;\n\t\t\tthis.scannedFrozenSchemas[frozenIndex][scannedFrozenSchemaIndex] = schema;\n\t\t\tthis.scannedFrozenValidationErrors[frozenIndex][scannedFrozenSchemaIndex] = [];\n\t\t} else {\n\t\t\tif (!data[this.validatedSchemasKey]) {\n\t\t\t\ttry {\n\t\t\t\t\tObject.defineProperty(data, this.validatedSchemasKey, {\n\t\t\t\t\t\tvalue: [],\n\t\t\t\t\t\tconfigurable: true\n\t\t\t\t\t});\n\t\t\t\t\tObject.defineProperty(data, this.validationErrorsKey, {\n\t\t\t\t\t\tvalue: [],\n\t\t\t\t\t\tconfigurable: true\n\t\t\t\t\t});\n\t\t\t\t} catch (e) {\n\t\t\t\t\t//IE 7/8 workaround\n\t\t\t\t\tdata[this.validatedSchemasKey] = [];\n\t\t\t\t\tdata[this.validationErrorsKey] = [];\n\t\t\t\t}\n\t\t\t}\n\t\t\tscannedSchemasIndex = data[this.validatedSchemasKey].length;\n\t\t\tdata[this.validatedSchemasKey][scannedSchemasIndex] = schema;\n\t\t\tdata[this.validationErrorsKey][scannedSchemasIndex] = [];\n\t\t}\n\t}\n\n\tvar errorCount = this.errors.length;\n\tvar error = this.validateBasic(data, schema, dataPointerPath)\n\t\t|| this.validateNumeric(data, schema, dataPointerPath)\n\t\t|| this.validateString(data, schema, dataPointerPath)\n\t\t|| this.validateArray(data, schema, dataPointerPath)\n\t\t|| this.validateObject(data, schema, dataPointerPath)\n\t\t|| this.validateCombinations(data, schema, dataPointerPath)\n\t\t|| this.validateHypermedia(data, schema, dataPointerPath)\n\t\t|| this.validateFormat(data, schema, dataPointerPath)\n\t\t|| this.validateDefinedKeywords(data, schema, dataPointerPath)\n\t\t|| null;\n\n\tif (topLevel) {\n\t\twhile (this.scanned.length) {\n\t\t\tvar item = this.scanned.pop();\n\t\t\tdelete item[this.validatedSchemasKey];\n\t\t}\n\t\tthis.scannedFrozen = [];\n\t\tthis.scannedFrozenSchemas = [];\n\t}\n\n\tif (error || errorCount !== this.errors.length) {\n\t\twhile ((dataPathParts && dataPathParts.length) || (schemaPathParts && schemaPathParts.length)) {\n\t\t\tvar dataPart = (dataPathParts && dataPathParts.length) ? "" + dataPathParts.pop() : null;\n\t\t\tvar schemaPart = (schemaPathParts && schemaPathParts.length) ? "" + schemaPathParts.pop() : null;\n\t\t\tif (error) {\n\t\t\t\terror = error.prefixWith(dataPart, schemaPart);\n\t\t\t}\n\t\t\tthis.prefixErrors(errorCount, dataPart, schemaPart);\n\t\t}\n\t}\n\n\tif (scannedFrozenSchemaIndex !== null) {\n\t\tthis.scannedFrozenValidationErrors[frozenIndex][scannedFrozenSchemaIndex] = this.errors.slice(startErrorCount);\n\t} else if (scannedSchemasIndex !== null) {\n\t\tdata[this.validationErrorsKey][scannedSchemasIndex] = this.errors.slice(startErrorCount);\n\t}\n\n\treturn this.handleError(error);\n};\nValidatorContext.prototype.validateFormat = function (data, schema) {\n\tif (typeof schema.format !== \'string\' || !this.formatValidators[schema.format]) {\n\t\treturn null;\n\t}\n\tvar errorMessage = this.formatValidators[schema.format].call(null, data, schema);\n\tif (typeof errorMessage === \'string\' || typeof errorMessage === \'number\') {\n\t\treturn this.createError(ErrorCodes.FORMAT_CUSTOM, {message: errorMessage}, \'\', \'/format\', null, data, schema);\n\t} else if (errorMessage && typeof errorMessage === \'object\') {\n\t\treturn this.createError(ErrorCodes.FORMAT_CUSTOM, {message: errorMessage.message || "?"}, errorMessage.dataPath || \'\', errorMessage.schemaPath || "/format", null, data, schema);\n\t}\n\treturn null;\n};\nValidatorContext.prototype.validateDefinedKeywords = function (data, schema, dataPointerPath) {\n\tfor (var key in this.definedKeywords) {\n\t\tif (typeof schema[key] === \'undefined\') {\n\t\t\tcontinue;\n\t\t}\n\t\tvar validationFunctions = this.definedKeywords[key];\n\t\tfor (var i = 0; i < validationFunctions.length; i++) {\n\t\t\tvar func = validationFunctions[i];\n\t\t\tvar result = func(data, schema[key], schema, dataPointerPath);\n\t\t\tif (typeof result === \'string\' || typeof result === \'number\') {\n\t\t\t\treturn this.createError(ErrorCodes.KEYWORD_CUSTOM, {key: key, message: result}, \'\', \'\', null, data, schema).prefixWith(null, key);\n\t\t\t} else if (result && typeof result === \'object\') {\n\t\t\t\tvar code = result.code;\n\t\t\t\tif (typeof code === \'string\') {\n\t\t\t\t\tif (!ErrorCodes[code]) {\n\t\t\t\t\t\tthrow new Error(\'Undefined error code (use defineError): \' + code);\n\t\t\t\t\t}\n\t\t\t\t\tcode = ErrorCodes[code];\n\t\t\t\t} else if (typeof code !== \'number\') {\n\t\t\t\t\tcode = ErrorCodes.KEYWORD_CUSTOM;\n\t\t\t\t}\n\t\t\t\tvar messageParams = (typeof result.message === \'object\') ? result.message : {key: key, message: result.message || "?"};\n\t\t\t\tvar schemaPath = result.schemaPath || ("/" + key.replace(/~/g, \'~0\').replace(/\\//g, \'~1\'));\n\t\t\t\treturn this.createError(code, messageParams, result.dataPath || null, schemaPath, null, data, schema);\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n};\n\nfunction recursiveCompare(A, B) {\n\tif (A === B) {\n\t\treturn true;\n\t}\n\tif (A && B && typeof A === "object" && typeof B === "object") {\n\t\tif (Array.isArray(A) !== Array.isArray(B)) {\n\t\t\treturn false;\n\t\t} else if (Array.isArray(A)) {\n\t\t\tif (A.length !== B.length) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfor (var i = 0; i < A.length; i++) {\n\t\t\t\tif (!recursiveCompare(A[i], B[i])) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tvar key;\n\t\t\tfor (key in A) {\n\t\t\t\tif (B[key] === undefined && A[key] !== undefined) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (key in B) {\n\t\t\t\tif (A[key] === undefined && B[key] !== undefined) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (key in A) {\n\t\t\t\tif (!recursiveCompare(A[key], B[key])) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nValidatorContext.prototype.validateBasic = function validateBasic(data, schema, dataPointerPath) {\n\tvar error;\n\tif (error = this.validateType(data, schema, dataPointerPath)) {\n\t\treturn error.prefixWith(null, "type");\n\t}\n\tif (error = this.validateEnum(data, schema, dataPointerPath)) {\n\t\treturn error.prefixWith(null, "type");\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateType = function validateType(data, schema) {\n\tif (schema.type === undefined) {\n\t\treturn null;\n\t}\n\tvar dataType = typeof data;\n\tif (data === null) {\n\t\tdataType = "null";\n\t} else if (Array.isArray(data)) {\n\t\tdataType = "array";\n\t}\n\tvar allowedTypes = schema.type;\n\tif (!Array.isArray(allowedTypes)) {\n\t\tallowedTypes = [allowedTypes];\n\t}\n\n\tfor (var i = 0; i < allowedTypes.length; i++) {\n\t\tvar type = allowedTypes[i];\n\t\tif (type === dataType || (type === "integer" && dataType === "number" && (data % 1 === 0))) {\n\t\t\treturn null;\n\t\t}\n\t}\n\treturn this.createError(ErrorCodes.INVALID_TYPE, {type: dataType, expected: allowedTypes.join("/")}, \'\', \'\', null, data, schema);\n};\n\nValidatorContext.prototype.validateEnum = function validateEnum(data, schema) {\n\tif (schema["enum"] === undefined) {\n\t\treturn null;\n\t}\n\tfor (var i = 0; i < schema["enum"].length; i++) {\n\t\tvar enumVal = schema["enum"][i];\n\t\tif (recursiveCompare(data, enumVal)) {\n\t\t\treturn null;\n\t\t}\n\t}\n\treturn this.createError(ErrorCodes.ENUM_MISMATCH, {value: (typeof JSON !== \'undefined\') ? JSON.stringify(data) : data}, \'\', \'\', null, data, schema);\n};\n\nValidatorContext.prototype.validateNumeric = function validateNumeric(data, schema, dataPointerPath) {\n\treturn this.validateMultipleOf(data, schema, dataPointerPath)\n\t\t|| this.validateMinMax(data, schema, dataPointerPath)\n\t\t|| this.validateNaN(data, schema, dataPointerPath)\n\t\t|| null;\n};\n\nvar CLOSE_ENOUGH_LOW = Math.pow(2, -51);\nvar CLOSE_ENOUGH_HIGH = 1 - CLOSE_ENOUGH_LOW;\nValidatorContext.prototype.validateMultipleOf = function validateMultipleOf(data, schema) {\n\tvar multipleOf = schema.multipleOf || schema.divisibleBy;\n\tif (multipleOf === undefined) {\n\t\treturn null;\n\t}\n\tif (typeof data === "number") {\n\t\tvar remainder = (data/multipleOf)%1;\n\t\tif (remainder >= CLOSE_ENOUGH_LOW && remainder < CLOSE_ENOUGH_HIGH) {\n\t\t\treturn this.createError(ErrorCodes.NUMBER_MULTIPLE_OF, {value: data, multipleOf: multipleOf}, \'\', \'\', null, data, schema);\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateMinMax = function validateMinMax(data, schema) {\n\tif (typeof data !== "number") {\n\t\treturn null;\n\t}\n\tif (schema.minimum !== undefined) {\n\t\tif (data < schema.minimum) {\n\t\t\treturn this.createError(ErrorCodes.NUMBER_MINIMUM, {value: data, minimum: schema.minimum}, \'\', \'/minimum\', null, data, schema);\n\t\t}\n\t\tif (schema.exclusiveMinimum && data === schema.minimum) {\n\t\t\treturn this.createError(ErrorCodes.NUMBER_MINIMUM_EXCLUSIVE, {value: data, minimum: schema.minimum}, \'\', \'/exclusiveMinimum\', null, data, schema);\n\t\t}\n\t}\n\tif (schema.maximum !== undefined) {\n\t\tif (data > schema.maximum) {\n\t\t\treturn this.createError(ErrorCodes.NUMBER_MAXIMUM, {value: data, maximum: schema.maximum}, \'\', \'/maximum\', null, data, schema);\n\t\t}\n\t\tif (schema.exclusiveMaximum && data === schema.maximum) {\n\t\t\treturn this.createError(ErrorCodes.NUMBER_MAXIMUM_EXCLUSIVE, {value: data, maximum: schema.maximum}, \'\', \'/exclusiveMaximum\', null, data, schema);\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateNaN = function validateNaN(data, schema) {\n\tif (typeof data !== "number") {\n\t\treturn null;\n\t}\n\tif (isNaN(data) === true || data === Infinity || data === -Infinity) {\n\t\treturn this.createError(ErrorCodes.NUMBER_NOT_A_NUMBER, {value: data}, \'\', \'/type\', null, data, schema);\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateString = function validateString(data, schema, dataPointerPath) {\n\treturn this.validateStringLength(data, schema, dataPointerPath)\n\t\t|| this.validateStringPattern(data, schema, dataPointerPath)\n\t\t|| null;\n};\n\nValidatorContext.prototype.validateStringLength = function validateStringLength(data, schema) {\n\tif (typeof data !== "string") {\n\t\treturn null;\n\t}\n\tif (schema.minLength !== undefined) {\n\t\tif (data.length < schema.minLength) {\n\t\t\treturn this.createError(ErrorCodes.STRING_LENGTH_SHORT, {length: data.length, minimum: schema.minLength}, \'\', \'/minLength\', null, data, schema);\n\t\t}\n\t}\n\tif (schema.maxLength !== undefined) {\n\t\tif (data.length > schema.maxLength) {\n\t\t\treturn this.createError(ErrorCodes.STRING_LENGTH_LONG, {length: data.length, maximum: schema.maxLength}, \'\', \'/maxLength\', null, data, schema);\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateStringPattern = function validateStringPattern(data, schema) {\n\tif (typeof data !== "string" || (typeof schema.pattern !== "string" && !(schema.pattern instanceof RegExp))) {\n\t\treturn null;\n\t}\n\tvar regexp;\n\tif (schema.pattern instanceof RegExp) {\n\t  regexp = schema.pattern;\n\t}\n\telse {\n\t  var body, flags = \'\';\n\t  // Check for regular expression literals\n\t  // @see http://www.ecma-international.org/ecma-262/5.1/#sec-7.8.5\n\t  var literal = schema.pattern.match(/^\\/(.+)\\/([img]*)$/);\n\t  if (literal) {\n\t    body = literal[1];\n\t    flags = literal[2];\n\t  }\n\t  else {\n\t    body = schema.pattern;\n\t  }\n\t  regexp = new RegExp(body, flags);\n\t}\n\tif (!regexp.test(data)) {\n\t\treturn this.createError(ErrorCodes.STRING_PATTERN, {pattern: schema.pattern}, \'\', \'/pattern\', null, data, schema);\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateArray = function validateArray(data, schema, dataPointerPath) {\n\tif (!Array.isArray(data)) {\n\t\treturn null;\n\t}\n\treturn this.validateArrayLength(data, schema, dataPointerPath)\n\t\t|| this.validateArrayUniqueItems(data, schema, dataPointerPath)\n\t\t|| this.validateArrayItems(data, schema, dataPointerPath)\n\t\t|| null;\n};\n\nValidatorContext.prototype.validateArrayLength = function validateArrayLength(data, schema) {\n\tvar error;\n\tif (schema.minItems !== undefined) {\n\t\tif (data.length < schema.minItems) {\n\t\t\terror = this.createError(ErrorCodes.ARRAY_LENGTH_SHORT, {length: data.length, minimum: schema.minItems}, \'\', \'/minItems\', null, data, schema);\n\t\t\tif (this.handleError(error)) {\n\t\t\t\treturn error;\n\t\t\t}\n\t\t}\n\t}\n\tif (schema.maxItems !== undefined) {\n\t\tif (data.length > schema.maxItems) {\n\t\t\terror = this.createError(ErrorCodes.ARRAY_LENGTH_LONG, {length: data.length, maximum: schema.maxItems}, \'\', \'/maxItems\', null, data, schema);\n\t\t\tif (this.handleError(error)) {\n\t\t\t\treturn error;\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateArrayUniqueItems = function validateArrayUniqueItems(data, schema) {\n\tif (schema.uniqueItems) {\n\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\tfor (var j = i + 1; j < data.length; j++) {\n\t\t\t\tif (recursiveCompare(data[i], data[j])) {\n\t\t\t\t\tvar error = this.createError(ErrorCodes.ARRAY_UNIQUE, {match1: i, match2: j}, \'\', \'/uniqueItems\', null, data, schema);\n\t\t\t\t\tif (this.handleError(error)) {\n\t\t\t\t\t\treturn error;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateArrayItems = function validateArrayItems(data, schema, dataPointerPath) {\n\tif (schema.items === undefined) {\n\t\treturn null;\n\t}\n\tvar error, i;\n\tif (Array.isArray(schema.items)) {\n\t\tfor (i = 0; i < data.length; i++) {\n\t\t\tif (i < schema.items.length) {\n\t\t\t\tif (error = this.validateAll(data[i], schema.items[i], [i], ["items", i], dataPointerPath + "/" + i)) {\n\t\t\t\t\treturn error;\n\t\t\t\t}\n\t\t\t} else if (schema.additionalItems !== undefined) {\n\t\t\t\tif (typeof schema.additionalItems === "boolean") {\n\t\t\t\t\tif (!schema.additionalItems) {\n\t\t\t\t\t\terror = (this.createError(ErrorCodes.ARRAY_ADDITIONAL_ITEMS, {}, \'/\' + i, \'/additionalItems\', null, data, schema));\n\t\t\t\t\t\tif (this.handleError(error)) {\n\t\t\t\t\t\t\treturn error;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (error = this.validateAll(data[i], schema.additionalItems, [i], ["additionalItems"], dataPointerPath + "/" + i)) {\n\t\t\t\t\treturn error;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else {\n\t\tfor (i = 0; i < data.length; i++) {\n\t\t\tif (error = this.validateAll(data[i], schema.items, [i], ["items"], dataPointerPath + "/" + i)) {\n\t\t\t\treturn error;\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateObject = function validateObject(data, schema, dataPointerPath) {\n\tif (typeof data !== "object" || data === null || Array.isArray(data)) {\n\t\treturn null;\n\t}\n\treturn this.validateObjectMinMaxProperties(data, schema, dataPointerPath)\n\t\t|| this.validateObjectRequiredProperties(data, schema, dataPointerPath)\n\t\t|| this.validateObjectProperties(data, schema, dataPointerPath)\n\t\t|| this.validateObjectDependencies(data, schema, dataPointerPath)\n\t\t|| null;\n};\n\nValidatorContext.prototype.validateObjectMinMaxProperties = function validateObjectMinMaxProperties(data, schema) {\n\tvar keys = Object.keys(data);\n\tvar error;\n\tif (schema.minProperties !== undefined) {\n\t\tif (keys.length < schema.minProperties) {\n\t\t\terror = this.createError(ErrorCodes.OBJECT_PROPERTIES_MINIMUM, {propertyCount: keys.length, minimum: schema.minProperties}, \'\', \'/minProperties\', null, data, schema);\n\t\t\tif (this.handleError(error)) {\n\t\t\t\treturn error;\n\t\t\t}\n\t\t}\n\t}\n\tif (schema.maxProperties !== undefined) {\n\t\tif (keys.length > schema.maxProperties) {\n\t\t\terror = this.createError(ErrorCodes.OBJECT_PROPERTIES_MAXIMUM, {propertyCount: keys.length, maximum: schema.maxProperties}, \'\', \'/maxProperties\', null, data, schema);\n\t\t\tif (this.handleError(error)) {\n\t\t\t\treturn error;\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateObjectRequiredProperties = function validateObjectRequiredProperties(data, schema) {\n\tif (schema.required !== undefined) {\n\t\tfor (var i = 0; i < schema.required.length; i++) {\n\t\t\tvar key = schema.required[i];\n\t\t\tif (data[key] === undefined) {\n\t\t\t\tvar error = this.createError(ErrorCodes.OBJECT_REQUIRED, {key: key}, \'\', \'/required/\' + i, null, data, schema);\n\t\t\t\tif (this.handleError(error)) {\n\t\t\t\t\treturn error;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateObjectProperties = function validateObjectProperties(data, schema, dataPointerPath) {\n\tvar error;\n\tfor (var key in data) {\n\t\tvar keyPointerPath = dataPointerPath + "/" + key.replace(/~/g, \'~0\').replace(/\\//g, \'~1\');\n\t\tvar foundMatch = false;\n\t\tif (schema.properties !== undefined && schema.properties[key] !== undefined) {\n\t\t\tfoundMatch = true;\n\t\t\tif (error = this.validateAll(data[key], schema.properties[key], [key], ["properties", key], keyPointerPath)) {\n\t\t\t\treturn error;\n\t\t\t}\n\t\t}\n\t\tif (schema.patternProperties !== undefined) {\n\t\t\tfor (var patternKey in schema.patternProperties) {\n\t\t\t\tvar regexp = new RegExp(patternKey);\n\t\t\t\tif (regexp.test(key)) {\n\t\t\t\t\tfoundMatch = true;\n\t\t\t\t\tif (error = this.validateAll(data[key], schema.patternProperties[patternKey], [key], ["patternProperties", patternKey], keyPointerPath)) {\n\t\t\t\t\t\treturn error;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (!foundMatch) {\n\t\t\tif (schema.additionalProperties !== undefined) {\n\t\t\t\tif (this.trackUnknownProperties) {\n\t\t\t\t\tthis.knownPropertyPaths[keyPointerPath] = true;\n\t\t\t\t\tdelete this.unknownPropertyPaths[keyPointerPath];\n\t\t\t\t}\n\t\t\t\tif (typeof schema.additionalProperties === "boolean") {\n\t\t\t\t\tif (!schema.additionalProperties) {\n\t\t\t\t\t\terror = this.createError(ErrorCodes.OBJECT_ADDITIONAL_PROPERTIES, {key: key}, \'\', \'/additionalProperties\', null, data, schema).prefixWith(key, null);\n\t\t\t\t\t\tif (this.handleError(error)) {\n\t\t\t\t\t\t\treturn error;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (error = this.validateAll(data[key], schema.additionalProperties, [key], ["additionalProperties"], keyPointerPath)) {\n\t\t\t\t\t\treturn error;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (this.trackUnknownProperties && !this.knownPropertyPaths[keyPointerPath]) {\n\t\t\t\tthis.unknownPropertyPaths[keyPointerPath] = true;\n\t\t\t}\n\t\t} else if (this.trackUnknownProperties) {\n\t\t\tthis.knownPropertyPaths[keyPointerPath] = true;\n\t\t\tdelete this.unknownPropertyPaths[keyPointerPath];\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateObjectDependencies = function validateObjectDependencies(data, schema, dataPointerPath) {\n\tvar error;\n\tif (schema.dependencies !== undefined) {\n\t\tfor (var depKey in schema.dependencies) {\n\t\t\tif (data[depKey] !== undefined) {\n\t\t\t\tvar dep = schema.dependencies[depKey];\n\t\t\t\tif (typeof dep === "string") {\n\t\t\t\t\tif (data[dep] === undefined) {\n\t\t\t\t\t\terror = this.createError(ErrorCodes.OBJECT_DEPENDENCY_KEY, {key: depKey, missing: dep}, \'\', \'\', null, data, schema).prefixWith(null, depKey).prefixWith(null, "dependencies");\n\t\t\t\t\t\tif (this.handleError(error)) {\n\t\t\t\t\t\t\treturn error;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (Array.isArray(dep)) {\n\t\t\t\t\tfor (var i = 0; i < dep.length; i++) {\n\t\t\t\t\t\tvar requiredKey = dep[i];\n\t\t\t\t\t\tif (data[requiredKey] === undefined) {\n\t\t\t\t\t\t\terror = this.createError(ErrorCodes.OBJECT_DEPENDENCY_KEY, {key: depKey, missing: requiredKey}, \'\', \'/\' + i, null, data, schema).prefixWith(null, depKey).prefixWith(null, "dependencies");\n\t\t\t\t\t\t\tif (this.handleError(error)) {\n\t\t\t\t\t\t\t\treturn error;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (error = this.validateAll(data, dep, [], ["dependencies", depKey], dataPointerPath)) {\n\t\t\t\t\t\treturn error;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateCombinations = function validateCombinations(data, schema, dataPointerPath) {\n\treturn this.validateAllOf(data, schema, dataPointerPath)\n\t\t|| this.validateAnyOf(data, schema, dataPointerPath)\n\t\t|| this.validateOneOf(data, schema, dataPointerPath)\n\t\t|| this.validateNot(data, schema, dataPointerPath)\n\t\t|| null;\n};\n\nValidatorContext.prototype.validateAllOf = function validateAllOf(data, schema, dataPointerPath) {\n\tif (schema.allOf === undefined) {\n\t\treturn null;\n\t}\n\tvar error;\n\tfor (var i = 0; i < schema.allOf.length; i++) {\n\t\tvar subSchema = schema.allOf[i];\n\t\tif (error = this.validateAll(data, subSchema, [], ["allOf", i], dataPointerPath)) {\n\t\t\treturn error;\n\t\t}\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateAnyOf = function validateAnyOf(data, schema, dataPointerPath) {\n\tif (schema.anyOf === undefined) {\n\t\treturn null;\n\t}\n\tvar errors = [];\n\tvar startErrorCount = this.errors.length;\n\tvar oldUnknownPropertyPaths, oldKnownPropertyPaths;\n\tif (this.trackUnknownProperties) {\n\t\toldUnknownPropertyPaths = this.unknownPropertyPaths;\n\t\toldKnownPropertyPaths = this.knownPropertyPaths;\n\t}\n\tvar errorAtEnd = true;\n\tfor (var i = 0; i < schema.anyOf.length; i++) {\n\t\tif (this.trackUnknownProperties) {\n\t\t\tthis.unknownPropertyPaths = {};\n\t\t\tthis.knownPropertyPaths = {};\n\t\t}\n\t\tvar subSchema = schema.anyOf[i];\n\n\t\tvar errorCount = this.errors.length;\n\t\tvar error = this.validateAll(data, subSchema, [], ["anyOf", i], dataPointerPath);\n\n\t\tif (error === null && errorCount === this.errors.length) {\n\t\t\tthis.errors = this.errors.slice(0, startErrorCount);\n\n\t\t\tif (this.trackUnknownProperties) {\n\t\t\t\tfor (var knownKey in this.knownPropertyPaths) {\n\t\t\t\t\toldKnownPropertyPaths[knownKey] = true;\n\t\t\t\t\tdelete oldUnknownPropertyPaths[knownKey];\n\t\t\t\t}\n\t\t\t\tfor (var unknownKey in this.unknownPropertyPaths) {\n\t\t\t\t\tif (!oldKnownPropertyPaths[unknownKey]) {\n\t\t\t\t\t\toldUnknownPropertyPaths[unknownKey] = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// We need to continue looping so we catch all the property definitions, but we don\'t want to return an error\n\t\t\t\terrorAtEnd = false;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\treturn null;\n\t\t}\n\t\tif (error) {\n\t\t\terrors.push(error.prefixWith(null, "" + i).prefixWith(null, "anyOf"));\n\t\t}\n\t}\n\tif (this.trackUnknownProperties) {\n\t\tthis.unknownPropertyPaths = oldUnknownPropertyPaths;\n\t\tthis.knownPropertyPaths = oldKnownPropertyPaths;\n\t}\n\tif (errorAtEnd) {\n\t\terrors = errors.concat(this.errors.slice(startErrorCount));\n\t\tthis.errors = this.errors.slice(0, startErrorCount);\n\t\treturn this.createError(ErrorCodes.ANY_OF_MISSING, {}, "", "/anyOf", errors, data, schema);\n\t}\n};\n\nValidatorContext.prototype.validateOneOf = function validateOneOf(data, schema, dataPointerPath) {\n\tif (schema.oneOf === undefined) {\n\t\treturn null;\n\t}\n\tvar validIndex = null;\n\tvar errors = [];\n\tvar startErrorCount = this.errors.length;\n\tvar oldUnknownPropertyPaths, oldKnownPropertyPaths;\n\tif (this.trackUnknownProperties) {\n\t\toldUnknownPropertyPaths = this.unknownPropertyPaths;\n\t\toldKnownPropertyPaths = this.knownPropertyPaths;\n\t}\n\tfor (var i = 0; i < schema.oneOf.length; i++) {\n\t\tif (this.trackUnknownProperties) {\n\t\t\tthis.unknownPropertyPaths = {};\n\t\t\tthis.knownPropertyPaths = {};\n\t\t}\n\t\tvar subSchema = schema.oneOf[i];\n\n\t\tvar errorCount = this.errors.length;\n\t\tvar error = this.validateAll(data, subSchema, [], ["oneOf", i], dataPointerPath);\n\n\t\tif (error === null && errorCount === this.errors.length) {\n\t\t\tif (validIndex === null) {\n\t\t\t\tvalidIndex = i;\n\t\t\t} else {\n\t\t\t\tthis.errors = this.errors.slice(0, startErrorCount);\n\t\t\t\treturn this.createError(ErrorCodes.ONE_OF_MULTIPLE, {index1: validIndex, index2: i}, "", "/oneOf", null, data, schema);\n\t\t\t}\n\t\t\tif (this.trackUnknownProperties) {\n\t\t\t\tfor (var knownKey in this.knownPropertyPaths) {\n\t\t\t\t\toldKnownPropertyPaths[knownKey] = true;\n\t\t\t\t\tdelete oldUnknownPropertyPaths[knownKey];\n\t\t\t\t}\n\t\t\t\tfor (var unknownKey in this.unknownPropertyPaths) {\n\t\t\t\t\tif (!oldKnownPropertyPaths[unknownKey]) {\n\t\t\t\t\t\toldUnknownPropertyPaths[unknownKey] = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (error) {\n\t\t\terrors.push(error);\n\t\t}\n\t}\n\tif (this.trackUnknownProperties) {\n\t\tthis.unknownPropertyPaths = oldUnknownPropertyPaths;\n\t\tthis.knownPropertyPaths = oldKnownPropertyPaths;\n\t}\n\tif (validIndex === null) {\n\t\terrors = errors.concat(this.errors.slice(startErrorCount));\n\t\tthis.errors = this.errors.slice(0, startErrorCount);\n\t\treturn this.createError(ErrorCodes.ONE_OF_MISSING, {}, "", "/oneOf", errors, data, schema);\n\t} else {\n\t\tthis.errors = this.errors.slice(0, startErrorCount);\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateNot = function validateNot(data, schema, dataPointerPath) {\n\tif (schema.not === undefined) {\n\t\treturn null;\n\t}\n\tvar oldErrorCount = this.errors.length;\n\tvar oldUnknownPropertyPaths, oldKnownPropertyPaths;\n\tif (this.trackUnknownProperties) {\n\t\toldUnknownPropertyPaths = this.unknownPropertyPaths;\n\t\toldKnownPropertyPaths = this.knownPropertyPaths;\n\t\tthis.unknownPropertyPaths = {};\n\t\tthis.knownPropertyPaths = {};\n\t}\n\tvar error = this.validateAll(data, schema.not, null, null, dataPointerPath);\n\tvar notErrors = this.errors.slice(oldErrorCount);\n\tthis.errors = this.errors.slice(0, oldErrorCount);\n\tif (this.trackUnknownProperties) {\n\t\tthis.unknownPropertyPaths = oldUnknownPropertyPaths;\n\t\tthis.knownPropertyPaths = oldKnownPropertyPaths;\n\t}\n\tif (error === null && notErrors.length === 0) {\n\t\treturn this.createError(ErrorCodes.NOT_PASSED, {}, "", "/not", null, data, schema);\n\t}\n\treturn null;\n};\n\nValidatorContext.prototype.validateHypermedia = function validateCombinations(data, schema, dataPointerPath) {\n\tif (!schema.links) {\n\t\treturn null;\n\t}\n\tvar error;\n\tfor (var i = 0; i < schema.links.length; i++) {\n\t\tvar ldo = schema.links[i];\n\t\tif (ldo.rel === "describedby") {\n\t\t\tvar template = new UriTemplate(ldo.href);\n\t\t\tvar allPresent = true;\n\t\t\tfor (var j = 0; j < template.varNames.length; j++) {\n\t\t\t\tif (!(template.varNames[j] in data)) {\n\t\t\t\t\tallPresent = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (allPresent) {\n\t\t\t\tvar schemaUrl = template.fillFromObject(data);\n\t\t\t\tvar subSchema = {"$ref": schemaUrl};\n\t\t\t\tif (error = this.validateAll(data, subSchema, [], ["links", i], dataPointerPath)) {\n\t\t\t\t\treturn error;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\n// parseURI() and resolveUrl() are from https://gist.github.com/1088850\n//   -  released as public domain by author ("Yaffle") - see comments on gist\n\nfunction parseURI(url) {\n\tvar m = String(url).replace(/^\\s+|\\s+$/g, \'\').match(/^([^:\\/?#]+:)?(\\/\\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\\/?#]*)(?::(\\d*))?))?([^?#]*)(\\?[^#]*)?(#[\\s\\S]*)?/);\n\t// authority = \'//\' + user + \':\' + pass \'@\' + hostname + \':\' port\n\treturn (m ? {\n\t\thref     : m[0] || \'\',\n\t\tprotocol : m[1] || \'\',\n\t\tauthority: m[2] || \'\',\n\t\thost     : m[3] || \'\',\n\t\thostname : m[4] || \'\',\n\t\tport     : m[5] || \'\',\n\t\tpathname : m[6] || \'\',\n\t\tsearch   : m[7] || \'\',\n\t\thash     : m[8] || \'\'\n\t} : null);\n}\n\nfunction resolveUrl(base, href) {// RFC 3986\n\n\tfunction removeDotSegments(input) {\n\t\tvar output = [];\n\t\tinput.replace(/^(\\.\\.?(\\/|$))+/, \'\')\n\t\t\t.replace(/\\/(\\.(\\/|$))+/g, \'/\')\n\t\t\t.replace(/\\/\\.\\.$/, \'/../\')\n\t\t\t.replace(/\\/?[^\\/]*/g, function (p) {\n\t\t\t\tif (p === \'/..\') {\n\t\t\t\t\toutput.pop();\n\t\t\t\t} else {\n\t\t\t\t\toutput.push(p);\n\t\t\t\t}\n\t\t});\n\t\treturn output.join(\'\').replace(/^\\//, input.charAt(0) === \'/\' ? \'/\' : \'\');\n\t}\n\n\thref = parseURI(href || \'\');\n\tbase = parseURI(base || \'\');\n\n\treturn !href || !base ? null : (href.protocol || base.protocol) +\n\t\t(href.protocol || href.authority ? href.authority : base.authority) +\n\t\tremoveDotSegments(href.protocol || href.authority || href.pathname.charAt(0) === \'/\' ? href.pathname : (href.pathname ? ((base.authority && !base.pathname ? \'/\' : \'\') + base.pathname.slice(0, base.pathname.lastIndexOf(\'/\') + 1) + href.pathname) : base.pathname)) +\n\t\t(href.protocol || href.authority || href.pathname ? href.search : (href.search || base.search)) +\n\t\thref.hash;\n}\n\nfunction getDocumentUri(uri) {\n\treturn uri.split(\'#\')[0];\n}\nfunction normSchema(schema, baseUri) {\n\tif (schema && typeof schema === "object") {\n\t\tif (baseUri === undefined) {\n\t\t\tbaseUri = schema.id;\n\t\t} else if (typeof schema.id === "string") {\n\t\t\tbaseUri = resolveUrl(baseUri, schema.id);\n\t\t\tschema.id = baseUri;\n\t\t}\n\t\tif (Array.isArray(schema)) {\n\t\t\tfor (var i = 0; i < schema.length; i++) {\n\t\t\t\tnormSchema(schema[i], baseUri);\n\t\t\t}\n\t\t} else {\n\t\t\tif (typeof schema[\'$ref\'] === "string") {\n\t\t\t\tschema[\'$ref\'] = resolveUrl(baseUri, schema[\'$ref\']);\n\t\t\t}\n\t\t\tfor (var key in schema) {\n\t\t\t\tif (key !== "enum") {\n\t\t\t\t\tnormSchema(schema[key], baseUri);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction defaultErrorReporter(language) {\n\tlanguage = language || \'en\';\n\n\tvar errorMessages = languages[language];\n\n\treturn function (error) {\n\t\tvar messageTemplate = errorMessages[error.code] || ErrorMessagesDefault[error.code];\n\t\tif (typeof messageTemplate !== \'string\') {\n\t\t\treturn "Unknown error code " + error.code + ": " + JSON.stringify(error.messageParams);\n\t\t}\n\t\tvar messageParams = error.params;\n\t\t// Adapted from Crockford\'s supplant()\n\t\treturn messageTemplate.replace(/\\{([^{}]*)\\}/g, function (whole, varName) {\n\t\t\tvar subValue = messageParams[varName];\n\t\t\treturn typeof subValue === \'string\' || typeof subValue === \'number\' ? subValue : whole;\n\t\t});\n\t};\n}\n\nvar ErrorCodes = {\n\tINVALID_TYPE: 0,\n\tENUM_MISMATCH: 1,\n\tANY_OF_MISSING: 10,\n\tONE_OF_MISSING: 11,\n\tONE_OF_MULTIPLE: 12,\n\tNOT_PASSED: 13,\n\t// Numeric errors\n\tNUMBER_MULTIPLE_OF: 100,\n\tNUMBER_MINIMUM: 101,\n\tNUMBER_MINIMUM_EXCLUSIVE: 102,\n\tNUMBER_MAXIMUM: 103,\n\tNUMBER_MAXIMUM_EXCLUSIVE: 104,\n\tNUMBER_NOT_A_NUMBER: 105,\n\t// String errors\n\tSTRING_LENGTH_SHORT: 200,\n\tSTRING_LENGTH_LONG: 201,\n\tSTRING_PATTERN: 202,\n\t// Object errors\n\tOBJECT_PROPERTIES_MINIMUM: 300,\n\tOBJECT_PROPERTIES_MAXIMUM: 301,\n\tOBJECT_REQUIRED: 302,\n\tOBJECT_ADDITIONAL_PROPERTIES: 303,\n\tOBJECT_DEPENDENCY_KEY: 304,\n\t// Array errors\n\tARRAY_LENGTH_SHORT: 400,\n\tARRAY_LENGTH_LONG: 401,\n\tARRAY_UNIQUE: 402,\n\tARRAY_ADDITIONAL_ITEMS: 403,\n\t// Custom/user-defined errors\n\tFORMAT_CUSTOM: 500,\n\tKEYWORD_CUSTOM: 501,\n\t// Schema structure\n\tCIRCULAR_REFERENCE: 600,\n\t// Non-standard validation options\n\tUNKNOWN_PROPERTY: 1000\n};\nvar ErrorCodeLookup = {};\nfor (var key in ErrorCodes) {\n\tErrorCodeLookup[ErrorCodes[key]] = key;\n}\nvar ErrorMessagesDefault = {\n\tINVALID_TYPE: "Invalid type: {type} (expected {expected})",\n\tENUM_MISMATCH: "No enum match for: {value}",\n\tANY_OF_MISSING: "Data does not match any schemas from \\"anyOf\\"",\n\tONE_OF_MISSING: "Data does not match any schemas from \\"oneOf\\"",\n\tONE_OF_MULTIPLE: "Data is valid against more than one schema from \\"oneOf\\": indices {index1} and {index2}",\n\tNOT_PASSED: "Data matches schema from \\"not\\"",\n\t// Numeric errors\n\tNUMBER_MULTIPLE_OF: "Value {value} is not a multiple of {multipleOf}",\n\tNUMBER_MINIMUM: "Value {value} is less than minimum {minimum}",\n\tNUMBER_MINIMUM_EXCLUSIVE: "Value {value} is equal to exclusive minimum {minimum}",\n\tNUMBER_MAXIMUM: "Value {value} is greater than maximum {maximum}",\n\tNUMBER_MAXIMUM_EXCLUSIVE: "Value {value} is equal to exclusive maximum {maximum}",\n\tNUMBER_NOT_A_NUMBER: "Value {value} is not a valid number",\n\t// String errors\n\tSTRING_LENGTH_SHORT: "String is too short ({length} chars), minimum {minimum}",\n\tSTRING_LENGTH_LONG: "String is too long ({length} chars), maximum {maximum}",\n\tSTRING_PATTERN: "String does not match pattern: {pattern}",\n\t// Object errors\n\tOBJECT_PROPERTIES_MINIMUM: "Too few properties defined ({propertyCount}), minimum {minimum}",\n\tOBJECT_PROPERTIES_MAXIMUM: "Too many properties defined ({propertyCount}), maximum {maximum}",\n\tOBJECT_REQUIRED: "Missing required property: {key}",\n\tOBJECT_ADDITIONAL_PROPERTIES: "Additional properties not allowed",\n\tOBJECT_DEPENDENCY_KEY: "Dependency failed - key must exist: {missing} (due to key: {key})",\n\t// Array errors\n\tARRAY_LENGTH_SHORT: "Array is too short ({length}), minimum {minimum}",\n\tARRAY_LENGTH_LONG: "Array is too long ({length}), maximum {maximum}",\n\tARRAY_UNIQUE: "Array items are not unique (indices {match1} and {match2})",\n\tARRAY_ADDITIONAL_ITEMS: "Additional items not allowed",\n\t// Format errors\n\tFORMAT_CUSTOM: "Format validation failed ({message})",\n\tKEYWORD_CUSTOM: "Keyword failed: {key} ({message})",\n\t// Schema structure\n\tCIRCULAR_REFERENCE: "Circular $refs: {urls}",\n\t// Non-standard validation options\n\tUNKNOWN_PROPERTY: "Unknown property (not in schema)"\n};\n\nfunction ValidationError(code, params, dataPath, schemaPath, subErrors) {\n\tError.call(this);\n\tif (code === undefined) {\n\t\tthrow new Error ("No error code supplied: " + schemaPath);\n\t}\n\tthis.message = \'\';\n\tthis.params = params;\n\tthis.code = code;\n\tthis.dataPath = dataPath || "";\n\tthis.schemaPath = schemaPath || "";\n\tthis.subErrors = subErrors || null;\n\n\tvar err = new Error(this.message);\n\tthis.stack = err.stack || err.stacktrace;\n\tif (!this.stack) {\n\t\ttry {\n\t\t\tthrow err;\n\t\t}\n\t\tcatch(err) {\n\t\t\tthis.stack = err.stack || err.stacktrace;\n\t\t}\n\t}\n}\nValidationError.prototype = Object.create(Error.prototype);\nValidationError.prototype.constructor = ValidationError;\nValidationError.prototype.name = \'ValidationError\';\n\nValidationError.prototype.prefixWith = function (dataPrefix, schemaPrefix) {\n\tif (dataPrefix !== null) {\n\t\tdataPrefix = dataPrefix.replace(/~/g, "~0").replace(/\\//g, "~1");\n\t\tthis.dataPath = "/" + dataPrefix + this.dataPath;\n\t}\n\tif (schemaPrefix !== null) {\n\t\tschemaPrefix = schemaPrefix.replace(/~/g, "~0").replace(/\\//g, "~1");\n\t\tthis.schemaPath = "/" + schemaPrefix + this.schemaPath;\n\t}\n\tif (this.subErrors !== null) {\n\t\tfor (var i = 0; i < this.subErrors.length; i++) {\n\t\t\tthis.subErrors[i].prefixWith(dataPrefix, schemaPrefix);\n\t\t}\n\t}\n\treturn this;\n};\n\nfunction isTrustedUrl(baseUrl, testUrl) {\n\tif(testUrl.substring(0, baseUrl.length) === baseUrl){\n\t\tvar remainder = testUrl.substring(baseUrl.length);\n\t\tif ((testUrl.length > 0 && testUrl.charAt(baseUrl.length - 1) === "/")\n\t\t\t|| remainder.charAt(0) === "#"\n\t\t\t|| remainder.charAt(0) === "?") {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\n\nvar languages = {};\nfunction createApi(language) {\n\tvar globalContext = new ValidatorContext();\n\tvar currentLanguage;\n\tvar customErrorReporter;\n\tvar api = {\n\t\tsetErrorReporter: function (reporter) {\n\t\t\tif (typeof reporter === \'string\') {\n\t\t\t\treturn this.language(reporter);\n\t\t\t}\n\t\t\tcustomErrorReporter = reporter;\n\t\t\treturn true;\n\t\t},\n\t\taddFormat: function () {\n\t\t\tglobalContext.addFormat.apply(globalContext, arguments);\n\t\t},\n\t\tlanguage: function (code) {\n\t\t\tif (!code) {\n\t\t\t\treturn currentLanguage;\n\t\t\t}\n\t\t\tif (!languages[code]) {\n\t\t\t\tcode = code.split(\'-\')[0]; // fall back to base language\n\t\t\t}\n\t\t\tif (languages[code]) {\n\t\t\t\tcurrentLanguage = code;\n\t\t\t\treturn code; // so you can tell if fall-back has happened\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\taddLanguage: function (code, messageMap) {\n\t\t\tvar key;\n\t\t\tfor (key in ErrorCodes) {\n\t\t\t\tif (messageMap[key] && !messageMap[ErrorCodes[key]]) {\n\t\t\t\t\tmessageMap[ErrorCodes[key]] = messageMap[key];\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar rootCode = code.split(\'-\')[0];\n\t\t\tif (!languages[rootCode]) { // use for base language if not yet defined\n\t\t\t\tlanguages[code] = messageMap;\n\t\t\t\tlanguages[rootCode] = messageMap;\n\t\t\t} else {\n\t\t\t\tlanguages[code] = Object.create(languages[rootCode]);\n\t\t\t\tfor (key in messageMap) {\n\t\t\t\t\tif (typeof languages[rootCode][key] === \'undefined\') {\n\t\t\t\t\t\tlanguages[rootCode][key] = messageMap[key];\n\t\t\t\t\t}\n\t\t\t\t\tlanguages[code][key] = messageMap[key];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\tfreshApi: function (language) {\n\t\t\tvar result = createApi();\n\t\t\tif (language) {\n\t\t\t\tresult.language(language);\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t\tvalidate: function (data, schema, checkRecursive, banUnknownProperties) {\n\t\t\tvar def = defaultErrorReporter(currentLanguage);\n\t\t\tvar errorReporter = customErrorReporter ? function (error, data, schema) {\n\t\t\t\treturn customErrorReporter(error, data, schema) || def(error, data, schema);\n\t\t\t} : def;\n\t\t\tvar context = new ValidatorContext(globalContext, false, errorReporter, checkRecursive, banUnknownProperties);\n\t\t\tif (typeof schema === "string") {\n\t\t\t\tschema = {"$ref": schema};\n\t\t\t}\n\t\t\tcontext.addSchema("", schema);\n\t\t\tvar error = context.validateAll(data, schema, null, null, "");\n\t\t\tif (!error && banUnknownProperties) {\n\t\t\t\terror = context.banUnknownProperties(data, schema);\n\t\t\t}\n\t\t\tthis.error = error;\n\t\t\tthis.missing = context.missing;\n\t\t\tthis.valid = (error === null);\n\t\t\treturn this.valid;\n\t\t},\n\t\tvalidateResult: function () {\n\t\t\tvar result = {};\n\t\t\tthis.validate.apply(result, arguments);\n\t\t\treturn result;\n\t\t},\n\t\tvalidateMultiple: function (data, schema, checkRecursive, banUnknownProperties) {\n\t\t\tvar def = defaultErrorReporter(currentLanguage);\n\t\t\tvar errorReporter = customErrorReporter ? function (error, data, schema) {\n\t\t\t\treturn customErrorReporter(error, data, schema) || def(error, data, schema);\n\t\t\t} : def;\n\t\t\tvar context = new ValidatorContext(globalContext, true, errorReporter, checkRecursive, banUnknownProperties);\n\t\t\tif (typeof schema === "string") {\n\t\t\t\tschema = {"$ref": schema};\n\t\t\t}\n\t\t\tcontext.addSchema("", schema);\n\t\t\tcontext.validateAll(data, schema, null, null, "");\n\t\t\tif (banUnknownProperties) {\n\t\t\t\tcontext.banUnknownProperties(data, schema);\n\t\t\t}\n\t\t\tvar result = {};\n\t\t\tresult.errors = context.errors;\n\t\t\tresult.missing = context.missing;\n\t\t\tresult.valid = (result.errors.length === 0);\n\t\t\treturn result;\n\t\t},\n\t\taddSchema: function () {\n\t\t\treturn globalContext.addSchema.apply(globalContext, arguments);\n\t\t},\n\t\tgetSchema: function () {\n\t\t\treturn globalContext.getSchema.apply(globalContext, arguments);\n\t\t},\n\t\tgetSchemaMap: function () {\n\t\t\treturn globalContext.getSchemaMap.apply(globalContext, arguments);\n\t\t},\n\t\tgetSchemaUris: function () {\n\t\t\treturn globalContext.getSchemaUris.apply(globalContext, arguments);\n\t\t},\n\t\tgetMissingUris: function () {\n\t\t\treturn globalContext.getMissingUris.apply(globalContext, arguments);\n\t\t},\n\t\tdropSchemas: function () {\n\t\t\tglobalContext.dropSchemas.apply(globalContext, arguments);\n\t\t},\n\t\tdefineKeyword: function () {\n\t\t\tglobalContext.defineKeyword.apply(globalContext, arguments);\n\t\t},\n\t\tdefineError: function (codeName, codeNumber, defaultMessage) {\n\t\t\tif (typeof codeName !== \'string\' || !/^[A-Z]+(_[A-Z]+)*$/.test(codeName)) {\n\t\t\t\tthrow new Error(\'Code name must be a string in UPPER_CASE_WITH_UNDERSCORES\');\n\t\t\t}\n\t\t\tif (typeof codeNumber !== \'number\' || codeNumber%1 !== 0 || codeNumber < 10000) {\n\t\t\t\tthrow new Error(\'Code number must be an integer > 10000\');\n\t\t\t}\n\t\t\tif (typeof ErrorCodes[codeName] !== \'undefined\') {\n\t\t\t\tthrow new Error(\'Error already defined: \' + codeName + \' as \' + ErrorCodes[codeName]);\n\t\t\t}\n\t\t\tif (typeof ErrorCodeLookup[codeNumber] !== \'undefined\') {\n\t\t\t\tthrow new Error(\'Error code already used: \' + ErrorCodeLookup[codeNumber] + \' as \' + codeNumber);\n\t\t\t}\n\t\t\tErrorCodes[codeName] = codeNumber;\n\t\t\tErrorCodeLookup[codeNumber] = codeName;\n\t\t\tErrorMessagesDefault[codeName] = ErrorMessagesDefault[codeNumber] = defaultMessage;\n\t\t\tfor (var langCode in languages) {\n\t\t\t\tvar language = languages[langCode];\n\t\t\t\tif (language[codeName]) {\n\t\t\t\t\tlanguage[codeNumber] = language[codeNumber] || language[codeName];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\treset: function () {\n\t\t\tglobalContext.reset();\n\t\t\tthis.error = null;\n\t\t\tthis.missing = [];\n\t\t\tthis.valid = true;\n\t\t},\n\t\tmissing: [],\n\t\terror: null,\n\t\tvalid: true,\n\t\tnormSchema: normSchema,\n\t\tresolveUrl: resolveUrl,\n\t\tgetDocumentUri: getDocumentUri,\n\t\terrorCodes: ErrorCodes\n\t};\n\tapi.language(language || \'en\');\n\treturn api;\n}\n\nvar tv4 = createApi();\ntv4.addLanguage(\'en-gb\', ErrorMessagesDefault);\n\n//legacy property\ntv4.tv4 = tv4;\n\nreturn tv4; // used by _header.js to globalise.\n\n}));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3R2NC90djQuanM/NDViNSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixlQUFlO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxpQkFBaUIscUJBQXFCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsU0FBUztBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsc0JBQXNCO0FBQzNFLEVBQUU7QUFDRixxREFBcUQscUNBQXFD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LENBQUMiLCJmaWxlIjoiMjguanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQXV0aG9yOiBHZXJhaW50IEx1ZmYgYW5kIG90aGVyc1xuWWVhcjogMjAxM1xuXG5UaGlzIGNvZGUgaXMgcmVsZWFzZWQgaW50byB0aGUgXCJwdWJsaWMgZG9tYWluXCIgYnkgaXRzIGF1dGhvcihzKS4gIEFueWJvZHkgbWF5IHVzZSwgYWx0ZXIgYW5kIGRpc3RyaWJ1dGUgdGhlIGNvZGUgd2l0aG91dCByZXN0cmljdGlvbi4gIFRoZSBhdXRob3IgbWFrZXMgbm8gZ3VhcmFudGVlcywgYW5kIHRha2VzIG5vIGxpYWJpbGl0eSBvZiBhbnkga2luZCBmb3IgdXNlIG9mIHRoaXMgY29kZS5cblxuSWYgeW91IGZpbmQgYSBidWcgb3IgbWFrZSBhbiBpbXByb3ZlbWVudCwgaXQgd291bGQgYmUgY291cnRlb3VzIHRvIGxldCB0aGUgYXV0aG9yIGtub3csIGJ1dCBpdCBpcyBub3QgY29tcHVsc29yeS5cbiovXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuICAgIGRlZmluZShbXSwgZmFjdG9yeSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpe1xuICAgIC8vIENvbW1vbkpTLiBEZWZpbmUgZXhwb3J0LlxuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICB9IGVsc2Uge1xuICAgIC8vIEJyb3dzZXIgZ2xvYmFsc1xuICAgIGdsb2JhbC50djQgPSBmYWN0b3J5KCk7XG4gIH1cbn0odGhpcywgZnVuY3Rpb24gKCkge1xuXG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3Qva2V5cz9yZWRpcmVjdGxvY2FsZT1lbi1VUyZyZWRpcmVjdHNsdWc9SmF2YVNjcmlwdCUyRlJlZmVyZW5jZSUyRkdsb2JhbF9PYmplY3RzJTJGT2JqZWN0JTJGa2V5c1xuaWYgKCFPYmplY3Qua2V5cykge1xuXHRPYmplY3Qua2V5cyA9IChmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxcblx0XHRcdGhhc0RvbnRFbnVtQnVnID0gISh7dG9TdHJpbmc6IG51bGx9KS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgndG9TdHJpbmcnKSxcblx0XHRcdGRvbnRFbnVtcyA9IFtcblx0XHRcdFx0J3RvU3RyaW5nJyxcblx0XHRcdFx0J3RvTG9jYWxlU3RyaW5nJyxcblx0XHRcdFx0J3ZhbHVlT2YnLFxuXHRcdFx0XHQnaGFzT3duUHJvcGVydHknLFxuXHRcdFx0XHQnaXNQcm90b3R5cGVPZicsXG5cdFx0XHRcdCdwcm9wZXJ0eUlzRW51bWVyYWJsZScsXG5cdFx0XHRcdCdjb25zdHJ1Y3Rvcidcblx0XHRcdF0sXG5cdFx0XHRkb250RW51bXNMZW5ndGggPSBkb250RW51bXMubGVuZ3RoO1xuXG5cdFx0cmV0dXJuIGZ1bmN0aW9uIChvYmopIHtcblx0XHRcdGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyAmJiB0eXBlb2Ygb2JqICE9PSAnZnVuY3Rpb24nIHx8IG9iaiA9PT0gbnVsbCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3Qua2V5cyBjYWxsZWQgb24gbm9uLW9iamVjdCcpO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgcmVzdWx0ID0gW107XG5cblx0XHRcdGZvciAodmFyIHByb3AgaW4gb2JqKSB7XG5cdFx0XHRcdGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIHtcblx0XHRcdFx0XHRyZXN1bHQucHVzaChwcm9wKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoaGFzRG9udEVudW1CdWcpIHtcblx0XHRcdFx0Zm9yICh2YXIgaT0wOyBpIDwgZG9udEVudW1zTGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGRvbnRFbnVtc1tpXSkpIHtcblx0XHRcdFx0XHRcdHJlc3VsdC5wdXNoKGRvbnRFbnVtc1tpXSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH07XG5cdH0pKCk7XG59XG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvY3JlYXRlXG5pZiAoIU9iamVjdC5jcmVhdGUpIHtcblx0T2JqZWN0LmNyZWF0ZSA9IChmdW5jdGlvbigpe1xuXHRcdGZ1bmN0aW9uIEYoKXt9XG5cblx0XHRyZXR1cm4gZnVuY3Rpb24obyl7XG5cdFx0XHRpZiAoYXJndW1lbnRzLmxlbmd0aCAhPT0gMSkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ09iamVjdC5jcmVhdGUgaW1wbGVtZW50YXRpb24gb25seSBhY2NlcHRzIG9uZSBwYXJhbWV0ZXIuJyk7XG5cdFx0XHR9XG5cdFx0XHRGLnByb3RvdHlwZSA9IG87XG5cdFx0XHRyZXR1cm4gbmV3IEYoKTtcblx0XHR9O1xuXHR9KSgpO1xufVxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvaXNBcnJheT9yZWRpcmVjdGxvY2FsZT1lbi1VUyZyZWRpcmVjdHNsdWc9SmF2YVNjcmlwdCUyRlJlZmVyZW5jZSUyRkdsb2JhbF9PYmplY3RzJTJGQXJyYXklMkZpc0FycmF5XG5pZighQXJyYXkuaXNBcnJheSkge1xuXHRBcnJheS5pc0FycmF5ID0gZnVuY3Rpb24gKHZBcmcpIHtcblx0XHRyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZBcmcpID09PSBcIltvYmplY3QgQXJyYXldXCI7XG5cdH07XG59XG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9pbmRleE9mP3JlZGlyZWN0bG9jYWxlPWVuLVVTJnJlZGlyZWN0c2x1Zz1KYXZhU2NyaXB0JTJGUmVmZXJlbmNlJTJGR2xvYmFsX09iamVjdHMlMkZBcnJheSUyRmluZGV4T2ZcbmlmICghQXJyYXkucHJvdG90eXBlLmluZGV4T2YpIHtcblx0QXJyYXkucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbiAoc2VhcmNoRWxlbWVudCAvKiwgZnJvbUluZGV4ICovICkge1xuXHRcdGlmICh0aGlzID09PSBudWxsKSB7XG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG5cdFx0fVxuXHRcdHZhciB0ID0gT2JqZWN0KHRoaXMpO1xuXHRcdHZhciBsZW4gPSB0Lmxlbmd0aCA+Pj4gMDtcblxuXHRcdGlmIChsZW4gPT09IDApIHtcblx0XHRcdHJldHVybiAtMTtcblx0XHR9XG5cdFx0dmFyIG4gPSAwO1xuXHRcdGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuXHRcdFx0biA9IE51bWJlcihhcmd1bWVudHNbMV0pO1xuXHRcdFx0aWYgKG4gIT09IG4pIHsgLy8gc2hvcnRjdXQgZm9yIHZlcmlmeWluZyBpZiBpdCdzIE5hTlxuXHRcdFx0XHRuID0gMDtcblx0XHRcdH0gZWxzZSBpZiAobiAhPT0gMCAmJiBuICE9PSBJbmZpbml0eSAmJiBuICE9PSAtSW5maW5pdHkpIHtcblx0XHRcdFx0biA9IChuID4gMCB8fCAtMSkgKiBNYXRoLmZsb29yKE1hdGguYWJzKG4pKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKG4gPj0gbGVuKSB7XG5cdFx0XHRyZXR1cm4gLTE7XG5cdFx0fVxuXHRcdHZhciBrID0gbiA+PSAwID8gbiA6IE1hdGgubWF4KGxlbiAtIE1hdGguYWJzKG4pLCAwKTtcblx0XHRmb3IgKDsgayA8IGxlbjsgaysrKSB7XG5cdFx0XHRpZiAoayBpbiB0ICYmIHRba10gPT09IHNlYXJjaEVsZW1lbnQpIHtcblx0XHRcdFx0cmV0dXJuIGs7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiAtMTtcblx0fTtcbn1cblxuLy8gR3J1bmdleSBPYmplY3QuaXNGcm96ZW4gaGFja1xuaWYgKCFPYmplY3QuaXNGcm96ZW4pIHtcblx0T2JqZWN0LmlzRnJvemVuID0gZnVuY3Rpb24gKG9iaikge1xuXHRcdHZhciBrZXkgPSBcInR2NF90ZXN0X2Zyb3plbl9rZXlcIjtcblx0XHR3aGlsZSAob2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcblx0XHRcdGtleSArPSBNYXRoLnJhbmRvbSgpO1xuXHRcdH1cblx0XHR0cnkge1xuXHRcdFx0b2JqW2tleV0gPSB0cnVlO1xuXHRcdFx0ZGVsZXRlIG9ialtrZXldO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblx0fTtcbn1cbi8vIEJhc2VkIG9uOiBodHRwczovL2dpdGh1Yi5jb20vZ2VyYWludGx1ZmYvdXJpLXRlbXBsYXRlcywgYnV0IHdpdGggYWxsIHRoZSBkZS1zdWJzdGl0dXRpb24gc3R1ZmYgcmVtb3ZlZFxuXG52YXIgdXJpVGVtcGxhdGVHbG9iYWxNb2RpZmllcnMgPSB7XG5cdFwiK1wiOiB0cnVlLFxuXHRcIiNcIjogdHJ1ZSxcblx0XCIuXCI6IHRydWUsXG5cdFwiL1wiOiB0cnVlLFxuXHRcIjtcIjogdHJ1ZSxcblx0XCI/XCI6IHRydWUsXG5cdFwiJlwiOiB0cnVlXG59O1xudmFyIHVyaVRlbXBsYXRlU3VmZmljZXMgPSB7XG5cdFwiKlwiOiB0cnVlXG59O1xuXG5mdW5jdGlvbiBub3RSZWFsbHlQZXJjZW50RW5jb2RlKHN0cmluZykge1xuXHRyZXR1cm4gZW5jb2RlVVJJKHN0cmluZykucmVwbGFjZSgvJTI1WzAtOV1bMC05XS9nLCBmdW5jdGlvbiAoZG91YmxlRW5jb2RlZCkge1xuXHRcdHJldHVybiBcIiVcIiArIGRvdWJsZUVuY29kZWQuc3Vic3RyaW5nKDMpO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gdXJpVGVtcGxhdGVTdWJzdGl0dXRpb24oc3BlYykge1xuXHR2YXIgbW9kaWZpZXIgPSBcIlwiO1xuXHRpZiAodXJpVGVtcGxhdGVHbG9iYWxNb2RpZmllcnNbc3BlYy5jaGFyQXQoMCldKSB7XG5cdFx0bW9kaWZpZXIgPSBzcGVjLmNoYXJBdCgwKTtcblx0XHRzcGVjID0gc3BlYy5zdWJzdHJpbmcoMSk7XG5cdH1cblx0dmFyIHNlcGFyYXRvciA9IFwiXCI7XG5cdHZhciBwcmVmaXggPSBcIlwiO1xuXHR2YXIgc2hvdWxkRXNjYXBlID0gdHJ1ZTtcblx0dmFyIHNob3dWYXJpYWJsZXMgPSBmYWxzZTtcblx0dmFyIHRyaW1FbXB0eVN0cmluZyA9IGZhbHNlO1xuXHRpZiAobW9kaWZpZXIgPT09ICcrJykge1xuXHRcdHNob3VsZEVzY2FwZSA9IGZhbHNlO1xuXHR9IGVsc2UgaWYgKG1vZGlmaWVyID09PSBcIi5cIikge1xuXHRcdHByZWZpeCA9IFwiLlwiO1xuXHRcdHNlcGFyYXRvciA9IFwiLlwiO1xuXHR9IGVsc2UgaWYgKG1vZGlmaWVyID09PSBcIi9cIikge1xuXHRcdHByZWZpeCA9IFwiL1wiO1xuXHRcdHNlcGFyYXRvciA9IFwiL1wiO1xuXHR9IGVsc2UgaWYgKG1vZGlmaWVyID09PSAnIycpIHtcblx0XHRwcmVmaXggPSBcIiNcIjtcblx0XHRzaG91bGRFc2NhcGUgPSBmYWxzZTtcblx0fSBlbHNlIGlmIChtb2RpZmllciA9PT0gJzsnKSB7XG5cdFx0cHJlZml4ID0gXCI7XCI7XG5cdFx0c2VwYXJhdG9yID0gXCI7XCI7XG5cdFx0c2hvd1ZhcmlhYmxlcyA9IHRydWU7XG5cdFx0dHJpbUVtcHR5U3RyaW5nID0gdHJ1ZTtcblx0fSBlbHNlIGlmIChtb2RpZmllciA9PT0gJz8nKSB7XG5cdFx0cHJlZml4ID0gXCI/XCI7XG5cdFx0c2VwYXJhdG9yID0gXCImXCI7XG5cdFx0c2hvd1ZhcmlhYmxlcyA9IHRydWU7XG5cdH0gZWxzZSBpZiAobW9kaWZpZXIgPT09ICcmJykge1xuXHRcdHByZWZpeCA9IFwiJlwiO1xuXHRcdHNlcGFyYXRvciA9IFwiJlwiO1xuXHRcdHNob3dWYXJpYWJsZXMgPSB0cnVlO1xuXHR9XG5cblx0dmFyIHZhck5hbWVzID0gW107XG5cdHZhciB2YXJMaXN0ID0gc3BlYy5zcGxpdChcIixcIik7XG5cdHZhciB2YXJTcGVjcyA9IFtdO1xuXHR2YXIgdmFyU3BlY01hcCA9IHt9O1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IHZhckxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgdmFyTmFtZSA9IHZhckxpc3RbaV07XG5cdFx0dmFyIHRydW5jYXRlID0gbnVsbDtcblx0XHRpZiAodmFyTmFtZS5pbmRleE9mKFwiOlwiKSAhPT0gLTEpIHtcblx0XHRcdHZhciBwYXJ0cyA9IHZhck5hbWUuc3BsaXQoXCI6XCIpO1xuXHRcdFx0dmFyTmFtZSA9IHBhcnRzWzBdO1xuXHRcdFx0dHJ1bmNhdGUgPSBwYXJzZUludChwYXJ0c1sxXSwgMTApO1xuXHRcdH1cblx0XHR2YXIgc3VmZmljZXMgPSB7fTtcblx0XHR3aGlsZSAodXJpVGVtcGxhdGVTdWZmaWNlc1t2YXJOYW1lLmNoYXJBdCh2YXJOYW1lLmxlbmd0aCAtIDEpXSkge1xuXHRcdFx0c3VmZmljZXNbdmFyTmFtZS5jaGFyQXQodmFyTmFtZS5sZW5ndGggLSAxKV0gPSB0cnVlO1xuXHRcdFx0dmFyTmFtZSA9IHZhck5hbWUuc3Vic3RyaW5nKDAsIHZhck5hbWUubGVuZ3RoIC0gMSk7XG5cdFx0fVxuXHRcdHZhciB2YXJTcGVjID0ge1xuXHRcdFx0dHJ1bmNhdGU6IHRydW5jYXRlLFxuXHRcdFx0bmFtZTogdmFyTmFtZSxcblx0XHRcdHN1ZmZpY2VzOiBzdWZmaWNlc1xuXHRcdH07XG5cdFx0dmFyU3BlY3MucHVzaCh2YXJTcGVjKTtcblx0XHR2YXJTcGVjTWFwW3Zhck5hbWVdID0gdmFyU3BlYztcblx0XHR2YXJOYW1lcy5wdXNoKHZhck5hbWUpO1xuXHR9XG5cdHZhciBzdWJGdW5jdGlvbiA9IGZ1bmN0aW9uICh2YWx1ZUZ1bmN0aW9uKSB7XG5cdFx0dmFyIHJlc3VsdCA9IFwiXCI7XG5cdFx0dmFyIHN0YXJ0SW5kZXggPSAwO1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdmFyU3BlY3MubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciB2YXJTcGVjID0gdmFyU3BlY3NbaV07XG5cdFx0XHR2YXIgdmFsdWUgPSB2YWx1ZUZ1bmN0aW9uKHZhclNwZWMubmFtZSk7XG5cdFx0XHRpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCB8fCAoQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09PSAwKSB8fCAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiBPYmplY3Qua2V5cyh2YWx1ZSkubGVuZ3RoID09PSAwKSkge1xuXHRcdFx0XHRzdGFydEluZGV4Kys7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGkgPT09IHN0YXJ0SW5kZXgpIHtcblx0XHRcdFx0cmVzdWx0ICs9IHByZWZpeDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJlc3VsdCArPSAoc2VwYXJhdG9yIHx8IFwiLFwiKTtcblx0XHRcdH1cblx0XHRcdGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuXHRcdFx0XHRpZiAoc2hvd1ZhcmlhYmxlcykge1xuXHRcdFx0XHRcdHJlc3VsdCArPSB2YXJTcGVjLm5hbWUgKyBcIj1cIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IHZhbHVlLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdFx0aWYgKGogPiAwKSB7XG5cdFx0XHRcdFx0XHRyZXN1bHQgKz0gdmFyU3BlYy5zdWZmaWNlc1snKiddID8gKHNlcGFyYXRvciB8fCBcIixcIikgOiBcIixcIjtcblx0XHRcdFx0XHRcdGlmICh2YXJTcGVjLnN1ZmZpY2VzWycqJ10gJiYgc2hvd1ZhcmlhYmxlcykge1xuXHRcdFx0XHRcdFx0XHRyZXN1bHQgKz0gdmFyU3BlYy5uYW1lICsgXCI9XCI7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJlc3VsdCArPSBzaG91bGRFc2NhcGUgPyBlbmNvZGVVUklDb21wb25lbnQodmFsdWVbal0pLnJlcGxhY2UoLyEvZywgXCIlMjFcIikgOiBub3RSZWFsbHlQZXJjZW50RW5jb2RlKHZhbHVlW2pdKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpIHtcblx0XHRcdFx0aWYgKHNob3dWYXJpYWJsZXMgJiYgIXZhclNwZWMuc3VmZmljZXNbJyonXSkge1xuXHRcdFx0XHRcdHJlc3VsdCArPSB2YXJTcGVjLm5hbWUgKyBcIj1cIjtcblx0XHRcdFx0fVxuXHRcdFx0XHR2YXIgZmlyc3QgPSB0cnVlO1xuXHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcblx0XHRcdFx0XHRpZiAoIWZpcnN0KSB7XG5cdFx0XHRcdFx0XHRyZXN1bHQgKz0gdmFyU3BlYy5zdWZmaWNlc1snKiddID8gKHNlcGFyYXRvciB8fCBcIixcIikgOiBcIixcIjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Zmlyc3QgPSBmYWxzZTtcblx0XHRcdFx0XHRyZXN1bHQgKz0gc2hvdWxkRXNjYXBlID8gZW5jb2RlVVJJQ29tcG9uZW50KGtleSkucmVwbGFjZSgvIS9nLCBcIiUyMVwiKSA6IG5vdFJlYWxseVBlcmNlbnRFbmNvZGUoa2V5KTtcblx0XHRcdFx0XHRyZXN1bHQgKz0gdmFyU3BlYy5zdWZmaWNlc1snKiddID8gJz0nIDogXCIsXCI7XG5cdFx0XHRcdFx0cmVzdWx0ICs9IHNob3VsZEVzY2FwZSA/IGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZVtrZXldKS5yZXBsYWNlKC8hL2csIFwiJTIxXCIpIDogbm90UmVhbGx5UGVyY2VudEVuY29kZSh2YWx1ZVtrZXldKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKHNob3dWYXJpYWJsZXMpIHtcblx0XHRcdFx0XHRyZXN1bHQgKz0gdmFyU3BlYy5uYW1lO1xuXHRcdFx0XHRcdGlmICghdHJpbUVtcHR5U3RyaW5nIHx8IHZhbHVlICE9PSBcIlwiKSB7XG5cdFx0XHRcdFx0XHRyZXN1bHQgKz0gXCI9XCI7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICh2YXJTcGVjLnRydW5jYXRlICE9IG51bGwpIHtcblx0XHRcdFx0XHR2YWx1ZSA9IHZhbHVlLnN1YnN0cmluZygwLCB2YXJTcGVjLnRydW5jYXRlKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXN1bHQgKz0gc2hvdWxkRXNjYXBlID8gZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKS5yZXBsYWNlKC8hL2csIFwiJTIxXCIpOiBub3RSZWFsbHlQZXJjZW50RW5jb2RlKHZhbHVlKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fTtcblx0c3ViRnVuY3Rpb24udmFyTmFtZXMgPSB2YXJOYW1lcztcblx0cmV0dXJuIHtcblx0XHRwcmVmaXg6IHByZWZpeCxcblx0XHRzdWJzdGl0dXRpb246IHN1YkZ1bmN0aW9uXG5cdH07XG59XG5cbmZ1bmN0aW9uIFVyaVRlbXBsYXRlKHRlbXBsYXRlKSB7XG5cdGlmICghKHRoaXMgaW5zdGFuY2VvZiBVcmlUZW1wbGF0ZSkpIHtcblx0XHRyZXR1cm4gbmV3IFVyaVRlbXBsYXRlKHRlbXBsYXRlKTtcblx0fVxuXHR2YXIgcGFydHMgPSB0ZW1wbGF0ZS5zcGxpdChcIntcIik7XG5cdHZhciB0ZXh0UGFydHMgPSBbcGFydHMuc2hpZnQoKV07XG5cdHZhciBwcmVmaXhlcyA9IFtdO1xuXHR2YXIgc3Vic3RpdHV0aW9ucyA9IFtdO1xuXHR2YXIgdmFyTmFtZXMgPSBbXTtcblx0d2hpbGUgKHBhcnRzLmxlbmd0aCA+IDApIHtcblx0XHR2YXIgcGFydCA9IHBhcnRzLnNoaWZ0KCk7XG5cdFx0dmFyIHNwZWMgPSBwYXJ0LnNwbGl0KFwifVwiKVswXTtcblx0XHR2YXIgcmVtYWluZGVyID0gcGFydC5zdWJzdHJpbmcoc3BlYy5sZW5ndGggKyAxKTtcblx0XHR2YXIgZnVuY3MgPSB1cmlUZW1wbGF0ZVN1YnN0aXR1dGlvbihzcGVjKTtcblx0XHRzdWJzdGl0dXRpb25zLnB1c2goZnVuY3Muc3Vic3RpdHV0aW9uKTtcblx0XHRwcmVmaXhlcy5wdXNoKGZ1bmNzLnByZWZpeCk7XG5cdFx0dGV4dFBhcnRzLnB1c2gocmVtYWluZGVyKTtcblx0XHR2YXJOYW1lcyA9IHZhck5hbWVzLmNvbmNhdChmdW5jcy5zdWJzdGl0dXRpb24udmFyTmFtZXMpO1xuXHR9XG5cdHRoaXMuZmlsbCA9IGZ1bmN0aW9uICh2YWx1ZUZ1bmN0aW9uKSB7XG5cdFx0dmFyIHJlc3VsdCA9IHRleHRQYXJ0c1swXTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN1YnN0aXR1dGlvbnMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBzdWJzdGl0dXRpb24gPSBzdWJzdGl0dXRpb25zW2ldO1xuXHRcdFx0cmVzdWx0ICs9IHN1YnN0aXR1dGlvbih2YWx1ZUZ1bmN0aW9uKTtcblx0XHRcdHJlc3VsdCArPSB0ZXh0UGFydHNbaSArIDFdO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9O1xuXHR0aGlzLnZhck5hbWVzID0gdmFyTmFtZXM7XG5cdHRoaXMudGVtcGxhdGUgPSB0ZW1wbGF0ZTtcbn1cblVyaVRlbXBsYXRlLnByb3RvdHlwZSA9IHtcblx0dG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gdGhpcy50ZW1wbGF0ZTtcblx0fSxcblx0ZmlsbEZyb21PYmplY3Q6IGZ1bmN0aW9uIChvYmopIHtcblx0XHRyZXR1cm4gdGhpcy5maWxsKGZ1bmN0aW9uICh2YXJOYW1lKSB7XG5cdFx0XHRyZXR1cm4gb2JqW3Zhck5hbWVdO1xuXHRcdH0pO1xuXHR9XG59O1xudmFyIFZhbGlkYXRvckNvbnRleHQgPSBmdW5jdGlvbiBWYWxpZGF0b3JDb250ZXh0KHBhcmVudCwgY29sbGVjdE11bHRpcGxlLCBlcnJvclJlcG9ydGVyLCBjaGVja1JlY3Vyc2l2ZSwgdHJhY2tVbmtub3duUHJvcGVydGllcykge1xuXHR0aGlzLm1pc3NpbmcgPSBbXTtcblx0dGhpcy5taXNzaW5nTWFwID0ge307XG5cdHRoaXMuZm9ybWF0VmFsaWRhdG9ycyA9IHBhcmVudCA/IE9iamVjdC5jcmVhdGUocGFyZW50LmZvcm1hdFZhbGlkYXRvcnMpIDoge307XG5cdHRoaXMuc2NoZW1hcyA9IHBhcmVudCA/IE9iamVjdC5jcmVhdGUocGFyZW50LnNjaGVtYXMpIDoge307XG5cdHRoaXMuY29sbGVjdE11bHRpcGxlID0gY29sbGVjdE11bHRpcGxlO1xuXHR0aGlzLmVycm9ycyA9IFtdO1xuXHR0aGlzLmhhbmRsZUVycm9yID0gY29sbGVjdE11bHRpcGxlID8gdGhpcy5jb2xsZWN0RXJyb3IgOiB0aGlzLnJldHVybkVycm9yO1xuXHRpZiAoY2hlY2tSZWN1cnNpdmUpIHtcblx0XHR0aGlzLmNoZWNrUmVjdXJzaXZlID0gdHJ1ZTtcblx0XHR0aGlzLnNjYW5uZWQgPSBbXTtcblx0XHR0aGlzLnNjYW5uZWRGcm96ZW4gPSBbXTtcblx0XHR0aGlzLnNjYW5uZWRGcm96ZW5TY2hlbWFzID0gW107XG5cdFx0dGhpcy5zY2FubmVkRnJvemVuVmFsaWRhdGlvbkVycm9ycyA9IFtdO1xuXHRcdHRoaXMudmFsaWRhdGVkU2NoZW1hc0tleSA9ICd0djRfdmFsaWRhdGlvbl9pZCc7XG5cdFx0dGhpcy52YWxpZGF0aW9uRXJyb3JzS2V5ID0gJ3R2NF92YWxpZGF0aW9uX2Vycm9yc19pZCc7XG5cdH1cblx0aWYgKHRyYWNrVW5rbm93blByb3BlcnRpZXMpIHtcblx0XHR0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMgPSB0cnVlO1xuXHRcdHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzID0ge307XG5cdFx0dGhpcy51bmtub3duUHJvcGVydHlQYXRocyA9IHt9O1xuXHR9XG5cdHRoaXMuZXJyb3JSZXBvcnRlciA9IGVycm9yUmVwb3J0ZXIgfHwgZGVmYXVsdEVycm9yUmVwb3J0ZXIoJ2VuJyk7XG5cdGlmICh0eXBlb2YgdGhpcy5lcnJvclJlcG9ydGVyID09PSAnc3RyaW5nJykge1xuXHRcdHRocm93IG5ldyBFcnJvcignZGVidWcnKTtcblx0fVxuXHR0aGlzLmRlZmluZWRLZXl3b3JkcyA9IHt9O1xuXHRpZiAocGFyZW50KSB7XG5cdFx0Zm9yICh2YXIga2V5IGluIHBhcmVudC5kZWZpbmVkS2V5d29yZHMpIHtcblx0XHRcdHRoaXMuZGVmaW5lZEtleXdvcmRzW2tleV0gPSBwYXJlbnQuZGVmaW5lZEtleXdvcmRzW2tleV0uc2xpY2UoMCk7XG5cdFx0fVxuXHR9XG59O1xuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUuZGVmaW5lS2V5d29yZCA9IGZ1bmN0aW9uIChrZXl3b3JkLCBrZXl3b3JkRnVuY3Rpb24pIHtcblx0dGhpcy5kZWZpbmVkS2V5d29yZHNba2V5d29yZF0gPSB0aGlzLmRlZmluZWRLZXl3b3Jkc1trZXl3b3JkXSB8fCBbXTtcblx0dGhpcy5kZWZpbmVkS2V5d29yZHNba2V5d29yZF0ucHVzaChrZXl3b3JkRnVuY3Rpb24pO1xufTtcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLmNyZWF0ZUVycm9yID0gZnVuY3Rpb24gKGNvZGUsIG1lc3NhZ2VQYXJhbXMsIGRhdGFQYXRoLCBzY2hlbWFQYXRoLCBzdWJFcnJvcnMsIGRhdGEsIHNjaGVtYSkge1xuXHR2YXIgZXJyb3IgPSBuZXcgVmFsaWRhdGlvbkVycm9yKGNvZGUsIG1lc3NhZ2VQYXJhbXMsIGRhdGFQYXRoLCBzY2hlbWFQYXRoLCBzdWJFcnJvcnMpO1xuXHRlcnJvci5tZXNzYWdlID0gdGhpcy5lcnJvclJlcG9ydGVyKGVycm9yLCBkYXRhLCBzY2hlbWEpO1xuXHRyZXR1cm4gZXJyb3I7XG59O1xuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUucmV0dXJuRXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcblx0cmV0dXJuIGVycm9yO1xufTtcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLmNvbGxlY3RFcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuXHRpZiAoZXJyb3IpIHtcblx0XHR0aGlzLmVycm9ycy5wdXNoKGVycm9yKTtcblx0fVxuXHRyZXR1cm4gbnVsbDtcbn07XG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS5wcmVmaXhFcnJvcnMgPSBmdW5jdGlvbiAoc3RhcnRJbmRleCwgZGF0YVBhdGgsIHNjaGVtYVBhdGgpIHtcblx0Zm9yICh2YXIgaSA9IHN0YXJ0SW5kZXg7IGkgPCB0aGlzLmVycm9ycy5sZW5ndGg7IGkrKykge1xuXHRcdHRoaXMuZXJyb3JzW2ldID0gdGhpcy5lcnJvcnNbaV0ucHJlZml4V2l0aChkYXRhUGF0aCwgc2NoZW1hUGF0aCk7XG5cdH1cblx0cmV0dXJuIHRoaXM7XG59O1xuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUuYmFuVW5rbm93blByb3BlcnRpZXMgPSBmdW5jdGlvbiAoZGF0YSwgc2NoZW1hKSB7XG5cdGZvciAodmFyIHVua25vd25QYXRoIGluIHRoaXMudW5rbm93blByb3BlcnR5UGF0aHMpIHtcblx0XHR2YXIgZXJyb3IgPSB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuVU5LTk9XTl9QUk9QRVJUWSwge3BhdGg6IHVua25vd25QYXRofSwgdW5rbm93blBhdGgsIFwiXCIsIG51bGwsIGRhdGEsIHNjaGVtYSk7XG5cdFx0dmFyIHJlc3VsdCA9IHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpO1xuXHRcdGlmIChyZXN1bHQpIHtcblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBudWxsO1xufTtcblxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUuYWRkRm9ybWF0ID0gZnVuY3Rpb24gKGZvcm1hdCwgdmFsaWRhdG9yKSB7XG5cdGlmICh0eXBlb2YgZm9ybWF0ID09PSAnb2JqZWN0Jykge1xuXHRcdGZvciAodmFyIGtleSBpbiBmb3JtYXQpIHtcblx0XHRcdHRoaXMuYWRkRm9ybWF0KGtleSwgZm9ybWF0W2tleV0pO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXHR0aGlzLmZvcm1hdFZhbGlkYXRvcnNbZm9ybWF0XSA9IHZhbGlkYXRvcjtcbn07XG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS5yZXNvbHZlUmVmcyA9IGZ1bmN0aW9uIChzY2hlbWEsIHVybEhpc3RvcnkpIHtcblx0aWYgKHNjaGVtYVsnJHJlZiddICE9PSB1bmRlZmluZWQpIHtcblx0XHR1cmxIaXN0b3J5ID0gdXJsSGlzdG9yeSB8fCB7fTtcblx0XHRpZiAodXJsSGlzdG9yeVtzY2hlbWFbJyRyZWYnXV0pIHtcblx0XHRcdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuQ0lSQ1VMQVJfUkVGRVJFTkNFLCB7dXJsczogT2JqZWN0LmtleXModXJsSGlzdG9yeSkuam9pbignLCAnKX0sICcnLCAnJywgbnVsbCwgdW5kZWZpbmVkLCBzY2hlbWEpO1xuXHRcdH1cblx0XHR1cmxIaXN0b3J5W3NjaGVtYVsnJHJlZiddXSA9IHRydWU7XG5cdFx0c2NoZW1hID0gdGhpcy5nZXRTY2hlbWEoc2NoZW1hWyckcmVmJ10sIHVybEhpc3RvcnkpO1xuXHR9XG5cdHJldHVybiBzY2hlbWE7XG59O1xuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUuZ2V0U2NoZW1hID0gZnVuY3Rpb24gKHVybCwgdXJsSGlzdG9yeSkge1xuXHR2YXIgc2NoZW1hO1xuXHRpZiAodGhpcy5zY2hlbWFzW3VybF0gIT09IHVuZGVmaW5lZCkge1xuXHRcdHNjaGVtYSA9IHRoaXMuc2NoZW1hc1t1cmxdO1xuXHRcdHJldHVybiB0aGlzLnJlc29sdmVSZWZzKHNjaGVtYSwgdXJsSGlzdG9yeSk7XG5cdH1cblx0dmFyIGJhc2VVcmwgPSB1cmw7XG5cdHZhciBmcmFnbWVudCA9IFwiXCI7XG5cdGlmICh1cmwuaW5kZXhPZignIycpICE9PSAtMSkge1xuXHRcdGZyYWdtZW50ID0gdXJsLnN1YnN0cmluZyh1cmwuaW5kZXhPZihcIiNcIikgKyAxKTtcblx0XHRiYXNlVXJsID0gdXJsLnN1YnN0cmluZygwLCB1cmwuaW5kZXhPZihcIiNcIikpO1xuXHR9XG5cdGlmICh0eXBlb2YgdGhpcy5zY2hlbWFzW2Jhc2VVcmxdID09PSAnb2JqZWN0Jykge1xuXHRcdHNjaGVtYSA9IHRoaXMuc2NoZW1hc1tiYXNlVXJsXTtcblx0XHR2YXIgcG9pbnRlclBhdGggPSBkZWNvZGVVUklDb21wb25lbnQoZnJhZ21lbnQpO1xuXHRcdGlmIChwb2ludGVyUGF0aCA9PT0gXCJcIikge1xuXHRcdFx0cmV0dXJuIHRoaXMucmVzb2x2ZVJlZnMoc2NoZW1hLCB1cmxIaXN0b3J5KTtcblx0XHR9IGVsc2UgaWYgKHBvaW50ZXJQYXRoLmNoYXJBdCgwKSAhPT0gXCIvXCIpIHtcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdHZhciBwYXJ0cyA9IHBvaW50ZXJQYXRoLnNwbGl0KFwiL1wiKS5zbGljZSgxKTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgY29tcG9uZW50ID0gcGFydHNbaV0ucmVwbGFjZSgvfjEvZywgXCIvXCIpLnJlcGxhY2UoL34wL2csIFwiflwiKTtcblx0XHRcdGlmIChzY2hlbWFbY29tcG9uZW50XSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHNjaGVtYSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRzY2hlbWEgPSBzY2hlbWFbY29tcG9uZW50XTtcblx0XHR9XG5cdFx0aWYgKHNjaGVtYSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5yZXNvbHZlUmVmcyhzY2hlbWEsIHVybEhpc3RvcnkpO1xuXHRcdH1cblx0fVxuXHRpZiAodGhpcy5taXNzaW5nW2Jhc2VVcmxdID09PSB1bmRlZmluZWQpIHtcblx0XHR0aGlzLm1pc3NpbmcucHVzaChiYXNlVXJsKTtcblx0XHR0aGlzLm1pc3NpbmdbYmFzZVVybF0gPSBiYXNlVXJsO1xuXHRcdHRoaXMubWlzc2luZ01hcFtiYXNlVXJsXSA9IGJhc2VVcmw7XG5cdH1cbn07XG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS5zZWFyY2hTY2hlbWFzID0gZnVuY3Rpb24gKHNjaGVtYSwgdXJsKSB7XG5cdGlmIChBcnJheS5pc0FycmF5KHNjaGVtYSkpIHtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHNjaGVtYS5sZW5ndGg7IGkrKykge1xuXHRcdFx0dGhpcy5zZWFyY2hTY2hlbWFzKHNjaGVtYVtpXSwgdXJsKTtcblx0XHR9XG5cdH0gZWxzZSBpZiAoc2NoZW1hICYmIHR5cGVvZiBzY2hlbWEgPT09IFwib2JqZWN0XCIpIHtcblx0XHRpZiAodHlwZW9mIHNjaGVtYS5pZCA9PT0gXCJzdHJpbmdcIikge1xuXHRcdFx0aWYgKGlzVHJ1c3RlZFVybCh1cmwsIHNjaGVtYS5pZCkpIHtcblx0XHRcdFx0aWYgKHRoaXMuc2NoZW1hc1tzY2hlbWEuaWRdID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHR0aGlzLnNjaGVtYXNbc2NoZW1hLmlkXSA9IHNjaGVtYTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRmb3IgKHZhciBrZXkgaW4gc2NoZW1hKSB7XG5cdFx0XHRpZiAoa2V5ICE9PSBcImVudW1cIikge1xuXHRcdFx0XHRpZiAodHlwZW9mIHNjaGVtYVtrZXldID09PSBcIm9iamVjdFwiKSB7XG5cdFx0XHRcdFx0dGhpcy5zZWFyY2hTY2hlbWFzKHNjaGVtYVtrZXldLCB1cmwpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGtleSA9PT0gXCIkcmVmXCIpIHtcblx0XHRcdFx0XHR2YXIgdXJpID0gZ2V0RG9jdW1lbnRVcmkoc2NoZW1hW2tleV0pO1xuXHRcdFx0XHRcdGlmICh1cmkgJiYgdGhpcy5zY2hlbWFzW3VyaV0gPT09IHVuZGVmaW5lZCAmJiB0aGlzLm1pc3NpbmdNYXBbdXJpXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHR0aGlzLm1pc3NpbmdNYXBbdXJpXSA9IHVyaTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cbn07XG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS5hZGRTY2hlbWEgPSBmdW5jdGlvbiAodXJsLCBzY2hlbWEpIHtcblx0Ly9vdmVybG9hZFxuXHRpZiAodHlwZW9mIHVybCAhPT0gJ3N0cmluZycgfHwgdHlwZW9mIHNjaGVtYSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRpZiAodHlwZW9mIHVybCA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHVybC5pZCA9PT0gJ3N0cmluZycpIHtcblx0XHRcdHNjaGVtYSA9IHVybDtcblx0XHRcdHVybCA9IHNjaGVtYS5pZDtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHR9XG5cdGlmICh1cmwgPT09IGdldERvY3VtZW50VXJpKHVybCkgKyBcIiNcIikge1xuXHRcdC8vIFJlbW92ZSBlbXB0eSBmcmFnbWVudFxuXHRcdHVybCA9IGdldERvY3VtZW50VXJpKHVybCk7XG5cdH1cblx0dGhpcy5zY2hlbWFzW3VybF0gPSBzY2hlbWE7XG5cdGRlbGV0ZSB0aGlzLm1pc3NpbmdNYXBbdXJsXTtcblx0bm9ybVNjaGVtYShzY2hlbWEsIHVybCk7XG5cdHRoaXMuc2VhcmNoU2NoZW1hcyhzY2hlbWEsIHVybCk7XG59O1xuXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS5nZXRTY2hlbWFNYXAgPSBmdW5jdGlvbiAoKSB7XG5cdHZhciBtYXAgPSB7fTtcblx0Zm9yICh2YXIga2V5IGluIHRoaXMuc2NoZW1hcykge1xuXHRcdG1hcFtrZXldID0gdGhpcy5zY2hlbWFzW2tleV07XG5cdH1cblx0cmV0dXJuIG1hcDtcbn07XG5cblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLmdldFNjaGVtYVVyaXMgPSBmdW5jdGlvbiAoZmlsdGVyUmVnRXhwKSB7XG5cdHZhciBsaXN0ID0gW107XG5cdGZvciAodmFyIGtleSBpbiB0aGlzLnNjaGVtYXMpIHtcblx0XHRpZiAoIWZpbHRlclJlZ0V4cCB8fCBmaWx0ZXJSZWdFeHAudGVzdChrZXkpKSB7XG5cdFx0XHRsaXN0LnB1c2goa2V5KTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIGxpc3Q7XG59O1xuXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS5nZXRNaXNzaW5nVXJpcyA9IGZ1bmN0aW9uIChmaWx0ZXJSZWdFeHApIHtcblx0dmFyIGxpc3QgPSBbXTtcblx0Zm9yICh2YXIga2V5IGluIHRoaXMubWlzc2luZ01hcCkge1xuXHRcdGlmICghZmlsdGVyUmVnRXhwIHx8IGZpbHRlclJlZ0V4cC50ZXN0KGtleSkpIHtcblx0XHRcdGxpc3QucHVzaChrZXkpO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gbGlzdDtcbn07XG5cblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLmRyb3BTY2hlbWFzID0gZnVuY3Rpb24gKCkge1xuXHR0aGlzLnNjaGVtYXMgPSB7fTtcblx0dGhpcy5yZXNldCgpO1xufTtcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuXHR0aGlzLm1pc3NpbmcgPSBbXTtcblx0dGhpcy5taXNzaW5nTWFwID0ge307XG5cdHRoaXMuZXJyb3JzID0gW107XG59O1xuXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZUFsbCA9IGZ1bmN0aW9uIChkYXRhLCBzY2hlbWEsIGRhdGFQYXRoUGFydHMsIHNjaGVtYVBhdGhQYXJ0cywgZGF0YVBvaW50ZXJQYXRoKSB7XG5cdHZhciB0b3BMZXZlbDtcblx0c2NoZW1hID0gdGhpcy5yZXNvbHZlUmVmcyhzY2hlbWEpO1xuXHRpZiAoIXNjaGVtYSkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9IGVsc2UgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFZhbGlkYXRpb25FcnJvcikge1xuXHRcdHRoaXMuZXJyb3JzLnB1c2goc2NoZW1hKTtcblx0XHRyZXR1cm4gc2NoZW1hO1xuXHR9XG5cblx0dmFyIHN0YXJ0RXJyb3JDb3VudCA9IHRoaXMuZXJyb3JzLmxlbmd0aDtcblx0dmFyIGZyb3plbkluZGV4LCBzY2FubmVkRnJvemVuU2NoZW1hSW5kZXggPSBudWxsLCBzY2FubmVkU2NoZW1hc0luZGV4ID0gbnVsbDtcblx0aWYgKHRoaXMuY2hlY2tSZWN1cnNpdmUgJiYgZGF0YSAmJiB0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcpIHtcblx0XHR0b3BMZXZlbCA9ICF0aGlzLnNjYW5uZWQubGVuZ3RoO1xuXHRcdGlmIChkYXRhW3RoaXMudmFsaWRhdGVkU2NoZW1hc0tleV0pIHtcblx0XHRcdHZhciBzY2hlbWFJbmRleCA9IGRhdGFbdGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5XS5pbmRleE9mKHNjaGVtYSk7XG5cdFx0XHRpZiAoc2NoZW1hSW5kZXggIT09IC0xKSB7XG5cdFx0XHRcdHRoaXMuZXJyb3JzID0gdGhpcy5lcnJvcnMuY29uY2F0KGRhdGFbdGhpcy52YWxpZGF0aW9uRXJyb3JzS2V5XVtzY2hlbWFJbmRleF0pO1xuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKE9iamVjdC5pc0Zyb3plbihkYXRhKSkge1xuXHRcdFx0ZnJvemVuSW5kZXggPSB0aGlzLnNjYW5uZWRGcm96ZW4uaW5kZXhPZihkYXRhKTtcblx0XHRcdGlmIChmcm96ZW5JbmRleCAhPT0gLTEpIHtcblx0XHRcdFx0dmFyIGZyb3plblNjaGVtYUluZGV4ID0gdGhpcy5zY2FubmVkRnJvemVuU2NoZW1hc1tmcm96ZW5JbmRleF0uaW5kZXhPZihzY2hlbWEpO1xuXHRcdFx0XHRpZiAoZnJvemVuU2NoZW1hSW5kZXggIT09IC0xKSB7XG5cdFx0XHRcdFx0dGhpcy5lcnJvcnMgPSB0aGlzLmVycm9ycy5jb25jYXQodGhpcy5zY2FubmVkRnJvemVuVmFsaWRhdGlvbkVycm9yc1tmcm96ZW5JbmRleF1bZnJvemVuU2NoZW1hSW5kZXhdKTtcblx0XHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHR0aGlzLnNjYW5uZWQucHVzaChkYXRhKTtcblx0XHRpZiAoT2JqZWN0LmlzRnJvemVuKGRhdGEpKSB7XG5cdFx0XHRpZiAoZnJvemVuSW5kZXggPT09IC0xKSB7XG5cdFx0XHRcdGZyb3plbkluZGV4ID0gdGhpcy5zY2FubmVkRnJvemVuLmxlbmd0aDtcblx0XHRcdFx0dGhpcy5zY2FubmVkRnJvemVuLnB1c2goZGF0YSk7XG5cdFx0XHRcdHRoaXMuc2Nhbm5lZEZyb3plblNjaGVtYXMucHVzaChbXSk7XG5cdFx0XHR9XG5cdFx0XHRzY2FubmVkRnJvemVuU2NoZW1hSW5kZXggPSB0aGlzLnNjYW5uZWRGcm96ZW5TY2hlbWFzW2Zyb3plbkluZGV4XS5sZW5ndGg7XG5cdFx0XHR0aGlzLnNjYW5uZWRGcm96ZW5TY2hlbWFzW2Zyb3plbkluZGV4XVtzY2FubmVkRnJvemVuU2NoZW1hSW5kZXhdID0gc2NoZW1hO1xuXHRcdFx0dGhpcy5zY2FubmVkRnJvemVuVmFsaWRhdGlvbkVycm9yc1tmcm96ZW5JbmRleF1bc2Nhbm5lZEZyb3plblNjaGVtYUluZGV4XSA9IFtdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAoIWRhdGFbdGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5XSkge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkYXRhLCB0aGlzLnZhbGlkYXRlZFNjaGVtYXNLZXksIHtcblx0XHRcdFx0XHRcdHZhbHVlOiBbXSxcblx0XHRcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkYXRhLCB0aGlzLnZhbGlkYXRpb25FcnJvcnNLZXksIHtcblx0XHRcdFx0XHRcdHZhbHVlOiBbXSxcblx0XHRcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdFx0Ly9JRSA3Lzggd29ya2Fyb3VuZFxuXHRcdFx0XHRcdGRhdGFbdGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5XSA9IFtdO1xuXHRcdFx0XHRcdGRhdGFbdGhpcy52YWxpZGF0aW9uRXJyb3JzS2V5XSA9IFtdO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRzY2FubmVkU2NoZW1hc0luZGV4ID0gZGF0YVt0aGlzLnZhbGlkYXRlZFNjaGVtYXNLZXldLmxlbmd0aDtcblx0XHRcdGRhdGFbdGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5XVtzY2FubmVkU2NoZW1hc0luZGV4XSA9IHNjaGVtYTtcblx0XHRcdGRhdGFbdGhpcy52YWxpZGF0aW9uRXJyb3JzS2V5XVtzY2FubmVkU2NoZW1hc0luZGV4XSA9IFtdO1xuXHRcdH1cblx0fVxuXG5cdHZhciBlcnJvckNvdW50ID0gdGhpcy5lcnJvcnMubGVuZ3RoO1xuXHR2YXIgZXJyb3IgPSB0aGlzLnZhbGlkYXRlQmFzaWMoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXG5cdFx0fHwgdGhpcy52YWxpZGF0ZU51bWVyaWMoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXG5cdFx0fHwgdGhpcy52YWxpZGF0ZVN0cmluZyhkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcblx0XHR8fCB0aGlzLnZhbGlkYXRlQXJyYXkoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXG5cdFx0fHwgdGhpcy52YWxpZGF0ZU9iamVjdChkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcblx0XHR8fCB0aGlzLnZhbGlkYXRlQ29tYmluYXRpb25zKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxuXHRcdHx8IHRoaXMudmFsaWRhdGVIeXBlcm1lZGlhKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxuXHRcdHx8IHRoaXMudmFsaWRhdGVGb3JtYXQoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXG5cdFx0fHwgdGhpcy52YWxpZGF0ZURlZmluZWRLZXl3b3JkcyhkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcblx0XHR8fCBudWxsO1xuXG5cdGlmICh0b3BMZXZlbCkge1xuXHRcdHdoaWxlICh0aGlzLnNjYW5uZWQubGVuZ3RoKSB7XG5cdFx0XHR2YXIgaXRlbSA9IHRoaXMuc2Nhbm5lZC5wb3AoKTtcblx0XHRcdGRlbGV0ZSBpdGVtW3RoaXMudmFsaWRhdGVkU2NoZW1hc0tleV07XG5cdFx0fVxuXHRcdHRoaXMuc2Nhbm5lZEZyb3plbiA9IFtdO1xuXHRcdHRoaXMuc2Nhbm5lZEZyb3plblNjaGVtYXMgPSBbXTtcblx0fVxuXG5cdGlmIChlcnJvciB8fCBlcnJvckNvdW50ICE9PSB0aGlzLmVycm9ycy5sZW5ndGgpIHtcblx0XHR3aGlsZSAoKGRhdGFQYXRoUGFydHMgJiYgZGF0YVBhdGhQYXJ0cy5sZW5ndGgpIHx8IChzY2hlbWFQYXRoUGFydHMgJiYgc2NoZW1hUGF0aFBhcnRzLmxlbmd0aCkpIHtcblx0XHRcdHZhciBkYXRhUGFydCA9IChkYXRhUGF0aFBhcnRzICYmIGRhdGFQYXRoUGFydHMubGVuZ3RoKSA/IFwiXCIgKyBkYXRhUGF0aFBhcnRzLnBvcCgpIDogbnVsbDtcblx0XHRcdHZhciBzY2hlbWFQYXJ0ID0gKHNjaGVtYVBhdGhQYXJ0cyAmJiBzY2hlbWFQYXRoUGFydHMubGVuZ3RoKSA/IFwiXCIgKyBzY2hlbWFQYXRoUGFydHMucG9wKCkgOiBudWxsO1xuXHRcdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRcdGVycm9yID0gZXJyb3IucHJlZml4V2l0aChkYXRhUGFydCwgc2NoZW1hUGFydCk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLnByZWZpeEVycm9ycyhlcnJvckNvdW50LCBkYXRhUGFydCwgc2NoZW1hUGFydCk7XG5cdFx0fVxuXHR9XG5cblx0aWYgKHNjYW5uZWRGcm96ZW5TY2hlbWFJbmRleCAhPT0gbnVsbCkge1xuXHRcdHRoaXMuc2Nhbm5lZEZyb3plblZhbGlkYXRpb25FcnJvcnNbZnJvemVuSW5kZXhdW3NjYW5uZWRGcm96ZW5TY2hlbWFJbmRleF0gPSB0aGlzLmVycm9ycy5zbGljZShzdGFydEVycm9yQ291bnQpO1xuXHR9IGVsc2UgaWYgKHNjYW5uZWRTY2hlbWFzSW5kZXggIT09IG51bGwpIHtcblx0XHRkYXRhW3RoaXMudmFsaWRhdGlvbkVycm9yc0tleV1bc2Nhbm5lZFNjaGVtYXNJbmRleF0gPSB0aGlzLmVycm9ycy5zbGljZShzdGFydEVycm9yQ291bnQpO1xuXHR9XG5cblx0cmV0dXJuIHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpO1xufTtcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlRm9ybWF0ID0gZnVuY3Rpb24gKGRhdGEsIHNjaGVtYSkge1xuXHRpZiAodHlwZW9mIHNjaGVtYS5mb3JtYXQgIT09ICdzdHJpbmcnIHx8ICF0aGlzLmZvcm1hdFZhbGlkYXRvcnNbc2NoZW1hLmZvcm1hdF0pIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXHR2YXIgZXJyb3JNZXNzYWdlID0gdGhpcy5mb3JtYXRWYWxpZGF0b3JzW3NjaGVtYS5mb3JtYXRdLmNhbGwobnVsbCwgZGF0YSwgc2NoZW1hKTtcblx0aWYgKHR5cGVvZiBlcnJvck1lc3NhZ2UgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBlcnJvck1lc3NhZ2UgPT09ICdudW1iZXInKSB7XG5cdFx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5GT1JNQVRfQ1VTVE9NLCB7bWVzc2FnZTogZXJyb3JNZXNzYWdlfSwgJycsICcvZm9ybWF0JywgbnVsbCwgZGF0YSwgc2NoZW1hKTtcblx0fSBlbHNlIGlmIChlcnJvck1lc3NhZ2UgJiYgdHlwZW9mIGVycm9yTWVzc2FnZSA9PT0gJ29iamVjdCcpIHtcblx0XHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLkZPUk1BVF9DVVNUT00sIHttZXNzYWdlOiBlcnJvck1lc3NhZ2UubWVzc2FnZSB8fCBcIj9cIn0sIGVycm9yTWVzc2FnZS5kYXRhUGF0aCB8fCAnJywgZXJyb3JNZXNzYWdlLnNjaGVtYVBhdGggfHwgXCIvZm9ybWF0XCIsIG51bGwsIGRhdGEsIHNjaGVtYSk7XG5cdH1cblx0cmV0dXJuIG51bGw7XG59O1xuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVEZWZpbmVkS2V5d29yZHMgPSBmdW5jdGlvbiAoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpIHtcblx0Zm9yICh2YXIga2V5IGluIHRoaXMuZGVmaW5lZEtleXdvcmRzKSB7XG5cdFx0aWYgKHR5cGVvZiBzY2hlbWFba2V5XSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblx0XHR2YXIgdmFsaWRhdGlvbkZ1bmN0aW9ucyA9IHRoaXMuZGVmaW5lZEtleXdvcmRzW2tleV07XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB2YWxpZGF0aW9uRnVuY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgZnVuYyA9IHZhbGlkYXRpb25GdW5jdGlvbnNbaV07XG5cdFx0XHR2YXIgcmVzdWx0ID0gZnVuYyhkYXRhLCBzY2hlbWFba2V5XSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpO1xuXHRcdFx0aWYgKHR5cGVvZiByZXN1bHQgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiByZXN1bHQgPT09ICdudW1iZXInKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuS0VZV09SRF9DVVNUT00sIHtrZXk6IGtleSwgbWVzc2FnZTogcmVzdWx0fSwgJycsICcnLCBudWxsLCBkYXRhLCBzY2hlbWEpLnByZWZpeFdpdGgobnVsbCwga2V5KTtcblx0XHRcdH0gZWxzZSBpZiAocmVzdWx0ICYmIHR5cGVvZiByZXN1bHQgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdHZhciBjb2RlID0gcmVzdWx0LmNvZGU7XG5cdFx0XHRcdGlmICh0eXBlb2YgY29kZSA9PT0gJ3N0cmluZycpIHtcblx0XHRcdFx0XHRpZiAoIUVycm9yQ29kZXNbY29kZV0pIHtcblx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcignVW5kZWZpbmVkIGVycm9yIGNvZGUgKHVzZSBkZWZpbmVFcnJvcik6ICcgKyBjb2RlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y29kZSA9IEVycm9yQ29kZXNbY29kZV07XG5cdFx0XHRcdH0gZWxzZSBpZiAodHlwZW9mIGNvZGUgIT09ICdudW1iZXInKSB7XG5cdFx0XHRcdFx0Y29kZSA9IEVycm9yQ29kZXMuS0VZV09SRF9DVVNUT007XG5cdFx0XHRcdH1cblx0XHRcdFx0dmFyIG1lc3NhZ2VQYXJhbXMgPSAodHlwZW9mIHJlc3VsdC5tZXNzYWdlID09PSAnb2JqZWN0JykgPyByZXN1bHQubWVzc2FnZSA6IHtrZXk6IGtleSwgbWVzc2FnZTogcmVzdWx0Lm1lc3NhZ2UgfHwgXCI/XCJ9O1xuXHRcdFx0XHR2YXIgc2NoZW1hUGF0aCA9IHJlc3VsdC5zY2hlbWFQYXRoIHx8IChcIi9cIiArIGtleS5yZXBsYWNlKC9+L2csICd+MCcpLnJlcGxhY2UoL1xcLy9nLCAnfjEnKSk7XG5cdFx0XHRcdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKGNvZGUsIG1lc3NhZ2VQYXJhbXMsIHJlc3VsdC5kYXRhUGF0aCB8fCBudWxsLCBzY2hlbWFQYXRoLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRyZXR1cm4gbnVsbDtcbn07XG5cbmZ1bmN0aW9uIHJlY3Vyc2l2ZUNvbXBhcmUoQSwgQikge1xuXHRpZiAoQSA9PT0gQikge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cdGlmIChBICYmIEIgJiYgdHlwZW9mIEEgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIEIgPT09IFwib2JqZWN0XCIpIHtcblx0XHRpZiAoQXJyYXkuaXNBcnJheShBKSAhPT0gQXJyYXkuaXNBcnJheShCKSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShBKSkge1xuXHRcdFx0aWYgKEEubGVuZ3RoICE9PSBCLmxlbmd0aCkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IEEubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0aWYgKCFyZWN1cnNpdmVDb21wYXJlKEFbaV0sIEJbaV0pKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBrZXk7XG5cdFx0XHRmb3IgKGtleSBpbiBBKSB7XG5cdFx0XHRcdGlmIChCW2tleV0gPT09IHVuZGVmaW5lZCAmJiBBW2tleV0gIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0Zm9yIChrZXkgaW4gQikge1xuXHRcdFx0XHRpZiAoQVtrZXldID09PSB1bmRlZmluZWQgJiYgQltrZXldICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGZvciAoa2V5IGluIEEpIHtcblx0XHRcdFx0aWYgKCFyZWN1cnNpdmVDb21wYXJlKEFba2V5XSwgQltrZXldKSkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXHRyZXR1cm4gZmFsc2U7XG59XG5cblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlQmFzaWMgPSBmdW5jdGlvbiB2YWxpZGF0ZUJhc2ljKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKSB7XG5cdHZhciBlcnJvcjtcblx0aWYgKGVycm9yID0gdGhpcy52YWxpZGF0ZVR5cGUoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpKSB7XG5cdFx0cmV0dXJuIGVycm9yLnByZWZpeFdpdGgobnVsbCwgXCJ0eXBlXCIpO1xuXHR9XG5cdGlmIChlcnJvciA9IHRoaXMudmFsaWRhdGVFbnVtKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKSkge1xuXHRcdHJldHVybiBlcnJvci5wcmVmaXhXaXRoKG51bGwsIFwidHlwZVwiKTtcblx0fVxuXHRyZXR1cm4gbnVsbDtcbn07XG5cblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlVHlwZSA9IGZ1bmN0aW9uIHZhbGlkYXRlVHlwZShkYXRhLCBzY2hlbWEpIHtcblx0aWYgKHNjaGVtYS50eXBlID09PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXHR2YXIgZGF0YVR5cGUgPSB0eXBlb2YgZGF0YTtcblx0aWYgKGRhdGEgPT09IG51bGwpIHtcblx0XHRkYXRhVHlwZSA9IFwibnVsbFwiO1xuXHR9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcblx0XHRkYXRhVHlwZSA9IFwiYXJyYXlcIjtcblx0fVxuXHR2YXIgYWxsb3dlZFR5cGVzID0gc2NoZW1hLnR5cGU7XG5cdGlmICghQXJyYXkuaXNBcnJheShhbGxvd2VkVHlwZXMpKSB7XG5cdFx0YWxsb3dlZFR5cGVzID0gW2FsbG93ZWRUeXBlc107XG5cdH1cblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGFsbG93ZWRUeXBlcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciB0eXBlID0gYWxsb3dlZFR5cGVzW2ldO1xuXHRcdGlmICh0eXBlID09PSBkYXRhVHlwZSB8fCAodHlwZSA9PT0gXCJpbnRlZ2VyXCIgJiYgZGF0YVR5cGUgPT09IFwibnVtYmVyXCIgJiYgKGRhdGEgJSAxID09PSAwKSkpIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLklOVkFMSURfVFlQRSwge3R5cGU6IGRhdGFUeXBlLCBleHBlY3RlZDogYWxsb3dlZFR5cGVzLmpvaW4oXCIvXCIpfSwgJycsICcnLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xufTtcblxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVFbnVtID0gZnVuY3Rpb24gdmFsaWRhdGVFbnVtKGRhdGEsIHNjaGVtYSkge1xuXHRpZiAoc2NoZW1hW1wiZW51bVwiXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzY2hlbWFbXCJlbnVtXCJdLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGVudW1WYWwgPSBzY2hlbWFbXCJlbnVtXCJdW2ldO1xuXHRcdGlmIChyZWN1cnNpdmVDb21wYXJlKGRhdGEsIGVudW1WYWwpKSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5FTlVNX01JU01BVENILCB7dmFsdWU6ICh0eXBlb2YgSlNPTiAhPT0gJ3VuZGVmaW5lZCcpID8gSlNPTi5zdHJpbmdpZnkoZGF0YSkgOiBkYXRhfSwgJycsICcnLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xufTtcblxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVOdW1lcmljID0gZnVuY3Rpb24gdmFsaWRhdGVOdW1lcmljKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKSB7XG5cdHJldHVybiB0aGlzLnZhbGlkYXRlTXVsdGlwbGVPZihkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcblx0XHR8fCB0aGlzLnZhbGlkYXRlTWluTWF4KGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxuXHRcdHx8IHRoaXMudmFsaWRhdGVOYU4oZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXG5cdFx0fHwgbnVsbDtcbn07XG5cbnZhciBDTE9TRV9FTk9VR0hfTE9XID0gTWF0aC5wb3coMiwgLTUxKTtcbnZhciBDTE9TRV9FTk9VR0hfSElHSCA9IDEgLSBDTE9TRV9FTk9VR0hfTE9XO1xuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVNdWx0aXBsZU9mID0gZnVuY3Rpb24gdmFsaWRhdGVNdWx0aXBsZU9mKGRhdGEsIHNjaGVtYSkge1xuXHR2YXIgbXVsdGlwbGVPZiA9IHNjaGVtYS5tdWx0aXBsZU9mIHx8IHNjaGVtYS5kaXZpc2libGVCeTtcblx0aWYgKG11bHRpcGxlT2YgPT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cdGlmICh0eXBlb2YgZGF0YSA9PT0gXCJudW1iZXJcIikge1xuXHRcdHZhciByZW1haW5kZXIgPSAoZGF0YS9tdWx0aXBsZU9mKSUxO1xuXHRcdGlmIChyZW1haW5kZXIgPj0gQ0xPU0VfRU5PVUdIX0xPVyAmJiByZW1haW5kZXIgPCBDTE9TRV9FTk9VR0hfSElHSCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5OVU1CRVJfTVVMVElQTEVfT0YsIHt2YWx1ZTogZGF0YSwgbXVsdGlwbGVPZjogbXVsdGlwbGVPZn0sICcnLCAnJywgbnVsbCwgZGF0YSwgc2NoZW1hKTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIG51bGw7XG59O1xuXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZU1pbk1heCA9IGZ1bmN0aW9uIHZhbGlkYXRlTWluTWF4KGRhdGEsIHNjaGVtYSkge1xuXHRpZiAodHlwZW9mIGRhdGEgIT09IFwibnVtYmVyXCIpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXHRpZiAoc2NoZW1hLm1pbmltdW0gIT09IHVuZGVmaW5lZCkge1xuXHRcdGlmIChkYXRhIDwgc2NoZW1hLm1pbmltdW0pIHtcblx0XHRcdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuTlVNQkVSX01JTklNVU0sIHt2YWx1ZTogZGF0YSwgbWluaW11bTogc2NoZW1hLm1pbmltdW19LCAnJywgJy9taW5pbXVtJywgbnVsbCwgZGF0YSwgc2NoZW1hKTtcblx0XHR9XG5cdFx0aWYgKHNjaGVtYS5leGNsdXNpdmVNaW5pbXVtICYmIGRhdGEgPT09IHNjaGVtYS5taW5pbXVtKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLk5VTUJFUl9NSU5JTVVNX0VYQ0xVU0lWRSwge3ZhbHVlOiBkYXRhLCBtaW5pbXVtOiBzY2hlbWEubWluaW11bX0sICcnLCAnL2V4Y2x1c2l2ZU1pbmltdW0nLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xuXHRcdH1cblx0fVxuXHRpZiAoc2NoZW1hLm1heGltdW0gIT09IHVuZGVmaW5lZCkge1xuXHRcdGlmIChkYXRhID4gc2NoZW1hLm1heGltdW0pIHtcblx0XHRcdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuTlVNQkVSX01BWElNVU0sIHt2YWx1ZTogZGF0YSwgbWF4aW11bTogc2NoZW1hLm1heGltdW19LCAnJywgJy9tYXhpbXVtJywgbnVsbCwgZGF0YSwgc2NoZW1hKTtcblx0XHR9XG5cdFx0aWYgKHNjaGVtYS5leGNsdXNpdmVNYXhpbXVtICYmIGRhdGEgPT09IHNjaGVtYS5tYXhpbXVtKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLk5VTUJFUl9NQVhJTVVNX0VYQ0xVU0lWRSwge3ZhbHVlOiBkYXRhLCBtYXhpbXVtOiBzY2hlbWEubWF4aW11bX0sICcnLCAnL2V4Y2x1c2l2ZU1heGltdW0nLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gbnVsbDtcbn07XG5cblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlTmFOID0gZnVuY3Rpb24gdmFsaWRhdGVOYU4oZGF0YSwgc2NoZW1hKSB7XG5cdGlmICh0eXBlb2YgZGF0YSAhPT0gXCJudW1iZXJcIikge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cdGlmIChpc05hTihkYXRhKSA9PT0gdHJ1ZSB8fCBkYXRhID09PSBJbmZpbml0eSB8fCBkYXRhID09PSAtSW5maW5pdHkpIHtcblx0XHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLk5VTUJFUl9OT1RfQV9OVU1CRVIsIHt2YWx1ZTogZGF0YX0sICcnLCAnL3R5cGUnLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xuXHR9XG5cdHJldHVybiBudWxsO1xufTtcblxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVTdHJpbmcgPSBmdW5jdGlvbiB2YWxpZGF0ZVN0cmluZyhkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCkge1xuXHRyZXR1cm4gdGhpcy52YWxpZGF0ZVN0cmluZ0xlbmd0aChkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcblx0XHR8fCB0aGlzLnZhbGlkYXRlU3RyaW5nUGF0dGVybihkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcblx0XHR8fCBudWxsO1xufTtcblxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVTdHJpbmdMZW5ndGggPSBmdW5jdGlvbiB2YWxpZGF0ZVN0cmluZ0xlbmd0aChkYXRhLCBzY2hlbWEpIHtcblx0aWYgKHR5cGVvZiBkYXRhICE9PSBcInN0cmluZ1wiKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblx0aWYgKHNjaGVtYS5taW5MZW5ndGggIT09IHVuZGVmaW5lZCkge1xuXHRcdGlmIChkYXRhLmxlbmd0aCA8IHNjaGVtYS5taW5MZW5ndGgpIHtcblx0XHRcdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuU1RSSU5HX0xFTkdUSF9TSE9SVCwge2xlbmd0aDogZGF0YS5sZW5ndGgsIG1pbmltdW06IHNjaGVtYS5taW5MZW5ndGh9LCAnJywgJy9taW5MZW5ndGgnLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xuXHRcdH1cblx0fVxuXHRpZiAoc2NoZW1hLm1heExlbmd0aCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0aWYgKGRhdGEubGVuZ3RoID4gc2NoZW1hLm1heExlbmd0aCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5TVFJJTkdfTEVOR1RIX0xPTkcsIHtsZW5ndGg6IGRhdGEubGVuZ3RoLCBtYXhpbXVtOiBzY2hlbWEubWF4TGVuZ3RofSwgJycsICcvbWF4TGVuZ3RoJywgbnVsbCwgZGF0YSwgc2NoZW1hKTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIG51bGw7XG59O1xuXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZVN0cmluZ1BhdHRlcm4gPSBmdW5jdGlvbiB2YWxpZGF0ZVN0cmluZ1BhdHRlcm4oZGF0YSwgc2NoZW1hKSB7XG5cdGlmICh0eXBlb2YgZGF0YSAhPT0gXCJzdHJpbmdcIiB8fCAodHlwZW9mIHNjaGVtYS5wYXR0ZXJuICE9PSBcInN0cmluZ1wiICYmICEoc2NoZW1hLnBhdHRlcm4gaW5zdGFuY2VvZiBSZWdFeHApKSkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cdHZhciByZWdleHA7XG5cdGlmIChzY2hlbWEucGF0dGVybiBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuXHQgIHJlZ2V4cCA9IHNjaGVtYS5wYXR0ZXJuO1xuXHR9XG5cdGVsc2Uge1xuXHQgIHZhciBib2R5LCBmbGFncyA9ICcnO1xuXHQgIC8vIENoZWNrIGZvciByZWd1bGFyIGV4cHJlc3Npb24gbGl0ZXJhbHNcblx0ICAvLyBAc2VlIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi81LjEvI3NlYy03LjguNVxuXHQgIHZhciBsaXRlcmFsID0gc2NoZW1hLnBhdHRlcm4ubWF0Y2goL15cXC8oLispXFwvKFtpbWddKikkLyk7XG5cdCAgaWYgKGxpdGVyYWwpIHtcblx0ICAgIGJvZHkgPSBsaXRlcmFsWzFdO1xuXHQgICAgZmxhZ3MgPSBsaXRlcmFsWzJdO1xuXHQgIH1cblx0ICBlbHNlIHtcblx0ICAgIGJvZHkgPSBzY2hlbWEucGF0dGVybjtcblx0ICB9XG5cdCAgcmVnZXhwID0gbmV3IFJlZ0V4cChib2R5LCBmbGFncyk7XG5cdH1cblx0aWYgKCFyZWdleHAudGVzdChkYXRhKSkge1xuXHRcdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuU1RSSU5HX1BBVFRFUk4sIHtwYXR0ZXJuOiBzY2hlbWEucGF0dGVybn0sICcnLCAnL3BhdHRlcm4nLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xuXHR9XG5cdHJldHVybiBudWxsO1xufTtcblxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVBcnJheSA9IGZ1bmN0aW9uIHZhbGlkYXRlQXJyYXkoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpIHtcblx0aWYgKCFBcnJheS5pc0FycmF5KGRhdGEpKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblx0cmV0dXJuIHRoaXMudmFsaWRhdGVBcnJheUxlbmd0aChkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcblx0XHR8fCB0aGlzLnZhbGlkYXRlQXJyYXlVbmlxdWVJdGVtcyhkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcblx0XHR8fCB0aGlzLnZhbGlkYXRlQXJyYXlJdGVtcyhkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcblx0XHR8fCBudWxsO1xufTtcblxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVBcnJheUxlbmd0aCA9IGZ1bmN0aW9uIHZhbGlkYXRlQXJyYXlMZW5ndGgoZGF0YSwgc2NoZW1hKSB7XG5cdHZhciBlcnJvcjtcblx0aWYgKHNjaGVtYS5taW5JdGVtcyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0aWYgKGRhdGEubGVuZ3RoIDwgc2NoZW1hLm1pbkl0ZW1zKSB7XG5cdFx0XHRlcnJvciA9IHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5BUlJBWV9MRU5HVEhfU0hPUlQsIHtsZW5ndGg6IGRhdGEubGVuZ3RoLCBtaW5pbXVtOiBzY2hlbWEubWluSXRlbXN9LCAnJywgJy9taW5JdGVtcycsIG51bGwsIGRhdGEsIHNjaGVtYSk7XG5cdFx0XHRpZiAodGhpcy5oYW5kbGVFcnJvcihlcnJvcikpIHtcblx0XHRcdFx0cmV0dXJuIGVycm9yO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRpZiAoc2NoZW1hLm1heEl0ZW1zICE9PSB1bmRlZmluZWQpIHtcblx0XHRpZiAoZGF0YS5sZW5ndGggPiBzY2hlbWEubWF4SXRlbXMpIHtcblx0XHRcdGVycm9yID0gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLkFSUkFZX0xFTkdUSF9MT05HLCB7bGVuZ3RoOiBkYXRhLmxlbmd0aCwgbWF4aW11bTogc2NoZW1hLm1heEl0ZW1zfSwgJycsICcvbWF4SXRlbXMnLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xuXHRcdFx0aWYgKHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpKSB7XG5cdFx0XHRcdHJldHVybiBlcnJvcjtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0cmV0dXJuIG51bGw7XG59O1xuXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZUFycmF5VW5pcXVlSXRlbXMgPSBmdW5jdGlvbiB2YWxpZGF0ZUFycmF5VW5pcXVlSXRlbXMoZGF0YSwgc2NoZW1hKSB7XG5cdGlmIChzY2hlbWEudW5pcXVlSXRlbXMpIHtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcblx0XHRcdGZvciAodmFyIGogPSBpICsgMTsgaiA8IGRhdGEubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0aWYgKHJlY3Vyc2l2ZUNvbXBhcmUoZGF0YVtpXSwgZGF0YVtqXSkpIHtcblx0XHRcdFx0XHR2YXIgZXJyb3IgPSB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuQVJSQVlfVU5JUVVFLCB7bWF0Y2gxOiBpLCBtYXRjaDI6IGp9LCAnJywgJy91bmlxdWVJdGVtcycsIG51bGwsIGRhdGEsIHNjaGVtYSk7XG5cdFx0XHRcdFx0aWYgKHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZXJyb3I7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdHJldHVybiBudWxsO1xufTtcblxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVBcnJheUl0ZW1zID0gZnVuY3Rpb24gdmFsaWRhdGVBcnJheUl0ZW1zKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKSB7XG5cdGlmIChzY2hlbWEuaXRlbXMgPT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cdHZhciBlcnJvciwgaTtcblx0aWYgKEFycmF5LmlzQXJyYXkoc2NoZW1hLml0ZW1zKSkge1xuXHRcdGZvciAoaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAoaSA8IHNjaGVtYS5pdGVtcy5sZW5ndGgpIHtcblx0XHRcdFx0aWYgKGVycm9yID0gdGhpcy52YWxpZGF0ZUFsbChkYXRhW2ldLCBzY2hlbWEuaXRlbXNbaV0sIFtpXSwgW1wiaXRlbXNcIiwgaV0sIGRhdGFQb2ludGVyUGF0aCArIFwiL1wiICsgaSkpIHtcblx0XHRcdFx0XHRyZXR1cm4gZXJyb3I7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoc2NoZW1hLmFkZGl0aW9uYWxJdGVtcyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGlmICh0eXBlb2Ygc2NoZW1hLmFkZGl0aW9uYWxJdGVtcyA9PT0gXCJib29sZWFuXCIpIHtcblx0XHRcdFx0XHRpZiAoIXNjaGVtYS5hZGRpdGlvbmFsSXRlbXMpIHtcblx0XHRcdFx0XHRcdGVycm9yID0gKHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5BUlJBWV9BRERJVElPTkFMX0lURU1TLCB7fSwgJy8nICsgaSwgJy9hZGRpdGlvbmFsSXRlbXMnLCBudWxsLCBkYXRhLCBzY2hlbWEpKTtcblx0XHRcdFx0XHRcdGlmICh0aGlzLmhhbmRsZUVycm9yKGVycm9yKSkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZXJyb3I7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2UgaWYgKGVycm9yID0gdGhpcy52YWxpZGF0ZUFsbChkYXRhW2ldLCBzY2hlbWEuYWRkaXRpb25hbEl0ZW1zLCBbaV0sIFtcImFkZGl0aW9uYWxJdGVtc1wiXSwgZGF0YVBvaW50ZXJQYXRoICsgXCIvXCIgKyBpKSkge1xuXHRcdFx0XHRcdHJldHVybiBlcnJvcjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIHtcblx0XHRmb3IgKGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuXHRcdFx0aWYgKGVycm9yID0gdGhpcy52YWxpZGF0ZUFsbChkYXRhW2ldLCBzY2hlbWEuaXRlbXMsIFtpXSwgW1wiaXRlbXNcIl0sIGRhdGFQb2ludGVyUGF0aCArIFwiL1wiICsgaSkpIHtcblx0XHRcdFx0cmV0dXJuIGVycm9yO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRyZXR1cm4gbnVsbDtcbn07XG5cblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlT2JqZWN0ID0gZnVuY3Rpb24gdmFsaWRhdGVPYmplY3QoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpIHtcblx0aWYgKHR5cGVvZiBkYXRhICE9PSBcIm9iamVjdFwiIHx8IGRhdGEgPT09IG51bGwgfHwgQXJyYXkuaXNBcnJheShkYXRhKSkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cdHJldHVybiB0aGlzLnZhbGlkYXRlT2JqZWN0TWluTWF4UHJvcGVydGllcyhkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcblx0XHR8fCB0aGlzLnZhbGlkYXRlT2JqZWN0UmVxdWlyZWRQcm9wZXJ0aWVzKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxuXHRcdHx8IHRoaXMudmFsaWRhdGVPYmplY3RQcm9wZXJ0aWVzKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxuXHRcdHx8IHRoaXMudmFsaWRhdGVPYmplY3REZXBlbmRlbmNpZXMoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXG5cdFx0fHwgbnVsbDtcbn07XG5cblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlT2JqZWN0TWluTWF4UHJvcGVydGllcyA9IGZ1bmN0aW9uIHZhbGlkYXRlT2JqZWN0TWluTWF4UHJvcGVydGllcyhkYXRhLCBzY2hlbWEpIHtcblx0dmFyIGtleXMgPSBPYmplY3Qua2V5cyhkYXRhKTtcblx0dmFyIGVycm9yO1xuXHRpZiAoc2NoZW1hLm1pblByb3BlcnRpZXMgIT09IHVuZGVmaW5lZCkge1xuXHRcdGlmIChrZXlzLmxlbmd0aCA8IHNjaGVtYS5taW5Qcm9wZXJ0aWVzKSB7XG5cdFx0XHRlcnJvciA9IHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5PQkpFQ1RfUFJPUEVSVElFU19NSU5JTVVNLCB7cHJvcGVydHlDb3VudDoga2V5cy5sZW5ndGgsIG1pbmltdW06IHNjaGVtYS5taW5Qcm9wZXJ0aWVzfSwgJycsICcvbWluUHJvcGVydGllcycsIG51bGwsIGRhdGEsIHNjaGVtYSk7XG5cdFx0XHRpZiAodGhpcy5oYW5kbGVFcnJvcihlcnJvcikpIHtcblx0XHRcdFx0cmV0dXJuIGVycm9yO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRpZiAoc2NoZW1hLm1heFByb3BlcnRpZXMgIT09IHVuZGVmaW5lZCkge1xuXHRcdGlmIChrZXlzLmxlbmd0aCA+IHNjaGVtYS5tYXhQcm9wZXJ0aWVzKSB7XG5cdFx0XHRlcnJvciA9IHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5PQkpFQ1RfUFJPUEVSVElFU19NQVhJTVVNLCB7cHJvcGVydHlDb3VudDoga2V5cy5sZW5ndGgsIG1heGltdW06IHNjaGVtYS5tYXhQcm9wZXJ0aWVzfSwgJycsICcvbWF4UHJvcGVydGllcycsIG51bGwsIGRhdGEsIHNjaGVtYSk7XG5cdFx0XHRpZiAodGhpcy5oYW5kbGVFcnJvcihlcnJvcikpIHtcblx0XHRcdFx0cmV0dXJuIGVycm9yO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRyZXR1cm4gbnVsbDtcbn07XG5cblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlT2JqZWN0UmVxdWlyZWRQcm9wZXJ0aWVzID0gZnVuY3Rpb24gdmFsaWRhdGVPYmplY3RSZXF1aXJlZFByb3BlcnRpZXMoZGF0YSwgc2NoZW1hKSB7XG5cdGlmIChzY2hlbWEucmVxdWlyZWQgIT09IHVuZGVmaW5lZCkge1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc2NoZW1hLnJlcXVpcmVkLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIga2V5ID0gc2NoZW1hLnJlcXVpcmVkW2ldO1xuXHRcdFx0aWYgKGRhdGFba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHZhciBlcnJvciA9IHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5PQkpFQ1RfUkVRVUlSRUQsIHtrZXk6IGtleX0sICcnLCAnL3JlcXVpcmVkLycgKyBpLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xuXHRcdFx0XHRpZiAodGhpcy5oYW5kbGVFcnJvcihlcnJvcikpIHtcblx0XHRcdFx0XHRyZXR1cm4gZXJyb3I7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblx0cmV0dXJuIG51bGw7XG59O1xuXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZU9iamVjdFByb3BlcnRpZXMgPSBmdW5jdGlvbiB2YWxpZGF0ZU9iamVjdFByb3BlcnRpZXMoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpIHtcblx0dmFyIGVycm9yO1xuXHRmb3IgKHZhciBrZXkgaW4gZGF0YSkge1xuXHRcdHZhciBrZXlQb2ludGVyUGF0aCA9IGRhdGFQb2ludGVyUGF0aCArIFwiL1wiICsga2V5LnJlcGxhY2UoL34vZywgJ34wJykucmVwbGFjZSgvXFwvL2csICd+MScpO1xuXHRcdHZhciBmb3VuZE1hdGNoID0gZmFsc2U7XG5cdFx0aWYgKHNjaGVtYS5wcm9wZXJ0aWVzICE9PSB1bmRlZmluZWQgJiYgc2NoZW1hLnByb3BlcnRpZXNba2V5XSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRmb3VuZE1hdGNoID0gdHJ1ZTtcblx0XHRcdGlmIChlcnJvciA9IHRoaXMudmFsaWRhdGVBbGwoZGF0YVtrZXldLCBzY2hlbWEucHJvcGVydGllc1trZXldLCBba2V5XSwgW1wicHJvcGVydGllc1wiLCBrZXldLCBrZXlQb2ludGVyUGF0aCkpIHtcblx0XHRcdFx0cmV0dXJuIGVycm9yO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAoc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdGZvciAodmFyIHBhdHRlcm5LZXkgaW4gc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzKSB7XG5cdFx0XHRcdHZhciByZWdleHAgPSBuZXcgUmVnRXhwKHBhdHRlcm5LZXkpO1xuXHRcdFx0XHRpZiAocmVnZXhwLnRlc3Qoa2V5KSkge1xuXHRcdFx0XHRcdGZvdW5kTWF0Y2ggPSB0cnVlO1xuXHRcdFx0XHRcdGlmIChlcnJvciA9IHRoaXMudmFsaWRhdGVBbGwoZGF0YVtrZXldLCBzY2hlbWEucGF0dGVyblByb3BlcnRpZXNbcGF0dGVybktleV0sIFtrZXldLCBbXCJwYXR0ZXJuUHJvcGVydGllc1wiLCBwYXR0ZXJuS2V5XSwga2V5UG9pbnRlclBhdGgpKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZXJyb3I7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmICghZm91bmRNYXRjaCkge1xuXHRcdFx0aWYgKHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGlmICh0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMpIHtcblx0XHRcdFx0XHR0aGlzLmtub3duUHJvcGVydHlQYXRoc1trZXlQb2ludGVyUGF0aF0gPSB0cnVlO1xuXHRcdFx0XHRcdGRlbGV0ZSB0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzW2tleVBvaW50ZXJQYXRoXTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAodHlwZW9mIHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyA9PT0gXCJib29sZWFuXCIpIHtcblx0XHRcdFx0XHRpZiAoIXNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcykge1xuXHRcdFx0XHRcdFx0ZXJyb3IgPSB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuT0JKRUNUX0FERElUSU9OQUxfUFJPUEVSVElFUywge2tleToga2V5fSwgJycsICcvYWRkaXRpb25hbFByb3BlcnRpZXMnLCBudWxsLCBkYXRhLCBzY2hlbWEpLnByZWZpeFdpdGgoa2V5LCBudWxsKTtcblx0XHRcdFx0XHRcdGlmICh0aGlzLmhhbmRsZUVycm9yKGVycm9yKSkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZXJyb3I7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmIChlcnJvciA9IHRoaXMudmFsaWRhdGVBbGwoZGF0YVtrZXldLCBzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMsIFtrZXldLCBbXCJhZGRpdGlvbmFsUHJvcGVydGllc1wiXSwga2V5UG9pbnRlclBhdGgpKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZXJyb3I7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcyAmJiAhdGhpcy5rbm93blByb3BlcnR5UGF0aHNba2V5UG9pbnRlclBhdGhdKSB7XG5cdFx0XHRcdHRoaXMudW5rbm93blByb3BlcnR5UGF0aHNba2V5UG9pbnRlclBhdGhdID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcykge1xuXHRcdFx0dGhpcy5rbm93blByb3BlcnR5UGF0aHNba2V5UG9pbnRlclBhdGhdID0gdHJ1ZTtcblx0XHRcdGRlbGV0ZSB0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzW2tleVBvaW50ZXJQYXRoXTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIG51bGw7XG59O1xuXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZU9iamVjdERlcGVuZGVuY2llcyA9IGZ1bmN0aW9uIHZhbGlkYXRlT2JqZWN0RGVwZW5kZW5jaWVzKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKSB7XG5cdHZhciBlcnJvcjtcblx0aWYgKHNjaGVtYS5kZXBlbmRlbmNpZXMgIT09IHVuZGVmaW5lZCkge1xuXHRcdGZvciAodmFyIGRlcEtleSBpbiBzY2hlbWEuZGVwZW5kZW5jaWVzKSB7XG5cdFx0XHRpZiAoZGF0YVtkZXBLZXldICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0dmFyIGRlcCA9IHNjaGVtYS5kZXBlbmRlbmNpZXNbZGVwS2V5XTtcblx0XHRcdFx0aWYgKHR5cGVvZiBkZXAgPT09IFwic3RyaW5nXCIpIHtcblx0XHRcdFx0XHRpZiAoZGF0YVtkZXBdID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdGVycm9yID0gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLk9CSkVDVF9ERVBFTkRFTkNZX0tFWSwge2tleTogZGVwS2V5LCBtaXNzaW5nOiBkZXB9LCAnJywgJycsIG51bGwsIGRhdGEsIHNjaGVtYSkucHJlZml4V2l0aChudWxsLCBkZXBLZXkpLnByZWZpeFdpdGgobnVsbCwgXCJkZXBlbmRlbmNpZXNcIik7XG5cdFx0XHRcdFx0XHRpZiAodGhpcy5oYW5kbGVFcnJvcihlcnJvcikpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGVycm9yO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGRlcCkpIHtcblx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdFx0dmFyIHJlcXVpcmVkS2V5ID0gZGVwW2ldO1xuXHRcdFx0XHRcdFx0aWYgKGRhdGFbcmVxdWlyZWRLZXldID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdFx0ZXJyb3IgPSB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuT0JKRUNUX0RFUEVOREVOQ1lfS0VZLCB7a2V5OiBkZXBLZXksIG1pc3Npbmc6IHJlcXVpcmVkS2V5fSwgJycsICcvJyArIGksIG51bGwsIGRhdGEsIHNjaGVtYSkucHJlZml4V2l0aChudWxsLCBkZXBLZXkpLnByZWZpeFdpdGgobnVsbCwgXCJkZXBlbmRlbmNpZXNcIik7XG5cdFx0XHRcdFx0XHRcdGlmICh0aGlzLmhhbmRsZUVycm9yKGVycm9yKSkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBlcnJvcjtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZiAoZXJyb3IgPSB0aGlzLnZhbGlkYXRlQWxsKGRhdGEsIGRlcCwgW10sIFtcImRlcGVuZGVuY2llc1wiLCBkZXBLZXldLCBkYXRhUG9pbnRlclBhdGgpKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZXJyb3I7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdHJldHVybiBudWxsO1xufTtcblxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVDb21iaW5hdGlvbnMgPSBmdW5jdGlvbiB2YWxpZGF0ZUNvbWJpbmF0aW9ucyhkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCkge1xuXHRyZXR1cm4gdGhpcy52YWxpZGF0ZUFsbE9mKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxuXHRcdHx8IHRoaXMudmFsaWRhdGVBbnlPZihkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcblx0XHR8fCB0aGlzLnZhbGlkYXRlT25lT2YoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXG5cdFx0fHwgdGhpcy52YWxpZGF0ZU5vdChkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcblx0XHR8fCBudWxsO1xufTtcblxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVBbGxPZiA9IGZ1bmN0aW9uIHZhbGlkYXRlQWxsT2YoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpIHtcblx0aWYgKHNjaGVtYS5hbGxPZiA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblx0dmFyIGVycm9yO1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IHNjaGVtYS5hbGxPZi5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBzdWJTY2hlbWEgPSBzY2hlbWEuYWxsT2ZbaV07XG5cdFx0aWYgKGVycm9yID0gdGhpcy52YWxpZGF0ZUFsbChkYXRhLCBzdWJTY2hlbWEsIFtdLCBbXCJhbGxPZlwiLCBpXSwgZGF0YVBvaW50ZXJQYXRoKSkge1xuXHRcdFx0cmV0dXJuIGVycm9yO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gbnVsbDtcbn07XG5cblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlQW55T2YgPSBmdW5jdGlvbiB2YWxpZGF0ZUFueU9mKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKSB7XG5cdGlmIChzY2hlbWEuYW55T2YgPT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cdHZhciBlcnJvcnMgPSBbXTtcblx0dmFyIHN0YXJ0RXJyb3JDb3VudCA9IHRoaXMuZXJyb3JzLmxlbmd0aDtcblx0dmFyIG9sZFVua25vd25Qcm9wZXJ0eVBhdGhzLCBvbGRLbm93blByb3BlcnR5UGF0aHM7XG5cdGlmICh0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMpIHtcblx0XHRvbGRVbmtub3duUHJvcGVydHlQYXRocyA9IHRoaXMudW5rbm93blByb3BlcnR5UGF0aHM7XG5cdFx0b2xkS25vd25Qcm9wZXJ0eVBhdGhzID0gdGhpcy5rbm93blByb3BlcnR5UGF0aHM7XG5cdH1cblx0dmFyIGVycm9yQXRFbmQgPSB0cnVlO1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IHNjaGVtYS5hbnlPZi5sZW5ndGg7IGkrKykge1xuXHRcdGlmICh0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMpIHtcblx0XHRcdHRoaXMudW5rbm93blByb3BlcnR5UGF0aHMgPSB7fTtcblx0XHRcdHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzID0ge307XG5cdFx0fVxuXHRcdHZhciBzdWJTY2hlbWEgPSBzY2hlbWEuYW55T2ZbaV07XG5cblx0XHR2YXIgZXJyb3JDb3VudCA9IHRoaXMuZXJyb3JzLmxlbmd0aDtcblx0XHR2YXIgZXJyb3IgPSB0aGlzLnZhbGlkYXRlQWxsKGRhdGEsIHN1YlNjaGVtYSwgW10sIFtcImFueU9mXCIsIGldLCBkYXRhUG9pbnRlclBhdGgpO1xuXG5cdFx0aWYgKGVycm9yID09PSBudWxsICYmIGVycm9yQ291bnQgPT09IHRoaXMuZXJyb3JzLmxlbmd0aCkge1xuXHRcdFx0dGhpcy5lcnJvcnMgPSB0aGlzLmVycm9ycy5zbGljZSgwLCBzdGFydEVycm9yQ291bnQpO1xuXG5cdFx0XHRpZiAodGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzKSB7XG5cdFx0XHRcdGZvciAodmFyIGtub3duS2V5IGluIHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzKSB7XG5cdFx0XHRcdFx0b2xkS25vd25Qcm9wZXJ0eVBhdGhzW2tub3duS2V5XSA9IHRydWU7XG5cdFx0XHRcdFx0ZGVsZXRlIG9sZFVua25vd25Qcm9wZXJ0eVBhdGhzW2tub3duS2V5XTtcblx0XHRcdFx0fVxuXHRcdFx0XHRmb3IgKHZhciB1bmtub3duS2V5IGluIHRoaXMudW5rbm93blByb3BlcnR5UGF0aHMpIHtcblx0XHRcdFx0XHRpZiAoIW9sZEtub3duUHJvcGVydHlQYXRoc1t1bmtub3duS2V5XSkge1xuXHRcdFx0XHRcdFx0b2xkVW5rbm93blByb3BlcnR5UGF0aHNbdW5rbm93bktleV0gPSB0cnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBXZSBuZWVkIHRvIGNvbnRpbnVlIGxvb3Bpbmcgc28gd2UgY2F0Y2ggYWxsIHRoZSBwcm9wZXJ0eSBkZWZpbml0aW9ucywgYnV0IHdlIGRvbid0IHdhbnQgdG8gcmV0dXJuIGFuIGVycm9yXG5cdFx0XHRcdGVycm9yQXRFbmQgPSBmYWxzZTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdGVycm9ycy5wdXNoKGVycm9yLnByZWZpeFdpdGgobnVsbCwgXCJcIiArIGkpLnByZWZpeFdpdGgobnVsbCwgXCJhbnlPZlwiKSk7XG5cdFx0fVxuXHR9XG5cdGlmICh0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMpIHtcblx0XHR0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzID0gb2xkVW5rbm93blByb3BlcnR5UGF0aHM7XG5cdFx0dGhpcy5rbm93blByb3BlcnR5UGF0aHMgPSBvbGRLbm93blByb3BlcnR5UGF0aHM7XG5cdH1cblx0aWYgKGVycm9yQXRFbmQpIHtcblx0XHRlcnJvcnMgPSBlcnJvcnMuY29uY2F0KHRoaXMuZXJyb3JzLnNsaWNlKHN0YXJ0RXJyb3JDb3VudCkpO1xuXHRcdHRoaXMuZXJyb3JzID0gdGhpcy5lcnJvcnMuc2xpY2UoMCwgc3RhcnRFcnJvckNvdW50KTtcblx0XHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLkFOWV9PRl9NSVNTSU5HLCB7fSwgXCJcIiwgXCIvYW55T2ZcIiwgZXJyb3JzLCBkYXRhLCBzY2hlbWEpO1xuXHR9XG59O1xuXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZU9uZU9mID0gZnVuY3Rpb24gdmFsaWRhdGVPbmVPZihkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCkge1xuXHRpZiAoc2NoZW1hLm9uZU9mID09PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXHR2YXIgdmFsaWRJbmRleCA9IG51bGw7XG5cdHZhciBlcnJvcnMgPSBbXTtcblx0dmFyIHN0YXJ0RXJyb3JDb3VudCA9IHRoaXMuZXJyb3JzLmxlbmd0aDtcblx0dmFyIG9sZFVua25vd25Qcm9wZXJ0eVBhdGhzLCBvbGRLbm93blByb3BlcnR5UGF0aHM7XG5cdGlmICh0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMpIHtcblx0XHRvbGRVbmtub3duUHJvcGVydHlQYXRocyA9IHRoaXMudW5rbm93blByb3BlcnR5UGF0aHM7XG5cdFx0b2xkS25vd25Qcm9wZXJ0eVBhdGhzID0gdGhpcy5rbm93blByb3BlcnR5UGF0aHM7XG5cdH1cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzY2hlbWEub25lT2YubGVuZ3RoOyBpKyspIHtcblx0XHRpZiAodGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzKSB7XG5cdFx0XHR0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzID0ge307XG5cdFx0XHR0aGlzLmtub3duUHJvcGVydHlQYXRocyA9IHt9O1xuXHRcdH1cblx0XHR2YXIgc3ViU2NoZW1hID0gc2NoZW1hLm9uZU9mW2ldO1xuXG5cdFx0dmFyIGVycm9yQ291bnQgPSB0aGlzLmVycm9ycy5sZW5ndGg7XG5cdFx0dmFyIGVycm9yID0gdGhpcy52YWxpZGF0ZUFsbChkYXRhLCBzdWJTY2hlbWEsIFtdLCBbXCJvbmVPZlwiLCBpXSwgZGF0YVBvaW50ZXJQYXRoKTtcblxuXHRcdGlmIChlcnJvciA9PT0gbnVsbCAmJiBlcnJvckNvdW50ID09PSB0aGlzLmVycm9ycy5sZW5ndGgpIHtcblx0XHRcdGlmICh2YWxpZEluZGV4ID09PSBudWxsKSB7XG5cdFx0XHRcdHZhbGlkSW5kZXggPSBpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5lcnJvcnMgPSB0aGlzLmVycm9ycy5zbGljZSgwLCBzdGFydEVycm9yQ291bnQpO1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLk9ORV9PRl9NVUxUSVBMRSwge2luZGV4MTogdmFsaWRJbmRleCwgaW5kZXgyOiBpfSwgXCJcIiwgXCIvb25lT2ZcIiwgbnVsbCwgZGF0YSwgc2NoZW1hKTtcblx0XHRcdH1cblx0XHRcdGlmICh0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMpIHtcblx0XHRcdFx0Zm9yICh2YXIga25vd25LZXkgaW4gdGhpcy5rbm93blByb3BlcnR5UGF0aHMpIHtcblx0XHRcdFx0XHRvbGRLbm93blByb3BlcnR5UGF0aHNba25vd25LZXldID0gdHJ1ZTtcblx0XHRcdFx0XHRkZWxldGUgb2xkVW5rbm93blByb3BlcnR5UGF0aHNba25vd25LZXldO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGZvciAodmFyIHVua25vd25LZXkgaW4gdGhpcy51bmtub3duUHJvcGVydHlQYXRocykge1xuXHRcdFx0XHRcdGlmICghb2xkS25vd25Qcm9wZXJ0eVBhdGhzW3Vua25vd25LZXldKSB7XG5cdFx0XHRcdFx0XHRvbGRVbmtub3duUHJvcGVydHlQYXRoc1t1bmtub3duS2V5XSA9IHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmIChlcnJvcikge1xuXHRcdFx0ZXJyb3JzLnB1c2goZXJyb3IpO1xuXHRcdH1cblx0fVxuXHRpZiAodGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzKSB7XG5cdFx0dGhpcy51bmtub3duUHJvcGVydHlQYXRocyA9IG9sZFVua25vd25Qcm9wZXJ0eVBhdGhzO1xuXHRcdHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzID0gb2xkS25vd25Qcm9wZXJ0eVBhdGhzO1xuXHR9XG5cdGlmICh2YWxpZEluZGV4ID09PSBudWxsKSB7XG5cdFx0ZXJyb3JzID0gZXJyb3JzLmNvbmNhdCh0aGlzLmVycm9ycy5zbGljZShzdGFydEVycm9yQ291bnQpKTtcblx0XHR0aGlzLmVycm9ycyA9IHRoaXMuZXJyb3JzLnNsaWNlKDAsIHN0YXJ0RXJyb3JDb3VudCk7XG5cdFx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5PTkVfT0ZfTUlTU0lORywge30sIFwiXCIsIFwiL29uZU9mXCIsIGVycm9ycywgZGF0YSwgc2NoZW1hKTtcblx0fSBlbHNlIHtcblx0XHR0aGlzLmVycm9ycyA9IHRoaXMuZXJyb3JzLnNsaWNlKDAsIHN0YXJ0RXJyb3JDb3VudCk7XG5cdH1cblx0cmV0dXJuIG51bGw7XG59O1xuXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZU5vdCA9IGZ1bmN0aW9uIHZhbGlkYXRlTm90KGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKSB7XG5cdGlmIChzY2hlbWEubm90ID09PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXHR2YXIgb2xkRXJyb3JDb3VudCA9IHRoaXMuZXJyb3JzLmxlbmd0aDtcblx0dmFyIG9sZFVua25vd25Qcm9wZXJ0eVBhdGhzLCBvbGRLbm93blByb3BlcnR5UGF0aHM7XG5cdGlmICh0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMpIHtcblx0XHRvbGRVbmtub3duUHJvcGVydHlQYXRocyA9IHRoaXMudW5rbm93blByb3BlcnR5UGF0aHM7XG5cdFx0b2xkS25vd25Qcm9wZXJ0eVBhdGhzID0gdGhpcy5rbm93blByb3BlcnR5UGF0aHM7XG5cdFx0dGhpcy51bmtub3duUHJvcGVydHlQYXRocyA9IHt9O1xuXHRcdHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzID0ge307XG5cdH1cblx0dmFyIGVycm9yID0gdGhpcy52YWxpZGF0ZUFsbChkYXRhLCBzY2hlbWEubm90LCBudWxsLCBudWxsLCBkYXRhUG9pbnRlclBhdGgpO1xuXHR2YXIgbm90RXJyb3JzID0gdGhpcy5lcnJvcnMuc2xpY2Uob2xkRXJyb3JDb3VudCk7XG5cdHRoaXMuZXJyb3JzID0gdGhpcy5lcnJvcnMuc2xpY2UoMCwgb2xkRXJyb3JDb3VudCk7XG5cdGlmICh0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMpIHtcblx0XHR0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzID0gb2xkVW5rbm93blByb3BlcnR5UGF0aHM7XG5cdFx0dGhpcy5rbm93blByb3BlcnR5UGF0aHMgPSBvbGRLbm93blByb3BlcnR5UGF0aHM7XG5cdH1cblx0aWYgKGVycm9yID09PSBudWxsICYmIG5vdEVycm9ycy5sZW5ndGggPT09IDApIHtcblx0XHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLk5PVF9QQVNTRUQsIHt9LCBcIlwiLCBcIi9ub3RcIiwgbnVsbCwgZGF0YSwgc2NoZW1hKTtcblx0fVxuXHRyZXR1cm4gbnVsbDtcbn07XG5cblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlSHlwZXJtZWRpYSA9IGZ1bmN0aW9uIHZhbGlkYXRlQ29tYmluYXRpb25zKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKSB7XG5cdGlmICghc2NoZW1hLmxpbmtzKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblx0dmFyIGVycm9yO1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IHNjaGVtYS5saW5rcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBsZG8gPSBzY2hlbWEubGlua3NbaV07XG5cdFx0aWYgKGxkby5yZWwgPT09IFwiZGVzY3JpYmVkYnlcIikge1xuXHRcdFx0dmFyIHRlbXBsYXRlID0gbmV3IFVyaVRlbXBsYXRlKGxkby5ocmVmKTtcblx0XHRcdHZhciBhbGxQcmVzZW50ID0gdHJ1ZTtcblx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgdGVtcGxhdGUudmFyTmFtZXMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0aWYgKCEodGVtcGxhdGUudmFyTmFtZXNbal0gaW4gZGF0YSkpIHtcblx0XHRcdFx0XHRhbGxQcmVzZW50ID0gZmFsc2U7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGlmIChhbGxQcmVzZW50KSB7XG5cdFx0XHRcdHZhciBzY2hlbWFVcmwgPSB0ZW1wbGF0ZS5maWxsRnJvbU9iamVjdChkYXRhKTtcblx0XHRcdFx0dmFyIHN1YlNjaGVtYSA9IHtcIiRyZWZcIjogc2NoZW1hVXJsfTtcblx0XHRcdFx0aWYgKGVycm9yID0gdGhpcy52YWxpZGF0ZUFsbChkYXRhLCBzdWJTY2hlbWEsIFtdLCBbXCJsaW5rc1wiLCBpXSwgZGF0YVBvaW50ZXJQYXRoKSkge1xuXHRcdFx0XHRcdHJldHVybiBlcnJvcjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxufTtcblxuLy8gcGFyc2VVUkkoKSBhbmQgcmVzb2x2ZVVybCgpIGFyZSBmcm9tIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tLzEwODg4NTBcbi8vICAgLSAgcmVsZWFzZWQgYXMgcHVibGljIGRvbWFpbiBieSBhdXRob3IgKFwiWWFmZmxlXCIpIC0gc2VlIGNvbW1lbnRzIG9uIGdpc3RcblxuZnVuY3Rpb24gcGFyc2VVUkkodXJsKSB7XG5cdHZhciBtID0gU3RyaW5nKHVybCkucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpLm1hdGNoKC9eKFteOlxcLz8jXSs6KT8oXFwvXFwvKD86W146QF0qKD86OlteOkBdKik/QCk/KChbXjpcXC8/I10qKSg/OjooXFxkKikpPykpPyhbXj8jXSopKFxcP1teI10qKT8oI1tcXHNcXFNdKik/Lyk7XG5cdC8vIGF1dGhvcml0eSA9ICcvLycgKyB1c2VyICsgJzonICsgcGFzcyAnQCcgKyBob3N0bmFtZSArICc6JyBwb3J0XG5cdHJldHVybiAobSA/IHtcblx0XHRocmVmICAgICA6IG1bMF0gfHwgJycsXG5cdFx0cHJvdG9jb2wgOiBtWzFdIHx8ICcnLFxuXHRcdGF1dGhvcml0eTogbVsyXSB8fCAnJyxcblx0XHRob3N0ICAgICA6IG1bM10gfHwgJycsXG5cdFx0aG9zdG5hbWUgOiBtWzRdIHx8ICcnLFxuXHRcdHBvcnQgICAgIDogbVs1XSB8fCAnJyxcblx0XHRwYXRobmFtZSA6IG1bNl0gfHwgJycsXG5cdFx0c2VhcmNoICAgOiBtWzddIHx8ICcnLFxuXHRcdGhhc2ggICAgIDogbVs4XSB8fCAnJ1xuXHR9IDogbnVsbCk7XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVVcmwoYmFzZSwgaHJlZikgey8vIFJGQyAzOTg2XG5cblx0ZnVuY3Rpb24gcmVtb3ZlRG90U2VnbWVudHMoaW5wdXQpIHtcblx0XHR2YXIgb3V0cHV0ID0gW107XG5cdFx0aW5wdXQucmVwbGFjZSgvXihcXC5cXC4/KFxcL3wkKSkrLywgJycpXG5cdFx0XHQucmVwbGFjZSgvXFwvKFxcLihcXC98JCkpKy9nLCAnLycpXG5cdFx0XHQucmVwbGFjZSgvXFwvXFwuXFwuJC8sICcvLi4vJylcblx0XHRcdC5yZXBsYWNlKC9cXC8/W15cXC9dKi9nLCBmdW5jdGlvbiAocCkge1xuXHRcdFx0XHRpZiAocCA9PT0gJy8uLicpIHtcblx0XHRcdFx0XHRvdXRwdXQucG9wKCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0b3V0cHV0LnB1c2gocCk7XG5cdFx0XHRcdH1cblx0XHR9KTtcblx0XHRyZXR1cm4gb3V0cHV0LmpvaW4oJycpLnJlcGxhY2UoL15cXC8vLCBpbnB1dC5jaGFyQXQoMCkgPT09ICcvJyA/ICcvJyA6ICcnKTtcblx0fVxuXG5cdGhyZWYgPSBwYXJzZVVSSShocmVmIHx8ICcnKTtcblx0YmFzZSA9IHBhcnNlVVJJKGJhc2UgfHwgJycpO1xuXG5cdHJldHVybiAhaHJlZiB8fCAhYmFzZSA/IG51bGwgOiAoaHJlZi5wcm90b2NvbCB8fCBiYXNlLnByb3RvY29sKSArXG5cdFx0KGhyZWYucHJvdG9jb2wgfHwgaHJlZi5hdXRob3JpdHkgPyBocmVmLmF1dGhvcml0eSA6IGJhc2UuYXV0aG9yaXR5KSArXG5cdFx0cmVtb3ZlRG90U2VnbWVudHMoaHJlZi5wcm90b2NvbCB8fCBocmVmLmF1dGhvcml0eSB8fCBocmVmLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nID8gaHJlZi5wYXRobmFtZSA6IChocmVmLnBhdGhuYW1lID8gKChiYXNlLmF1dGhvcml0eSAmJiAhYmFzZS5wYXRobmFtZSA/ICcvJyA6ICcnKSArIGJhc2UucGF0aG5hbWUuc2xpY2UoMCwgYmFzZS5wYXRobmFtZS5sYXN0SW5kZXhPZignLycpICsgMSkgKyBocmVmLnBhdGhuYW1lKSA6IGJhc2UucGF0aG5hbWUpKSArXG5cdFx0KGhyZWYucHJvdG9jb2wgfHwgaHJlZi5hdXRob3JpdHkgfHwgaHJlZi5wYXRobmFtZSA/IGhyZWYuc2VhcmNoIDogKGhyZWYuc2VhcmNoIHx8IGJhc2Uuc2VhcmNoKSkgK1xuXHRcdGhyZWYuaGFzaDtcbn1cblxuZnVuY3Rpb24gZ2V0RG9jdW1lbnRVcmkodXJpKSB7XG5cdHJldHVybiB1cmkuc3BsaXQoJyMnKVswXTtcbn1cbmZ1bmN0aW9uIG5vcm1TY2hlbWEoc2NoZW1hLCBiYXNlVXJpKSB7XG5cdGlmIChzY2hlbWEgJiYgdHlwZW9mIHNjaGVtYSA9PT0gXCJvYmplY3RcIikge1xuXHRcdGlmIChiYXNlVXJpID09PSB1bmRlZmluZWQpIHtcblx0XHRcdGJhc2VVcmkgPSBzY2hlbWEuaWQ7XG5cdFx0fSBlbHNlIGlmICh0eXBlb2Ygc2NoZW1hLmlkID09PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRiYXNlVXJpID0gcmVzb2x2ZVVybChiYXNlVXJpLCBzY2hlbWEuaWQpO1xuXHRcdFx0c2NoZW1hLmlkID0gYmFzZVVyaTtcblx0XHR9XG5cdFx0aWYgKEFycmF5LmlzQXJyYXkoc2NoZW1hKSkge1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzY2hlbWEubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0bm9ybVNjaGVtYShzY2hlbWFbaV0sIGJhc2VVcmkpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAodHlwZW9mIHNjaGVtYVsnJHJlZiddID09PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRcdHNjaGVtYVsnJHJlZiddID0gcmVzb2x2ZVVybChiYXNlVXJpLCBzY2hlbWFbJyRyZWYnXSk7XG5cdFx0XHR9XG5cdFx0XHRmb3IgKHZhciBrZXkgaW4gc2NoZW1hKSB7XG5cdFx0XHRcdGlmIChrZXkgIT09IFwiZW51bVwiKSB7XG5cdFx0XHRcdFx0bm9ybVNjaGVtYShzY2hlbWFba2V5XSwgYmFzZVVyaSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gZGVmYXVsdEVycm9yUmVwb3J0ZXIobGFuZ3VhZ2UpIHtcblx0bGFuZ3VhZ2UgPSBsYW5ndWFnZSB8fCAnZW4nO1xuXG5cdHZhciBlcnJvck1lc3NhZ2VzID0gbGFuZ3VhZ2VzW2xhbmd1YWdlXTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gKGVycm9yKSB7XG5cdFx0dmFyIG1lc3NhZ2VUZW1wbGF0ZSA9IGVycm9yTWVzc2FnZXNbZXJyb3IuY29kZV0gfHwgRXJyb3JNZXNzYWdlc0RlZmF1bHRbZXJyb3IuY29kZV07XG5cdFx0aWYgKHR5cGVvZiBtZXNzYWdlVGVtcGxhdGUgIT09ICdzdHJpbmcnKSB7XG5cdFx0XHRyZXR1cm4gXCJVbmtub3duIGVycm9yIGNvZGUgXCIgKyBlcnJvci5jb2RlICsgXCI6IFwiICsgSlNPTi5zdHJpbmdpZnkoZXJyb3IubWVzc2FnZVBhcmFtcyk7XG5cdFx0fVxuXHRcdHZhciBtZXNzYWdlUGFyYW1zID0gZXJyb3IucGFyYW1zO1xuXHRcdC8vIEFkYXB0ZWQgZnJvbSBDcm9ja2ZvcmQncyBzdXBwbGFudCgpXG5cdFx0cmV0dXJuIG1lc3NhZ2VUZW1wbGF0ZS5yZXBsYWNlKC9cXHsoW157fV0qKVxcfS9nLCBmdW5jdGlvbiAod2hvbGUsIHZhck5hbWUpIHtcblx0XHRcdHZhciBzdWJWYWx1ZSA9IG1lc3NhZ2VQYXJhbXNbdmFyTmFtZV07XG5cdFx0XHRyZXR1cm4gdHlwZW9mIHN1YlZhbHVlID09PSAnc3RyaW5nJyB8fCB0eXBlb2Ygc3ViVmFsdWUgPT09ICdudW1iZXInID8gc3ViVmFsdWUgOiB3aG9sZTtcblx0XHR9KTtcblx0fTtcbn1cblxudmFyIEVycm9yQ29kZXMgPSB7XG5cdElOVkFMSURfVFlQRTogMCxcblx0RU5VTV9NSVNNQVRDSDogMSxcblx0QU5ZX09GX01JU1NJTkc6IDEwLFxuXHRPTkVfT0ZfTUlTU0lORzogMTEsXG5cdE9ORV9PRl9NVUxUSVBMRTogMTIsXG5cdE5PVF9QQVNTRUQ6IDEzLFxuXHQvLyBOdW1lcmljIGVycm9yc1xuXHROVU1CRVJfTVVMVElQTEVfT0Y6IDEwMCxcblx0TlVNQkVSX01JTklNVU06IDEwMSxcblx0TlVNQkVSX01JTklNVU1fRVhDTFVTSVZFOiAxMDIsXG5cdE5VTUJFUl9NQVhJTVVNOiAxMDMsXG5cdE5VTUJFUl9NQVhJTVVNX0VYQ0xVU0lWRTogMTA0LFxuXHROVU1CRVJfTk9UX0FfTlVNQkVSOiAxMDUsXG5cdC8vIFN0cmluZyBlcnJvcnNcblx0U1RSSU5HX0xFTkdUSF9TSE9SVDogMjAwLFxuXHRTVFJJTkdfTEVOR1RIX0xPTkc6IDIwMSxcblx0U1RSSU5HX1BBVFRFUk46IDIwMixcblx0Ly8gT2JqZWN0IGVycm9yc1xuXHRPQkpFQ1RfUFJPUEVSVElFU19NSU5JTVVNOiAzMDAsXG5cdE9CSkVDVF9QUk9QRVJUSUVTX01BWElNVU06IDMwMSxcblx0T0JKRUNUX1JFUVVJUkVEOiAzMDIsXG5cdE9CSkVDVF9BRERJVElPTkFMX1BST1BFUlRJRVM6IDMwMyxcblx0T0JKRUNUX0RFUEVOREVOQ1lfS0VZOiAzMDQsXG5cdC8vIEFycmF5IGVycm9yc1xuXHRBUlJBWV9MRU5HVEhfU0hPUlQ6IDQwMCxcblx0QVJSQVlfTEVOR1RIX0xPTkc6IDQwMSxcblx0QVJSQVlfVU5JUVVFOiA0MDIsXG5cdEFSUkFZX0FERElUSU9OQUxfSVRFTVM6IDQwMyxcblx0Ly8gQ3VzdG9tL3VzZXItZGVmaW5lZCBlcnJvcnNcblx0Rk9STUFUX0NVU1RPTTogNTAwLFxuXHRLRVlXT1JEX0NVU1RPTTogNTAxLFxuXHQvLyBTY2hlbWEgc3RydWN0dXJlXG5cdENJUkNVTEFSX1JFRkVSRU5DRTogNjAwLFxuXHQvLyBOb24tc3RhbmRhcmQgdmFsaWRhdGlvbiBvcHRpb25zXG5cdFVOS05PV05fUFJPUEVSVFk6IDEwMDBcbn07XG52YXIgRXJyb3JDb2RlTG9va3VwID0ge307XG5mb3IgKHZhciBrZXkgaW4gRXJyb3JDb2Rlcykge1xuXHRFcnJvckNvZGVMb29rdXBbRXJyb3JDb2Rlc1trZXldXSA9IGtleTtcbn1cbnZhciBFcnJvck1lc3NhZ2VzRGVmYXVsdCA9IHtcblx0SU5WQUxJRF9UWVBFOiBcIkludmFsaWQgdHlwZToge3R5cGV9IChleHBlY3RlZCB7ZXhwZWN0ZWR9KVwiLFxuXHRFTlVNX01JU01BVENIOiBcIk5vIGVudW0gbWF0Y2ggZm9yOiB7dmFsdWV9XCIsXG5cdEFOWV9PRl9NSVNTSU5HOiBcIkRhdGEgZG9lcyBub3QgbWF0Y2ggYW55IHNjaGVtYXMgZnJvbSBcXFwiYW55T2ZcXFwiXCIsXG5cdE9ORV9PRl9NSVNTSU5HOiBcIkRhdGEgZG9lcyBub3QgbWF0Y2ggYW55IHNjaGVtYXMgZnJvbSBcXFwib25lT2ZcXFwiXCIsXG5cdE9ORV9PRl9NVUxUSVBMRTogXCJEYXRhIGlzIHZhbGlkIGFnYWluc3QgbW9yZSB0aGFuIG9uZSBzY2hlbWEgZnJvbSBcXFwib25lT2ZcXFwiOiBpbmRpY2VzIHtpbmRleDF9IGFuZCB7aW5kZXgyfVwiLFxuXHROT1RfUEFTU0VEOiBcIkRhdGEgbWF0Y2hlcyBzY2hlbWEgZnJvbSBcXFwibm90XFxcIlwiLFxuXHQvLyBOdW1lcmljIGVycm9yc1xuXHROVU1CRVJfTVVMVElQTEVfT0Y6IFwiVmFsdWUge3ZhbHVlfSBpcyBub3QgYSBtdWx0aXBsZSBvZiB7bXVsdGlwbGVPZn1cIixcblx0TlVNQkVSX01JTklNVU06IFwiVmFsdWUge3ZhbHVlfSBpcyBsZXNzIHRoYW4gbWluaW11bSB7bWluaW11bX1cIixcblx0TlVNQkVSX01JTklNVU1fRVhDTFVTSVZFOiBcIlZhbHVlIHt2YWx1ZX0gaXMgZXF1YWwgdG8gZXhjbHVzaXZlIG1pbmltdW0ge21pbmltdW19XCIsXG5cdE5VTUJFUl9NQVhJTVVNOiBcIlZhbHVlIHt2YWx1ZX0gaXMgZ3JlYXRlciB0aGFuIG1heGltdW0ge21heGltdW19XCIsXG5cdE5VTUJFUl9NQVhJTVVNX0VYQ0xVU0lWRTogXCJWYWx1ZSB7dmFsdWV9IGlzIGVxdWFsIHRvIGV4Y2x1c2l2ZSBtYXhpbXVtIHttYXhpbXVtfVwiLFxuXHROVU1CRVJfTk9UX0FfTlVNQkVSOiBcIlZhbHVlIHt2YWx1ZX0gaXMgbm90IGEgdmFsaWQgbnVtYmVyXCIsXG5cdC8vIFN0cmluZyBlcnJvcnNcblx0U1RSSU5HX0xFTkdUSF9TSE9SVDogXCJTdHJpbmcgaXMgdG9vIHNob3J0ICh7bGVuZ3RofSBjaGFycyksIG1pbmltdW0ge21pbmltdW19XCIsXG5cdFNUUklOR19MRU5HVEhfTE9ORzogXCJTdHJpbmcgaXMgdG9vIGxvbmcgKHtsZW5ndGh9IGNoYXJzKSwgbWF4aW11bSB7bWF4aW11bX1cIixcblx0U1RSSU5HX1BBVFRFUk46IFwiU3RyaW5nIGRvZXMgbm90IG1hdGNoIHBhdHRlcm46IHtwYXR0ZXJufVwiLFxuXHQvLyBPYmplY3QgZXJyb3JzXG5cdE9CSkVDVF9QUk9QRVJUSUVTX01JTklNVU06IFwiVG9vIGZldyBwcm9wZXJ0aWVzIGRlZmluZWQgKHtwcm9wZXJ0eUNvdW50fSksIG1pbmltdW0ge21pbmltdW19XCIsXG5cdE9CSkVDVF9QUk9QRVJUSUVTX01BWElNVU06IFwiVG9vIG1hbnkgcHJvcGVydGllcyBkZWZpbmVkICh7cHJvcGVydHlDb3VudH0pLCBtYXhpbXVtIHttYXhpbXVtfVwiLFxuXHRPQkpFQ1RfUkVRVUlSRUQ6IFwiTWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eToge2tleX1cIixcblx0T0JKRUNUX0FERElUSU9OQUxfUFJPUEVSVElFUzogXCJBZGRpdGlvbmFsIHByb3BlcnRpZXMgbm90IGFsbG93ZWRcIixcblx0T0JKRUNUX0RFUEVOREVOQ1lfS0VZOiBcIkRlcGVuZGVuY3kgZmFpbGVkIC0ga2V5IG11c3QgZXhpc3Q6IHttaXNzaW5nfSAoZHVlIHRvIGtleToge2tleX0pXCIsXG5cdC8vIEFycmF5IGVycm9yc1xuXHRBUlJBWV9MRU5HVEhfU0hPUlQ6IFwiQXJyYXkgaXMgdG9vIHNob3J0ICh7bGVuZ3RofSksIG1pbmltdW0ge21pbmltdW19XCIsXG5cdEFSUkFZX0xFTkdUSF9MT05HOiBcIkFycmF5IGlzIHRvbyBsb25nICh7bGVuZ3RofSksIG1heGltdW0ge21heGltdW19XCIsXG5cdEFSUkFZX1VOSVFVRTogXCJBcnJheSBpdGVtcyBhcmUgbm90IHVuaXF1ZSAoaW5kaWNlcyB7bWF0Y2gxfSBhbmQge21hdGNoMn0pXCIsXG5cdEFSUkFZX0FERElUSU9OQUxfSVRFTVM6IFwiQWRkaXRpb25hbCBpdGVtcyBub3QgYWxsb3dlZFwiLFxuXHQvLyBGb3JtYXQgZXJyb3JzXG5cdEZPUk1BVF9DVVNUT006IFwiRm9ybWF0IHZhbGlkYXRpb24gZmFpbGVkICh7bWVzc2FnZX0pXCIsXG5cdEtFWVdPUkRfQ1VTVE9NOiBcIktleXdvcmQgZmFpbGVkOiB7a2V5fSAoe21lc3NhZ2V9KVwiLFxuXHQvLyBTY2hlbWEgc3RydWN0dXJlXG5cdENJUkNVTEFSX1JFRkVSRU5DRTogXCJDaXJjdWxhciAkcmVmczoge3VybHN9XCIsXG5cdC8vIE5vbi1zdGFuZGFyZCB2YWxpZGF0aW9uIG9wdGlvbnNcblx0VU5LTk9XTl9QUk9QRVJUWTogXCJVbmtub3duIHByb3BlcnR5IChub3QgaW4gc2NoZW1hKVwiXG59O1xuXG5mdW5jdGlvbiBWYWxpZGF0aW9uRXJyb3IoY29kZSwgcGFyYW1zLCBkYXRhUGF0aCwgc2NoZW1hUGF0aCwgc3ViRXJyb3JzKSB7XG5cdEVycm9yLmNhbGwodGhpcyk7XG5cdGlmIChjb2RlID09PSB1bmRlZmluZWQpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IgKFwiTm8gZXJyb3IgY29kZSBzdXBwbGllZDogXCIgKyBzY2hlbWFQYXRoKTtcblx0fVxuXHR0aGlzLm1lc3NhZ2UgPSAnJztcblx0dGhpcy5wYXJhbXMgPSBwYXJhbXM7XG5cdHRoaXMuY29kZSA9IGNvZGU7XG5cdHRoaXMuZGF0YVBhdGggPSBkYXRhUGF0aCB8fCBcIlwiO1xuXHR0aGlzLnNjaGVtYVBhdGggPSBzY2hlbWFQYXRoIHx8IFwiXCI7XG5cdHRoaXMuc3ViRXJyb3JzID0gc3ViRXJyb3JzIHx8IG51bGw7XG5cblx0dmFyIGVyciA9IG5ldyBFcnJvcih0aGlzLm1lc3NhZ2UpO1xuXHR0aGlzLnN0YWNrID0gZXJyLnN0YWNrIHx8IGVyci5zdGFja3RyYWNlO1xuXHRpZiAoIXRoaXMuc3RhY2spIHtcblx0XHR0cnkge1xuXHRcdFx0dGhyb3cgZXJyO1xuXHRcdH1cblx0XHRjYXRjaChlcnIpIHtcblx0XHRcdHRoaXMuc3RhY2sgPSBlcnIuc3RhY2sgfHwgZXJyLnN0YWNrdHJhY2U7XG5cdFx0fVxuXHR9XG59XG5WYWxpZGF0aW9uRXJyb3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuVmFsaWRhdGlvbkVycm9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFZhbGlkYXRpb25FcnJvcjtcblZhbGlkYXRpb25FcnJvci5wcm90b3R5cGUubmFtZSA9ICdWYWxpZGF0aW9uRXJyb3InO1xuXG5WYWxpZGF0aW9uRXJyb3IucHJvdG90eXBlLnByZWZpeFdpdGggPSBmdW5jdGlvbiAoZGF0YVByZWZpeCwgc2NoZW1hUHJlZml4KSB7XG5cdGlmIChkYXRhUHJlZml4ICE9PSBudWxsKSB7XG5cdFx0ZGF0YVByZWZpeCA9IGRhdGFQcmVmaXgucmVwbGFjZSgvfi9nLCBcIn4wXCIpLnJlcGxhY2UoL1xcLy9nLCBcIn4xXCIpO1xuXHRcdHRoaXMuZGF0YVBhdGggPSBcIi9cIiArIGRhdGFQcmVmaXggKyB0aGlzLmRhdGFQYXRoO1xuXHR9XG5cdGlmIChzY2hlbWFQcmVmaXggIT09IG51bGwpIHtcblx0XHRzY2hlbWFQcmVmaXggPSBzY2hlbWFQcmVmaXgucmVwbGFjZSgvfi9nLCBcIn4wXCIpLnJlcGxhY2UoL1xcLy9nLCBcIn4xXCIpO1xuXHRcdHRoaXMuc2NoZW1hUGF0aCA9IFwiL1wiICsgc2NoZW1hUHJlZml4ICsgdGhpcy5zY2hlbWFQYXRoO1xuXHR9XG5cdGlmICh0aGlzLnN1YkVycm9ycyAhPT0gbnVsbCkge1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdWJFcnJvcnMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHRoaXMuc3ViRXJyb3JzW2ldLnByZWZpeFdpdGgoZGF0YVByZWZpeCwgc2NoZW1hUHJlZml4KTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHRoaXM7XG59O1xuXG5mdW5jdGlvbiBpc1RydXN0ZWRVcmwoYmFzZVVybCwgdGVzdFVybCkge1xuXHRpZih0ZXN0VXJsLnN1YnN0cmluZygwLCBiYXNlVXJsLmxlbmd0aCkgPT09IGJhc2VVcmwpe1xuXHRcdHZhciByZW1haW5kZXIgPSB0ZXN0VXJsLnN1YnN0cmluZyhiYXNlVXJsLmxlbmd0aCk7XG5cdFx0aWYgKCh0ZXN0VXJsLmxlbmd0aCA+IDAgJiYgdGVzdFVybC5jaGFyQXQoYmFzZVVybC5sZW5ndGggLSAxKSA9PT0gXCIvXCIpXG5cdFx0XHR8fCByZW1haW5kZXIuY2hhckF0KDApID09PSBcIiNcIlxuXHRcdFx0fHwgcmVtYWluZGVyLmNoYXJBdCgwKSA9PT0gXCI/XCIpIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gZmFsc2U7XG59XG5cbnZhciBsYW5ndWFnZXMgPSB7fTtcbmZ1bmN0aW9uIGNyZWF0ZUFwaShsYW5ndWFnZSkge1xuXHR2YXIgZ2xvYmFsQ29udGV4dCA9IG5ldyBWYWxpZGF0b3JDb250ZXh0KCk7XG5cdHZhciBjdXJyZW50TGFuZ3VhZ2U7XG5cdHZhciBjdXN0b21FcnJvclJlcG9ydGVyO1xuXHR2YXIgYXBpID0ge1xuXHRcdHNldEVycm9yUmVwb3J0ZXI6IGZ1bmN0aW9uIChyZXBvcnRlcikge1xuXHRcdFx0aWYgKHR5cGVvZiByZXBvcnRlciA9PT0gJ3N0cmluZycpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMubGFuZ3VhZ2UocmVwb3J0ZXIpO1xuXHRcdFx0fVxuXHRcdFx0Y3VzdG9tRXJyb3JSZXBvcnRlciA9IHJlcG9ydGVyO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSxcblx0XHRhZGRGb3JtYXQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdGdsb2JhbENvbnRleHQuYWRkRm9ybWF0LmFwcGx5KGdsb2JhbENvbnRleHQsIGFyZ3VtZW50cyk7XG5cdFx0fSxcblx0XHRsYW5ndWFnZTogZnVuY3Rpb24gKGNvZGUpIHtcblx0XHRcdGlmICghY29kZSkge1xuXHRcdFx0XHRyZXR1cm4gY3VycmVudExhbmd1YWdlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCFsYW5ndWFnZXNbY29kZV0pIHtcblx0XHRcdFx0Y29kZSA9IGNvZGUuc3BsaXQoJy0nKVswXTsgLy8gZmFsbCBiYWNrIHRvIGJhc2UgbGFuZ3VhZ2Vcblx0XHRcdH1cblx0XHRcdGlmIChsYW5ndWFnZXNbY29kZV0pIHtcblx0XHRcdFx0Y3VycmVudExhbmd1YWdlID0gY29kZTtcblx0XHRcdFx0cmV0dXJuIGNvZGU7IC8vIHNvIHlvdSBjYW4gdGVsbCBpZiBmYWxsLWJhY2sgaGFzIGhhcHBlbmVkXG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fSxcblx0XHRhZGRMYW5ndWFnZTogZnVuY3Rpb24gKGNvZGUsIG1lc3NhZ2VNYXApIHtcblx0XHRcdHZhciBrZXk7XG5cdFx0XHRmb3IgKGtleSBpbiBFcnJvckNvZGVzKSB7XG5cdFx0XHRcdGlmIChtZXNzYWdlTWFwW2tleV0gJiYgIW1lc3NhZ2VNYXBbRXJyb3JDb2Rlc1trZXldXSkge1xuXHRcdFx0XHRcdG1lc3NhZ2VNYXBbRXJyb3JDb2Rlc1trZXldXSA9IG1lc3NhZ2VNYXBba2V5XTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0dmFyIHJvb3RDb2RlID0gY29kZS5zcGxpdCgnLScpWzBdO1xuXHRcdFx0aWYgKCFsYW5ndWFnZXNbcm9vdENvZGVdKSB7IC8vIHVzZSBmb3IgYmFzZSBsYW5ndWFnZSBpZiBub3QgeWV0IGRlZmluZWRcblx0XHRcdFx0bGFuZ3VhZ2VzW2NvZGVdID0gbWVzc2FnZU1hcDtcblx0XHRcdFx0bGFuZ3VhZ2VzW3Jvb3RDb2RlXSA9IG1lc3NhZ2VNYXA7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRsYW5ndWFnZXNbY29kZV0gPSBPYmplY3QuY3JlYXRlKGxhbmd1YWdlc1tyb290Q29kZV0pO1xuXHRcdFx0XHRmb3IgKGtleSBpbiBtZXNzYWdlTWFwKSB7XG5cdFx0XHRcdFx0aWYgKHR5cGVvZiBsYW5ndWFnZXNbcm9vdENvZGVdW2tleV0gPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdFx0XHRsYW5ndWFnZXNbcm9vdENvZGVdW2tleV0gPSBtZXNzYWdlTWFwW2tleV07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGxhbmd1YWdlc1tjb2RlXVtrZXldID0gbWVzc2FnZU1hcFtrZXldO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdGZyZXNoQXBpOiBmdW5jdGlvbiAobGFuZ3VhZ2UpIHtcblx0XHRcdHZhciByZXN1bHQgPSBjcmVhdGVBcGkoKTtcblx0XHRcdGlmIChsYW5ndWFnZSkge1xuXHRcdFx0XHRyZXN1bHQubGFuZ3VhZ2UobGFuZ3VhZ2UpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9LFxuXHRcdHZhbGlkYXRlOiBmdW5jdGlvbiAoZGF0YSwgc2NoZW1hLCBjaGVja1JlY3Vyc2l2ZSwgYmFuVW5rbm93blByb3BlcnRpZXMpIHtcblx0XHRcdHZhciBkZWYgPSBkZWZhdWx0RXJyb3JSZXBvcnRlcihjdXJyZW50TGFuZ3VhZ2UpO1xuXHRcdFx0dmFyIGVycm9yUmVwb3J0ZXIgPSBjdXN0b21FcnJvclJlcG9ydGVyID8gZnVuY3Rpb24gKGVycm9yLCBkYXRhLCBzY2hlbWEpIHtcblx0XHRcdFx0cmV0dXJuIGN1c3RvbUVycm9yUmVwb3J0ZXIoZXJyb3IsIGRhdGEsIHNjaGVtYSkgfHwgZGVmKGVycm9yLCBkYXRhLCBzY2hlbWEpO1xuXHRcdFx0fSA6IGRlZjtcblx0XHRcdHZhciBjb250ZXh0ID0gbmV3IFZhbGlkYXRvckNvbnRleHQoZ2xvYmFsQ29udGV4dCwgZmFsc2UsIGVycm9yUmVwb3J0ZXIsIGNoZWNrUmVjdXJzaXZlLCBiYW5Vbmtub3duUHJvcGVydGllcyk7XG5cdFx0XHRpZiAodHlwZW9mIHNjaGVtYSA9PT0gXCJzdHJpbmdcIikge1xuXHRcdFx0XHRzY2hlbWEgPSB7XCIkcmVmXCI6IHNjaGVtYX07XG5cdFx0XHR9XG5cdFx0XHRjb250ZXh0LmFkZFNjaGVtYShcIlwiLCBzY2hlbWEpO1xuXHRcdFx0dmFyIGVycm9yID0gY29udGV4dC52YWxpZGF0ZUFsbChkYXRhLCBzY2hlbWEsIG51bGwsIG51bGwsIFwiXCIpO1xuXHRcdFx0aWYgKCFlcnJvciAmJiBiYW5Vbmtub3duUHJvcGVydGllcykge1xuXHRcdFx0XHRlcnJvciA9IGNvbnRleHQuYmFuVW5rbm93blByb3BlcnRpZXMoZGF0YSwgc2NoZW1hKTtcblx0XHRcdH1cblx0XHRcdHRoaXMuZXJyb3IgPSBlcnJvcjtcblx0XHRcdHRoaXMubWlzc2luZyA9IGNvbnRleHQubWlzc2luZztcblx0XHRcdHRoaXMudmFsaWQgPSAoZXJyb3IgPT09IG51bGwpO1xuXHRcdFx0cmV0dXJuIHRoaXMudmFsaWQ7XG5cdFx0fSxcblx0XHR2YWxpZGF0ZVJlc3VsdDogZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyIHJlc3VsdCA9IHt9O1xuXHRcdFx0dGhpcy52YWxpZGF0ZS5hcHBseShyZXN1bHQsIGFyZ3VtZW50cyk7XG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH0sXG5cdFx0dmFsaWRhdGVNdWx0aXBsZTogZnVuY3Rpb24gKGRhdGEsIHNjaGVtYSwgY2hlY2tSZWN1cnNpdmUsIGJhblVua25vd25Qcm9wZXJ0aWVzKSB7XG5cdFx0XHR2YXIgZGVmID0gZGVmYXVsdEVycm9yUmVwb3J0ZXIoY3VycmVudExhbmd1YWdlKTtcblx0XHRcdHZhciBlcnJvclJlcG9ydGVyID0gY3VzdG9tRXJyb3JSZXBvcnRlciA/IGZ1bmN0aW9uIChlcnJvciwgZGF0YSwgc2NoZW1hKSB7XG5cdFx0XHRcdHJldHVybiBjdXN0b21FcnJvclJlcG9ydGVyKGVycm9yLCBkYXRhLCBzY2hlbWEpIHx8IGRlZihlcnJvciwgZGF0YSwgc2NoZW1hKTtcblx0XHRcdH0gOiBkZWY7XG5cdFx0XHR2YXIgY29udGV4dCA9IG5ldyBWYWxpZGF0b3JDb250ZXh0KGdsb2JhbENvbnRleHQsIHRydWUsIGVycm9yUmVwb3J0ZXIsIGNoZWNrUmVjdXJzaXZlLCBiYW5Vbmtub3duUHJvcGVydGllcyk7XG5cdFx0XHRpZiAodHlwZW9mIHNjaGVtYSA9PT0gXCJzdHJpbmdcIikge1xuXHRcdFx0XHRzY2hlbWEgPSB7XCIkcmVmXCI6IHNjaGVtYX07XG5cdFx0XHR9XG5cdFx0XHRjb250ZXh0LmFkZFNjaGVtYShcIlwiLCBzY2hlbWEpO1xuXHRcdFx0Y29udGV4dC52YWxpZGF0ZUFsbChkYXRhLCBzY2hlbWEsIG51bGwsIG51bGwsIFwiXCIpO1xuXHRcdFx0aWYgKGJhblVua25vd25Qcm9wZXJ0aWVzKSB7XG5cdFx0XHRcdGNvbnRleHQuYmFuVW5rbm93blByb3BlcnRpZXMoZGF0YSwgc2NoZW1hKTtcblx0XHRcdH1cblx0XHRcdHZhciByZXN1bHQgPSB7fTtcblx0XHRcdHJlc3VsdC5lcnJvcnMgPSBjb250ZXh0LmVycm9ycztcblx0XHRcdHJlc3VsdC5taXNzaW5nID0gY29udGV4dC5taXNzaW5nO1xuXHRcdFx0cmVzdWx0LnZhbGlkID0gKHJlc3VsdC5lcnJvcnMubGVuZ3RoID09PSAwKTtcblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fSxcblx0XHRhZGRTY2hlbWE6IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBnbG9iYWxDb250ZXh0LmFkZFNjaGVtYS5hcHBseShnbG9iYWxDb250ZXh0LCBhcmd1bWVudHMpO1xuXHRcdH0sXG5cdFx0Z2V0U2NoZW1hOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gZ2xvYmFsQ29udGV4dC5nZXRTY2hlbWEuYXBwbHkoZ2xvYmFsQ29udGV4dCwgYXJndW1lbnRzKTtcblx0XHR9LFxuXHRcdGdldFNjaGVtYU1hcDogZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIGdsb2JhbENvbnRleHQuZ2V0U2NoZW1hTWFwLmFwcGx5KGdsb2JhbENvbnRleHQsIGFyZ3VtZW50cyk7XG5cdFx0fSxcblx0XHRnZXRTY2hlbWFVcmlzOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gZ2xvYmFsQ29udGV4dC5nZXRTY2hlbWFVcmlzLmFwcGx5KGdsb2JhbENvbnRleHQsIGFyZ3VtZW50cyk7XG5cdFx0fSxcblx0XHRnZXRNaXNzaW5nVXJpczogZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIGdsb2JhbENvbnRleHQuZ2V0TWlzc2luZ1VyaXMuYXBwbHkoZ2xvYmFsQ29udGV4dCwgYXJndW1lbnRzKTtcblx0XHR9LFxuXHRcdGRyb3BTY2hlbWFzOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRnbG9iYWxDb250ZXh0LmRyb3BTY2hlbWFzLmFwcGx5KGdsb2JhbENvbnRleHQsIGFyZ3VtZW50cyk7XG5cdFx0fSxcblx0XHRkZWZpbmVLZXl3b3JkOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRnbG9iYWxDb250ZXh0LmRlZmluZUtleXdvcmQuYXBwbHkoZ2xvYmFsQ29udGV4dCwgYXJndW1lbnRzKTtcblx0XHR9LFxuXHRcdGRlZmluZUVycm9yOiBmdW5jdGlvbiAoY29kZU5hbWUsIGNvZGVOdW1iZXIsIGRlZmF1bHRNZXNzYWdlKSB7XG5cdFx0XHRpZiAodHlwZW9mIGNvZGVOYW1lICE9PSAnc3RyaW5nJyB8fCAhL15bQS1aXSsoX1tBLVpdKykqJC8udGVzdChjb2RlTmFtZSkpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdDb2RlIG5hbWUgbXVzdCBiZSBhIHN0cmluZyBpbiBVUFBFUl9DQVNFX1dJVEhfVU5ERVJTQ09SRVMnKTtcblx0XHRcdH1cblx0XHRcdGlmICh0eXBlb2YgY29kZU51bWJlciAhPT0gJ251bWJlcicgfHwgY29kZU51bWJlciUxICE9PSAwIHx8IGNvZGVOdW1iZXIgPCAxMDAwMCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0NvZGUgbnVtYmVyIG11c3QgYmUgYW4gaW50ZWdlciA+IDEwMDAwJyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAodHlwZW9mIEVycm9yQ29kZXNbY29kZU5hbWVdICE9PSAndW5kZWZpbmVkJykge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIGFscmVhZHkgZGVmaW5lZDogJyArIGNvZGVOYW1lICsgJyBhcyAnICsgRXJyb3JDb2Rlc1tjb2RlTmFtZV0pO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHR5cGVvZiBFcnJvckNvZGVMb29rdXBbY29kZU51bWJlcl0gIT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignRXJyb3IgY29kZSBhbHJlYWR5IHVzZWQ6ICcgKyBFcnJvckNvZGVMb29rdXBbY29kZU51bWJlcl0gKyAnIGFzICcgKyBjb2RlTnVtYmVyKTtcblx0XHRcdH1cblx0XHRcdEVycm9yQ29kZXNbY29kZU5hbWVdID0gY29kZU51bWJlcjtcblx0XHRcdEVycm9yQ29kZUxvb2t1cFtjb2RlTnVtYmVyXSA9IGNvZGVOYW1lO1xuXHRcdFx0RXJyb3JNZXNzYWdlc0RlZmF1bHRbY29kZU5hbWVdID0gRXJyb3JNZXNzYWdlc0RlZmF1bHRbY29kZU51bWJlcl0gPSBkZWZhdWx0TWVzc2FnZTtcblx0XHRcdGZvciAodmFyIGxhbmdDb2RlIGluIGxhbmd1YWdlcykge1xuXHRcdFx0XHR2YXIgbGFuZ3VhZ2UgPSBsYW5ndWFnZXNbbGFuZ0NvZGVdO1xuXHRcdFx0XHRpZiAobGFuZ3VhZ2VbY29kZU5hbWVdKSB7XG5cdFx0XHRcdFx0bGFuZ3VhZ2VbY29kZU51bWJlcl0gPSBsYW5ndWFnZVtjb2RlTnVtYmVyXSB8fCBsYW5ndWFnZVtjb2RlTmFtZV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcdHJlc2V0OiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRnbG9iYWxDb250ZXh0LnJlc2V0KCk7XG5cdFx0XHR0aGlzLmVycm9yID0gbnVsbDtcblx0XHRcdHRoaXMubWlzc2luZyA9IFtdO1xuXHRcdFx0dGhpcy52YWxpZCA9IHRydWU7XG5cdFx0fSxcblx0XHRtaXNzaW5nOiBbXSxcblx0XHRlcnJvcjogbnVsbCxcblx0XHR2YWxpZDogdHJ1ZSxcblx0XHRub3JtU2NoZW1hOiBub3JtU2NoZW1hLFxuXHRcdHJlc29sdmVVcmw6IHJlc29sdmVVcmwsXG5cdFx0Z2V0RG9jdW1lbnRVcmk6IGdldERvY3VtZW50VXJpLFxuXHRcdGVycm9yQ29kZXM6IEVycm9yQ29kZXNcblx0fTtcblx0YXBpLmxhbmd1YWdlKGxhbmd1YWdlIHx8ICdlbicpO1xuXHRyZXR1cm4gYXBpO1xufVxuXG52YXIgdHY0ID0gY3JlYXRlQXBpKCk7XG50djQuYWRkTGFuZ3VhZ2UoJ2VuLWdiJywgRXJyb3JNZXNzYWdlc0RlZmF1bHQpO1xuXG4vL2xlZ2FjeSBwcm9wZXJ0eVxudHY0LnR2NCA9IHR2NDtcblxucmV0dXJuIHR2NDsgLy8gdXNlZCBieSBfaGVhZGVyLmpzIHRvIGdsb2JhbGlzZS5cblxufSkpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi90djQvdHY0LmpzXG4vLyBtb2R1bGUgaWQgPSAyOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9')
},function(module,exports){eval("/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  return  bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]];\n}\n\nmodule.exports = bytesToUuid;\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3V1aWQvbGliL2J5dGVzVG9VdWlkLmpzPzMwNjgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsU0FBUztBQUN4QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiIyOS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29udmVydCBhcnJheSBvZiAxNiBieXRlIHZhbHVlcyB0byBVVUlEIHN0cmluZyBmb3JtYXQgb2YgdGhlIGZvcm06XG4gKiBYWFhYWFhYWC1YWFhYLVhYWFgtWFhYWC1YWFhYLVhYWFhYWFhYWFhYWFxuICovXG52YXIgYnl0ZVRvSGV4ID0gW107XG5mb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gIGJ5dGVUb0hleFtpXSA9IChpICsgMHgxMDApLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSk7XG59XG5cbmZ1bmN0aW9uIGJ5dGVzVG9VdWlkKGJ1Ziwgb2Zmc2V0KSB7XG4gIHZhciBpID0gb2Zmc2V0IHx8IDA7XG4gIHZhciBidGggPSBieXRlVG9IZXg7XG4gIHJldHVybiAgYnRoW2J1ZltpKytdXSArIGJ0aFtidWZbaSsrXV0gK1xuICAgICAgICAgIGJ0aFtidWZbaSsrXV0gKyBidGhbYnVmW2krK11dICsgJy0nICtcbiAgICAgICAgICBidGhbYnVmW2krK11dICsgYnRoW2J1ZltpKytdXSArICctJyArXG4gICAgICAgICAgYnRoW2J1ZltpKytdXSArIGJ0aFtidWZbaSsrXV0gKyAnLScgK1xuICAgICAgICAgIGJ0aFtidWZbaSsrXV0gKyBidGhbYnVmW2krK11dICsgJy0nICtcbiAgICAgICAgICBidGhbYnVmW2krK11dICsgYnRoW2J1ZltpKytdXSArXG4gICAgICAgICAgYnRoW2J1ZltpKytdXSArIGJ0aFtidWZbaSsrXV0gK1xuICAgICAgICAgIGJ0aFtidWZbaSsrXV0gKyBidGhbYnVmW2krK11dO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJ5dGVzVG9VdWlkO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3V1aWQvbGliL2J5dGVzVG9VdWlkLmpzXG4vLyBtb2R1bGUgaWQgPSAyOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports){eval("/* WEBPACK VAR INJECTION */(function(global) {// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\nvar rng;\n\nvar crypto = global.crypto || global.msCrypto; // for IE 11\nif (crypto && crypto.getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16);\n  rng = function whatwgRNG() {\n    crypto.getRandomValues(rnds8);\n    return rnds8;\n  };\n}\n\nif (!rng) {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var  rnds = new Array(16);\n  rng = function() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n\nmodule.exports = rng;\n\n/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3V1aWQvbGliL3JuZy1icm93c2VyLmpzPzk0NWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw4Q0FBOEM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixRQUFRO0FBQzlCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiMzAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBVbmlxdWUgSUQgY3JlYXRpb24gcmVxdWlyZXMgYSBoaWdoIHF1YWxpdHkgcmFuZG9tICMgZ2VuZXJhdG9yLiAgSW4gdGhlXG4vLyBicm93c2VyIHRoaXMgaXMgYSBsaXR0bGUgY29tcGxpY2F0ZWQgZHVlIHRvIHVua25vd24gcXVhbGl0eSBvZiBNYXRoLnJhbmRvbSgpXG4vLyBhbmQgaW5jb25zaXN0ZW50IHN1cHBvcnQgZm9yIHRoZSBgY3J5cHRvYCBBUEkuICBXZSBkbyB0aGUgYmVzdCB3ZSBjYW4gdmlhXG4vLyBmZWF0dXJlLWRldGVjdGlvblxudmFyIHJuZztcblxudmFyIGNyeXB0byA9IGdsb2JhbC5jcnlwdG8gfHwgZ2xvYmFsLm1zQ3J5cHRvOyAvLyBmb3IgSUUgMTFcbmlmIChjcnlwdG8gJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcykge1xuICAvLyBXSEFUV0cgY3J5cHRvIFJORyAtIGh0dHA6Ly93aWtpLndoYXR3Zy5vcmcvd2lraS9DcnlwdG9cbiAgdmFyIHJuZHM4ID0gbmV3IFVpbnQ4QXJyYXkoMTYpO1xuICBybmcgPSBmdW5jdGlvbiB3aGF0d2dSTkcoKSB7XG4gICAgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhybmRzOCk7XG4gICAgcmV0dXJuIHJuZHM4O1xuICB9O1xufVxuXG5pZiAoIXJuZykge1xuICAvLyBNYXRoLnJhbmRvbSgpLWJhc2VkIChSTkcpXG4gIC8vXG4gIC8vIElmIGFsbCBlbHNlIGZhaWxzLCB1c2UgTWF0aC5yYW5kb20oKS4gIEl0J3MgZmFzdCwgYnV0IGlzIG9mIHVuc3BlY2lmaWVkXG4gIC8vIHF1YWxpdHkuXG4gIHZhciAgcm5kcyA9IG5ldyBBcnJheSgxNik7XG4gIHJuZyA9IGZ1bmN0aW9uKCkge1xuICAgIGZvciAodmFyIGkgPSAwLCByOyBpIDwgMTY7IGkrKykge1xuICAgICAgaWYgKChpICYgMHgwMykgPT09IDApIHIgPSBNYXRoLnJhbmRvbSgpICogMHgxMDAwMDAwMDA7XG4gICAgICBybmRzW2ldID0gciA+Pj4gKChpICYgMHgwMykgPDwgMykgJiAweGZmO1xuICAgIH1cblxuICAgIHJldHVybiBybmRzO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJuZztcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi91dWlkL2xpYi9ybmctYnJvd3Nlci5qc1xuLy8gbW9kdWxlIGlkID0gMzBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports,__webpack_require__){eval("var rng = __webpack_require__(30);\nvar bytesToUuid = __webpack_require__(29);\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options == 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3V1aWQvdjQuanM/NDJlNyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9CQUFvQixTQUFTO0FBQzdCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBIiwiZmlsZSI6IjMxLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHJuZyA9IHJlcXVpcmUoJy4vbGliL3JuZycpO1xudmFyIGJ5dGVzVG9VdWlkID0gcmVxdWlyZSgnLi9saWIvYnl0ZXNUb1V1aWQnKTtcblxuZnVuY3Rpb24gdjQob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBidWYgJiYgb2Zmc2V0IHx8IDA7XG5cbiAgaWYgKHR5cGVvZihvcHRpb25zKSA9PSAnc3RyaW5nJykge1xuICAgIGJ1ZiA9IG9wdGlvbnMgPT0gJ2JpbmFyeScgPyBuZXcgQXJyYXkoMTYpIDogbnVsbDtcbiAgICBvcHRpb25zID0gbnVsbDtcbiAgfVxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICB2YXIgcm5kcyA9IG9wdGlvbnMucmFuZG9tIHx8IChvcHRpb25zLnJuZyB8fCBybmcpKCk7XG5cbiAgLy8gUGVyIDQuNCwgc2V0IGJpdHMgZm9yIHZlcnNpb24gYW5kIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYFxuICBybmRzWzZdID0gKHJuZHNbNl0gJiAweDBmKSB8IDB4NDA7XG4gIHJuZHNbOF0gPSAocm5kc1s4XSAmIDB4M2YpIHwgMHg4MDtcblxuICAvLyBDb3B5IGJ5dGVzIHRvIGJ1ZmZlciwgaWYgcHJvdmlkZWRcbiAgaWYgKGJ1Zikge1xuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCAxNjsgKytpaSkge1xuICAgICAgYnVmW2kgKyBpaV0gPSBybmRzW2lpXTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYnVmIHx8IGJ5dGVzVG9VdWlkKHJuZHMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHY0O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3V1aWQvdjQuanNcbi8vIG1vZHVsZSBpZCA9IDMxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports,__webpack_require__){
eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* global define */\n/*!\n * webfinger.js\n *   version 2.6.4\n *   http://github.com/silverbucket/webfinger.js\n *\n * Developed and Maintained by:\n *   Nick Jennings <nick@silverbucket.net> 2012\n *\n * webfinger.js is released under the AGPL (see LICENSE).\n *\n * You don't have to do anything special to choose one license or the other and you don't\n * have to notify anyone which license you are using.\n * Please see the corresponding license file for details of these licenses.\n * You are free to use, modify and distribute this software, but all copyright\n * information must remain.\n *\n */\n\nif (typeof XMLHttpRequest === 'undefined') {\n  // XMLHttpRequest = require('xmlhttprequest').XMLHttpRequest;\n  XMLHttpRequest = __webpack_require__(33);\n}\n\n(function (global) {\n\n  // URI to property name map\n  var LINK_URI_MAPS = {\n    'http://webfist.org/spec/rel': 'webfist',\n    'http://webfinger.net/rel/avatar': 'avatar',\n    'remotestorage': 'remotestorage',\n    'http://tools.ietf.org/id/draft-dejong-remotestorage': 'remotestorage',\n    'remoteStorage': 'remotestorage',\n    'http://www.packetizer.com/rel/share': 'share',\n    'http://webfinger.net/rel/profile-page': 'profile',\n    'me': 'profile',\n    'vcard': 'vcard',\n    'blog': 'blog',\n    'http://packetizer.com/rel/blog': 'blog',\n    'http://schemas.google.com/g/2010#updates-from': 'updates',\n    'https://camlistore.org/rel/server': 'camilstore'\n  };\n\n  var LINK_PROPERTIES = {\n    'avatar': [],\n    'remotestorage': [],\n    'blog': [],\n    'vcard': [],\n    'updates': [],\n    'share': [],\n    'profile': [],\n    'webfist': [],\n    'camlistore': []\n  };\n\n  // list of endpoints to try, fallback from beginning to end.\n  var URIS = ['webfinger', 'host-meta', 'host-meta.json'];\n\n  function generateErrorObject(obj) {\n    obj.toString = function () {\n      return this.message;\n    };\n    return obj;\n  }\n\n  // given a URL ensures it's HTTPS.\n  // returns false for null string or non-HTTPS URL.\n  function isSecure(url) {\n    if (typeof url !== 'string') {\n      return false;\n    }\n    var parts = url.split('://');\n    if (parts[0] === 'https') {\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Function: WebFinger\n   *\n   * WebFinger constructor\n   *\n   * Returns:\n   *\n   *   return WebFinger object\n   */\n  function WebFinger(config) {\n    if (typeof config !== 'object') {\n      config = {};\n    }\n\n    this.config = {\n      tls_only:         (typeof config.tls_only !== 'undefined') ? config.tls_only : true,\n      webfist_fallback: (typeof config.webfist_fallback !== 'undefined') ? config.webfist_fallback : false,\n      uri_fallback:     (typeof config.uri_fallback !== 'undefined') ? config.uri_fallback : false,\n      request_timeout:  (typeof config.request_timeout !== 'undefined') ? config.request_timeout : 10000\n    };\n  }\n\n  // make an http request and look for JRD response, fails if request fails\n  // or response not json.\n  WebFinger.prototype.__fetchJRD = function (url, errorHandler, sucessHandler) {\n    var self = this;\n\n    var xhr = new XMLHttpRequest();\n    xhr.timeout = this.config.request_timeout;\n\n    function __processState() {\n      if (xhr.status === 200) {\n        if (self.__isValidJSON(xhr.responseText)) {\n          return sucessHandler(xhr.responseText);\n        } else {\n          return errorHandler(generateErrorObject({\n            message: 'invalid json',\n            url: url,\n            status: xhr.status\n          }));\n        }\n      } else if (xhr.status === 404) {\n        return errorHandler(generateErrorObject({\n          message: 'resource not found',\n          url: url,\n          status: xhr.status\n        }));\n      } else if ((xhr.status >= 301) && (xhr.status <= 302)) {\n        var location = xhr.getResponseHeader('Location');\n        if (isSecure(location)) {\n          return __makeRequest(location); // follow redirect\n        } else {\n          return errorHandler(generateErrorObject({\n            message: 'no redirect URL found',\n            url: url,\n            status: xhr.status\n          }));\n        }\n      } else {\n        return errorHandler(generateErrorObject({\n          message: 'error during request',\n          url: url,\n          status: xhr.status\n        }));\n      }\n    }\n\n    function __makeRequest() {\n      xhr.onreadystatechange = function () {\n        if (xhr.readyState === 4) {\n          __processState();\n        }\n      };\n\n      xhr.onload = function () {\n        __processState();\n      };\n\n      xhr.ontimeout = function () {\n        return errorHandler(generateErrorObject({\n          message: 'request timed out',\n          url: url,\n          status: xhr.status\n        }));\n      };\n\n      xhr.open('GET', url, true);\n      xhr.setRequestHeader('Accept', 'application/jrd+json, application/json');\n      xhr.send();\n    }\n\n    return __makeRequest();\n  };\n\n  WebFinger.prototype.__isValidJSON = function (str) {\n    try {\n      JSON.parse(str);\n    } catch (e) {\n      return false;\n    }\n    return true;\n  };\n\n  WebFinger.prototype.__isLocalhost = function (host) {\n    var local = /^localhost(\\.localdomain)?(\\:[0-9]+)?$/;\n    return local.test(host);\n  };\n\n  // processes JRD object as if it's a webfinger response object\n  // looks for known properties and adds them to profile datat struct.\n  WebFinger.prototype.__processJRD = function (URL, JRD, errorHandler, successHandler) {\n    var parsedJRD = JSON.parse(JRD);\n    if ((typeof parsedJRD !== 'object') ||\n        (typeof parsedJRD.links !== 'object')) {\n      if (typeof parsedJRD.error !== 'undefined') {\n        return errorHandler(generateErrorObject({ message: parsedJRD.error, request: URL }));\n      } else {\n        return errorHandler(generateErrorObject({ message: 'unknown response from server', request: URL }));\n      }\n    }\n\n    var links = parsedJRD.links;\n    if (!Array.isArray(links)) {\n      links = [];\n    }\n    var result = {  // webfinger JRD - object, json, and our own indexing\n      object: parsedJRD,\n      json: JRD,\n      idx: {}\n    };\n\n    result.idx.properties = {\n      'name': undefined\n    };\n    result.idx.links = JSON.parse(JSON.stringify(LINK_PROPERTIES));\n\n    // process links\n    links.map(function (link, i) {\n      if (LINK_URI_MAPS.hasOwnProperty(link.rel)) {\n        if (result.idx.links[LINK_URI_MAPS[link.rel]]) {\n          var entry = {};\n          Object.keys(link).map(function (item, n) {\n            entry[item] = link[item];\n          });\n          result.idx.links[LINK_URI_MAPS[link.rel]].push(entry);\n        }\n      }\n    });\n\n    // process properties\n    var props = JSON.parse(JRD).properties;\n    for (var key in props) {\n      if (props.hasOwnProperty(key)) {\n        if (key === 'http://packetizer.com/ns/name') {\n          result.idx.properties.name = props[key];\n        }\n      }\n    }\n    return successHandler(result);\n  };\n\n  WebFinger.prototype.lookup = function (address, cb) {\n    if (typeof address !== 'string') {\n      throw new Error('first parameter must be a user address');\n    } else if (typeof cb !== 'function') {\n      throw new Error('second parameter must be a callback');\n    }\n\n    var self = this;\n    var host = '';\n    if (address.indexOf('://') > -1) {\n      // other uri format\n      host = address.replace(/ /g,'').split('/')[2];\n    } else {\n      // useraddress\n      host = address.replace(/ /g,'').split('@')[1];\n    }\n    var uri_index = 0;      // track which URIS we've tried already\n    var protocol = 'https'; // we use https by default\n\n    if (self.__isLocalhost(host)) {\n      protocol = 'http';\n    }\n\n    function __buildURL() {\n      var uri = '';\n      if (! address.split('://')[1]) {\n        // the URI has not been defined, default to acct\n        uri = 'acct:';\n      }\n      return protocol + '://' + host + '/.well-known/' +\n             URIS[uri_index] + '?resource=' + uri + address;\n    }\n\n    // control flow for failures, what to do in various cases, etc.\n    function __fallbackChecks(err) {\n      if ((self.config.uri_fallback) && (host !== 'webfist.org') && (uri_index !== URIS.length - 1)) { // we have uris left to try\n        uri_index = uri_index + 1;\n        return __call();\n      } else if ((!self.config.tls_only) && (protocol === 'https')) { // try normal http\n        uri_index = 0;\n        protocol = 'http';\n        return __call();\n      } else if ((self.config.webfist_fallback) && (host !== 'webfist.org')) { // webfist attempt\n        uri_index = 0;\n        protocol = 'http';\n        host = 'webfist.org';\n        // webfist will\n        // 1. make a query to the webfist server for the users account\n        // 2. from the response, get a link to the actual webfinger json data\n        //    (stored somewhere in control of the user)\n        // 3. make a request to that url and get the json\n        // 4. process it like a normal webfinger response\n        var URL = __buildURL();\n        self.__fetchJRD(URL, cb, function (data) { // get link to users JRD\n          self.__processJRD(URL, data, cb, function (result) {\n            if ((typeof result.idx.links.webfist === 'object') &&\n                (typeof result.idx.links.webfist[0].href === 'string')) {\n              self.__fetchJRD(result.idx.links.webfist[0].href, cb, function (JRD) {\n                self.__processJRD(URL, JRD, cb, function (result) {\n                  return cb(null, cb);\n                });\n              });\n            }\n          });\n        });\n      } else {\n        return cb(err);\n      }\n    }\n\n    function __call() {\n      // make request\n      var URL = __buildURL();\n      self.__fetchJRD(URL, __fallbackChecks, function (JRD) {\n        self.__processJRD(URL, JRD, cb, function (result) { cb(null, result); });\n      });\n    }\n\n    return setTimeout(__call, 0);\n  };\n\n  WebFinger.prototype.lookupLink = function (address, rel, cb) {\n    if (LINK_PROPERTIES.hasOwnProperty(rel)) {\n      this.lookup(address, function (err, p) {\n        var links  = p.idx.links[rel];\n        if (err) {\n          return cb(err);\n        } else if (links.length === 0) {\n          return cb('no links found with rel=\"' + rel + '\"');\n        } else {\n          return cb(null, links[0]);\n        }\n      });\n    } else {\n      return cb('unsupported rel ' + rel);\n    }\n  };\n\n\n\n  // AMD support\n  if (true) {\n      !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function () { return WebFinger; }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  // CommonJS and Node.js module support.\n  } else if (typeof exports !== 'undefined') {\n    // Support Node.js specific `module.exports` (which can be a function)\n    if (typeof module !== 'undefined' && module.exports) {\n        exports = module.exports = WebFinger;\n    }\n    // But always support CommonJS module 1.1.1 spec (`exports` cannot be a function)\n    exports.WebFinger = WebFinger;\n  } else {\n    // browser <script> support\n    global.WebFinger = WebFinger;\n  }\n})(this);\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3dlYmZpbmdlci5qcy9zcmMvd2ViZmluZ2VyLmpzPzExYTUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekMsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELHlDQUF5QztBQUMxRixPQUFPO0FBQ1AsaURBQWlELHdEQUF3RDtBQUN6RztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QiwyQkFBMkI7O0FBRTNCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHNHQUFzRztBQUN0RztBQUNBO0FBQ0EsT0FBTyw4REFBOEQ7QUFDckU7QUFDQTtBQUNBO0FBQ0EsT0FBTyx1RUFBdUU7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Q7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGVBQWU7QUFDZjtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCxrQkFBa0IsRUFBRTtBQUMvRSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBLHdGQUE4QixrQkFBa0IsRUFBRTtBQUNsRDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsQ0FBQyIsImZpbGUiOiIzMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbCBkZWZpbmUgKi9cbi8qIVxuICogd2ViZmluZ2VyLmpzXG4gKiAgIHZlcnNpb24gMi42LjRcbiAqICAgaHR0cDovL2dpdGh1Yi5jb20vc2lsdmVyYnVja2V0L3dlYmZpbmdlci5qc1xuICpcbiAqIERldmVsb3BlZCBhbmQgTWFpbnRhaW5lZCBieTpcbiAqICAgTmljayBKZW5uaW5ncyA8bmlja0BzaWx2ZXJidWNrZXQubmV0PiAyMDEyXG4gKlxuICogd2ViZmluZ2VyLmpzIGlzIHJlbGVhc2VkIHVuZGVyIHRoZSBBR1BMIChzZWUgTElDRU5TRSkuXG4gKlxuICogWW91IGRvbid0IGhhdmUgdG8gZG8gYW55dGhpbmcgc3BlY2lhbCB0byBjaG9vc2Ugb25lIGxpY2Vuc2Ugb3IgdGhlIG90aGVyIGFuZCB5b3UgZG9uJ3RcbiAqIGhhdmUgdG8gbm90aWZ5IGFueW9uZSB3aGljaCBsaWNlbnNlIHlvdSBhcmUgdXNpbmcuXG4gKiBQbGVhc2Ugc2VlIHRoZSBjb3JyZXNwb25kaW5nIGxpY2Vuc2UgZmlsZSBmb3IgZGV0YWlscyBvZiB0aGVzZSBsaWNlbnNlcy5cbiAqIFlvdSBhcmUgZnJlZSB0byB1c2UsIG1vZGlmeSBhbmQgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlLCBidXQgYWxsIGNvcHlyaWdodFxuICogaW5mb3JtYXRpb24gbXVzdCByZW1haW4uXG4gKlxuICovXG5cbmlmICh0eXBlb2YgWE1MSHR0cFJlcXVlc3QgPT09ICd1bmRlZmluZWQnKSB7XG4gIC8vIFhNTEh0dHBSZXF1ZXN0ID0gcmVxdWlyZSgneG1saHR0cHJlcXVlc3QnKS5YTUxIdHRwUmVxdWVzdDtcbiAgWE1MSHR0cFJlcXVlc3QgPSByZXF1aXJlKCd4aHIyJyk7XG59XG5cbihmdW5jdGlvbiAoZ2xvYmFsKSB7XG5cbiAgLy8gVVJJIHRvIHByb3BlcnR5IG5hbWUgbWFwXG4gIHZhciBMSU5LX1VSSV9NQVBTID0ge1xuICAgICdodHRwOi8vd2ViZmlzdC5vcmcvc3BlYy9yZWwnOiAnd2ViZmlzdCcsXG4gICAgJ2h0dHA6Ly93ZWJmaW5nZXIubmV0L3JlbC9hdmF0YXInOiAnYXZhdGFyJyxcbiAgICAncmVtb3Rlc3RvcmFnZSc6ICdyZW1vdGVzdG9yYWdlJyxcbiAgICAnaHR0cDovL3Rvb2xzLmlldGYub3JnL2lkL2RyYWZ0LWRlam9uZy1yZW1vdGVzdG9yYWdlJzogJ3JlbW90ZXN0b3JhZ2UnLFxuICAgICdyZW1vdGVTdG9yYWdlJzogJ3JlbW90ZXN0b3JhZ2UnLFxuICAgICdodHRwOi8vd3d3LnBhY2tldGl6ZXIuY29tL3JlbC9zaGFyZSc6ICdzaGFyZScsXG4gICAgJ2h0dHA6Ly93ZWJmaW5nZXIubmV0L3JlbC9wcm9maWxlLXBhZ2UnOiAncHJvZmlsZScsXG4gICAgJ21lJzogJ3Byb2ZpbGUnLFxuICAgICd2Y2FyZCc6ICd2Y2FyZCcsXG4gICAgJ2Jsb2cnOiAnYmxvZycsXG4gICAgJ2h0dHA6Ly9wYWNrZXRpemVyLmNvbS9yZWwvYmxvZyc6ICdibG9nJyxcbiAgICAnaHR0cDovL3NjaGVtYXMuZ29vZ2xlLmNvbS9nLzIwMTAjdXBkYXRlcy1mcm9tJzogJ3VwZGF0ZXMnLFxuICAgICdodHRwczovL2NhbWxpc3RvcmUub3JnL3JlbC9zZXJ2ZXInOiAnY2FtaWxzdG9yZSdcbiAgfTtcblxuICB2YXIgTElOS19QUk9QRVJUSUVTID0ge1xuICAgICdhdmF0YXInOiBbXSxcbiAgICAncmVtb3Rlc3RvcmFnZSc6IFtdLFxuICAgICdibG9nJzogW10sXG4gICAgJ3ZjYXJkJzogW10sXG4gICAgJ3VwZGF0ZXMnOiBbXSxcbiAgICAnc2hhcmUnOiBbXSxcbiAgICAncHJvZmlsZSc6IFtdLFxuICAgICd3ZWJmaXN0JzogW10sXG4gICAgJ2NhbWxpc3RvcmUnOiBbXVxuICB9O1xuXG4gIC8vIGxpc3Qgb2YgZW5kcG9pbnRzIHRvIHRyeSwgZmFsbGJhY2sgZnJvbSBiZWdpbm5pbmcgdG8gZW5kLlxuICB2YXIgVVJJUyA9IFsnd2ViZmluZ2VyJywgJ2hvc3QtbWV0YScsICdob3N0LW1ldGEuanNvbiddO1xuXG4gIGZ1bmN0aW9uIGdlbmVyYXRlRXJyb3JPYmplY3Qob2JqKSB7XG4gICAgb2JqLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZTtcbiAgICB9O1xuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICAvLyBnaXZlbiBhIFVSTCBlbnN1cmVzIGl0J3MgSFRUUFMuXG4gIC8vIHJldHVybnMgZmFsc2UgZm9yIG51bGwgc3RyaW5nIG9yIG5vbi1IVFRQUyBVUkwuXG4gIGZ1bmN0aW9uIGlzU2VjdXJlKHVybCkge1xuICAgIGlmICh0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgcGFydHMgPSB1cmwuc3BsaXQoJzovLycpO1xuICAgIGlmIChwYXJ0c1swXSA9PT0gJ2h0dHBzJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGdW5jdGlvbjogV2ViRmluZ2VyXG4gICAqXG4gICAqIFdlYkZpbmdlciBjb25zdHJ1Y3RvclxuICAgKlxuICAgKiBSZXR1cm5zOlxuICAgKlxuICAgKiAgIHJldHVybiBXZWJGaW5nZXIgb2JqZWN0XG4gICAqL1xuICBmdW5jdGlvbiBXZWJGaW5nZXIoY29uZmlnKSB7XG4gICAgaWYgKHR5cGVvZiBjb25maWcgIT09ICdvYmplY3QnKSB7XG4gICAgICBjb25maWcgPSB7fTtcbiAgICB9XG5cbiAgICB0aGlzLmNvbmZpZyA9IHtcbiAgICAgIHRsc19vbmx5OiAgICAgICAgICh0eXBlb2YgY29uZmlnLnRsc19vbmx5ICE9PSAndW5kZWZpbmVkJykgPyBjb25maWcudGxzX29ubHkgOiB0cnVlLFxuICAgICAgd2ViZmlzdF9mYWxsYmFjazogKHR5cGVvZiBjb25maWcud2ViZmlzdF9mYWxsYmFjayAhPT0gJ3VuZGVmaW5lZCcpID8gY29uZmlnLndlYmZpc3RfZmFsbGJhY2sgOiBmYWxzZSxcbiAgICAgIHVyaV9mYWxsYmFjazogICAgICh0eXBlb2YgY29uZmlnLnVyaV9mYWxsYmFjayAhPT0gJ3VuZGVmaW5lZCcpID8gY29uZmlnLnVyaV9mYWxsYmFjayA6IGZhbHNlLFxuICAgICAgcmVxdWVzdF90aW1lb3V0OiAgKHR5cGVvZiBjb25maWcucmVxdWVzdF90aW1lb3V0ICE9PSAndW5kZWZpbmVkJykgPyBjb25maWcucmVxdWVzdF90aW1lb3V0IDogMTAwMDBcbiAgICB9O1xuICB9XG5cbiAgLy8gbWFrZSBhbiBodHRwIHJlcXVlc3QgYW5kIGxvb2sgZm9yIEpSRCByZXNwb25zZSwgZmFpbHMgaWYgcmVxdWVzdCBmYWlsc1xuICAvLyBvciByZXNwb25zZSBub3QganNvbi5cbiAgV2ViRmluZ2VyLnByb3RvdHlwZS5fX2ZldGNoSlJEID0gZnVuY3Rpb24gKHVybCwgZXJyb3JIYW5kbGVyLCBzdWNlc3NIYW5kbGVyKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIHhoci50aW1lb3V0ID0gdGhpcy5jb25maWcucmVxdWVzdF90aW1lb3V0O1xuXG4gICAgZnVuY3Rpb24gX19wcm9jZXNzU3RhdGUoKSB7XG4gICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgIGlmIChzZWxmLl9faXNWYWxpZEpTT04oeGhyLnJlc3BvbnNlVGV4dCkpIHtcbiAgICAgICAgICByZXR1cm4gc3VjZXNzSGFuZGxlcih4aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZXJyb3JIYW5kbGVyKGdlbmVyYXRlRXJyb3JPYmplY3Qoe1xuICAgICAgICAgICAgbWVzc2FnZTogJ2ludmFsaWQganNvbicsXG4gICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgIHN0YXR1czogeGhyLnN0YXR1c1xuICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh4aHIuc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgcmV0dXJuIGVycm9ySGFuZGxlcihnZW5lcmF0ZUVycm9yT2JqZWN0KHtcbiAgICAgICAgICBtZXNzYWdlOiAncmVzb3VyY2Ugbm90IGZvdW5kJyxcbiAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICBzdGF0dXM6IHhoci5zdGF0dXNcbiAgICAgICAgfSkpO1xuICAgICAgfSBlbHNlIGlmICgoeGhyLnN0YXR1cyA+PSAzMDEpICYmICh4aHIuc3RhdHVzIDw9IDMwMikpIHtcbiAgICAgICAgdmFyIGxvY2F0aW9uID0geGhyLmdldFJlc3BvbnNlSGVhZGVyKCdMb2NhdGlvbicpO1xuICAgICAgICBpZiAoaXNTZWN1cmUobG9jYXRpb24pKSB7XG4gICAgICAgICAgcmV0dXJuIF9fbWFrZVJlcXVlc3QobG9jYXRpb24pOyAvLyBmb2xsb3cgcmVkaXJlY3RcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZXJyb3JIYW5kbGVyKGdlbmVyYXRlRXJyb3JPYmplY3Qoe1xuICAgICAgICAgICAgbWVzc2FnZTogJ25vIHJlZGlyZWN0IFVSTCBmb3VuZCcsXG4gICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgIHN0YXR1czogeGhyLnN0YXR1c1xuICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGVycm9ySGFuZGxlcihnZW5lcmF0ZUVycm9yT2JqZWN0KHtcbiAgICAgICAgICBtZXNzYWdlOiAnZXJyb3IgZHVyaW5nIHJlcXVlc3QnLFxuICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgIHN0YXR1czogeGhyLnN0YXR1c1xuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX19tYWtlUmVxdWVzdCgpIHtcbiAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkge1xuICAgICAgICAgIF9fcHJvY2Vzc1N0YXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9fcHJvY2Vzc1N0YXRlKCk7XG4gICAgICB9O1xuXG4gICAgICB4aHIub250aW1lb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZXJyb3JIYW5kbGVyKGdlbmVyYXRlRXJyb3JPYmplY3Qoe1xuICAgICAgICAgIG1lc3NhZ2U6ICdyZXF1ZXN0IHRpbWVkIG91dCcsXG4gICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgc3RhdHVzOiB4aHIuc3RhdHVzXG4gICAgICAgIH0pKTtcbiAgICAgIH07XG5cbiAgICAgIHhoci5vcGVuKCdHRVQnLCB1cmwsIHRydWUpO1xuICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qcmQranNvbiwgYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgeGhyLnNlbmQoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gX19tYWtlUmVxdWVzdCgpO1xuICB9O1xuXG4gIFdlYkZpbmdlci5wcm90b3R5cGUuX19pc1ZhbGlkSlNPTiA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICB0cnkge1xuICAgICAgSlNPTi5wYXJzZShzdHIpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgV2ViRmluZ2VyLnByb3RvdHlwZS5fX2lzTG9jYWxob3N0ID0gZnVuY3Rpb24gKGhvc3QpIHtcbiAgICB2YXIgbG9jYWwgPSAvXmxvY2FsaG9zdChcXC5sb2NhbGRvbWFpbik/KFxcOlswLTldKyk/JC87XG4gICAgcmV0dXJuIGxvY2FsLnRlc3QoaG9zdCk7XG4gIH07XG5cbiAgLy8gcHJvY2Vzc2VzIEpSRCBvYmplY3QgYXMgaWYgaXQncyBhIHdlYmZpbmdlciByZXNwb25zZSBvYmplY3RcbiAgLy8gbG9va3MgZm9yIGtub3duIHByb3BlcnRpZXMgYW5kIGFkZHMgdGhlbSB0byBwcm9maWxlIGRhdGF0IHN0cnVjdC5cbiAgV2ViRmluZ2VyLnByb3RvdHlwZS5fX3Byb2Nlc3NKUkQgPSBmdW5jdGlvbiAoVVJMLCBKUkQsIGVycm9ySGFuZGxlciwgc3VjY2Vzc0hhbmRsZXIpIHtcbiAgICB2YXIgcGFyc2VkSlJEID0gSlNPTi5wYXJzZShKUkQpO1xuICAgIGlmICgodHlwZW9mIHBhcnNlZEpSRCAhPT0gJ29iamVjdCcpIHx8XG4gICAgICAgICh0eXBlb2YgcGFyc2VkSlJELmxpbmtzICE9PSAnb2JqZWN0JykpIHtcbiAgICAgIGlmICh0eXBlb2YgcGFyc2VkSlJELmVycm9yICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gZXJyb3JIYW5kbGVyKGdlbmVyYXRlRXJyb3JPYmplY3QoeyBtZXNzYWdlOiBwYXJzZWRKUkQuZXJyb3IsIHJlcXVlc3Q6IFVSTCB9KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZXJyb3JIYW5kbGVyKGdlbmVyYXRlRXJyb3JPYmplY3QoeyBtZXNzYWdlOiAndW5rbm93biByZXNwb25zZSBmcm9tIHNlcnZlcicsIHJlcXVlc3Q6IFVSTCB9KSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGxpbmtzID0gcGFyc2VkSlJELmxpbmtzO1xuICAgIGlmICghQXJyYXkuaXNBcnJheShsaW5rcykpIHtcbiAgICAgIGxpbmtzID0gW107XG4gICAgfVxuICAgIHZhciByZXN1bHQgPSB7ICAvLyB3ZWJmaW5nZXIgSlJEIC0gb2JqZWN0LCBqc29uLCBhbmQgb3VyIG93biBpbmRleGluZ1xuICAgICAgb2JqZWN0OiBwYXJzZWRKUkQsXG4gICAgICBqc29uOiBKUkQsXG4gICAgICBpZHg6IHt9XG4gICAgfTtcblxuICAgIHJlc3VsdC5pZHgucHJvcGVydGllcyA9IHtcbiAgICAgICduYW1lJzogdW5kZWZpbmVkXG4gICAgfTtcbiAgICByZXN1bHQuaWR4LmxpbmtzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShMSU5LX1BST1BFUlRJRVMpKTtcblxuICAgIC8vIHByb2Nlc3MgbGlua3NcbiAgICBsaW5rcy5tYXAoZnVuY3Rpb24gKGxpbmssIGkpIHtcbiAgICAgIGlmIChMSU5LX1VSSV9NQVBTLmhhc093blByb3BlcnR5KGxpbmsucmVsKSkge1xuICAgICAgICBpZiAocmVzdWx0LmlkeC5saW5rc1tMSU5LX1VSSV9NQVBTW2xpbmsucmVsXV0pIHtcbiAgICAgICAgICB2YXIgZW50cnkgPSB7fTtcbiAgICAgICAgICBPYmplY3Qua2V5cyhsaW5rKS5tYXAoZnVuY3Rpb24gKGl0ZW0sIG4pIHtcbiAgICAgICAgICAgIGVudHJ5W2l0ZW1dID0gbGlua1tpdGVtXTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXN1bHQuaWR4LmxpbmtzW0xJTktfVVJJX01BUFNbbGluay5yZWxdXS5wdXNoKGVudHJ5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gcHJvY2VzcyBwcm9wZXJ0aWVzXG4gICAgdmFyIHByb3BzID0gSlNPTi5wYXJzZShKUkQpLnByb3BlcnRpZXM7XG4gICAgZm9yICh2YXIga2V5IGluIHByb3BzKSB7XG4gICAgICBpZiAocHJvcHMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICBpZiAoa2V5ID09PSAnaHR0cDovL3BhY2tldGl6ZXIuY29tL25zL25hbWUnKSB7XG4gICAgICAgICAgcmVzdWx0LmlkeC5wcm9wZXJ0aWVzLm5hbWUgPSBwcm9wc1trZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdWNjZXNzSGFuZGxlcihyZXN1bHQpO1xuICB9O1xuXG4gIFdlYkZpbmdlci5wcm90b3R5cGUubG9va3VwID0gZnVuY3Rpb24gKGFkZHJlc3MsIGNiKSB7XG4gICAgaWYgKHR5cGVvZiBhZGRyZXNzICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdmaXJzdCBwYXJhbWV0ZXIgbXVzdCBiZSBhIHVzZXIgYWRkcmVzcycpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGNiICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NlY29uZCBwYXJhbWV0ZXIgbXVzdCBiZSBhIGNhbGxiYWNrJyk7XG4gICAgfVxuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBob3N0ID0gJyc7XG4gICAgaWYgKGFkZHJlc3MuaW5kZXhPZignOi8vJykgPiAtMSkge1xuICAgICAgLy8gb3RoZXIgdXJpIGZvcm1hdFxuICAgICAgaG9zdCA9IGFkZHJlc3MucmVwbGFjZSgvIC9nLCcnKS5zcGxpdCgnLycpWzJdO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyB1c2VyYWRkcmVzc1xuICAgICAgaG9zdCA9IGFkZHJlc3MucmVwbGFjZSgvIC9nLCcnKS5zcGxpdCgnQCcpWzFdO1xuICAgIH1cbiAgICB2YXIgdXJpX2luZGV4ID0gMDsgICAgICAvLyB0cmFjayB3aGljaCBVUklTIHdlJ3ZlIHRyaWVkIGFscmVhZHlcbiAgICB2YXIgcHJvdG9jb2wgPSAnaHR0cHMnOyAvLyB3ZSB1c2UgaHR0cHMgYnkgZGVmYXVsdFxuXG4gICAgaWYgKHNlbGYuX19pc0xvY2FsaG9zdChob3N0KSkge1xuICAgICAgcHJvdG9jb2wgPSAnaHR0cCc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX19idWlsZFVSTCgpIHtcbiAgICAgIHZhciB1cmkgPSAnJztcbiAgICAgIGlmICghIGFkZHJlc3Muc3BsaXQoJzovLycpWzFdKSB7XG4gICAgICAgIC8vIHRoZSBVUkkgaGFzIG5vdCBiZWVuIGRlZmluZWQsIGRlZmF1bHQgdG8gYWNjdFxuICAgICAgICB1cmkgPSAnYWNjdDonO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHByb3RvY29sICsgJzovLycgKyBob3N0ICsgJy8ud2VsbC1rbm93bi8nICtcbiAgICAgICAgICAgICBVUklTW3VyaV9pbmRleF0gKyAnP3Jlc291cmNlPScgKyB1cmkgKyBhZGRyZXNzO1xuICAgIH1cblxuICAgIC8vIGNvbnRyb2wgZmxvdyBmb3IgZmFpbHVyZXMsIHdoYXQgdG8gZG8gaW4gdmFyaW91cyBjYXNlcywgZXRjLlxuICAgIGZ1bmN0aW9uIF9fZmFsbGJhY2tDaGVja3MoZXJyKSB7XG4gICAgICBpZiAoKHNlbGYuY29uZmlnLnVyaV9mYWxsYmFjaykgJiYgKGhvc3QgIT09ICd3ZWJmaXN0Lm9yZycpICYmICh1cmlfaW5kZXggIT09IFVSSVMubGVuZ3RoIC0gMSkpIHsgLy8gd2UgaGF2ZSB1cmlzIGxlZnQgdG8gdHJ5XG4gICAgICAgIHVyaV9pbmRleCA9IHVyaV9pbmRleCArIDE7XG4gICAgICAgIHJldHVybiBfX2NhbGwoKTtcbiAgICAgIH0gZWxzZSBpZiAoKCFzZWxmLmNvbmZpZy50bHNfb25seSkgJiYgKHByb3RvY29sID09PSAnaHR0cHMnKSkgeyAvLyB0cnkgbm9ybWFsIGh0dHBcbiAgICAgICAgdXJpX2luZGV4ID0gMDtcbiAgICAgICAgcHJvdG9jb2wgPSAnaHR0cCc7XG4gICAgICAgIHJldHVybiBfX2NhbGwoKTtcbiAgICAgIH0gZWxzZSBpZiAoKHNlbGYuY29uZmlnLndlYmZpc3RfZmFsbGJhY2spICYmIChob3N0ICE9PSAnd2ViZmlzdC5vcmcnKSkgeyAvLyB3ZWJmaXN0IGF0dGVtcHRcbiAgICAgICAgdXJpX2luZGV4ID0gMDtcbiAgICAgICAgcHJvdG9jb2wgPSAnaHR0cCc7XG4gICAgICAgIGhvc3QgPSAnd2ViZmlzdC5vcmcnO1xuICAgICAgICAvLyB3ZWJmaXN0IHdpbGxcbiAgICAgICAgLy8gMS4gbWFrZSBhIHF1ZXJ5IHRvIHRoZSB3ZWJmaXN0IHNlcnZlciBmb3IgdGhlIHVzZXJzIGFjY291bnRcbiAgICAgICAgLy8gMi4gZnJvbSB0aGUgcmVzcG9uc2UsIGdldCBhIGxpbmsgdG8gdGhlIGFjdHVhbCB3ZWJmaW5nZXIganNvbiBkYXRhXG4gICAgICAgIC8vICAgIChzdG9yZWQgc29tZXdoZXJlIGluIGNvbnRyb2wgb2YgdGhlIHVzZXIpXG4gICAgICAgIC8vIDMuIG1ha2UgYSByZXF1ZXN0IHRvIHRoYXQgdXJsIGFuZCBnZXQgdGhlIGpzb25cbiAgICAgICAgLy8gNC4gcHJvY2VzcyBpdCBsaWtlIGEgbm9ybWFsIHdlYmZpbmdlciByZXNwb25zZVxuICAgICAgICB2YXIgVVJMID0gX19idWlsZFVSTCgpO1xuICAgICAgICBzZWxmLl9fZmV0Y2hKUkQoVVJMLCBjYiwgZnVuY3Rpb24gKGRhdGEpIHsgLy8gZ2V0IGxpbmsgdG8gdXNlcnMgSlJEXG4gICAgICAgICAgc2VsZi5fX3Byb2Nlc3NKUkQoVVJMLCBkYXRhLCBjYiwgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKCh0eXBlb2YgcmVzdWx0LmlkeC5saW5rcy53ZWJmaXN0ID09PSAnb2JqZWN0JykgJiZcbiAgICAgICAgICAgICAgICAodHlwZW9mIHJlc3VsdC5pZHgubGlua3Mud2ViZmlzdFswXS5ocmVmID09PSAnc3RyaW5nJykpIHtcbiAgICAgICAgICAgICAgc2VsZi5fX2ZldGNoSlJEKHJlc3VsdC5pZHgubGlua3Mud2ViZmlzdFswXS5ocmVmLCBjYiwgZnVuY3Rpb24gKEpSRCkge1xuICAgICAgICAgICAgICAgIHNlbGYuX19wcm9jZXNzSlJEKFVSTCwgSlJELCBjYiwgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGNiKG51bGwsIGNiKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNiKGVycik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX19jYWxsKCkge1xuICAgICAgLy8gbWFrZSByZXF1ZXN0XG4gICAgICB2YXIgVVJMID0gX19idWlsZFVSTCgpO1xuICAgICAgc2VsZi5fX2ZldGNoSlJEKFVSTCwgX19mYWxsYmFja0NoZWNrcywgZnVuY3Rpb24gKEpSRCkge1xuICAgICAgICBzZWxmLl9fcHJvY2Vzc0pSRChVUkwsIEpSRCwgY2IsIGZ1bmN0aW9uIChyZXN1bHQpIHsgY2IobnVsbCwgcmVzdWx0KTsgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2V0VGltZW91dChfX2NhbGwsIDApO1xuICB9O1xuXG4gIFdlYkZpbmdlci5wcm90b3R5cGUubG9va3VwTGluayA9IGZ1bmN0aW9uIChhZGRyZXNzLCByZWwsIGNiKSB7XG4gICAgaWYgKExJTktfUFJPUEVSVElFUy5oYXNPd25Qcm9wZXJ0eShyZWwpKSB7XG4gICAgICB0aGlzLmxvb2t1cChhZGRyZXNzLCBmdW5jdGlvbiAoZXJyLCBwKSB7XG4gICAgICAgIHZhciBsaW5rcyAgPSBwLmlkeC5saW5rc1tyZWxdO1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmV0dXJuIGNiKGVycik7XG4gICAgICAgIH0gZWxzZSBpZiAobGlua3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIGNiKCdubyBsaW5rcyBmb3VuZCB3aXRoIHJlbD1cIicgKyByZWwgKyAnXCInKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gY2IobnVsbCwgbGlua3NbMF0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGNiKCd1bnN1cHBvcnRlZCByZWwgJyArIHJlbCk7XG4gICAgfVxuICB9O1xuXG5cblxuICAvLyBBTUQgc3VwcG9ydFxuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICBkZWZpbmUoW10sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFdlYkZpbmdlcjsgfSk7XG4gIC8vIENvbW1vbkpTIGFuZCBOb2RlLmpzIG1vZHVsZSBzdXBwb3J0LlxuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJykge1xuICAgIC8vIFN1cHBvcnQgTm9kZS5qcyBzcGVjaWZpYyBgbW9kdWxlLmV4cG9ydHNgICh3aGljaCBjYW4gYmUgYSBmdW5jdGlvbilcbiAgICBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAgICAgZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gV2ViRmluZ2VyO1xuICAgIH1cbiAgICAvLyBCdXQgYWx3YXlzIHN1cHBvcnQgQ29tbW9uSlMgbW9kdWxlIDEuMS4xIHNwZWMgKGBleHBvcnRzYCBjYW5ub3QgYmUgYSBmdW5jdGlvbilcbiAgICBleHBvcnRzLldlYkZpbmdlciA9IFdlYkZpbmdlcjtcbiAgfSBlbHNlIHtcbiAgICAvLyBicm93c2VyIDxzY3JpcHQ+IHN1cHBvcnRcbiAgICBnbG9iYWwuV2ViRmluZ2VyID0gV2ViRmluZ2VyO1xuICB9XG59KSh0aGlzKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi93ZWJmaW5nZXIuanMvc3JjL3dlYmZpbmdlci5qc1xuLy8gbW9kdWxlIGlkID0gMzJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports){eval("module.exports = XMLHttpRequest;\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3hocjIvbGliL2Jyb3dzZXIuanM/MjQyMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIzMy5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gWE1MSHR0cFJlcXVlc3Q7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34veGhyMi9saWIvYnJvd3Nlci5qc1xuLy8gbW9kdWxlIGlkID0gMzNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==")}])})},{}],2:[function(t,e,n){!function(t,i){if("object"==typeof n&&"object"==typeof e)e.exports=i();else if("function"==typeof define&&define.amd)define([],i);else{var r=i();for(var s in r)("object"==typeof n?n:t)[s]=r[s]}}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=function(t){return Array.prototype.slice.call(arguments,1).forEach(function(e){for(var n in e)t[n]=e[n]}),t},s=n(2),o=function(t,e){var n={id:{type:"string"},url:{type:"string",format:"uri"},title:{type:"string"},createdAt:{type:"string",format:"date-time"},updatedAt:{type:"string",format:"date-time"}};t.declareType("archive-bookmark",{type:"object",properties:r({description:{type:"string",default:""},tags:{type:"array",default:[]},thumbnail:{description:"A base64-encoded screenshot of the bookmarked page",type:"string"}},n),required:["id","title","url"]}),t.declareType("browser-bookmark",{type:"object",properties:r({tags:{type:"array",default:[]}},n)}),t.declareType("readlater-bookmark",{type:"object",properties:r({unread:{type:"boolean",default:!0,required:!0}},n)});var o={name:"bookmarks",archive:{find:function(e){var n="archive/"+e;return t.getObject(n).then(function(t){return t})},getAll:function(){return t.getAll("archive/").then(function(t){return t?Object.keys(t).map(function(e){return t[e]}):[]})},searchByURL:function(e){var n=this.idForUrl(e),i="archive/"+n;return t.getObject(i)},searchByTags:function(t){return this.getAll().then(function(e){return e?e.filter(function(e){return e.tags&&i(e.tags,t).length}):[]})},store:function(e){e.id=a(e.url),e.createdAt?e.updatedAt=(new Date).toISOString():e.createdAt=(new Date).toISOString();var n="archive/"+e.id;return t.storeObject("archive-bookmark",n,e).then(function(){return e})},remove:function(e){var n="archive/"+e;return t.remove(n)},idForUrl:function(t){return a(t)}},client:t
},a=function(t){return s(t)};return{exports:o}};e.default={name:"bookmarks",builder:o}},function(t,e){(function(e){"use strict";function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function i(t,e){return!!(t?t.length:0)&&a(t,e,0)>-1}function r(t,e,n){for(var i=-1,r=t?t.length:0;++i<r;)if(n(e,t[i]))return!0;return!1}function s(t,e){for(var n=-1,i=t?t.length:0,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function o(t,e,n,i){for(var r=t.length,s=n+(i?1:-1);i?s--:++s<r;)if(e(t[s],s,t))return s;return-1}function a(t,e,n){if(e!==e)return o(t,l,n);for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}function l(t){return t!==t}function c(t){return function(e){return t(e)}}function g(t,e){return t.has(e)}function u(t,e){return null==t?void 0:t[e]}function Q(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function B(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function I(){this.__data__=ht?ht(null):{}}function d(t){return this.has(t)&&delete this.__data__[t]}function F(t){var e=this.__data__;if(ht){var n=e[t];return n===_?void 0:n}return Qt.call(e,t)?e[t]:void 0}function C(t){var e=this.__data__;return ht?void 0!==e[t]:Qt.call(e,t)}function U(t,e){return this.__data__[t]=ht&&void 0===e?_:e,this}function h(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function m(){this.__data__=[]}function b(t){var e=this.__data__,n=v(e,t);return!(n<0)&&(n==e.length-1?e.pop():dt.call(e,n,1),!0)}function p(t){var e=this.__data__,n=v(e,t);return n<0?void 0:e[n][1]}function A(t){return v(this.__data__,t)>-1}function y(t,e){var n=this.__data__,i=v(n,t);return i<0?n.push([t,e]):n[i][1]=e,this}function f(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function G(){this.__data__={hash:new B,map:new(Ut||h),string:new B}}function x(t){return J(this,t).delete(t)}function V(t){return J(this,t).get(t)}function Z(t){return J(this,t).has(t)}function R(t,e){return J(this,t).set(t,e),this}function X(t){var e=-1,n=t?t.length:0;for(this.__data__=new f;++e<n;)this.add(t[e])}function L(t){return this.__data__.set(t,_),this}function E(t){return this.__data__.has(t)}function v(t,e){for(var n=t.length;n--;)if(D(t[n][0],e))return n;return-1}function S(t,e,n){for(var o=n?r:i,a=t[0].length,l=t.length,u=l,Q=Array(l),B=1/0,I=[];u--;){var d=t[u];u&&e&&(d=s(d,c(e))),B=Ct(d.length,B),Q[u]=!n&&(e||a>=120&&d.length>=120)?new X(u&&d):void 0}d=t[0];var F=-1,C=Q[0];t:for(;++F<a&&I.length<B;){var U=d[F],h=e?e(U):U;if(U=n||0!==U?U:0,!(C?g(C,h):o(I,h,n))){for(u=l;--u;){var m=Q[u];if(!(m?g(m,h):o(t[u],h,n)))continue t}C&&C.push(h),I.push(U)}}return I}function W(t){return!(!j(t)||k(t))&&(z(t)||Q(t)?It:nt).test(T(t))}function N(t){return O(t)?t:[]}function J(t,e){var n=t.__data__;return H(e)?n["string"==typeof e?"string":"hash"]:n.map}function Y(t,e){var n=u(t,e);return W(n)?n:void 0}function H(t){var e=void 0===t?"undefined":K(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function k(t){return!!gt&&gt in t}function T(t){if(null!=t){try{return ut.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function D(t,e){return t===e||t!==t&&e!==e}function w(t){return null!=t&&M(t.length)&&!z(t)}function O(t){return P(t)&&w(t)}function z(t){var e=j(t)?Bt.call(t):"";return e==$||e==tt}function M(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=q}function j(t){var e=void 0===t?"undefined":K(t);return!!t&&("object"==e||"function"==e)}function P(t){return!!t&&"object"==(void 0===t?"undefined":K(t))}var K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_="__lodash_hash_undefined__",q=9007199254740991,$="[object Function]",tt="[object GeneratorFunction]",et=/[\\^$.*+?()[\]{}|]/g,nt=/^\[object .+?Constructor\]$/,it="object"==(void 0===e?"undefined":K(e))&&e&&e.Object===Object&&e,rt="object"==("undefined"==typeof self?"undefined":K(self))&&self&&self.Object===Object&&self,st=it||rt||Function("return this")(),ot=Array.prototype,at=Function.prototype,lt=Object.prototype,ct=st["__core-js_shared__"],gt=function(){var t=/[^.]+$/.exec(ct&&ct.keys&&ct.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),ut=at.toString,Qt=lt.hasOwnProperty,Bt=lt.toString,It=RegExp("^"+ut.call(Qt).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),dt=ot.splice,Ft=Math.max,Ct=Math.min,Ut=Y(st,"Map"),ht=Y(Object,"create");B.prototype.clear=I,B.prototype.delete=d,B.prototype.get=F,B.prototype.has=C,B.prototype.set=U,h.prototype.clear=m,h.prototype.delete=b,h.prototype.get=p,h.prototype.has=A,h.prototype.set=y,f.prototype.clear=G,f.prototype.delete=x,f.prototype.get=V,f.prototype.has=Z,f.prototype.set=R,X.prototype.add=X.prototype.push=L,X.prototype.has=E;var mt=function(t,e){return e=Ft(void 0===e?t.length-1:e,0),function(){for(var i=arguments,r=-1,s=Ft(i.length-e,0),o=Array(s);++r<s;)o[r]=i[e+r];r=-1;for(var a=Array(e+1);++r<e;)a[r]=i[r];return a[e]=o,n(t,this,a)}}(function(t){var e=s(t,N);return e.length&&e[0]===t[0]?S(e):[]});t.exports=mt}).call(e,function(){return this}())},function(t,e,n){"use strict";!function(){var e=n(3),i=n(4).utf8,r=n(5),s=n(4).bin,o=function t(n,o){n.constructor==String?n=o&&"binary"===o.encoding?s.stringToBytes(n):i.stringToBytes(n):r(n)?n=Array.prototype.slice.call(n,0):Array.isArray(n)||(n=n.toString());for(var a=e.bytesToWords(n),l=8*n.length,c=1732584193,g=-271733879,u=-1732584194,Q=271733878,B=0;B<a.length;B++)a[B]=16711935&(a[B]<<8|a[B]>>>24)|4278255360&(a[B]<<24|a[B]>>>8);a[l>>>5]|=128<<l%32,a[14+(l+64>>>9<<4)]=l;for(var I=t._ff,d=t._gg,F=t._hh,C=t._ii,B=0;B<a.length;B+=16){var U=c,h=g,m=u,b=Q;c=I(c,g,u,Q,a[B+0],7,-680876936),Q=I(Q,c,g,u,a[B+1],12,-389564586),u=I(u,Q,c,g,a[B+2],17,606105819),g=I(g,u,Q,c,a[B+3],22,-1044525330),c=I(c,g,u,Q,a[B+4],7,-176418897),Q=I(Q,c,g,u,a[B+5],12,1200080426),u=I(u,Q,c,g,a[B+6],17,-1473231341),g=I(g,u,Q,c,a[B+7],22,-45705983),c=I(c,g,u,Q,a[B+8],7,1770035416),Q=I(Q,c,g,u,a[B+9],12,-1958414417),u=I(u,Q,c,g,a[B+10],17,-42063),g=I(g,u,Q,c,a[B+11],22,-1990404162),c=I(c,g,u,Q,a[B+12],7,1804603682),Q=I(Q,c,g,u,a[B+13],12,-40341101),u=I(u,Q,c,g,a[B+14],17,-1502002290),g=I(g,u,Q,c,a[B+15],22,1236535329),c=d(c,g,u,Q,a[B+1],5,-165796510),Q=d(Q,c,g,u,a[B+6],9,-1069501632),u=d(u,Q,c,g,a[B+11],14,643717713),g=d(g,u,Q,c,a[B+0],20,-373897302),c=d(c,g,u,Q,a[B+5],5,-701558691),Q=d(Q,c,g,u,a[B+10],9,38016083),u=d(u,Q,c,g,a[B+15],14,-660478335),g=d(g,u,Q,c,a[B+4],20,-405537848),c=d(c,g,u,Q,a[B+9],5,568446438),Q=d(Q,c,g,u,a[B+14],9,-1019803690),u=d(u,Q,c,g,a[B+3],14,-187363961),g=d(g,u,Q,c,a[B+8],20,1163531501),c=d(c,g,u,Q,a[B+13],5,-1444681467),Q=d(Q,c,g,u,a[B+2],9,-51403784),u=d(u,Q,c,g,a[B+7],14,1735328473),g=d(g,u,Q,c,a[B+12],20,-1926607734),c=F(c,g,u,Q,a[B+5],4,-378558),Q=F(Q,c,g,u,a[B+8],11,-2022574463),u=F(u,Q,c,g,a[B+11],16,1839030562),g=F(g,u,Q,c,a[B+14],23,-35309556),c=F(c,g,u,Q,a[B+1],4,-1530992060),Q=F(Q,c,g,u,a[B+4],11,1272893353),u=F(u,Q,c,g,a[B+7],16,-155497632),g=F(g,u,Q,c,a[B+10],23,-1094730640),c=F(c,g,u,Q,a[B+13],4,681279174),Q=F(Q,c,g,u,a[B+0],11,-358537222),u=F(u,Q,c,g,a[B+3],16,-722521979),g=F(g,u,Q,c,a[B+6],23,76029189),c=F(c,g,u,Q,a[B+9],4,-640364487),Q=F(Q,c,g,u,a[B+12],11,-421815835),u=F(u,Q,c,g,a[B+15],16,530742520),g=F(g,u,Q,c,a[B+2],23,-995338651),c=C(c,g,u,Q,a[B+0],6,-198630844),Q=C(Q,c,g,u,a[B+7],10,1126891415),u=C(u,Q,c,g,a[B+14],15,-1416354905),g=C(g,u,Q,c,a[B+5],21,-57434055),c=C(c,g,u,Q,a[B+12],6,1700485571),Q=C(Q,c,g,u,a[B+3],10,-1894986606),u=C(u,Q,c,g,a[B+10],15,-1051523),g=C(g,u,Q,c,a[B+1],21,-2054922799),c=C(c,g,u,Q,a[B+8],6,1873313359),Q=C(Q,c,g,u,a[B+15],10,-30611744),u=C(u,Q,c,g,a[B+6],15,-1560198380),g=C(g,u,Q,c,a[B+13],21,1309151649),c=C(c,g,u,Q,a[B+4],6,-145523070),Q=C(Q,c,g,u,a[B+11],10,-1120210379),u=C(u,Q,c,g,a[B+2],15,718787259),g=C(g,u,Q,c,a[B+9],21,-343485551),c=c+U>>>0,g=g+h>>>0,u=u+m>>>0,Q=Q+b>>>0}return e.endian([c,g,u,Q])};o._ff=function(t,e,n,i,r,s,o){var a=t+(e&n|~e&i)+(r>>>0)+o;return(a<<s|a>>>32-s)+e},o._gg=function(t,e,n,i,r,s,o){var a=t+(e&i|n&~i)+(r>>>0)+o;return(a<<s|a>>>32-s)+e},o._hh=function(t,e,n,i,r,s,o){var a=t+(e^n^i)+(r>>>0)+o;return(a<<s|a>>>32-s)+e},o._ii=function(t,e,n,i,r,s,o){var a=t+(n^(e|~i))+(r>>>0)+o;return(a<<s|a>>>32-s)+e},o._blocksize=16,o._digestsize=16,t.exports=function(t,n){if(void 0===t||null===t)throw new Error("Illegal argument "+t);var i=e.wordsToBytes(o(t,n));return n&&n.asBytes?i:n&&n.asString?s.bytesToString(i):e.bytesToHex(i)}}()},function(t,e){"use strict";!function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,i=0;n<t.length;n++,i+=8)e[i>>>5]|=t[n]<<24-i%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var n=[],i=0;i<t.length;i+=3)for(var r=t[i]<<16|t[i+1]<<8|t[i+2],s=0;s<4;s++)8*i+6*s<=8*t.length?n.push(e.charAt(r>>>6*(3-s)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],i=0,r=0;i<t.length;r=++i%4)0!=r&&n.push((e.indexOf(t.charAt(i-1))&Math.pow(2,-2*r+8)-1)<<2*r|e.indexOf(t.charAt(i))>>>6-2*r);return n}};t.exports=n}()},function(t,e){"use strict";var n={utf8:{stringToBytes:function(t){return n.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(n.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}};t.exports=n},function(t,e){"use strict";function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function i(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}t.exports=function(t){return null!=t&&(n(t)||i(t)||!!t._isBuffer)}}])})},{}],3:[function(t,e,n){!function(t,i){"object"==typeof n&&"object"==typeof e?e.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof n?n.Widget=i():t.Widget=i()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";var i=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.rs=t,this.state="initial",this.active=!1,this.online=!1,this.closed=!1,this.insertHtmlTemplate(n.domID),this.leaveOpen=!!n.leaveOpen&&n.leaveOpen,t.on("connected",function(){return e.eventHandler("connected")}),t.on("ready",function(){return e.eventHandler("ready")}),t.on("disconnected",function(){return e.eventHandler("disconnected")}),t.on("network-online",function(){return e.eventHandler("network-online")}),t.on("network-offline",function(){return e.eventHandler("network-offline")}),t.on("error",function(t){return e.eventHandler("error",t)}),this.rsWidget=document.querySelector(".rs-widget"),this.rsInitial=document.querySelector(".rs-box-initial"),this.rsChoose=document.querySelector(".rs-box-choose"),this.rsConnected=document.querySelector(".rs-box-connected"),this.rsSignIn=document.querySelector(".rs-box-sign-in"),this.rsChooseRemoteStorageButton=document.querySelector("button.rs-choose-rs"),this.rsChooseDropboxButton=document.querySelector("button.rs-choose-dropbox"),this.rsChooseGoogleDriveButton=document.querySelector("button.rs-choose-gdrive"),this.rsErrorBox=document.querySelector(".rs-box-error"),t.apiKeys.hasOwnProperty("googledrive")||this.rsChooseGoogleDriveButton.parentNode.removeChild(this.rsChooseGoogleDriveButton),t.apiKeys.hasOwnProperty("dropbox")||this.rsChooseDropboxButton.parentNode.removeChild(this.rsChooseDropboxButton),this.rsSignInForm=document.querySelector(".rs-sign-in-form"),this.rsDisconnectButton=document.querySelector(".rs-disconnect"),this.rsSyncButton=document.querySelector(".rs-sync"),this.rsLogo=document.querySelector(".rs-main-logo"),this.rsConnectedUser=document.querySelector(".rs-connected-text h1.rs-user"),this.lastSynced=null,this.lastSyncedUpdateLoop=null,this.setEventListeners(),this.setClickHandlers()};i.prototype={log:function(){for(var t,e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];(t=console).debug.apply(t,["[RS-WIDGET] "].concat(n))},eventHandler:function(t,e){var n=this;switch(this.log("EVENT: ",t),t){case"ready":this.setState(this.state);break;case"req-done":this.rsSyncButton.classList.add("rs-rotate");break;case"done":if(this.rsSyncButton.classList.remove("rs-rotate"),this.rsWidget.classList.contains("rs-state-unauthorized")||!this.rs.remote.online)this.updateLastSyncedOutput();else if(this.rs.remote.online){this.lastSynced=new Date;var i=document.querySelector(".rs-box-connected .rs-sub-headline");i.innerHTML="Synced just now"}break;case"disconnected":this.active=!1,this.online=!1,this.setState("initial");break;case"connected":this.active=!0,this.online=!0,this.rs.hasFeature("Sync")?(this.rs.sync.on("req-done",function(){return n.eventHandler("req-done")}),this.rs.sync.on("done",function(){return n.eventHandler("done")})):this.rsSyncButton.classList.add("hidden");var r=this.rs.remote.userAddress;this.rsConnectedUser.innerHTML=r,this.setState("connected");break;case"network-offline":this.online=!1,this.setState();break;case"network-online":this.online=!0,this.active=!0,this.setState("connected");break;case"error":"DiscoveryError"===e.name?this.handleDiscoveryError(e):"SyncError"===e.name?this.handleSyncError(e):"Unauthorized"===e.name?this.handleUnauthorized(e):console.debug("Encountered unhandled error",e)}},setState:function(t){this.log("Setting state ",t);var e=document.querySelector(".rs-box.selected");e&&e.classList.remove("selected");var n=document.querySelector(".rs-box.rs-box-"+t);n&&n.classList.add("selected"),this.closed&&"close"!==t?this.rsWidget.className="rs-widget rs-state-close rs-state-"+(t||this.state):this.rsWidget.className="rs-widget rs-state-"+(t||this.state),!this.online&&this.active?this.rsWidget.classList.add("rs-state-offline"):this.rsWidget.classList.remove("rs-state-offline"),t&&(this.state=t)},insertHtmlTemplate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=document.createElement("div"),i=document.createElement("style");if(i.innerHTML=n(3),e.id="remotestorage-widget",e.innerHTML=n(2),e.appendChild(i),t){var r=document.getElementById(t);if(!r)throw'Failed to find target DOM element with id="'+t+'"';r.appendChild(e)}else document.body.appendChild(e)},setEventListeners:function(){var t=this;this.rsSignInForm.addEventListener("submit",function(e){e.preventDefault();var n=document.querySelector("input[name=rs-user-address]").value;t.rs.connect(n)})},setClickHandlers:function(){var t=this;this.rsInitial.addEventListener("click",function(){t.rs.apiKeys?t.setState("choose"):t.setState("sign-in")}),this.rsChooseRemoteStorageButton.addEventListener("click",function(){return t.setState("sign-in")}),this.rsChooseDropboxButton.addEventListener("click",function(){return t.rs.dropbox.connect()}),this.rsChooseGoogleDriveButton.addEventListener("click",function(){return t.rs.googledrive.connect()}),this.rsDisconnectButton.addEventListener("click",function(){return t.rs.disconnect()}),this.rs.hasFeature("Sync")&&this.rsSyncButton.addEventListener("click",function(){t.rsSyncButton.classList.contains("rs-rotate")?(t.rs.stopSync(),t.rsSyncButton.classList.remove("rs-rotate")):(t.rs.startSync(),t.rsSyncButton.classList.add("rs-rotate"))}),document.addEventListener("click",function(){return t.closeWidget()}),this.rsWidget.addEventListener("click",function(t){return t.stopPropagation()}),this.rsLogo.addEventListener("click",function(){return t.openWidget()})},openWidget:function(){this.closed=!1,this.setState(this.active?"connected":"initial")},closeWidget:function(){this.leaveOpen?this.setState(this.active?"connected":"initial"):(this.setState("close"),this.closed=!0)},showErrorBox:function(t){this.rsErrorBox.innerHTML=t,this.setState("error")},hideErrorBox:function(){this.rsErrorBox.innerHTML="",this.setState("close")},handleDiscoveryError:function(t){var e=document.querySelector(".rs-sign-in-error");e.innerHTML=t.message,e.classList.remove("hidden"),e.classList.add("visible")},handleSyncError:function(){this.showErrorBox("App sync error")},handleUnauthorized:function(){this.showErrorBox("App authorization expired or revoked")},updateLastSyncedOutput:function(){var t=new Date,e=Math.round((t.getTime()-this.lastSynced.getTime())/1e3);document.querySelector(".rs-box-connected .rs-sub-headline").innerHTML="Synced "+e+" seconds ago"}},t.exports=i},function(t,e){
t.exports=' <div class="rs-widget rs-state-initial"> <svg class=rs-main-logo xmlns=http://www.w3.org/2000/svg version=1.1 xml:space=preserve width=0.739008in height=0.853339in style=shape-rendering:geometricPrecision;text-rendering:geometricPrecision;image-rendering:optimizeQuality;fill-rule:evenodd;clip-rule:evenodd viewBox="0 0 739 853" xmlns:xlink=http://www.w3.org/1999/xlink> <g> <polygon class=rs-logo-shape points="370,754 0,542 0,640 185,747 370,853 554,747 739,640 739,525 739,525 739,476 739,427 739,378 653,427 370,589 86,427 86,427 86,361 185,418 370,524 554,418 653,361 739,311 739,213 739,213 554,107 370,0 185,107 58,180 144,230 228,181 370,100 511,181 652,263 370,425 87,263 87,263 0,213 0,213 0,311 0,378 0,427 0,476 86,525 185,582 370,689 554,582 653,525 653,590 653,592 "/> </g> </svg> <div class="rs-box rs-box-initial"> <h3 class=rs-small-headline>Connect Remote Storage</h3> <span class=rs-sub-headline>To own and control your data</span> </div> <div class="rs-box rs-box-connected"> <div class=rs-connected-text> <h1 class="rs-user rs-small-headline">user@provider.com</h1> <span class=rs-sub-headline>Connected</span> </div> <div class=rs-connected-buttons> <button class="rs-button rs-button-small rs-sync" title="Sync now"> <svg class="rs-icon rs-loop-icon" xml:space=preserve version=1.1 x=0px y=0px height=16 width=16 viewBox="0 0 512 512" style="enable-background:new 0 0 512 512" xmlns=http://www.w3.org/2000/svg> <path d="m273.4 300.5l-0.3 58c48.9-8.2 86.3-51 86.3-102.5 0-15.9-3.6-31-10-44.5-2.8-5.8-6-11.3-9.8-16.5l47.1-43.5c1.1 1.3 2.1 2.7 3.1 4 20.9 28 33.2 62.8 33.2 100.5v3.7c-1.5 71.5-47.6 132-111.4 154.6-12.3 4.3-25.2 7.3-38.5 8.7l-0.1 57-76.2-67-26.2-23 44.4-38.7 58.4-50.8z"/> <path d="m89 252.3c1.6-72.1 48.3-133 112.9-155.2 11.7-4 24-6.8 36.8-8.1l0.1-57 76.1 66.9 26.2 23.1-44.3 38.6-58.4 50.9 0.2-57.9c-48.8 8.3-86 51.1-86 102.4 0 16 3.6 31.1 10.1 44.7 2.7 5.8 6 11.2 9.7 16.3l-47 43.6c-1.3-1.6-2.6-3.3-3.8-5-20.5-27.9-32.6-62.3-32.6-99.6v-3.7z"/> </svg> </button> <button class="rs-button rs-button-small rs-disconnect" title=Disconnect> <svg class="rs-icon rs-power-icon" xmlns=http://www.w3.org/2000/svg x=0px y=0px width=16 height=16 style="enable-background:new 0 0 512 512" xml:space=preserve viewBox="0 0 512 512" version=1.1> <path d="m256 256c-17.7 0-32-14.3-32-32v-160c0-17.7 14.3-32 32-32s32 14.3 32 32v160c0 17.7-14.3 32-32 32z"/> <path d="m379 68.8c-5-3-10.8-4.8-17-4.8-17.7 0-32 14.3-32 32 0 6.2 1.8 12 4.8 16.9 2 3.2 4.6 6.1 7.6 8.4 1.2 0.9 2.4 1.7 3.7 2.5 8.1 5.6 15.8 11.9 23 19.1 30.3 30.2 46.9 70.4 46.9 113.1s-16.6 82.9-46.9 113.1c-30.2 30.3-70.4 46.9-113.1 46.9s-82.9-16.6-113.1-46.9c-30.3-30.2-46.9-70.4-46.9-113.1s16.6-82.9 46.9-113.1c7.1-7.1 14.8-13.5 22.9-19 1.4-0.8 2.6-1.6 3.9-2.6 3-2.3 5.5-5.1 7.5-8.3 3.1-4.9 4.8-10.7 4.8-16.9 0-17.7-14.3-32-32-32-6.2 0-12 1.8-16.9 4.8l-0.1-0.1c-60.8 40-101 108.9-101 187.2 0 123.7 100.3 224 224 224s224-100.3 224-224c0-78.3-40.2-147.2-101-187.2z"/> </svg> </button> </div> </div> <div class="rs-box rs-box-error"></div> <div class="rs-box rs-box-choose"> <div class=rs-content> <h1 class=rs-big-headline>Own Your Data</h1> <p class=rs-short-desc> This app allows you to own and control your data. <a class=rs-help href=https://remotestorage.io/ target=_blank>Read more</a> </p> <p class=rs-small-headline> Please choose your storage: </p> <div class=rs-button-wrap> <button class="rs-button rs-button-big rs-choose-rs"> <svg class=rs-logo fill-rule=evenodd height=40 width=40 xmlns=http://www.w3.org/2000/svg version=1.1 style=shape-rendering:geometricPrecision;image-rendering:optimizeQuality;text-rendering:geometricPrecision clip-rule=evenodd xml:space=preserve viewBox="0 0 739 853"> <g> <polygon class=rs-logo-shape points="370 754 0 542 0 640 185 747 370 853 554 747 739 640 739 525 739 525 739 476 739 427 739 378 653 427 370 589 86 427 86 427 86 361 185 418 370 524 554 418 653 361 739 311 739 213 739 213 554 107 370 0 185 107 58 180 144 230 228 181 370 100 511 181 652 263 370 425 87 263 87 263 0 213 0 213 0 311 0 378 0 427 0 476 86 525 185 582 370 689 554 582 653 525 653 590 653 592"/> </g> </svg> <div>RemoteStorage</div> </button> <button class="rs-button rs-button-big rs-choose-dropbox"> <svg class=dropbox-logo width=40 height=40 xml:space=preserve stroke-miterlimit=1.4142 xmlns=http://www.w3.org/2000/svg viewBox="0 0 104 97" stroke-linejoin=round version=1.1 clip-rule=evenodd> <path d="m30.691 0l-30.691 20.039 21.221 16.994 30.946-19.108-21.476-17.925z" fill=#007ee5 /> <path d="m0 54.028l30.691 20.039 21.476-17.926-30.945-19.108-21.222 16.995z" fill=#007ee5 /> <path d="m52.167 56.142l21.477 17.926 30.696-20.039-21.227-16.995-30.946 19.108z" fill=#007ee5 /> <path d="m104.34 20.039l-30.696-20.039-21.477 17.925 30.946 19.108 21.227-16.994z" fill=#007ee5 /> <path d="m52.23 59.998l-21.538 17.873-9.218-6.018v6.747l30.756 18.443 30.756-18.443v-6.747l-9.216 6.018-21.54-17.873z" fill=#007ee5 /> </svg> <div>Dropbox</div> </button> <button class="rs-button rs-button-big rs-choose-gdrive"> <svg class=gdrive-logo width=40 height=40 version=1.1 stroke-miterlimit=1.4142 xml:space=preserve xmlns=http://www.w3.org/2000/svg width=100% stroke-linejoin=round clip-rule=evenodd viewBox="0 0 511 442" height=100%> <path d="m166.23 0.10955l0.44-0.009998 0.04 0.49-0.56 0.02 0.08-0.5z" fill=#0ba25e /> <path d="m164.52 3.3896c0.39-0.56 1.15-1.68 1.54-2.24l0.7-0.11c0.52 6.34 2.38 12.45 3.78 18.62 6.02 26.81 12.1 53.6 18.43 80.33 4.15 18.33 8.78 36.57 12.58 54.97 3.3 11.39 5.07 23.14 8.26 34.55 2.06 10.64 5.29 21.02 7.02 31.72-0.7 1.17-1.4 2.35-2.11 3.52-0.17 0.27-0.53 0.83-0.7 1.11l-0.26 0.45c-0.04 0.08-0.13 0.25-0.18 0.33-0.39 0.72-1.17 2.15-1.56 2.86-0.07 0.13-0.22 0.39-0.3 0.52l-0.71 1.26c-0.09 0.15-0.26 0.44-0.34 0.59l-0.83 1.45c-0.04 0.08-0.13 0.24-0.18 0.32l-1.03 1.8c-0.09 0.15-0.27 0.47-0.36 0.63-0.1 0.17-0.3 0.5-0.4 0.67l-1.01 1.74c-0.08 0.13-0.24 0.41-0.32 0.54l-0.62 1.05c-0.1 0.18-0.32 0.55-0.42 0.73-0.4 0.69-1.19 2.07-1.59 2.77-0.07 0.12-0.22 0.37-0.29 0.5l-0.63 1.05c-0.1 0.19-0.32 0.55-0.43 0.74-0.37 0.65-1.13 1.94-1.5 2.59-0.09 0.15-0.26 0.46-0.35 0.61l-0.75 1.35c-0.07 0.12-0.21 0.37-0.28 0.49l-0.77 1.35-0.32 0.56c-0.4 0.66-1.18 1.99-1.57 2.66-0.09 0.15-0.27 0.46-0.36 0.62l-0.71 1.28c-0.07 0.12-0.2 0.35-0.26 0.47l-0.82 1.42c-0.07 0.13-0.22 0.38-0.29 0.5-0.42 0.72-1.25 2.15-1.67 2.87-0.07 0.13-0.23 0.39-0.31 0.52l-0.6 0.99c-0.1 0.18-0.31 0.53-0.41 0.71-0.38 0.66-1.13 1.97-1.51 2.63-0.06 0.11-0.2 0.35-0.26 0.46l-0.82 1.46c-0.06 0.11-0.18 0.32-0.24 0.43l-0.84 1.47c-0.07 0.11-0.21 0.35-0.28 0.46-0.39 0.66-1.18 1.96-1.57 2.62-0.11 0.17-0.31 0.53-0.42 0.71l-0.59 1.1c-0.08 0.14-0.23 0.42-0.3 0.55l-1.03 1.78c-0.08 0.15-0.26 0.45-0.34 0.6-0.09 0.14-0.25 0.43-0.33 0.57-1.69 2.85-3.22 5.79-5.09 8.53-10.65 17.37-20.45 35.28-30.76 52.86-16.74 28.97-33.46 57.94-50.2 86.91-2.51 4.51-5.37 8.83-7.53 13.54-0.11 0.16-0.33 0.48-0.44 0.64-4.01-5.78-7.11-12.16-10.78-18.16-16.74-28.99-33.49-57.97-50.22-86.97-9.3-16.31-18.99-32.42-28.04-48.88 35.84-61.85 71.52-123.81 107.29-185.7 0.03-0.06 0.1-0.17 0.13-0.23l0.98-1.68c0.04-0.07 0.12-0.21 0.17-0.28l0.99-1.69c0.09-0.15 0.27-0.47 0.37-0.62 0.1-0.18 0.3-0.53 0.4-0.71l0.99-1.76 0.28-0.48 0.74-1.18c0.13-0.19 0.39-0.58 0.52-0.78 0.36-0.54 1.09-1.63 1.46-2.17 0.04-0.18 0.11-0.53 0.15-0.7l0.87-1.67 0.16-0.28 1-1.68c0.1-0.16 0.3-0.5 0.4-0.67 0.11-0.19 0.33-0.58 0.45-0.78l0.84-1.47c0.09-0.16 0.27-0.47 0.36-0.62l0.7-1.23c0.08-0.13 0.24-0.41 0.32-0.55 0.39-0.67 1.17-2.01 1.57-2.68l0.32-0.56 0.73-1.33c0.06-0.1 0.18-0.32 0.24-0.42l0.96-1.68c0.12-0.2 0.37-0.61 0.5-0.81l0.65-0.98c0.14-0.2 0.41-0.59 0.55-0.78 0.12-0.2 0.37-0.6 0.5-0.8l0.54-1.04c0.18-0.39 0.55-1.17 0.73-1.56l0.55-0.77c0.1-0.14 0.29-0.41 0.39-0.55 0.37-0.31 1.12-0.95 1.49-1.27l-0.07-1.17c0.06-0.14 0.2-0.42 0.27-0.56l0.85-1.69c0.07-0.12 0.21-0.37 0.28-0.49l0.75-1.22c0.14-0.2 0.41-0.6 0.55-0.8 0.34-0.56 1.03-1.66 1.37-2.21 0.1-0.2 0.28-0.59 0.38-0.79l0.53-1.15c0.16-0.3 0.5-0.91 0.67-1.22l0.66-0.94c0.14-0.19 0.42-0.57 0.56-0.76 0.12-0.2 0.37-0.6 0.49-0.8l0.49-1.03c0.11-0.23 0.34-0.7 0.45-0.93l0.86-1.66c0.13-0.2 0.38-0.62 0.5-0.83l0.66-0.98c0.14-0.2 0.42-0.58 0.56-0.78 0.13-0.2 0.38-0.61 0.5-0.81l0.51-1.04c0.15-0.29 0.44-0.86 0.58-1.15l0.68-1.12c0.12-0.19 0.36-0.57 0.49-0.76 0.36-0.56 1.09-1.68 1.46-2.23 0.04-0.17 0.13-0.51 0.17-0.68l0.87-1.66c0.03-0.07 0.11-0.2 0.15-0.27l1-1.71c0.1-0.17 0.29-0.5 0.39-0.67 0.1-0.16 0.29-0.5 0.39-0.66l1-1.75c0.04-0.07 0.12-0.21 0.16-0.29l0.94-1.63c0.05-0.07 0.14-0.22 0.18-0.3l1.01-1.7c0.09-0.16 0.27-0.46 0.36-0.62 0.1-0.17 0.3-0.52 0.4-0.7l0.96-1.69c0.06-0.11 0.18-0.32 0.24-0.42l0.81-1.31c0.13-0.19 0.39-0.58 0.51-0.77 0.37-0.55 1.09-1.65 1.46-2.2 0.03-0.17 0.11-0.51 0.15-0.68l0.85-1.63c0.07-0.12 0.22-0.37 0.29-0.5l0.76-1.19c0.14-0.19 0.4-0.58 0.54-0.78 0.35-0.56 1.05-1.67 1.4-2.23 0.05-0.16 0.14-0.48 0.19-0.64l0.88-1.65c0.04-0.08 0.12-0.22 0.16-0.3l1.02-1.7204c0.08-0.15 0.26-0.45 0.35-0.6 0.09-0.17 0.27-0.49 0.36-0.65l1-1.78c0.05-0.07 0.13-0.22 0.17-0.29l0.95-1.61c0.03-0.05 0.1-0.16 0.13-0.21z" fill=#0ba25e /> <path id=#fccd48ff fill=#fccd48 d="m166.67 0.099552c32.48-0.15 64.97-0.02 97.46-0.07 26.88 0.099998 53.78-0.21 80.65 0.15 0.53 1.02 1.07 2.03 1.64 3.04 0.08 0.13 0.23 0.41 0.31 0.55 2.6 4.53 5.24 9.0404 7.81 13.58 0.05 0.08 0.13 0.23 0.18 0.3 4.98 8.55 9.94 17.11 14.83 25.71 0.04 0.07 0.13 0.21 0.17 0.29 0.89 1.53 1.81 3.06 2.72 4.6 0.08 0.13 0.23 0.4 0.31 0.54 1.25 2.2 2.51 4.39 3.78 6.58 0.05 0.07 0.13 0.21 0.17 0.29 1.27 2.18 2.52 4.38 3.78 6.58 0.08 0.13 0.23 0.39 0.31 0.52 1.27 2.14 2.5 4.3 3.72 6.46 0.08 0.13 0.23 0.4 0.31 0.53 11.94 20.62 23.85 41.25 35.75 61.9-1.36 5.99 1.93 11.95 0.1 17.97-1.11 16.45-7.32 32.46-17.56 45.38-3.33 3.61-0.1 8.62-0.46 12.9-3.59 4.35-8.21 7.6-12.57 11.11 0.01 3.28 0.02 6.56-0.13 9.85-3.89 2.57-8.35 4.06-12.3 6.54-0.42 1.33-0.85 2.67-1.26 4.02-3.17 1.5-6.56 2.47-9.73 3.99-12.55-3.6-24.97-7.61-37.49-11.32-11.65-3.85-23.58-6.87-35.11-11.11l-0.66-1.18c-0.06-0.09-0.16-0.27-0.21-0.36l-0.95-1.61-0.4-0.68c-0.09-0.15-0.25-0.44-0.34-0.59-0.71-1.26-1.36-2.55-1.94-3.87l-0.06-0.13-0.07-0.1c-0.44-0.7-1.33-2.11-1.78-2.81-0.05-0.08-0.15-0.24-0.2-0.33l-0.29-0.46c-0.17-0.29-0.52-0.86-0.69-1.15-0.43-0.73-1.3-2.19-1.73-2.92-0.11-0.18-0.32-0.55-0.43-0.73l-0.61-1.04c-0.08-0.14-0.24-0.41-0.32-0.55l-0.97-1.67c-0.04-0.07-0.13-0.21-0.17-0.29l-1.02-1.75c-0.09-0.16-0.27-0.48-0.36-0.63-0.1-0.18-0.31-0.55-0.41-0.73l-0.83-1.46c-0.1-0.17-0.3-0.53-0.4-0.7l-0.64-1.13c-0.09-0.15-0.26-0.45-0.35-0.6-0.39-0.72-1.18-2.15-1.58-2.87-0.04-0.08-0.14-0.25-0.18-0.33l-0.27-0.47c-0.19-0.28-0.56-0.84-0.75-1.12-0.99-1.66-1.92-3.36-2.81-5.07-0.05-0.08-0.14-0.25-0.18-0.33l-0.26-0.46c-0.19-0.27-0.57-0.81-0.76-1.07-0.44-0.79-1.32-2.37-1.76-3.16-0.05-0.08-0.15-0.25-0.19-0.34l-0.27-0.48c-0.2-0.33-0.59-0.98-0.79-1.31l-0.86-1.45c-0.08-0.14-0.25-0.42-0.34-0.57-0.38-0.66-1.15-1.99-1.54-2.65-0.09-0.15-0.26-0.46-0.35-0.62-0.68-1.13-1.33-2.27-1.97-3.41-0.05-0.09-0.16-0.27-0.21-0.36l-0.95-1.63c-0.1-0.16-0.29-0.48-0.38-0.65-0.09-0.15-0.26-0.45-0.35-0.6l-1.01-1.76c-0.05-0.08-0.14-0.25-0.19-0.33l-0.82-1.47c-0.07-0.12-0.2-0.35-0.27-0.47-0.38-0.67-1.15-2-1.53-2.67-0.08-0.14-0.24-0.41-0.32-0.54-0.62-1.03-1.24-2.07-1.84-3.1-27.73-48.12-55.5-96.21-83.29-144.3-1.74-3.0004-3.32-6.1204-5.45-8.8804l-0.05-0.45005-0.04-0.49z"/> <path d="m166.15 0.60955l0.56-0.02 0.05 0.45005-0.7 0.11 0.09-0.54005z" fill=#089156 /> <path d="m166.76 1.0396c2.13 2.76 3.71 5.88 5.45 8.88 27.79 48.09 55.56 96.18 83.29 144.3-12.84 22.36-25.78 44.67-38.67 67.01-1.73-10.7-4.96-21.08-7.02-31.72-3.19-11.41-4.96-23.16-8.26-34.55-3.8-18.4-8.43-36.64-12.58-54.97-6.33-26.73-12.41-53.52-18.43-80.33-1.4-6.17-3.26-12.28-3.78-18.62z" fill=#089156 /> <path d="m164.39 3.5996c0.03-0.05 0.1-0.16 0.13-0.21-0.03 0.05-0.1 0.16-0.13 0.21z" fill=#089156 /> <path d="m163.27 5.4996c0.05-0.07 0.13-0.22 0.17-0.29-0.04 0.07-0.12 0.22-0.17 0.29z" fill=#089156 /> <path d="m161.91 7.9296c0.09-0.17 0.27-0.49 0.36-0.65-0.09 0.16-0.27 0.48-0.36 0.65z" fill=#089156 /> <path d="m161.56 8.5296c0.08-0.15 0.26-0.45 0.35-0.6-0.09 0.15-0.27 0.45-0.35 0.6z" fill=#089156 /> <path d="m160.38 10.55c0.04-0.08 0.12-0.22 0.16-0.3-0.04 0.08-0.12 0.22-0.16 0.3z" fill=#089156 /> <path d="m159.31 12.84c0.05-0.16 0.14-0.48 0.19-0.64-0.05 0.16-0.14 0.48-0.19 0.64z" fill=#089156 /> <path d="m157.91 15.07c0.35-0.56 1.05-1.67 1.4-2.23-0.35 0.56-1.05 1.67-1.4 2.23z" fill=#089156 /> <path d="m157.37 15.85c0.14-0.19 0.4-0.58 0.54-0.78-0.14 0.2-0.4 0.59-0.54 0.78z" fill=#089156 /> <path d="m156.32 17.54c0.07-0.12 0.22-0.37 0.29-0.5-0.07 0.13-0.22 0.38-0.29 0.5z" fill=#089156 /> <path d="m155.32 19.85c0.03-0.17 0.11-0.51 0.15-0.68-0.04 0.17-0.12 0.51-0.15 0.68z" fill=#089156 /> <path d="m153.86 22.05c0.37-0.55 1.09-1.65 1.46-2.2-0.37 0.55-1.09 1.65-1.46 2.2z" fill=#089156 /> <path d="m153.35 22.82c0.13-0.19 0.39-0.58 0.51-0.77-0.12 0.19-0.38 0.58-0.51 0.77z" fill=#089156 /> <path d="m152.3 24.55c0.06-0.11 0.18-0.32 0.24-0.42-0.06 0.1-0.18 0.31-0.24 0.42z" fill=#089156 /> <path d="m150.94 26.94c0.1-0.17 0.3-0.52 0.4-0.7-0.1 0.18-0.3 0.53-0.4 0.7z" fill=#089156 /> <path d="m150.58 27.56c0.09-0.16 0.27-0.46 0.36-0.62-0.09 0.16-0.27 0.46-0.36 0.62z" fill=#089156 /> <path d="m149.39 29.56c0.05-0.07 0.14-0.22 0.18-0.3-0.04 0.08-0.13 0.23-0.18 0.3z" fill=#089156 /> <path d="m148.29 31.48c0.04-0.07 0.12-0.21 0.16-0.29-0.04 0.08-0.12 0.22-0.16 0.29z" fill=#089156 /> <path d="m146.9 33.89c0.1-0.16 0.29-0.5 0.39-0.66-0.1 0.16-0.29 0.5-0.39 0.66z" fill=#089156 /> <path d="m146.51 34.56c0.1-0.17 0.29-0.5 0.39-0.67-0.1 0.17-0.29 0.5-0.39 0.67z" fill=#089156 /> <path d="m145.36 36.54c0.03-0.07 0.11-0.2 0.15-0.27-0.04 0.07-0.12 0.2-0.15 0.27z" fill=#089156 /> <path d="m144.32 38.88c0.04-0.17 0.13-0.51 0.17-0.68-0.04 0.17-0.13 0.51-0.17 0.68z" fill=#089156 /> <path d="m142.86 41.11c0.36-0.56 1.09-1.68 1.46-2.23-0.37 0.55-1.1 1.67-1.46 2.23z" fill=#089156 /> <path d="m142.37 41.87c0.12-0.19 0.36-0.57 0.49-0.76-0.13 0.19-0.37 0.57-0.49 0.76z" fill=#089156 /> <path d="m141.11 44.14c0.15-0.29 0.44-0.86 0.58-1.15-0.14 0.29-0.43 0.86-0.58 1.15z" fill=#089156 /> <path d="m140.1 45.99c0.13-0.2 0.38-0.61 0.5-0.81-0.12 0.2-0.37 0.61-0.5 0.81z" fill=#089156 /> <path d="m139.54 46.77c0.14-0.2 0.42-0.58 0.56-0.78-0.14 0.2-0.42 0.58-0.56 0.78z" fill=#089156 /> <path d="m138.38 48.58c0.13-0.2 0.38-0.62 0.5-0.83-0.12 0.21-0.37 0.63-0.5 0.83z" fill=#089156 /> <path d="m137.07 51.17c0.11-0.23 0.34-0.7 0.45-0.93-0.11 0.23-0.34 0.7-0.45 0.93z" fill=#089156 /> <path d="m136.09 53c0.12-0.2 0.37-0.6 0.49-0.8-0.12 0.2-0.37 0.6-0.49 0.8z" fill=#089156 /> <path d="m135.53 53.76c0.14-0.19 0.42-0.57 0.56-0.76-0.14 0.19-0.42 0.57-0.56 0.76z" fill=#089156 /> <path d="m134.2 55.92c0.16-0.3 0.5-0.91 0.67-1.22-0.17 0.31-0.51 0.92-0.67 1.22z" fill=#089156 /> <path d="m133.29 57.86c0.1-0.2 0.28-0.59 0.38-0.79-0.1 0.2-0.28 0.59-0.38 0.79z" fill=#089156 /> <path d="m131.92 60.07c0.34-0.56 1.03-1.66 1.37-2.21-0.34 0.55-1.03 1.65-1.37 2.21z" fill=#089156 /> <path d="m131.37 60.87c0.14-0.2 0.41-0.6 0.55-0.8-0.14 0.2-0.41 0.6-0.55 0.8z" fill=#089156 /> <path d="m130.34 62.58c0.07-0.12 0.21-0.37 0.28-0.49-0.07 0.12-0.21 0.37-0.28 0.49z" fill=#089156 /> <path d="m129.22 64.83c0.06-0.14 0.2-0.42 0.27-0.56-0.07 0.14-0.21 0.42-0.27 0.56z" fill=#089156 /> <path d="m127.8 67.27c0.35-0.61 1.06-1.83 1.42-2.44l0.07 1.17c-0.37 0.32-1.12 0.96-1.49 1.27z" fill=#089156 /> <path d="m127.41 67.82c0.1-0.14 0.29-0.41 0.39-0.55-0.1 0.14-0.29 0.41-0.39 0.55z" fill=#089156 /> <path d="m126.13 70.15c0.18-0.39 0.55-1.17 0.73-1.56-0.18 0.39-0.55 1.17-0.73 1.56z" fill=#089156 /> <path d="m125.09 71.99c0.12-0.2 0.37-0.6 0.5-0.8-0.13 0.2-0.38 0.6-0.5 0.8z" fill=#089156 /> <path d="m124.54 72.77c0.14-0.2 0.41-0.59 0.55-0.78-0.14 0.19-0.41 0.58-0.55 0.78z" fill=#089156 /> <path d="m123.39 74.56c0.12-0.2 0.37-0.61 0.5-0.81-0.13 0.2-0.38 0.61-0.5 0.81z" fill=#089156 /> <path d="m122.19 76.66c0.06-0.1 0.18-0.32 0.24-0.42-0.06 0.1-0.18 0.32-0.24 0.42z" fill=#089156 /> <path d="m121.14 78.55l0.32-0.56-0.32 0.56z" fill=#089156 /> <path d="m119.25 81.78c0.08-0.13 0.24-0.41 0.32-0.55-0.08 0.14-0.24 0.42-0.32 0.55z" fill=#089156 /> <path d="m118.19 83.63c0.09-0.16 0.27-0.47 0.36-0.62-0.09 0.15-0.27 0.46-0.36 0.62z" fill=#089156 /> <path d="m116.9 85.88c0.11-0.19 0.33-0.58 0.45-0.78-0.12 0.2-0.34 0.59-0.45 0.78z" fill=#089156 /> <path d="m116.5 86.55c0.1-0.16 0.3-0.5 0.4-0.67-0.1 0.17-0.3 0.51-0.4 0.67z" fill=#089156 /> <path d="m115.34 88.51l0.16-0.28-0.16 0.28z" fill=#089156 /> <path d="m114.32 90.88c0.04-0.18 0.11-0.53 0.15-0.7-0.04 0.17-0.11 0.52-0.15 0.7z" fill=#089156 /> <path d="m112.86 93.05c0.36-0.54 1.09-1.63 1.46-2.17-0.37 0.54-1.1 1.63-1.46 2.17z" fill=#089156 /> <path d="m112.34 93.83c0.13-0.19 0.39-0.58 0.52-0.78-0.13 0.2-0.39 0.59-0.52 0.78z" fill=#089156 /> <path d="m111.32 95.49l0.28-0.48-0.28 0.48z" fill=#089156 /> <path d="m109.93 97.96c0.1-0.18 0.3-0.53 0.4-0.71-0.1 0.18-0.3 0.53-0.4 0.71z" fill=#089156 /> <path d="m109.56 98.58c0.09-0.15 0.27-0.47 0.37-0.62-0.1 0.15-0.28 0.47-0.37 0.62z" fill=#089156 /> <path d="m108.4 100.55c0.04-0.07 0.12-0.21 0.17-0.28-0.05 0.07-0.13 0.21-0.17 0.28z" fill=#089156 /> <path d="m107.29 102.46c0.03-0.06 0.1-0.17 0.13-0.23-0.03 0.06-0.1 0.17-0.13 0.23z" fill=#089156 /> <path d="m214.02 225.86c0.17-0.28 0.53-0.84 0.7-1.11-0.17 0.27-0.53 0.83-0.7 1.11z" fill=#089156 /> <path d="m213.58 226.64c0.05-0.08 0.14-0.25 0.18-0.33-0.04 0.08-0.13 0.25-0.18 0.33z" fill=#089156 /> <path d="m211.72 230.02c0.08-0.13 0.23-0.39 0.3-0.52-0.07 0.13-0.22 0.39-0.3 0.52z" fill=#089156 /> <path d="m210.67 231.87c0.08-0.15 0.25-0.44 0.34-0.59-0.09 0.15-0.26 0.44-0.34 0.59z" fill=#089156 /> <path d="m209.66 233.64c0.05-0.08 0.14-0.24 0.18-0.32-0.04 0.08-0.13 0.24-0.18 0.32z" fill=#089156 /> <path d="m208.27 236.07c0.09-0.16 0.27-0.48 0.36-0.63-0.09 0.15-0.27 0.47-0.36 0.63z" fill=#089156 /> <path d="m207.87 236.74c0.1-0.17 0.3-0.5 0.4-0.67-0.1 0.17-0.3 0.5-0.4 0.67z" fill=#089156 /> <path d="m206.54 239.02c0.08-0.13 0.24-0.41 0.32-0.54-0.08 0.13-0.24 0.41-0.32 0.54z" fill=#089156 /> <path d="m205.5 240.8c0.1-0.18 0.32-0.55 0.42-0.73-0.1 0.18-0.32 0.55-0.42 0.73z" fill=#089156 /> <path d="m203.62 244.07c0.07-0.13 0.22-0.38 0.29-0.5-0.07 0.12-0.22 0.37-0.29 0.5z" fill=#089156 /> <path d="m202.56 245.86c0.11-0.19 0.33-0.55 0.43-0.74-0.1 0.19-0.32 0.55-0.43 0.74z" fill=#089156 /> <path d="m200.71 249.06c0.09-0.15 0.26-0.46 0.35-0.61-0.09 0.15-0.26 0.46-0.35 0.61z" fill=#089156 /> <path d="m199.68 250.9c0.07-0.12 0.21-0.37 0.28-0.49-0.07 0.12-0.21 0.37-0.28 0.49z" fill=#089156 /> <path d="m198.59 252.81l0.32-0.56-0.32 0.56z" fill=#089156 /> <path d="m196.66 256.09c0.09-0.16 0.27-0.47 0.36-0.62-0.09 0.15-0.27 0.46-0.36 0.62z" fill=#089156 /> <path d="m195.69 257.84c0.06-0.12 0.19-0.35 0.26-0.47-0.07 0.12-0.2 0.35-0.26 0.47z" fill=#089156 /> <path d="m194.58 259.76c0.07-0.12 0.22-0.37 0.29-0.5-0.07 0.13-0.22 0.38-0.29 0.5z" fill=#089156 /> <path d="m192.6 263.15c0.08-0.13 0.24-0.39 0.31-0.52-0.07 0.13-0.23 0.39-0.31 0.52z" fill=#089156 /> <path d="m191.59 264.85c0.1-0.18 0.31-0.53 0.41-0.71-0.1 0.18-0.31 0.53-0.41 0.71z" fill=#089156 /> <path d="m189.82 267.94c0.06-0.11 0.2-0.35 0.26-0.46-0.06 0.11-0.2 0.35-0.26 0.46z" fill=#089156 /> <path d="m188.76 269.83c0.06-0.11 0.18-0.32 0.24-0.43-0.06 0.11-0.18 0.32-0.24 0.43z" fill=#089156 /> <path d="m187.64 271.76c0.07-0.11 0.21-0.35 0.28-0.46-0.07 0.11-0.21 0.35-0.28 0.46z" fill=#089156 /> <path d="m185.65 275.09c0.11-0.18 0.31-0.54 0.42-0.71-0.11 0.17-0.31 0.53-0.42 0.71z" fill=#089156 /> <path d="m184.76 276.74c0.07-0.13 0.22-0.41 0.3-0.55-0.08 0.14-0.23 0.42-0.3 0.55z" fill=#089156 /> <path d="m183.39 279.12c0.08-0.15 0.26-0.45 0.34-0.6-0.08 0.15-0.26 0.45-0.34 0.6z" fill=#089156 /> <path d="m183.06 279.69c0.08-0.14 0.24-0.43 0.33-0.57-0.09 0.14-0.25 0.43-0.33 0.57z" fill=#089156 /> <path d="m346.42 3.2196c0.08 0.13 0.23 0.41 0.31 0.55-0.08-0.14-0.23-0.42-0.31-0.55z" fill=#10985b /> <path d="m354.54 17.35c0.05 0.08 0.13 0.23 0.18 0.3-0.05-0.07-0.13-0.22-0.18-0.3z" fill=#10985b /> <path d="m369.55 43.36c0.04 0.07 0.13 0.21 0.17 0.29-0.04-0.08-0.13-0.22-0.17-0.29z" fill=#10985b /> <path d="m372.44 48.25c0.08 0.13 0.23 0.4 0.31 0.54-0.08-0.14-0.23-0.41-0.31-0.54z" fill=#10985b /> <path d="m376.53 55.37c0.05 0.07 0.13 0.21 0.17 0.29-0.04-0.08-0.12-0.22-0.17-0.29z" fill=#10985b /> <path d="m380.48 62.24c0.08 0.13 0.23 0.39 0.31 0.52-0.08-0.13-0.23-0.39-0.31-0.52z" fill=#10985b /> <path d="m384.51 69.22c0.08 0.13 0.23 0.4 0.31 0.53-0.08-0.13-0.23-0.4-0.31-0.53z" fill=#10985b /> <path d="m420.57 131.65c17.39 30.13 34.89 60.21 52.14 90.43 0.08 0.13 0.24 0.41 0.32 0.54 0.4 0.66 1.2 1.97 1.59 2.62 0.08 0.13 0.24 0.4 0.32 0.53l0.8 1.37c0.05 0.09 0.15 0.28 0.21 0.37l1 1.74c0.1 0.17 0.29 0.52 0.39 0.69 0.09 0.15 0.27 0.46 0.36 0.62l0.98 1.7 0.16 0.28 0.98 1.68c0.04 0.07 0.12 0.2 0.16 0.27l0.98 1.7c0.1 0.17 0.29 0.5 0.39 0.67 0.09 0.17 0.28 0.5 0.37 0.66l1.01 1.78c0.14 0.35 0.42 1.03 0.56 1.37l0.28 0.55 0.13 0.29 0.22 0.29 0.59 0.89c0.21 0.33 0.62 0.99 0.83 1.32 0.12 0.2 0.38 0.6 0.5 0.8l0.66 1.05c0.2 0.45 0.6 1.36 0.8 1.81l0.3 0.54 0.11 0.21 0.09 0.13c0.44 0.65 1.31 1.96 1.75 2.61 0.11 0.18 0.33 0.54 0.45 0.72l0.6 1c0.09 0.16 0.27 0.47 0.36 0.62l1.01 1.77c0.09 0.16 0.27 0.48 0.36 0.64s0.27 0.47 0.36 0.63l1 1.71c0.04 0.08 0.13 0.23 0.18 0.3l0.91 1.6c0.06 0.1 0.18 0.31 0.24 0.41l0.92 1.61c0.11 0.18 0.32 0.55 0.43 0.73 0.09 0.16 0.28 0.48 0.37 0.64 0.74 1.23 1.45 2.48 2.11 3.76 0.1 0.21 0.3 0.63 0.39 0.84l0.46 1.04c0.12 0.2 0.36 0.61 0.47 0.81 0.15 0.2 0.44 0.58 0.59 0.77l0.69 0.98c0.12 0.19 0.36 0.57 0.49 0.77l1.01 1.75c0.09 0.16 0.27 0.48 0.36 0.64s0.27 0.47 0.37 0.63l1 1.72c0.04 0.08 0.12 0.22 0.16 0.29l0.95 1.66c0.04 0.07 0.12 0.2 0.16 0.27l0.97 1.69c0.1 0.17 0.3 0.51 0.4 0.69 0.1 0.17 0.3 0.51 0.39 0.68l1 1.72c0.04 0.07 0.11 0.21 0.15 0.28l1.06 1.98-0.01 0.9c-25.02-7.19-49.64-15.72-74.73-22.65-22.77-7.35-45.75-14.04-68.52-21.35 3.17-1.52 6.56-2.49 9.73-3.99 0.41-1.35 0.84-2.69 1.26-4.02 3.95-2.48 8.41-3.97 12.3-6.54 0.15-3.29 0.14-6.57 0.13-9.85 4.36-3.51 8.98-6.76 12.57-11.11 0.36-4.28-2.87-9.29 0.46-12.9 10.24-12.92 16.45-28.93 17.56-45.38 1.83-6.02-1.46-11.98-0.1-17.97z" fill=#f9c941 /> <path d="m509.91 287.41l0.52 0.02 0.29 0.76-0.59 0.04-0.22-0.82z" fill=#f9c941 /> <path d="m257.34 157.32c0.08 0.13 0.24 0.4 0.32 0.54-0.08-0.14-0.24-0.41-0.32-0.54z" fill=#e3b73a /> <path d="m259.19 160.53c0.07 0.12 0.2 0.35 0.27 0.47-0.07-0.12-0.2-0.35-0.27-0.47z" fill=#e3b73a /> <path d="m260.28 162.47c0.05 0.08 0.14 0.25 0.19 0.33-0.05-0.08-0.14-0.25-0.19-0.33z" fill=#e3b73a /> <path d="m261.48 164.56c0.09 0.15 0.26 0.45 0.35 0.6-0.09-0.15-0.26-0.45-0.35-0.6z" fill=#e3b73a /> <path d="m261.83 165.16c0.09 0.17 0.28 0.49 0.38 0.65-0.1-0.16-0.29-0.48-0.38-0.65z" fill=#e3b73a /> <path d="m263.16 167.44c0.05 0.09 0.16 0.27 0.21 0.36-0.05-0.09-0.16-0.27-0.21-0.36z" fill=#e3b73a /> <path d="m265.34 171.21c0.09 0.16 0.26 0.47 0.35 0.62-0.09-0.15-0.26-0.46-0.35-0.62z" fill=#e3b73a /> <path d="m267.23 174.48c0.09 0.15 0.26 0.43 0.34 0.57-0.08-0.14-0.25-0.42-0.34-0.57z" fill=#e3b73a /> <path d="m268.43 176.5c0.2 0.33 0.59 0.98 0.79 1.31-0.2-0.33-0.59-0.98-0.79-1.31z" fill=#e3b73a /> <path d="m269.49 178.29c0.04 0.09 0.14 0.26 0.19 0.34-0.05-0.08-0.15-0.25-0.19-0.34z" fill=#e3b73a /> <path d="m271.44 181.79c0.19 0.26 0.57 0.8 0.76 1.07-0.19-0.27-0.57-0.81-0.76-1.07z" fill=#e3b73a /> <path d="m272.46 183.32c0.04 0.08 0.13 0.25 0.18 0.33-0.05-0.08-0.14-0.25-0.18-0.33z" fill=#e3b73a /> <path d="m275.45 188.72c0.19 0.28 0.56 0.84 0.75 1.12-0.19-0.28-0.56-0.84-0.75-1.12z" fill=#e3b73a /> <path d="m276.47 190.31c0.04 0.08 0.14 0.25 0.18 0.33-0.04-0.08-0.14-0.25-0.18-0.33z" fill=#e3b73a /> <path d="m278.23 193.51c0.09 0.15 0.26 0.45 0.35 0.6-0.09-0.15-0.26-0.45-0.35-0.6z" fill=#e3b73a /> <path d="m279.22 195.24c0.1 0.17 0.3 0.53 0.4 0.7-0.1-0.17-0.3-0.53-0.4-0.7z" fill=#e3b73a /> <path d="m280.45 197.4c0.1 0.18 0.31 0.55 0.41 0.73-0.1-0.18-0.31-0.55-0.41-0.73z" fill=#e3b73a /> <path d="m280.86 198.13c0.09 0.15 0.27 0.47 0.36 0.63-0.09-0.16-0.27-0.48-0.36-0.63z" fill=#e3b73a /> <path d="m282.24 200.51c0.04 0.08 0.13 0.22 0.17 0.29-0.04-0.07-0.13-0.21-0.17-0.29z" fill=#e3b73a /> <path d="m283.38 202.47c0.08 0.14 0.24 0.41 0.32 0.55-0.08-0.14-0.24-0.41-0.32-0.55z" fill=#e3b73a /> <path d="m284.31 204.06c0.11 0.18 0.32 0.55 0.43 0.73-0.11-0.18-0.32-0.55-0.43-0.73z" fill=#e3b73a /> <path d="m286.47 207.71c0.17 0.29 0.52 0.86 0.69 1.15-0.17-0.29-0.52-0.86-0.69-1.15z" fill=#e3b73a /> <path d="m287.45 209.32c0.05 0.09 0.15 0.25 0.2 0.33-0.05-0.08-0.15-0.24-0.2-0.33z" fill=#e3b73a /> <path d="m289.43 212.46l0.07 0.1 0.06 0.13c-0.03-0.06-0.1-0.17-0.13-0.23z" fill=#e3b73a /> <path d="m291.5 216.56c0.09 0.15 0.25 0.44 0.34 0.59-0.09-0.15-0.25-0.44-0.34-0.59z" fill=#e3b73a /> <path d="m291.84 217.15l0.4 0.68-0.4-0.68z" fill=#e3b73a /> <path d="m293.19 219.44c0.05 0.09 0.15 0.27 0.21 0.36-0.06-0.09-0.16-0.27-0.21-0.36z" fill=#e3b73a /> <path d="m294.06 220.98c11.53 4.24 23.46 7.26 35.11 11.11 12.52 3.71 24.94 7.72 37.49 11.32 22.77 7.31 45.75 14 68.52 21.35-0.34 4.87 0.62 9.86-0.59 14.64-0.93 4.65-6.49 5.38-8.78 9.09-30.77 0.01-61.53 0.1-92.29-0.03l-0.66-0.05c-12.71-22.6-25.93-44.92-38.8-67.43z" fill=#e3b73a /> <path d="m472.71 222.08c0.08 0.13 0.24 0.41 0.32 0.54-0.08-0.13-0.24-0.41-0.32-0.54z" fill=#e8b835 /> <path d="m474.62 225.24c0.08 0.13 0.24 0.4 0.32 0.53-0.08-0.13-0.24-0.4-0.32-0.53z" fill=#e8b835 /> <path d="m475.74 227.14c0.05 0.09 0.15 0.28 0.21 0.37-0.06-0.09-0.16-0.28-0.21-0.37z" fill=#e8b835 /> <path d="m476.95 229.25c0.1 0.17 0.29 0.52 0.39 0.69-0.1-0.17-0.29-0.52-0.39-0.69z" fill=#e8b835 /> <path d="m477.34 229.94c0.09 0.15 0.27 0.46 0.36 0.62-0.09-0.16-0.27-0.47-0.36-0.62z" fill=#e8b835 /> <path d="m478.68 232.26l0.16 0.28-0.16-0.28z" fill=#e8b835 /> <path d="m479.82 234.22c0.04 0.07 0.12 0.2 0.16 0.27-0.04-0.07-0.12-0.2-0.16-0.27z" fill=#e8b835 /> <path d="m480.96 236.19c0.1 0.17 0.29 0.5 0.39 0.67-0.1-0.17-0.29-0.5-0.39-0.67z" fill=#e8b835 /> <path d="m481.35 236.86c0.09 0.17 0.28 0.5 0.37 0.66-0.09-0.16-0.28-0.49-0.37-0.66z" fill=#e8b835 /> <path d="m482.73 239.3c0.14 0.35 0.42 1.03 0.56 1.37-0.14-0.34-0.42-1.02-0.56-1.37z" fill=#e8b835 /> <path d="m483.57 241.22c0.09 0.15 0.26 0.44 0.35 0.58l-0.22-0.29-0.13-0.29z" fill=#e8b835 /> <path d="m484.51 242.69c0.21 0.33 0.62 0.99 0.83 1.32-0.21-0.33-0.62-0.99-0.83-1.32z" fill=#e8b835 /> <path d="m485.34 244.01c0.12 0.2 0.38 0.6 0.5 0.8-0.12-0.2-0.38-0.6-0.5-0.8z" fill=#e8b835 /> <path d="m486.5 245.86c0.2 0.45 0.6 1.36 0.8 1.81-0.2-0.45-0.6-1.36-0.8-1.81z" fill=#e8b835 /> <path d="m487.6 248.21c0.05 0.09 0.15 0.26 0.2 0.34l-0.09-0.13-0.11-0.21z" fill=#e8b835 /> <path d="m489.55 251.16c0.11 0.18 0.33 0.54 0.45 0.72-0.12-0.18-0.34-0.54-0.45-0.72z" fill=#e8b835 /> <path d="m490.6 252.88c0.09 0.16 0.27 0.47 0.36 0.62-0.09-0.15-0.27-0.46-0.36-0.62z" fill=#e8b835 /> <path d="m491.97 255.27c0.09 0.16 0.27 0.48 0.36 0.64-0.09-0.16-0.27-0.48-0.36-0.64z" fill=#e8b835 /> <path d="m492.33 255.91c0.09 0.16 0.27 0.47 0.36 0.63-0.09-0.16-0.27-0.47-0.36-0.63z" fill=#e8b835 /> <path d="m493.69 258.25c0.04 0.08 0.13 0.23 0.18 0.3-0.05-0.07-0.14-0.22-0.18-0.3z" fill=#e8b835 /> <path d="m494.78 260.15c0.06 0.1 0.18 0.31 0.24 0.41-0.06-0.1-0.18-0.31-0.24-0.41z" fill=#e8b835 /> <path d="m495.94 262.17c0.11 0.18 0.32 0.55 0.43 0.73-0.11-0.18-0.32-0.55-0.43-0.73z" fill=#e8b835 /> <path d="m496.37 262.9c0.09 0.16 0.28 0.48 0.37 0.64-0.09-0.16-0.28-0.48-0.37-0.64z" fill=#e8b835 /> <path d="m435.18 264.76c25.09 6.93 49.71 15.46 74.73 22.65l0.22 0.82c-28.09 0.64-56.22 0.11-84.32 0.26 2.29-3.71 7.85-4.44 8.78-9.09 1.21-4.78 0.25-9.77 0.59-14.64z" fill=#e8b835 /> <path d="m498.85 267.3c0.1 0.21 0.3 0.63 0.39 0.84-0.09-0.21-0.29-0.63-0.39-0.84z" fill=#e8b835 /> <path d="m499.7 269.18c0.12 0.2 0.36 0.61 0.47 0.81-0.11-0.2-0.35-0.61-0.47-0.81z" fill=#e8b835 /> <path d="m500.17 269.99c0.15 0.2 0.44 0.58 0.59 0.77-0.15-0.19-0.44-0.57-0.59-0.77z" fill=#e8b835 /> <path d="m501.45 271.74c0.12 0.19 0.36 0.57 0.49 0.77-0.13-0.2-0.37-0.58-0.49-0.77z" fill=#e8b835 /> <path d="m502.95 274.26c0.09 0.16 0.27 0.48 0.36 0.64-0.09-0.16-0.27-0.48-0.36-0.64z" fill=#e8b835 /> <path d="m503.31 274.9c0.09 0.16 0.27 0.47 0.37 0.63-0.1-0.16-0.28-0.47-0.37-0.63z" fill=#e8b835 /> <path d="m504.68 277.25c0.04 0.08 0.12 0.22 0.16 0.29-0.04-0.07-0.12-0.21-0.16-0.29z" fill=#e8b835 /> <path d="m505.79 279.2c0.04 0.07 0.12 0.2 0.16 0.27-0.04-0.07-0.12-0.2-0.16-0.27z" fill=#e8b835 /> <path d="m506.92 281.16c0.1 0.17 0.3 0.51 0.4 0.69-0.1-0.18-0.3-0.52-0.4-0.69z" fill=#e8b835 /> <path d="m507.32 281.85c0.1 0.17 0.3 0.51 0.39 0.68-0.09-0.17-0.29-0.51-0.39-0.68z" fill=#e8b835 /> <path d="m508.71 284.25c0.04 0.07 0.11 0.21 0.15 0.28-0.04-0.07-0.11-0.21-0.15-0.28z" fill=#e8b835 /> <path d="m509.92 286.51c0.13 0.23 0.38 0.69 0.51 0.92l-0.52-0.02 0.01-0.9z" fill=#e8b835 /> <path d="m147.21 341.08c10.31-17.58 20.11-35.49 30.76-52.86 51.63 0.19 103.27-0.29 154.89 0.19l0.66 0.05c-26.11 0.84-52.29-0.22-78.4 0.44-4.98 3.21-8.3 8.41-13.07 11.91-4.43 3.23-7.69 7.73-11.92 11.18-5.93 4.37-10.34 10.43-16.36 14.71-6.96 7.37-14.99 13.58-22.01 20.91-5.26 4.04-9.66 9.03-14.56 13.48-5.39 3.91-9.52 9.21-14.56 13.53-0.13 0.11-0.38 0.33-0.51 0.45-0.27 0.21-0.8 0.65-1.07 0.86-0.13 0.11-0.37 0.31-0.5 0.42-3.97 3.07-7.01 7.12-10.91 10.27-0.13 0.11-0.38 0.32-0.5 0.42-0.13 0.11-0.38 0.32-0.51 0.42-5.69 4.67-10.25 10.58-16.22 14.93-6.01 5.96-12.79 11.08-18.5 17.36-8.44 6.94-15.74 15.13-24.44 21.78 2.16-4.71 5.02-9.03 7.53-13.54 16.74-28.97 33.46-57.94 50.2-86.91z" fill=#296ad9 /> <path d="m89.04 442.17c0.11-0.16 0.33-0.48 0.44-0.64l-0.03 0.65-0.41-0.01z" fill=#296ad9 /> <path id=#2a71e9ff fill=#2a71e9 d="m333.52 288.46c30.76 0.13 61.52 0.04 92.29 0.03 28.1-0.15 56.23 0.38 84.32-0.26l0.59-0.04 0.4 0.11v0.08c-29.66 51.27-59.23 102.6-88.89 153.88-110.93-0.03-221.86 0.1-332.78-0.08l0.03-0.65c8.7-6.65 16-14.84 24.44-21.78 5.71-6.28 12.49-11.4 18.5-17.36 5.97-4.35 10.53-10.26 16.22-14.93 0.13-0.1 0.38-0.31 0.51-0.42 0.12-0.1 0.37-0.31 0.5-0.42 3.9-3.15 6.94-7.2 10.91-10.27 0.13-0.11 0.37-0.31 0.5-0.42 0.27-0.21 0.8-0.65 1.07-0.86 0.13-0.12 0.38-0.34 0.51-0.45 5.04-4.32 9.17-9.62 14.56-13.53 4.9-4.45 9.3-9.44 14.56-13.48 7.02-7.33 15.05-13.54 22.01-20.91 6.02-4.28 10.43-10.34 16.36-14.71 4.23-3.45 7.49-7.95 11.92-11.18 4.77-3.5 8.09-8.7 13.07-11.91 26.11-0.66 52.29 0.4 78.4-0.44z"/> <path d="m162.13 375.07c0.13-0.12 0.38-0.34 0.51-0.45-0.13 0.11-0.38 0.33-0.51 0.45z" fill=#286ee6 /> <path d="m161.06 375.93c0.27-0.21 0.8-0.65 1.07-0.86-0.27 0.21-0.8 0.65-1.07 0.86z" fill=#286ee6 /> <path d="m160.56 376.35c0.13-0.11 0.37-0.31 0.5-0.42-0.13 0.11-0.37 0.31-0.5 0.42z" fill=#286ee6 /> <path d="m149.15 387.04c0.12-0.1 0.37-0.31 0.5-0.42-0.13 0.11-0.38 0.32-0.5 0.42z" fill=#286ee6 /> <path d="m148.64 387.46c0.13-0.1 0.38-0.31 0.51-0.42-0.13 0.11-0.38 0.32-0.51 0.42z" fill=#286ee6 /> </svg> <div>Google Drive</div> </button> </div> </div> </div> <div class="rs-box rs-box-sign-in"> <div class=rs-content> <form name=rs-sign-in-form class=rs-sign-in-form> <h1 class=rs-big-headline>Connect your storage</h1> <input type=text name=rs-user-address placeholder=user@provider.com> <div class="rs-sign-in-error hidden"></div> <input type=submit value=Connect> <a href=https://remotestorage.io/get/ class=rs-help target=_blank>Need help?</a> </form> </div> </div> </div> '},function(t,e){
t.exports="/* RemoteStorage widget styles */\n\n.rs-widget * {\n  box-sizing: border-box;\n}\n\n.rs-widget {\n  font-family: arial, sans-serif;\n  max-width: 350px;\n  color: #333;\n  background-color: #fff;\n  border-radius: 3px;\n  padding: 10px;\n  margin: 10px;\n  overflow: hidden;\n  z-index: 21000000; /* Make sure we're on a reasonably high visibility layer */\n  box-shadow: 0 1px 2px 0 rgba(0,0,0,0.1), 0 3px 8px 0 rgba(0,0,0,0.2);\n  will-change: max-height, height, width, opacity, max-width, background, box-shadow;\n  transition-property: width, height, opacity, max-width, max-height, background, box-shadow;\n  transition-duration: 300ms;\n}\n\n.rs-box {\n  overflow: hidden;\n  will-change: height;\n  transition-property: height, width, max-height;\n  transition-duration: 300ms;\n  transition-timing-function: ease-in;\n  opacity: 0;\n  max-height: 0px;\n}\n\n.rs-box.selected {\n  opacity: 1;\n  max-height: 400px;\n}\n\n/* Main logo */\n.rs-main-logo {\n  float: left;\n  height: 36px;\n  width: auto;\n  margin-top: 1px;\n  margin-right: 0.625em;\n  transition: margin-left 300ms ease-out, transform 300ms ease-out;\n  cursor: pointer;\n}\n\npolygon.rs-logo-shape {\n  fill: #FF4B03;\n  transition-property: fill;\n  transition-duration: 0.5s;\n}\n\n.rs-state-offline polygon.rs-logo-shape {\n  fill: #888;\n  transition-property: fill;\n  transition-duration: 0.5s;\n}\n\n/* Hide everything except logo when connected and clicked outside of box */\n.rs-state-close {\n  max-width: 55px;\n  background-color: transparent;\n  box-shadow: none;\n  opacity: 0.5;\n\n  transition: max-height 100ms ease-out 0ms, max-width 300ms ease-out 300ms, background 300ms ease-in 200ms, opacity 300ms ease 200ms; \n}\n\n.rs-state-close:hover {\n  cursor: pointer;\n  opacity: 1;\n}\n\n/* Initial Connect remote storage box */\n.rs-box-initial:hover {\n  cursor: pointer;\n}\n\n.rs-widget a {\n  color: #0093cc;\n}\n\n/* HEADLINE */\n.rs-small-headline {\n  font-size: 1em;\n  font-weight: bold;\n  margin: 0;\n  margin-bottom: 2px;\n  height: 1.1em;\n  word-break: break-all;\n  overflow: hidden;\n}\n\n.rs-sub-headline {\n  word-break: break-all;\n  overflow: hidden;\n  color: #666;\n  font-size: 0.92em;\n  height: 1.2em;\n}\n.rs-big-headline {\n  font-size: 1.625em;\n  font-weight: normal;\n  text-align: center;\n}\n\n/* BUTTONS  */\n.rs-button {\n  font: inherit;\n  color: inherit;\n  background-color: transparent;\n  border: 1px solid #dcdcdc;\n  border-radius: 3px;\n  cursor: pointer;\n}\n.rs-button-small {\n  padding: 0.5em 0.6em;\n  margin-left: 0.3em;\n  transition: border-color 300ms ease-out;\n}\n.rs-button-wrap {\n  margin-top: 10px;\n}\n\n.rs-button-wrap img,\n.rs-button-wrap svg {\n  float: left;\n  margin-right: 0.6em;\n  width: 40px;\n  height: 40px;\n}\n\n.rs-button-big {\n  padding: 15px 10px;\n  margin-bottom: 10px;\n  display: block;\n  width: 100%;\n  text-align: left;\n  transition: box-shadow 200ms;\n}\n.rs-button-big > div {\n  font-size: 1.125em;\n  padding: 10px 0;\n}\n.rs-button-big:hover {\n  box-shadow: 0 1px 2px 0 rgba(0,0,0,0.1), 0 3px 8px 0 rgba(0,0,0,0.2);\n}\n.rs-button-big:active {\n  background-color: #eee;\n  box-shadow: 0 1px 2px 0 rgba(0,0,0,0.1), 0 3px 8px 0 rgba(0,0,0,0.2);\n}\n.rs-button-big:last-child {\n  margin-bottom: 0;\n}\n\n.rs-content {\n  padding: 0 10px 10px 10px;\n}\n\n\n.rs-state-choose .rs-main-logo,\n.rs-state-sign-in .rs-main-logo {\n  margin-left: 45%;\n  float: none;\n}\n\n\n.rs-sign-in-form input[type=text] {\n  padding: 15px 10px;\n  display: block;\n  width: 100%;\n  font: inherit;\n  border: 1px solid #aaa;\n}\n.rs-sign-in-form input[type=submit] {\n  padding: 15px 10px;\n  margin-top: 20px;\n  margin-bottom: 15px;\n  display: block;\n  width: 100%;\n  border: none;\n  border-radius: 3px;\n  background-color: #3fb34f;\n  font: inherit;\n  color: #fff;\n  transition: box-shadow 200ms, background-color 200ms;\n}\n.rs-sign-in-form input[type=submit]:hover {\n  cursor: pointer;\n  background-color: #4BCB5D;\n  box-shadow: 0 1px 2px 0 rgba(0,0,0,0.1), 0 3px 8px 0 rgba(0,0,0,0.2);\n}\n.rs-sign-in-form input[type=submit]:active {\n  background-color: #3fb34f;\n}\n\n.rs-sign-in-error.hidden,\n.rs-box-error.hidden {\n  height: 0;\n}\n\n.rs-sign-in-error.visible,\n.rs-box-error.visible {\n  height: auto;\n  border-radius: 3px;\n  padding: 0.5em 0.5em;\n  margin-top: 0.5em;\n  text-align: center;\n  background-color: rgba(255,0,0,0.1);\n  color: darkred;\n}\n\n /*Choose provider box */\n.rs-box-choose {\n  text-align: center;\n  overflow: hidden;\n}\n.rs-box-choose .rs-big-headline {\n  margin-top: 20px;\n  margin-bottom: 20px;\n}\n.rs-box-choose p {\n  margin-top: 0;\n  margin-bottom: 20px;\n}\n\n/*Connected box */\n.rs-box-connected {\n  height: 40px;\n}\n.rs-connected-text {\n  float: left;\n}\n.rs-box-connected .rs-user {\n  font-weight: bold;\n}\n.rs-connected-buttons {\n  float: right;\n}\n.rs-disconnect:hover {\n  border-color: #FF2D2D;\n}\n.rs-disconnect:hover .rs-icon{\n  fill: #FF2D2D;\n}\n.rs-sync:hover {\n  border-color: #FFBB0C;\n}\n.rs-sync:hover .rs-icon {\n  fill: #FFBB0C;\n}\n.rs-sync.rs-rotate {\n  border-color: #FFBB0C;\n}\n.rs-sync.rs-rotate .rs-icon {\n  fill: #FFBB0C;\n  animation: rs-spin 1s linear infinite;\n}\n@keyframes rs-spin { 100% { transform: rotate(360deg); transform:rotate(360deg); } }\n\n/* Floating widget styles (top right corner) */\n.rs-floating {\n  position: fixed;\n  top: 0;\n  right: 0;\n}\n\n\n/* Small/mobile screens */\n@media screen and (max-width: 360px) {\n  .rs-widget {\n    font-size: 100%;\n    padding: 10px;\n    transition: all 300ms ease-out;\n  }\n  .rs-floating {\n    position: relative;\n    top: auto;\n    right: auto\n  }\n  .rs-state-choose,\n  .rs-state-sign-in {\n    position: fixed;\n    top: 0;\n    margin: 0;\n    border-radius: 0;\n    height: 100%;\n    max-width: 100%;\n  }\n}\n"}])})},{}],4:[function(t,e,n){define("npm:remotestorage-module-bookmarks",function(){return{default:t("remotestorage-module-bookmarks")}}),define("npm:remotestorage-widget",function(){return{default:t("remotestorage-widget")}}),define("npm:remotestoragejs",function(){return{default:t("remotestoragejs")}})},{"remotestorage-module-bookmarks":2,"remotestorage-widget":3,remotestoragejs:1}]},{},[4]),define("ember/load-initializers",["exports","ember-load-initializers","ember"],function(t,e,n){n.default.deprecate("Usage of `ember/load-initializers` module is deprecated, please update to `ember-load-initializers`.",!1,{id:"ember-load-initializers.legacy-shims",until:"3.0.0"}),t.default=e.default}),createDeprecatedModule("ember/resolver"),createDeprecatedModule("resolver"),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return Ii.apply(null,arguments)}function e(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function n(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function i(t){var e;for(e in t)return!1;return!0}function r(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function s(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function o(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function a(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function l(t,e){for(var n in e)a(e,n)&&(t[n]=e[n]);return a(e,"toString")&&(t.toString=e.toString),a(e,"valueOf")&&(t.valueOf=e.valueOf),t}function c(t,e,n,i){return Fe(t,e,n,i,!0).utc()}function g(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function u(t){return null==t._pf&&(t._pf=g()),t._pf}function Q(t){if(null==t._isValid){var e=u(t),n=Fi.call(e.parsedDateParts,function(t){return null!=t}),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function B(t){var e=c(NaN);return null!=t?l(u(e),t):u(e).userInvalidated=!0,e}function I(t){return void 0===t}function d(t,e){var n,i,r;if(I(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),I(e._i)||(t._i=e._i),I(e._f)||(t._f=e._f),I(e._l)||(t._l=e._l),I(e._strict)||(t._strict=e._strict),I(e._tzm)||(t._tzm=e._tzm),I(e._isUTC)||(t._isUTC=e._isUTC),I(e._offset)||(t._offset=e._offset),I(e._pf)||(t._pf=u(e)),I(e._locale)||(t._locale=e._locale),Ci.length>0)for(n in Ci)i=Ci[n],r=e[i],I(r)||(t[i]=r);return t}function F(e){d(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Ui&&(Ui=!0,t.updateOffset(this),Ui=!1)}function C(t){return t instanceof F||null!=t&&null!=t._isAMomentObject}function U(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function h(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=U(e)),n}function m(t,e,n){var i,r=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),o=0;for(i=0;i<r;i++)(n&&t[i]!==e[i]||!n&&h(t[i])!==h(e[i]))&&o++;return o+s}function b(e){!1===t.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function p(e,n){var i=!0;return l(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),i){for(var r,s=[],o=0;o<arguments.length;o++){if(r="","object"==typeof arguments[o]){r+="\n["+o+"] ";for(var a in arguments[0])r+=a+": "+arguments[0][a]+", ";r=r.slice(0,-2)}else r=arguments[o];s.push(r)}b(e+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),i=!1}return n.apply(this,arguments)},n)}function A(e,n){null!=t.deprecationHandler&&t.deprecationHandler(e,n),hi[e]||(b(n),hi[e]=!0)}function y(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function f(t){var e,n;for(n in t)e=t[n],y(e)?this[n]=e:this["_"+n]=e;this._config=t,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function G(t,e){var i,r=l({},t);for(i in e)a(e,i)&&(n(t[i])&&n(e[i])?(r[i]={},l(r[i],t[i]),l(r[i],e[i])):null!=e[i]?r[i]=e[i]:delete r[i]);for(i in t)a(t,i)&&!a(e,i)&&n(t[i])&&(r[i]=l({},r[i]));return r}function x(t){null!=t&&this.set(t)}function V(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return y(i)?i.call(e,n):i}function Z(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function R(){return this._invalidDate}function X(t){return this._ordinal.replace("%d",t)}function L(t,e,n,i){var r=this._relativeTime[n];return y(r)?r(t,e,n,i):r.replace(/%d/i,t)}function E(t,e){var n=this._relativeTime[t>0?"future":"past"];return y(n)?n(e):n.replace(/%s/i,e)}function v(t,e){var n=t.toLowerCase();xi[n]=xi[n+"s"]=xi[e]=t}function S(t){return"string"==typeof t?xi[t]||xi[t.toLowerCase()]:void 0}function W(t){var e,n,i={};for(n in t)a(t,n)&&(e=S(n))&&(i[e]=t[n]);return i}function N(t,e){Vi[t]=e}function J(t){var e=[];for(var n in t)e.push({unit:n,priority:Vi[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}function Y(e,n){return function(i){return null!=i?(k(this,e,i),t.updateOffset(this,n),this):H(this,e)}}function H(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function k(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function T(t){return t=S(t),y(this[t])?this[t]():this}function D(t,e){if("object"==typeof t){t=W(t);for(var n=J(t),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit])}else if(t=S(t),y(this[t]))return this[t](e);return this}function w(t,e,n){var i=""+Math.abs(t),r=e-i.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function O(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(Li[t]=r),e&&(Li[e[0]]=function(){return w(r.apply(this,arguments),e[1],e[2])}),n&&(Li[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function z(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function M(t){var e,n,i=t.match(Zi);for(e=0,n=i.length;e<n;e++)Li[i[e]]?i[e]=Li[i[e]]:i[e]=z(i[e]);return function(e){var r,s="";for(r=0;r<n;r++)s+=i[r]instanceof Function?i[r].call(e,t):i[r];return s}}function j(t,e){return t.isValid()?(e=P(e,t.localeData()),Xi[e]=Xi[e]||M(e),Xi[e](t)):t.localeData().invalidDate()}function P(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(Ri.lastIndex=0;i>=0&&Ri.test(t);)t=t.replace(Ri,n),Ri.lastIndex=0,i-=1;return t}function K(t,e,n){Ki[t]=y(e)?e:function(t,i){return t&&n?n:e}}function _(t,e){return a(Ki,t)?Ki[t](e._strict,e._locale):new RegExp(q(t))}function q(t){return $(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r}))}function $(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function tt(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),r(e)&&(i=function(t,n){n[e]=h(t)}),n=0;n<t.length;n++)_i[t[n]]=i}function et(t,e){tt(t,function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)})}function nt(t,e,n){null!=e&&a(_i,t)&&_i[t](e,n._a,n,t)}function it(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function rt(t,n){return t?e(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||lr).test(n)?"format":"standalone"][t.month()]:this._months}function st(t,n){return t?e(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[lr.test(n)?"format":"standalone"][t.month()]:this._monthsShort}function ot(t,e,n){var i,r,s,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)s=c([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(s,"").toLocaleLowerCase();return n?"MMM"===e?(r=ar.call(this._shortMonthsParse,o),-1!==r?r:null):(r=ar.call(this._longMonthsParse,o),-1!==r?r:null):"MMM"===e?-1!==(r=ar.call(this._shortMonthsParse,o))?r:(r=ar.call(this._longMonthsParse,o),-1!==r?r:null):-1!==(r=ar.call(this._longMonthsParse,o))?r:(r=ar.call(this._shortMonthsParse,o),-1!==r?r:null)}function at(t,e,n){var i,r,s;if(this._monthsParseExact)return ot.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=c([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(s="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(s.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function lt(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=h(e);else if(e=t.localeData().monthsParse(e),!r(e))return t;return n=Math.min(t.date(),it(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function ct(e){return null!=e?(lt(this,e),t.updateOffset(this,!0),this):H(this,"Month")}function gt(){return it(this.year(),this.month())}function ut(t){return this._monthsParseExact?(a(this,"_monthsRegex")||Bt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=ur),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function Qt(t){return this._monthsParseExact?(a(this,"_monthsRegex")||Bt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=Qr),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function Bt(){function t(t,e){return e.length-t.length}var e,n,i=[],r=[],s=[];for(e=0;e<12;e++)n=c([2e3,e]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),s.push(this.months(n,"")),s.push(this.monthsShort(n,""));for(i.sort(t),r.sort(t),s.sort(t),e=0;e<12;e++)i[e]=$(i[e]),r[e]=$(r[e]);for(e=0;e<24;e++)s[e]=$(s[e]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function It(t){return dt(t)?366:365}function dt(t){return t%4==0&&t%100!=0||t%400==0}function Ft(){return dt(this.year())}function Ct(t,e,n,i,r,s,o){var a=new Date(t,e,n,i,r,s,o);return t<100&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}function Ut(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function ht(t,e,n){var i=7+e-n;return-(7+Ut(t,0,i).getUTCDay()-e)%7+i-1}function mt(t,e,n,i,r){var s,o,a=(7+n-i)%7,l=ht(t,i,r),c=1+7*(e-1)+a+l;return c<=0?(s=t-1,o=It(s)+c):c>It(t)?(s=t+1,o=c-It(t)):(s=t,o=c),{year:s,dayOfYear:o}}function bt(t,e,n){var i,r,s=ht(t.year(),e,n),o=Math.floor((t.dayOfYear()-s-1)/7)+1;return o<1?(r=t.year()-1,i=o+pt(r,e,n)):o>pt(t.year(),e,n)?(i=o-pt(t.year(),e,n),r=t.year()+1):(r=t.year(),i=o),{week:i,year:r}}function pt(t,e,n){var i=ht(t,e,n),r=ht(t+1,e,n);return(It(t)-i+r)/7}function At(t){return bt(t,this._week.dow,this._week.doy).week}function yt(){return this._week.dow}function ft(){return this._week.doy}function Gt(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function xt(t){var e=bt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Vt(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function Zt(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Rt(t,n){return t?e(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(n)?"format":"standalone"][t.day()]:this._weekdays}function Xt(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Lt(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Et(t,e,n){var i,r,s,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)s=c([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(s,"").toLocaleLowerCase();return n?"dddd"===e?(r=ar.call(this._weekdaysParse,o),-1!==r?r:null):"ddd"===e?(r=ar.call(this._shortWeekdaysParse,o),-1!==r?r:null):(r=ar.call(this._minWeekdaysParse,o),-1!==r?r:null):"dddd"===e?-1!==(r=ar.call(this._weekdaysParse,o))?r:-1!==(r=ar.call(this._shortWeekdaysParse,o))?r:(r=ar.call(this._minWeekdaysParse,o),-1!==r?r:null):"ddd"===e?-1!==(r=ar.call(this._shortWeekdaysParse,o))?r:-1!==(r=ar.call(this._weekdaysParse,o))?r:(r=ar.call(this._minWeekdaysParse,o),-1!==r?r:null):-1!==(r=ar.call(this._minWeekdaysParse,o))?r:-1!==(r=ar.call(this._weekdaysParse,o))?r:(r=ar.call(this._shortWeekdaysParse,o),-1!==r?r:null)}function vt(t,e,n){var i,r,s;if(this._weekdaysParseExact)return Et.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=c([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(s="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(s.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function St(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Vt(t,this.localeData()),this.add(t-e,"d")):e}function Wt(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Nt(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=Zt(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function Jt(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||kt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=Ur),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Yt(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||kt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=hr),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ht(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||kt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=mr),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function kt(){function t(t,e){return e.length-t.length}var e,n,i,r,s,o=[],a=[],l=[],g=[];for(e=0;e<7;e++)n=c([2e3,1]).day(e),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),s=this.weekdays(n,""),o.push(i),a.push(r),l.push(s),g.push(i),g.push(r),g.push(s);for(o.sort(t),a.sort(t),l.sort(t),g.sort(t),e=0;e<7;e++)a[e]=$(a[e]),l[e]=$(l[e]),g[e]=$(g[e]);this._weekdaysRegex=new RegExp("^("+g.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Tt(){return this.hours()%12||12}function Dt(){return this.hours()||24}function wt(t,e){O(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Ot(t,e){return e._meridiemParse}function zt(t){return"p"===(t+"").toLowerCase().charAt(0)}function Mt(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function jt(t){return t?t.toLowerCase().replace("_","-"):t}function Pt(t){for(var e,n,i,r,s=0;s<t.length;){for(r=jt(t[s]).split("-"),e=r.length,n=jt(t[s+1]),n=n?n.split("-"):null;e>0;){if(i=Kt(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&m(r,n,!0)>=e-1)break;e--}s++}return null}function Kt(t){var e=null;if(!fr[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=br._abbr,require("./locale/"+t),_t(e)}catch(t){}return fr[t]}function _t(t,e){var n;return t&&(n=I(e)?te(t):qt(t,e))&&(br=n),br._abbr}function qt(t,e){if(null!==e){var n=yr;if(e.abbr=t,null!=fr[t])A("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=fr[t]._config;else if(null!=e.parentLocale){if(null==fr[e.parentLocale])return Gr[e.parentLocale]||(Gr[e.parentLocale]=[]),Gr[e.parentLocale].push({name:t,config:e}),null;n=fr[e.parentLocale]._config}return fr[t]=new x(G(n,e)),Gr[t]&&Gr[t].forEach(function(t){qt(t.name,t.config)}),_t(t),fr[t]}return delete fr[t],null}function $t(t,e){if(null!=e){var n,i=yr;null!=fr[t]&&(i=fr[t]._config),e=G(i,e),n=new x(e),n.parentLocale=fr[t],fr[t]=n,_t(t)}else null!=fr[t]&&(null!=fr[t].parentLocale?fr[t]=fr[t].parentLocale:null!=fr[t]&&delete fr[t]);return fr[t]}function te(t){var n;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return br;if(!e(t)){if(n=Kt(t))return n;t=[t]}return Pt(t)}function ee(){return pi(fr)}function ne(t){var e,n=t._a;return n&&-2===u(t).overflow&&(e=n[$i]<0||n[$i]>11?$i:n[tr]<1||n[tr]>it(n[qi],n[$i])?tr:n[er]<0||n[er]>24||24===n[er]&&(0!==n[nr]||0!==n[ir]||0!==n[rr])?er:n[nr]<0||n[nr]>59?nr:n[ir]<0||n[ir]>59?ir:n[rr]<0||n[rr]>999?rr:-1,u(t)._overflowDayOfYear&&(e<qi||e>tr)&&(e=tr),u(t)._overflowWeeks&&-1===e&&(e=sr),u(t)._overflowWeekday&&-1===e&&(e=or),u(t).overflow=e),t}function ie(t){var e,n,i,r,s,o,a=t._i,l=xr.exec(a)||Vr.exec(a);if(l){for(u(t).iso=!0,e=0,n=Rr.length;e<n;e++)if(Rr[e][1].exec(l[1])){r=Rr[e][0],i=!1!==Rr[e][2];break}if(null==r)return void(t._isValid=!1);if(l[3]){for(e=0,n=Xr.length;e<n;e++)if(Xr[e][1].exec(l[3])){s=(l[2]||" ")+Xr[e][0];break}if(null==s)return void(t._isValid=!1)}if(!i&&null!=s)return void(t._isValid=!1);if(l[4]){if(!Zr.exec(l[4]))return void(t._isValid=!1);o="Z"}t._f=r+(s||"")+(o||""),ce(t)}else t._isValid=!1}function re(e){var n=Lr.exec(e._i);if(null!==n)return void(e._d=new Date(+n[1]));ie(e),!1===e._isValid&&(delete e._isValid,t.createFromInputFallback(e))}function se(t,e,n){return null!=t?t:null!=e?e:n}function oe(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function ae(t){var e,n,i,r,s=[];if(!t._d){for(i=oe(t),t._w&&null==t._a[tr]&&null==t._a[$i]&&le(t),t._dayOfYear&&(r=se(t._a[qi],i[qi]),t._dayOfYear>It(r)&&(u(t)._overflowDayOfYear=!0),n=Ut(r,0,t._dayOfYear),t._a[$i]=n.getUTCMonth(),t._a[tr]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=i[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[er]&&0===t._a[nr]&&0===t._a[ir]&&0===t._a[rr]&&(t._nextDay=!0,t._a[er]=0),t._d=(t._useUTC?Ut:Ct).apply(null,s),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[er]=24)}}function le(t){var e,n,i,r,s,o,a,l;if(e=t._w,null!=e.GG||null!=e.W||null!=e.E)s=1,o=4,n=se(e.GG,t._a[qi],bt(Ce(),1,4).year),i=se(e.W,1),((r=se(e.E,1))<1||r>7)&&(l=!0);else{s=t._locale._week.dow,o=t._locale._week.doy;var c=bt(Ce(),s,o);n=se(e.gg,t._a[qi],c.year),i=se(e.w,c.week),null!=e.d?((r=e.d)<0||r>6)&&(l=!0):null!=e.e?(r=e.e+s,(e.e<0||e.e>6)&&(l=!0)):r=s}i<1||i>pt(n,s,o)?u(t)._overflowWeeks=!0:null!=l?u(t)._overflowWeekday=!0:(a=mt(n,i,r,s,o),t._a[qi]=a.year,t._dayOfYear=a.dayOfYear)}function ce(e){if(e._f===t.ISO_8601)return void ie(e);e._a=[],u(e).empty=!0;var n,i,r,s,o,a=""+e._i,l=a.length,c=0;for(r=P(e._f,e._locale).match(Zi)||[],n=0;n<r.length;n++)s=r[n],i=(a.match(_(s,e))||[])[0],i&&(o=a.substr(0,a.indexOf(i)),o.length>0&&u(e).unusedInput.push(o),a=a.slice(a.indexOf(i)+i.length),c+=i.length),Li[s]?(i?u(e).empty=!1:u(e).unusedTokens.push(s),nt(s,i,e)):e._strict&&!i&&u(e).unusedTokens.push(s);u(e).charsLeftOver=l-c,a.length>0&&u(e).unusedInput.push(a),e._a[er]<=12&&!0===u(e).bigHour&&e._a[er]>0&&(u(e).bigHour=void 0),u(e).parsedDateParts=e._a.slice(0),u(e).meridiem=e._meridiem,e._a[er]=ge(e._locale,e._a[er],e._meridiem),ae(e),ne(e)}function ge(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(i=t.isPM(n),i&&e<12&&(e+=12),i||12!==e||(e=0),e):e}function ue(t){var e,n,i,r,s;if(0===t._f.length)return u(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)s=0,e=d({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],ce(e),Q(e)&&(s+=u(e).charsLeftOver,s+=10*u(e).unusedTokens.length,u(e).score=s,(null==i||s<i)&&(i=s,n=e));l(t,n||e)}function Qe(t){if(!t._d){var e=W(t._i);t._a=o([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),ae(t)}}function Be(t){var e=new F(ne(Ie(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Ie(t){var n=t._i,i=t._f;return t._locale=t._locale||te(t._l),null===n||void 0===i&&""===n?B({nullInput:!0}):("string"==typeof n&&(t._i=n=t._locale.preparse(n)),C(n)?new F(ne(n)):(s(n)?t._d=n:e(i)?ue(t):i?ce(t):de(t),Q(t)||(t._d=null),t))}function de(n){var i=n._i;void 0===i?n._d=new Date(t.now()):s(i)?n._d=new Date(i.valueOf()):"string"==typeof i?re(n):e(i)?(n._a=o(i.slice(0),function(t){return parseInt(t,10)}),ae(n)):"object"==typeof i?Qe(n):r(i)?n._d=new Date(i):t.createFromInputFallback(n)}function Fe(t,r,s,o,a){var l={};return!0!==s&&!1!==s||(o=s,s=void 0),(n(t)&&i(t)||e(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=a,l._l=s,l._i=t,l._f=r,l._strict=o,Be(l)}function Ce(t,e,n,i){return Fe(t,e,n,i,!1)}function Ue(t,n){var i,r;if(1===n.length&&e(n[0])&&(n=n[0]),!n.length)return Ce();for(i=n[0],r=1;r<n.length;++r)n[r].isValid()&&!n[r][t](i)||(i=n[r]);return i}function he(){return Ue("isBefore",[].slice.call(arguments,0))}function me(){return Ue("isAfter",[].slice.call(arguments,0))}function be(t){var e=W(t),n=e.year||0,i=e.quarter||0,r=e.month||0,s=e.week||0,o=e.day||0,a=e.hour||0,l=e.minute||0,c=e.second||0,g=e.millisecond||0;this._milliseconds=+g+1e3*c+6e4*l+1e3*a*60*60,this._days=+o+7*s,this._months=+r+3*i+12*n,this._data={},this._locale=te(),this._bubble()}function pe(t){return t instanceof be}function Ae(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function ye(t,e){O(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+w(~~(t/60),2)+e+w(~~t%60,2)})}function fe(t,e){var n=(e||"").match(t);if(null===n)return null;var i=n[n.length-1]||[],r=(i+"").match(Wr)||["-",0,0],s=60*r[1]+h(r[2]);return 0===s?0:"+"===r[0]?s:-s}function Ge(e,n){var i,r;return n._isUTC?(i=n.clone(),r=(C(e)||s(e)?e.valueOf():Ce(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+r),t.updateOffset(i,!1),i):Ce(e).local()}function xe(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Ve(e,n){var i,r=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=fe(Mi,e)))return this}else Math.abs(e)<16&&(e*=60);return!this._isUTC&&n&&(i=xe(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==e&&(!n||this._changeInProgress?we(this,Ye(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:xe(this)}function Ze(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Re(t){return this.utcOffset(0,t)}function Xe(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(xe(this),"m")),this}function Le(){if(null!=this._tzm)this.utcOffset(this._tzm);else if("string"==typeof this._i){var t=fe(zi,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function Ee(t){return!!this.isValid()&&(t=t?Ce(t).utcOffset():0,(this.utcOffset()-t)%60==0)}function ve(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Se(){if(!I(this._isDSTShifted))return this._isDSTShifted;var t={};if(d(t,this),t=Ie(t),t._a){var e=t._isUTC?c(t._a):Ce(t._a);this._isDSTShifted=this.isValid()&&m(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function We(){return!!this.isValid()&&!this._isUTC}function Ne(){return!!this.isValid()&&this._isUTC}function Je(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Ye(t,e){var n,i,s,o=t,l=null;return pe(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:r(t)?(o={},e?o[e]=t:o.milliseconds=t):(l=Nr.exec(t))?(n="-"===l[1]?-1:1,o={y:0,d:h(l[tr])*n,h:h(l[er])*n,m:h(l[nr])*n,s:h(l[ir])*n,ms:h(Ae(1e3*l[rr]))*n}):(l=Jr.exec(t))?(n="-"===l[1]?-1:1,o={y:He(l[2],n),M:He(l[3],n),w:He(l[4],n),d:He(l[5],n),h:He(l[6],n),m:He(l[7],n),s:He(l[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(s=Te(Ce(o.from),Ce(o.to)),o={},o.ms=s.milliseconds,o.M=s.months),i=new be(o),pe(t)&&a(t,"_locale")&&(i._locale=t._locale),i}function He(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function ke(t,e){var n={
milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Te(t,e){var n;return t.isValid()&&e.isValid()?(e=Ge(e,t),t.isBefore(e)?n=ke(t,e):(n=ke(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function De(t,e){return function(n,i){var r,s;return null===i||isNaN(+i)||(A(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=i,i=s),n="string"==typeof n?+n:n,r=Ye(n,i),we(this,r,t),this}}function we(e,n,i,r){var s=n._milliseconds,o=Ae(n._days),a=Ae(n._months);e.isValid()&&(r=null==r||r,s&&e._d.setTime(e._d.valueOf()+s*i),o&&k(e,"Date",H(e,"Date")+o*i),a&&lt(e,H(e,"Month")+a*i),r&&t.updateOffset(e,o||a))}function Oe(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function ze(e,n){var i=e||Ce(),r=Ge(i,this).startOf("day"),s=t.calendarFormat(this,r)||"sameElse",o=n&&(y(n[s])?n[s].call(this,i):n[s]);return this.format(o||this.localeData().calendar(s,this,Ce(i)))}function Me(){return new F(this)}function je(t,e){var n=C(t)?t:Ce(t);return!(!this.isValid()||!n.isValid())&&(e=S(I(e)?"millisecond":e),"millisecond"===e?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())}function Pe(t,e){var n=C(t)?t:Ce(t);return!(!this.isValid()||!n.isValid())&&(e=S(I(e)?"millisecond":e),"millisecond"===e?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())}function Ke(t,e,n,i){return i=i||"()",("("===i[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))}function _e(t,e){var n,i=C(t)?t:Ce(t);return!(!this.isValid()||!i.isValid())&&(e=S(e||"millisecond"),"millisecond"===e?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))}function qe(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function $e(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function tn(t,e,n){var i,r,s,o;return this.isValid()?(i=Ge(t,this),i.isValid()?(r=6e4*(i.utcOffset()-this.utcOffset()),e=S(e),"year"===e||"month"===e||"quarter"===e?(o=en(this,i),"quarter"===e?o/=3:"year"===e&&(o/=12)):(s=this-i,o="second"===e?s/1e3:"minute"===e?s/6e4:"hour"===e?s/36e5:"day"===e?(s-r)/864e5:"week"===e?(s-r)/6048e5:s),n?o:U(o)):NaN):NaN}function en(t,e){var n,i,r=12*(e.year()-t.year())+(e.month()-t.month()),s=t.clone().add(r,"months");return e-s<0?(n=t.clone().add(r-1,"months"),i=(e-s)/(s-n)):(n=t.clone().add(r+1,"months"),i=(e-s)/(n-s)),-(r+i)||0}function nn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function rn(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?y(Date.prototype.toISOString)?this.toDate().toISOString():j(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):j(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function sn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',i=0<this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r=e+'[")]';return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+r)}function on(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=j(this,e);return this.localeData().postformat(n)}function an(t,e){return this.isValid()&&(C(t)&&t.isValid()||Ce(t).isValid())?Ye({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ln(t){return this.from(Ce(),t)}function cn(t,e){return this.isValid()&&(C(t)&&t.isValid()||Ce(t).isValid())?Ye({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function gn(t){return this.to(Ce(),t)}function un(t){var e;return void 0===t?this._locale._abbr:(e=te(t),null!=e&&(this._locale=e),this)}function Qn(){return this._locale}function Bn(t){switch(t=S(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function In(t){return void 0===(t=S(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function dn(){return this._d.valueOf()-6e4*(this._offset||0)}function Fn(){return Math.floor(this.valueOf()/1e3)}function Cn(){return new Date(this.valueOf())}function Un(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function hn(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function mn(){return this.isValid()?this.toISOString():null}function bn(){return Q(this)}function pn(){return l({},u(this))}function An(){return u(this).overflow}function yn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function fn(t,e){O(0,[t,t.length],0,e)}function Gn(t){return Rn.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function xn(t){return Rn.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Vn(){return pt(this.year(),1,4)}function Zn(){var t=this.localeData()._week;return pt(this.year(),t.dow,t.doy)}function Rn(t,e,n,i,r){var s;return null==t?bt(this,i,r).year:(s=pt(t,i,r),e>s&&(e=s),Xn.call(this,t,e,n,i,r))}function Xn(t,e,n,i,r){var s=mt(t,e,n,i,r),o=Ut(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Ln(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function En(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function vn(t,e){e[rr]=h(1e3*("0."+t))}function Sn(){return this._isUTC?"UTC":""}function Wn(){return this._isUTC?"Coordinated Universal Time":""}function Nn(t){return Ce(1e3*t)}function Jn(){return Ce.apply(null,arguments).parseZone()}function Yn(t){return t}function Hn(t,e,n,i){var r=te(),s=c().set(i,e);return r[n](s,t)}function kn(t,e,n){if(r(t)&&(e=t,t=void 0),t=t||"",null!=e)return Hn(t,e,n,"month");var i,s=[];for(i=0;i<12;i++)s[i]=Hn(t,i,n,"month");return s}function Tn(t,e,n,i){"boolean"==typeof t?(r(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,r(e)&&(n=e,e=void 0),e=e||"");var s=te(),o=t?s._week.dow:0;if(null!=n)return Hn(e,(n+o)%7,i,"day");var a,l=[];for(a=0;a<7;a++)l[a]=Hn(e,(a+o)%7,i,"day");return l}function Dn(t,e){return kn(t,e,"months")}function wn(t,e){return kn(t,e,"monthsShort")}function On(t,e,n){return Tn(t,e,n,"weekdays")}function zn(t,e,n){return Tn(t,e,n,"weekdaysShort")}function Mn(t,e,n){return Tn(t,e,n,"weekdaysMin")}function jn(){var t=this._data;return this._milliseconds=Pr(this._milliseconds),this._days=Pr(this._days),this._months=Pr(this._months),t.milliseconds=Pr(t.milliseconds),t.seconds=Pr(t.seconds),t.minutes=Pr(t.minutes),t.hours=Pr(t.hours),t.months=Pr(t.months),t.years=Pr(t.years),this}function Pn(t,e,n,i){var r=Ye(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function Kn(t,e){return Pn(this,t,e,1)}function _n(t,e){return Pn(this,t,e,-1)}function qn(t){return t<0?Math.floor(t):Math.ceil(t)}function $n(){var t,e,n,i,r,s=this._milliseconds,o=this._days,a=this._months,l=this._data;return s>=0&&o>=0&&a>=0||s<=0&&o<=0&&a<=0||(s+=864e5*qn(ei(a)+o),o=0,a=0),l.milliseconds=s%1e3,t=U(s/1e3),l.seconds=t%60,e=U(t/60),l.minutes=e%60,n=U(e/60),l.hours=n%24,o+=U(n/24),r=U(ti(o)),a+=r,o-=qn(ei(r)),i=U(a/12),a%=12,l.days=o,l.months=a,l.years=i,this}function ti(t){return 4800*t/146097}function ei(t){return 146097*t/4800}function ni(t){var e,n,i=this._milliseconds;if("month"===(t=S(t))||"year"===t)return e=this._days+i/864e5,n=this._months+ti(e),"month"===t?n:n/12;switch(e=this._days+Math.round(ei(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function ii(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*h(this._months/12)}function ri(t){return function(){return this.as(t)}}function si(t){return t=S(t),this[t+"s"]()}function oi(t){return function(){return this._data[t]}}function ai(){return U(this.days()/7)}function li(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function ci(t,e,n){var i=Ye(t).abs(),r=us(i.as("s")),s=us(i.as("m")),o=us(i.as("h")),a=us(i.as("d")),l=us(i.as("M")),c=us(i.as("y")),g=r<Qs.s&&["s",r]||s<=1&&["m"]||s<Qs.m&&["mm",s]||o<=1&&["h"]||o<Qs.h&&["hh",o]||a<=1&&["d"]||a<Qs.d&&["dd",a]||l<=1&&["M"]||l<Qs.M&&["MM",l]||c<=1&&["y"]||["yy",c];return g[2]=e,g[3]=+t>0,g[4]=n,li.apply(null,g)}function gi(t){return void 0===t?us:"function"==typeof t&&(us=t,!0)}function ui(t,e){return void 0!==Qs[t]&&(void 0===e?Qs[t]:(Qs[t]=e,!0))}function Qi(t){var e=this.localeData(),n=ci(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function Bi(){var t,e,n,i=Bs(this._milliseconds)/1e3,r=Bs(this._days),s=Bs(this._months);t=U(i/60),e=U(t/60),i%=60,t%=60,n=U(s/12),s%=12;var o=n,a=s,l=r,c=e,g=t,u=i,Q=this.asSeconds();return Q?(Q<0?"-":"")+"P"+(o?o+"Y":"")+(a?a+"M":"")+(l?l+"D":"")+(c||g||u?"T":"")+(c?c+"H":"")+(g?g+"M":"")+(u?u+"S":""):"P0D"}var Ii,di;di=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};var Fi=di,Ci=t.momentProperties=[],Ui=!1,hi={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var mi;mi=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)a(t,e)&&n.push(e);return n};var bi,pi=mi,Ai={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},yi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},fi=/\d{1,2}/,Gi={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},xi={},Vi={},Zi=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ri=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Xi={},Li={},Ei=/\d/,vi=/\d\d/,Si=/\d{3}/,Wi=/\d{4}/,Ni=/[+-]?\d{6}/,Ji=/\d\d?/,Yi=/\d\d\d\d?/,Hi=/\d\d\d\d\d\d?/,ki=/\d{1,3}/,Ti=/\d{1,4}/,Di=/[+-]?\d{1,6}/,wi=/\d+/,Oi=/[+-]?\d+/,zi=/Z|[+-]\d\d:?\d\d/gi,Mi=/Z|[+-]\d\d(?::?\d\d)?/gi,ji=/[+-]?\d+(\.\d{1,3})?/,Pi=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ki={},_i={},qi=0,$i=1,tr=2,er=3,nr=4,ir=5,rr=6,sr=7,or=8;bi=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};var ar=bi;O("M",["MM",2],"Mo",function(){return this.month()+1}),O("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),O("MMMM",0,0,function(t){return this.localeData().months(this,t)}),v("month","M"),N("month",8),K("M",Ji),K("MM",Ji,vi),K("MMM",function(t,e){return e.monthsShortRegex(t)}),K("MMMM",function(t,e){return e.monthsRegex(t)}),tt(["M","MM"],function(t,e){e[$i]=h(t)-1}),tt(["MMM","MMMM"],function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[$i]=r:u(n).invalidMonth=t});var lr=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,cr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),gr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ur=Pi,Qr=Pi;O("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),O(0,["YY",2],0,function(){return this.year()%100}),O(0,["YYYY",4],0,"year"),O(0,["YYYYY",5],0,"year"),O(0,["YYYYYY",6,!0],0,"year"),v("year","y"),N("year",1),K("Y",Oi),K("YY",Ji,vi),K("YYYY",Ti,Wi),K("YYYYY",Di,Ni),K("YYYYYY",Di,Ni),tt(["YYYYY","YYYYYY"],qi),tt("YYYY",function(e,n){n[qi]=2===e.length?t.parseTwoDigitYear(e):h(e)}),tt("YY",function(e,n){n[qi]=t.parseTwoDigitYear(e)}),tt("Y",function(t,e){e[qi]=parseInt(t,10)}),t.parseTwoDigitYear=function(t){return h(t)+(h(t)>68?1900:2e3)};var Br=Y("FullYear",!0);O("w",["ww",2],"wo","week"),O("W",["WW",2],"Wo","isoWeek"),v("week","w"),v("isoWeek","W"),N("week",5),N("isoWeek",5),K("w",Ji),K("ww",Ji,vi),K("W",Ji),K("WW",Ji,vi),et(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=h(t)});var Ir={dow:0,doy:6};O("d",0,"do","day"),O("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),O("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),O("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),O("e",0,0,"weekday"),O("E",0,0,"isoWeekday"),v("day","d"),v("weekday","e"),v("isoWeekday","E"),N("day",11),N("weekday",11),N("isoWeekday",11),K("d",Ji),K("e",Ji),K("E",Ji),K("dd",function(t,e){return e.weekdaysMinRegex(t)}),K("ddd",function(t,e){return e.weekdaysShortRegex(t)}),K("dddd",function(t,e){return e.weekdaysRegex(t)}),et(["dd","ddd","dddd"],function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);null!=r?e.d=r:u(n).invalidWeekday=t}),et(["d","e","E"],function(t,e,n,i){e[i]=h(t)});var dr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Fr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Cr="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ur=Pi,hr=Pi,mr=Pi;O("H",["HH",2],0,"hour"),O("h",["hh",2],0,Tt),O("k",["kk",2],0,Dt),O("hmm",0,0,function(){return""+Tt.apply(this)+w(this.minutes(),2)}),O("hmmss",0,0,function(){return""+Tt.apply(this)+w(this.minutes(),2)+w(this.seconds(),2)}),O("Hmm",0,0,function(){return""+this.hours()+w(this.minutes(),2)}),O("Hmmss",0,0,function(){return""+this.hours()+w(this.minutes(),2)+w(this.seconds(),2)}),wt("a",!0),wt("A",!1),v("hour","h"),N("hour",13),K("a",Ot),K("A",Ot),K("H",Ji),K("h",Ji),K("HH",Ji,vi),K("hh",Ji,vi),K("hmm",Yi),K("hmmss",Hi),K("Hmm",Yi),K("Hmmss",Hi),tt(["H","HH"],er),tt(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),tt(["h","hh"],function(t,e,n){e[er]=h(t),u(n).bigHour=!0}),tt("hmm",function(t,e,n){var i=t.length-2;e[er]=h(t.substr(0,i)),e[nr]=h(t.substr(i)),u(n).bigHour=!0}),tt("hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[er]=h(t.substr(0,i)),e[nr]=h(t.substr(i,2)),e[ir]=h(t.substr(r)),u(n).bigHour=!0}),tt("Hmm",function(t,e,n){var i=t.length-2;e[er]=h(t.substr(0,i)),e[nr]=h(t.substr(i))}),tt("Hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[er]=h(t.substr(0,i)),e[nr]=h(t.substr(i,2)),e[ir]=h(t.substr(r))});var br,pr=/[ap]\.?m?\.?/i,Ar=Y("Hours",!0),yr={calendar:Ai,longDateFormat:yi,invalidDate:"Invalid date",ordinal:"%d",ordinalParse:fi,relativeTime:Gi,months:cr,monthsShort:gr,week:Ir,weekdays:dr,weekdaysMin:Cr,weekdaysShort:Fr,meridiemParse:pr},fr={},Gr={},xr=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Vr=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Zr=/Z|[+-]\d\d(?::?\d\d)?/,Rr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Xr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Lr=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=p("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),t.ISO_8601=function(){};var Er=p("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ce.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:B()}),vr=p("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ce.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:B()}),Sr=function(){return Date.now?Date.now():+new Date};ye("Z",":"),ye("ZZ",""),K("Z",Mi),K("ZZ",Mi),tt(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=fe(Mi,t)});var Wr=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Nr=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Jr=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Ye.fn=be.prototype;var Yr=De(1,"add"),Hr=De(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var kr=p("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});O(0,["gg",2],0,function(){return this.weekYear()%100}),O(0,["GG",2],0,function(){return this.isoWeekYear()%100}),fn("gggg","weekYear"),fn("ggggg","weekYear"),fn("GGGG","isoWeekYear"),fn("GGGGG","isoWeekYear"),v("weekYear","gg"),v("isoWeekYear","GG"),N("weekYear",1),N("isoWeekYear",1),K("G",Oi),K("g",Oi),K("GG",Ji,vi),K("gg",Ji,vi),K("GGGG",Ti,Wi),K("gggg",Ti,Wi),K("GGGGG",Di,Ni),K("ggggg",Di,Ni),et(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=h(t)}),et(["gg","GG"],function(e,n,i,r){n[r]=t.parseTwoDigitYear(e)}),O("Q",0,"Qo","quarter"),v("quarter","Q"),N("quarter",7),K("Q",Ei),tt("Q",function(t,e){e[$i]=3*(h(t)-1)}),O("D",["DD",2],"Do","date"),v("date","D"),N("date",9),K("D",Ji),K("DD",Ji,vi),K("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),tt(["D","DD"],tr),tt("Do",function(t,e){e[tr]=h(t.match(Ji)[0],10)});var Tr=Y("Date",!0);O("DDD",["DDDD",3],"DDDo","dayOfYear"),v("dayOfYear","DDD"),N("dayOfYear",4),K("DDD",ki),K("DDDD",Si),tt(["DDD","DDDD"],function(t,e,n){n._dayOfYear=h(t)}),O("m",["mm",2],0,"minute"),v("minute","m"),N("minute",14),K("m",Ji),K("mm",Ji,vi),tt(["m","mm"],nr);var Dr=Y("Minutes",!1);O("s",["ss",2],0,"second"),v("second","s"),N("second",15),K("s",Ji),K("ss",Ji,vi),tt(["s","ss"],ir);var wr=Y("Seconds",!1);O("S",0,0,function(){return~~(this.millisecond()/100)}),O(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),O(0,["SSS",3],0,"millisecond"),O(0,["SSSS",4],0,function(){return 10*this.millisecond()}),O(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),O(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),O(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),O(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),O(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),v("millisecond","ms"),N("millisecond",16),K("S",ki,Ei),K("SS",ki,vi),K("SSS",ki,Si);var Or;for(Or="SSSS";Or.length<=9;Or+="S")K(Or,wi);for(Or="S";Or.length<=9;Or+="S")tt(Or,vn);var zr=Y("Milliseconds",!1);O("z",0,0,"zoneAbbr"),O("zz",0,0,"zoneName");var Mr=F.prototype;Mr.add=Yr,Mr.calendar=ze,Mr.clone=Me,Mr.diff=tn,Mr.endOf=In,Mr.format=on,Mr.from=an,Mr.fromNow=ln,Mr.to=cn,Mr.toNow=gn,Mr.get=T,Mr.invalidAt=An,Mr.isAfter=je,Mr.isBefore=Pe,Mr.isBetween=Ke,Mr.isSame=_e,Mr.isSameOrAfter=qe,Mr.isSameOrBefore=$e,Mr.isValid=bn,Mr.lang=kr,Mr.locale=un,Mr.localeData=Qn,Mr.max=vr,Mr.min=Er,Mr.parsingFlags=pn,Mr.set=D,Mr.startOf=Bn,Mr.subtract=Hr,Mr.toArray=Un,Mr.toObject=hn,Mr.toDate=Cn,Mr.toISOString=rn,Mr.inspect=sn,Mr.toJSON=mn,Mr.toString=nn,Mr.unix=Fn,Mr.valueOf=dn,Mr.creationData=yn,Mr.year=Br,Mr.isLeapYear=Ft,Mr.weekYear=Gn,Mr.isoWeekYear=xn,Mr.quarter=Mr.quarters=Ln,Mr.month=ct,Mr.daysInMonth=gt,Mr.week=Mr.weeks=Gt,Mr.isoWeek=Mr.isoWeeks=xt,Mr.weeksInYear=Zn,Mr.isoWeeksInYear=Vn,Mr.date=Tr,Mr.day=Mr.days=St,Mr.weekday=Wt,Mr.isoWeekday=Nt,Mr.dayOfYear=En,Mr.hour=Mr.hours=Ar,Mr.minute=Mr.minutes=Dr,Mr.second=Mr.seconds=wr,Mr.millisecond=Mr.milliseconds=zr,Mr.utcOffset=Ve,Mr.utc=Re,Mr.local=Xe,Mr.parseZone=Le,Mr.hasAlignedHourOffset=Ee,Mr.isDST=ve,Mr.isLocal=We,Mr.isUtcOffset=Ne,Mr.isUtc=Je,Mr.isUTC=Je,Mr.zoneAbbr=Sn,Mr.zoneName=Wn,Mr.dates=p("dates accessor is deprecated. Use date instead.",Tr),Mr.months=p("months accessor is deprecated. Use month instead",ct),Mr.years=p("years accessor is deprecated. Use year instead",Br),Mr.zone=p("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ze),Mr.isDSTShifted=p("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Se);var jr=x.prototype;jr.calendar=V,jr.longDateFormat=Z,jr.invalidDate=R,jr.ordinal=X,jr.preparse=Yn,jr.postformat=Yn,jr.relativeTime=L,jr.pastFuture=E,jr.set=f,jr.months=rt,jr.monthsShort=st,jr.monthsParse=at,jr.monthsRegex=Qt,jr.monthsShortRegex=ut,jr.week=At,jr.firstDayOfYear=ft,jr.firstDayOfWeek=yt,jr.weekdays=Rt,jr.weekdaysMin=Lt,jr.weekdaysShort=Xt,jr.weekdaysParse=vt,jr.weekdaysRegex=Jt,jr.weekdaysShortRegex=Yt,jr.weekdaysMinRegex=Ht,jr.isPM=zt,jr.meridiem=Mt,_t("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===h(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),t.lang=p("moment.lang is deprecated. Use moment.locale instead.",_t),t.langData=p("moment.langData is deprecated. Use moment.localeData instead.",te);var Pr=Math.abs,Kr=ri("ms"),_r=ri("s"),qr=ri("m"),$r=ri("h"),ts=ri("d"),es=ri("w"),ns=ri("M"),is=ri("y"),rs=oi("milliseconds"),ss=oi("seconds"),os=oi("minutes"),as=oi("hours"),ls=oi("days"),cs=oi("months"),gs=oi("years"),us=Math.round,Qs={s:45,m:45,h:22,d:26,M:11},Bs=Math.abs,Is=be.prototype;return Is.abs=jn,Is.add=Kn,Is.subtract=_n,Is.as=ni,Is.asMilliseconds=Kr,Is.asSeconds=_r,Is.asMinutes=qr,Is.asHours=$r,Is.asDays=ts,Is.asWeeks=es,Is.asMonths=ns,Is.asYears=is,Is.valueOf=ii,Is._bubble=$n,Is.get=si,Is.milliseconds=rs,Is.seconds=ss,Is.minutes=os,Is.hours=as,Is.days=ls,Is.weeks=ai,Is.months=cs,Is.years=gs,Is.humanize=Qi,Is.toISOString=Bi,Is.toString=Bi,Is.toJSON=Bi,Is.locale=un,Is.localeData=Qn,Is.toIsoString=p("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Bi),Is.lang=kr,O("X",0,0,"unix"),O("x",0,0,"valueOf"),K("x",Oi),K("X",ji),tt("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),tt("x",function(t,e,n){n._d=new Date(h(t))}),t.version="2.17.1",function(t){Ii=t}(Ce),t.fn=Mr,t.min=he,t.max=me,t.now=Sr,t.utc=c,t.unix=Nn,t.months=Dn,t.isDate=s,t.locale=_t,t.invalid=B,t.duration=Ye,t.isMoment=C,t.weekdays=On,t.parseZone=Jn,t.localeData=te,t.isDuration=pe,t.monthsShort=wn,t.weekdaysMin=Mn,t.defineLocale=qt,t.updateLocale=$t,t.locales=ee,t.weekdaysShort=zn,t.normalizeUnits=S,t.relativeTimeRounding=gi,t.relativeTimeThreshold=ui,t.calendarFormat=Oe,t.prototype=Mr,t}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){t.ui=t.ui||{},t.ui.version="1.12.1";var e=0,n=Array.prototype.slice;t.cleanData=function(e){return function(n){var i,r,s;for(s=0;null!=(r=n[s]);s++)try{(i=t._data(r,"events"))&&i.remove&&t(r).triggerHandler("remove")}catch(t){}e(n)}}(t.cleanData),t.widget=function(e,n,i){var r,s,o,a={},l=e.split(".")[0];e=e.split(".")[1];var c=l+"-"+e;return i||(i=n,n=t.Widget),t.isArray(i)&&(i=t.extend.apply(null,[{}].concat(i))),t.expr[":"][c.toLowerCase()]=function(e){return!!t.data(e,c)},t[l]=t[l]||{},r=t[l][e],s=t[l][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new s(t,e)},t.extend(s,r,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),o=new n,o.options=t.widget.extend({},o.options),t.each(i,function(e,i){return t.isFunction(i)?void(a[e]=function(){function t(){return n.prototype[e].apply(this,arguments)}function r(t){return n.prototype[e].apply(this,t)}return function(){var e,n=this._super,s=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=s,e}}()):void(a[e]=i)}),s.prototype=t.widget.extend(o,{widgetEventPrefix:r?o.widgetEventPrefix||e:e},a,{constructor:s,namespace:l,widgetName:e,widgetFullName:c}),r?(t.each(r._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,s,n._proto)}),delete r._childConstructors):n._childConstructors.push(s),t.widget.bridge(e,s),s},t.widget.extend=function(e){for(var i,r,s=n.call(arguments,1),o=0,a=s.length;a>o;o++)for(i in s[o])r=s[o][i],s[o].hasOwnProperty(i)&&void 0!==r&&(e[i]=t.isPlainObject(r)?t.isPlainObject(e[i])?t.widget.extend({},e[i],r):t.widget.extend({},r):r);return e},t.widget.bridge=function(e,i){var r=i.prototype.widgetFullName||e;t.fn[e]=function(s){var o="string"==typeof s,a=n.call(arguments,1),l=this;return o?this.length||"instance"!==s?this.each(function(){var n,i=t.data(this,r);return"instance"===s?(l=i,!1):i?t.isFunction(i[s])&&"_"!==s.charAt(0)?(n=i[s].apply(i,a),n!==i&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0):t.error("no such method '"+s+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+s+"'")}):l=void 0:(a.length&&(s=t.widget.extend.apply(null,[s].concat(a))),this.each(function(){var e=t.data(this,r);e?(e.option(s||{}),e._init&&e._init()):t.data(this,r,new i(s,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(n,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),n),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,n){e._removeClass(n,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,r,s,o=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(o={},i=e.split("."),e=i.shift(),i.length){for(r=o[e]=t.widget.extend({},this.options[e]),s=0;i.length-1>s;s++)r[i[s]]=r[i[s]]||{},r=r[i[s]];if(e=i.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];o[e]=n}return this._setOptions(o),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var n,i,r;for(n in e)r=this.classesElementLookup[n],e[n]!==this.options.classes[n]&&r&&r.length&&(i=t(r.get()),this._removeClass(r,n),i.addClass(this._classes({element:i,keys:n,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function n(n,s){var o,a;for(a=0;n.length>a;a++)o=r.classesElementLookup[n[a]]||t(),o=t(e.add?t.unique(o.get().concat(e.element.get())):o.not(e.element).get()),r.classesElementLookup[n[a]]=o,i.push(n[a]),s&&e.classes[n[a]]&&i.push(e.classes[n[a]])}var i=[],r=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&n(e.keys.match(/\S+/g)||[],!0),e.extra&&n(e.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(e){var n=this;t.each(n.classesElementLookup,function(i,r){-1!==t.inArray(e.target,r)&&(n.classesElementLookup[i]=t(r.not(e.target).get()))})},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,!1)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,!0)},_toggleClass:function(t,e,n,i){i="boolean"==typeof i?i:n;var r="string"==typeof t||null===t,s={extra:r?e:n,keys:r?t:e,element:r?this.element:t,add:i};return s.element.toggleClass(this._classes(s),i),this},_on:function(e,n,i){var r,s=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,function(i,o){function a(){return e||!0!==s.options.disabled&&!t(this).hasClass("ui-state-disabled")?("string"==typeof o?s[o]:o).apply(s,arguments):void 0}"string"!=typeof o&&(a.guid=o.guid=o.guid||a.guid||t.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+s.eventNamespace,g=l[2];g?r.on(c,g,a):n.on(c,a)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(n).off(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,n,i){var r,s,o=this.options[e];if(i=i||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],s=n.originalEvent)for(r in s)r in n||(n[r]=s[r]);return this.element.trigger(n,i),!(t.isFunction(o)&&!1===o.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,s){"string"==typeof r&&(r={effect:r});var o,a=r?!0===r||"number"==typeof r?n:r.effect||n:e;r=r||{},"number"==typeof r&&(r={duration:r}),o=!t.isEmptyObject(r),r.complete=s,r.delay&&i.delay(r.delay),o&&t.effects&&t.effects.effect[a]?i[e](r):a!==e&&i[a]?i[a](r.duration,r.easing,s):i.queue(function(n){t(this)[e](),s&&s.call(i[0]),n()})}}),t.widget,function(){function e(t,e,n){return[parseFloat(t[0])*(u.test(t[0])?e/100:1),parseFloat(t[1])*(u.test(t[1])?n/100:1)]}function n(e,n){return parseInt(t.css(e,n),10)||0}
function i(e){var n=e[0];return 9===n.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(n)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}var r,s=Math.max,o=Math.abs,a=/left|center|right/,l=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,g=/^\w+/,u=/%$/,Q=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==r)return r;var e,n,i=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=i.children()[0];return t("body").append(i),e=s.offsetWidth,i.css("overflow","scroll"),n=s.offsetWidth,e===n&&(n=i[0].clientWidth),i.remove(),r=e-n},getScrollInfo:function(e){var n=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),r="scroll"===n||"auto"===n&&e.width<e.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight?t.position.scrollbarWidth():0,height:r?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var n=t(e||window),i=t.isWindow(n[0]),r=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:r,offset:i||r?{left:0,top:0}:t(e).offset(),scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:n.outerWidth(),height:n.outerHeight()}}},t.fn.position=function(r){if(!r||!r.of)return Q.apply(this,arguments);r=t.extend({},r);var u,B,I,d,F,C,U=t(r.of),h=t.position.getWithinInfo(r.within),m=t.position.getScrollInfo(h),b=(r.collision||"flip").split(" "),p={};return C=i(U),U[0].preventDefault&&(r.at="left top"),B=C.width,I=C.height,d=C.offset,F=t.extend({},d),t.each(["my","at"],function(){var t,e,n=(r[this]||"").split(" ");1===n.length&&(n=a.test(n[0])?n.concat(["center"]):l.test(n[0])?["center"].concat(n):["center","center"]),n[0]=a.test(n[0])?n[0]:"center",n[1]=l.test(n[1])?n[1]:"center",t=c.exec(n[0]),e=c.exec(n[1]),p[this]=[t?t[0]:0,e?e[0]:0],r[this]=[g.exec(n[0])[0],g.exec(n[1])[0]]}),1===b.length&&(b[1]=b[0]),"right"===r.at[0]?F.left+=B:"center"===r.at[0]&&(F.left+=B/2),"bottom"===r.at[1]?F.top+=I:"center"===r.at[1]&&(F.top+=I/2),u=e(p.at,B,I),F.left+=u[0],F.top+=u[1],this.each(function(){var i,a,l=t(this),c=l.outerWidth(),g=l.outerHeight(),Q=n(this,"marginLeft"),C=n(this,"marginTop"),A=c+Q+n(this,"marginRight")+m.width,y=g+C+n(this,"marginBottom")+m.height,f=t.extend({},F),G=e(p.my,l.outerWidth(),l.outerHeight());"right"===r.my[0]?f.left-=c:"center"===r.my[0]&&(f.left-=c/2),"bottom"===r.my[1]?f.top-=g:"center"===r.my[1]&&(f.top-=g/2),f.left+=G[0],f.top+=G[1],i={marginLeft:Q,marginTop:C},t.each(["left","top"],function(e,n){t.ui.position[b[e]]&&t.ui.position[b[e]][n](f,{targetWidth:B,targetHeight:I,elemWidth:c,elemHeight:g,collisionPosition:i,collisionWidth:A,collisionHeight:y,offset:[u[0]+G[0],u[1]+G[1]],my:r.my,at:r.at,within:h,elem:l})}),r.using&&(a=function(t){var e=d.left-f.left,n=e+B-c,i=d.top-f.top,a=i+I-g,u={target:{element:U,left:d.left,top:d.top,width:B,height:I},element:{element:l,left:f.left,top:f.top,width:c,height:g},horizontal:0>n?"left":e>0?"right":"center",vertical:0>a?"top":i>0?"bottom":"middle"};c>B&&B>o(e+n)&&(u.horizontal="center"),g>I&&I>o(i+a)&&(u.vertical="middle"),u.important=s(o(e),o(n))>s(o(i),o(a))?"horizontal":"vertical",r.using.call(this,t,u)}),l.offset(t.extend(f,{using:a}))})},t.ui.position={fit:{left:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,a=t.left-e.collisionPosition.marginLeft,l=r-a,c=a+e.collisionWidth-o-r;e.collisionWidth>o?l>0&&0>=c?(n=t.left+l+e.collisionWidth-o-r,t.left+=l-n):t.left=c>0&&0>=l?r:l>c?r+o-e.collisionWidth:r:l>0?t.left+=l:c>0?t.left-=c:t.left=s(t.left-a,t.left)},top:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollTop:i.offset.top,o=e.within.height,a=t.top-e.collisionPosition.marginTop,l=r-a,c=a+e.collisionHeight-o-r;e.collisionHeight>o?l>0&&0>=c?(n=t.top+l+e.collisionHeight-o-r,t.top+=l-n):t.top=c>0&&0>=l?r:l>c?r+o-e.collisionHeight:r:l>0?t.top+=l:c>0?t.top-=c:t.top=s(t.top-a,t.top)}},flip:{left:function(t,e){var n,i,r=e.within,s=r.offset.left+r.scrollLeft,a=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,c=t.left-e.collisionPosition.marginLeft,g=c-l,u=c+e.collisionWidth-a-l,Q="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,B="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,I=-2*e.offset[0];0>g?(0>(n=t.left+Q+B+I+e.collisionWidth-a-s)||o(g)>n)&&(t.left+=Q+B+I):u>0&&((i=t.left-e.collisionPosition.marginLeft+Q+B+I-l)>0||u>o(i))&&(t.left+=Q+B+I)},top:function(t,e){var n,i,r=e.within,s=r.offset.top+r.scrollTop,a=r.height,l=r.isWindow?r.scrollTop:r.offset.top,c=t.top-e.collisionPosition.marginTop,g=c-l,u=c+e.collisionHeight-a-l,Q="top"===e.my[1],B=Q?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,I="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,d=-2*e.offset[1];0>g?(0>(i=t.top+B+I+d+e.collisionHeight-a-s)||o(g)>i)&&(t.top+=B+I+d):u>0&&((n=t.top-e.collisionPosition.marginTop+B+I+d-l)>0||u>o(n))&&(t.top+=B+I+d)}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position,t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.fn.extend({uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(n){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var n=t(e.target),i=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&i.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var n=t(e.target).closest(".ui-menu-item"),i=t(e.currentTarget);n[0]===i[0]&&(this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,i))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var n=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,n)},blur:function(e){this._delay(function(){!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]))&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),n=e.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),n.children().each(function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var n,i,r,s,o=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:o=!1,i=this.previousFilter||"",s=!1,r=e.keyCode>=96&&105>=e.keyCode?""+(e.keyCode-96):String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),r===i?s=!0:r=i+r,n=this._filterMenuItems(r),n=s&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n,n.length||(r=String.fromCharCode(e.keyCode),n=this._filterMenuItems(r)),n.length?(this.focus(e,n),this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,n,i,r,s,o=this,a=this.options.icons.submenu,l=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),i=l.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),n=e.prev(),i=t("<span>").data("ui-menu-submenu-caret",!0);o._addClass(i,"ui-menu-icon","ui-icon "+a),n.attr("aria-haspopup","true").prepend(i),e.attr("aria-labelledby",n.attr("id"))}),this._addClass(i,"ui-menu","ui-widget ui-widget-content ui-front"),e=l.add(this.element),n=e.find(this.options.items),n.not(".ui-menu-item").each(function(){var e=t(this);o._isDivider(e)&&o._addClass(e,"ui-menu-divider","ui-widget-content")}),r=n.not(".ui-menu-item, .ui-menu-divider"),s=r.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(r,"ui-menu-item")._addClass(s,"ui-menu-item-wrapper"),n.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var n=this.element.find(".ui-menu-icon");this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t+""),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var n,i,r;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),i=this.active.children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),r=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(r,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),n=e.children(".ui-menu"),n.length&&t&&/^mouse/.test(t.type)&&this._startOpening(n),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var n,i,r,s,o,a;this._hasScroll()&&(n=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,r=e.offset().top-this.activeMenu.offset().top-n-i,s=this.activeMenu.scrollTop(),o=this.activeMenu.height(),a=e.outerHeight(),0>r?this.activeMenu.scrollTop(s+r):r+a>o&&this.activeMenu.scrollTop(s+r-o+a))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var n=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(e,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(e),this._removeClass(i.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=i},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,n){var i;this.active&&(i="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[e]()),this.focus(n,i)},nextPage:function(e){var n,i,r;return this.active?void(this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return n=t(this),0>n.offset().top-i-r}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(e)},previousPage:function(e){var n,i,r;return this.active?void(this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return n=t(this),n.offset().top-i+r>0}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items).first()))):void this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,n)},_filterMenuItems:function(e){var n=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return i.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))})}}),t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,n,i,r=this.element[0].nodeName.toLowerCase(),s="textarea"===r,o="input"===r;this.isMultiLine=s||!o&&this._isContentEditable(this.element),this.valueMethod=this.element[s||o?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return e=!0,i=!0,void(n=!0);e=!1,i=!1,n=!1;var s=t.ui.keyCode;switch(r.keyCode){case s.PAGE_UP:e=!0,this._move("previousPage",r);break;case s.PAGE_DOWN:e=!0,this._move("nextPage",r);break;case s.UP:e=!0,this._keyEvent("previous",r);break;case s.DOWN:e=!0,this._keyEvent("next",r);break;case s.ENTER:this.menu.active&&(e=!0,r.preventDefault(),this.menu.select(r));break;case s.TAB:this.menu.active&&this.menu.select(r);break;case s.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(r),r.preventDefault());break;default:n=!0,this._searchTimeout(r)}},keypress:function(i){if(e)return e=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&i.preventDefault());if(!n){var r=t.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:this._move("previousPage",i);break;case r.PAGE_DOWN:this._move("nextPage",i);break;case r.UP:this._keyEvent("previous",i);break;case r.DOWN:this._keyEvent("next",i)}}},input:function(t){return i?(i=!1,void t.preventDefault()):void this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),void this._change(t))}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(e,n){var i,r;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)})):(r=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:r})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(r.value),void((i=n.item.attr("aria-label")||r.value)&&t.trim(i).length&&(this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))))},menuselect:function(e,n){var i=n.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=r,this._delay(function(){this.previous=r,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var n=this.menu.element[0];return e.target===this.element[0]||e.target===n||t.contains(n,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,n,i=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(n,i){i(t.ui.autocomplete.filter(e,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(e,r){i.xhr&&i.xhr.abort(),i.xhr=t.ajax({url:n,data:e,dataType:"json",success:function(t){r(t)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),n=this.menu.element.is(":visible"),i=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;(!e||e&&!n&&!i)&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),--this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var n=this.menu.element.empty();this._renderMenu(n,e),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,n){var i=this;t.each(n,function(t,n){i._renderItemData(e,n)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,n){return t("<li>").append(t("<div>").text(n.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,n){var i=RegExp(t.ui.autocomplete.escapeRegex(n),"i");return t.grep(e,function(t){return i.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(n).appendTo(this.liveRegion))}}),t.ui.autocomplete}),define("ember-ajax/ajax-request",["exports","ember","ember-ajax/mixins/ajax-request"],function(t,e,n){"use strict";var i=e.default.Object;t.default=i.extend(n.default)}),define("ember-ajax/errors",["exports","ember"],function(t,e){"use strict";function n(t){var e=arguments.length<=1||void 0===arguments[1]?"Ajax operation failed":arguments[1];A.call(this,e),this.errors=t||[{title:"Ajax Error",detail:e}]}function i(t){n.call(this,t,"Request was rejected because it was invalid")}function r(t){n.call(this,t,"Ajax authorization failed")}function s(t){n.call(this,t,"Request was rejected because user is not permitted to perform this operation.")}function o(t){n.call(this,t,"Request was formatted incorrectly.")}function a(t){n.call(this,t,"Resource was not found.")}function l(){n.call(this,null,"The ajax operation timed out")}function c(){n.call(this,null,"The ajax operation was aborted")}function g(t){n.call(this,t,"The ajax operation failed due to a conflict")}function u(t){n.call(this,t,"Request was rejected due to server error")}function Q(t){return t instanceof n}function B(t){return Q(t)?t instanceof r:401===t}function I(t){return Q(t)?t instanceof s:403===t}function d(t){return Q(t)?t instanceof i:422===t}function F(t){return Q(t)?t instanceof o:400===t}function C(t){return Q(t)?t instanceof a:404===t}function U(t){return t instanceof l}function h(t){return Q(t)?t instanceof c:0===t}function m(t){return Q(t)?t instanceof g:409===t}function b(t){return Q(t)?t instanceof u:t>=500&&t<600}function p(t){var e=parseInt(t,10);return e>=200&&e<300||304===e}t.AjaxError=n,t.InvalidError=i,t.UnauthorizedError=r,t.ForbiddenError=s,t.BadRequestError=o,t.NotFoundError=a,t.TimeoutError=l,t.AbortError=c,t.ConflictError=g,t.ServerError=u,t.isAjaxError=Q,t.isUnauthorizedError=B,t.isForbiddenError=I,t.isInvalidError=d,t.isBadRequestError=F,t.isNotFoundError=C,t.isTimeoutError=U,t.isAbortError=h,t.isConflictError=m,t.isServerError=b,t.isSuccess=p;var A=e.default.Error;n.prototype=Object.create(A.prototype),i.prototype=Object.create(n.prototype),r.prototype=Object.create(n.prototype),s.prototype=Object.create(n.prototype),o.prototype=Object.create(n.prototype),a.prototype=Object.create(n.prototype),l.prototype=Object.create(n.prototype),c.prototype=Object.create(n.prototype),g.prototype=Object.create(n.prototype),u.prototype=Object.create(n.prototype)}),define("ember-ajax/index",["exports","ember-ajax/request"],function(t,e){"use strict";Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.default}})}),define("ember-ajax/mixins/ajax-request",["exports","ember","ember-ajax/errors","ember-ajax/utils/parse-response-headers","ember-ajax/utils/get-header","ember-ajax/utils/url-helpers","ember-ajax/utils/ajax"],function(t,e,n,i,r,s,o){"use strict";function a(t){return!p(t)&&!!t.match(V)}function l(t){return"/"===t.charAt(0)}function c(t){return"/"===t.charAt(t.length-1)}function g(t){return l(t)&&(t=t.substring(1)),c(t)&&(t=t.slice(0,-1)),t}function u(t){return"object"==typeof t}function Q(t){return"string"==typeof t}var B=(e.default.$,e.default.A),I=e.default.Error,d=e.default.Logger,F=e.default.Mixin,C=e.default.RSVP.Promise,U=e.default.Test,h=e.default.get,m=e.default.isArray,b=e.default.isEmpty,p=e.default.isNone,A=e.default.merge,y=e.default.run,f=e.default.runInDebug,G=e.default.testing,x=e.default.warn,V=/^application\/vnd\.api\+json/i,Z=0;G&&U.registerWaiter(function(){return 0===Z}),t.default=F.create({contentType:"application/x-www-form-urlencoded; charset=UTF-8",headers:{},request:function(t,e){var n=this,i=this.options(t,e);return new C(function(t,e){n._makeRequest(i).then(function(e){var n=e.response;t(n)}).catch(function(t){var n=t.response;e(n)})},"ember-ajax: "+i.type+" "+i.url+" response")},raw:function(t,e){var n=this.options(t,e);return this._makeRequest(n)},_makeRequest:function(t){var e=this,s=t.method||t.type||"GET",l={method:s,type:s,url:t.url};return a((0,r.default)(t.headers,"Content-Type"))&&"GET"!==l.type&&"object"==typeof t.data&&(t.data=JSON.stringify(t.data)),new C(function(r,s){t.success=function(t,o,a){var c=e.handleResponse(a.status,(0,i.default)(a.getAllResponseHeaders()),t,l);Z-=1,(0,n.isAjaxError)(c)?y.join(null,s,{payload:t,textStatus:o,jqXHR:a,response:c}):y.join(null,r,{payload:t,textStatus:o,jqXHR:a,response:c})},t.error=function(t,r,o){f(function(){var e="The server returned an empty string for "+l.type+" "+l.url+", which cannot be parsed into a valid JSON. Return either null or {}.",n=!("parsererror"===r&&""===t.responseText);x(e,n,{id:"ds.adapter.returned-empty-string-as-JSON"})});var a=e.parseErrorResponse(t.responseText)||o,c=void 0;c=o instanceof Error?o:"timeout"===r?new n.TimeoutError:"abort"===r?new n.AbortError:e.handleResponse(t.status,(0,i.default)(t.getAllResponseHeaders()),a,l),Z-=1,y.join(null,s,{payload:a,textStatus:r,jqXHR:t,errorThrown:o,response:c})},Z+=1,(0,o.default)(t)},"ember-ajax: "+t.type+" "+t.url)},post:function(t,e){return this.request(t,this._addTypeToOptionsFor(e,"POST"))},put:function(t,e){return this.request(t,this._addTypeToOptionsFor(e,"PUT"))},patch:function(t,e){return this.request(t,this._addTypeToOptionsFor(e,"PATCH"))},del:function(t,e){return this.request(t,this._addTypeToOptionsFor(e,"DELETE"))},delete:function(){return this.del.apply(this,arguments)},get:function(t){if(arguments.length>1||"/"===t.charAt(0))throw new I("It seems you tried to use `.get` to make a request! Use the `.request` method instead.");return this._super.apply(this,arguments)},_addTypeToOptionsFor:function(t,e){return t=t||{},t.type=e,t},_getFullHeadersHash:function(t){var e=h(this,"headers"),n=A({},e);return A(n,t)},options:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return e=A({},e),e.url=this._buildURL(t,e),e.type=e.type||"GET",e.dataType=e.dataType||"json",e.contentType=b(e.contentType)?h(this,"contentType"):e.contentType,this._shouldSendHeaders(e)?e.headers=this._getFullHeadersHash(e.headers):e.headers=e.headers||{},e},_buildURL:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=new s.RequestURL(t);if(n.isComplete)return n.href;var i=e.host||h(this,"host"),r=e.namespace||h(this,"namespace");if(r&&(r=g(r)),new RegExp("^(/)?"+r).test(t))return t;var o="";return i&&(o+=i),r&&(c(o)||(o+="/"),o+=r),t&&(l(t)||(o+="/"),o+=t),o},handleResponse:function(t,e,i,r){i=null===i||void 0===i?{}:i;var s=this.normalizeErrorResponse(t,e,i);if(this.isSuccess(t,e,i))return i;if(this.isUnauthorizedError(t,e,i))return new n.UnauthorizedError(s);if(this.isForbiddenError(t,e,i))return new n.ForbiddenError(s);if(this.isInvalidError(t,e,i))return new n.InvalidError(s);if(this.isBadRequestError(t,e,i))return new n.BadRequestError(s);if(this.isNotFoundError(t,e,i))return new n.NotFoundError(s);if(this.isAbortError(t,e,i))return new n.AbortError(s);if(this.isConflictError(t,e,i))return new n.ConflictError(s);if(this.isServerError(t,e,i))return new n.ServerError(s);var o=this.generateDetailedMessage(t,e,i,r);return new n.AjaxError(s,o)},_matchHosts:function(t,e){return e.constructor===RegExp?e.test(t):"string"==typeof e?e===t:(d.warn("trustedHosts only handles strings or regexes.",e,"is neither."),!1)},_shouldSendHeaders:function(t){var e=this,n=t.url,i=t.host;n=n||"",i=i||h(this,"host")||"";var r=new s.RequestURL(n),o=h(this,"trustedHosts")||B();if(!r.isComplete)return!0;if(o.find(function(t){return e._matchHosts(r.hostname,t)}))return!0;var a=new s.RequestURL(i);return r.sameHost(a)},generateDetailedMessage:function(t,e,n,i){var s=void 0,o=(0,r.default)(e,"Content-Type")||"Empty Content-Type";return s="text/html"===o.toLowerCase()&&n.length>250?"[Omitted Lengthy HTML]":JSON.stringify(n),["Ember AJAX Request "+i.type+" "+i.url+" returned a "+t,"Payload ("+o+")",s].join("\n")},isUnauthorizedError:function(t){return(0,n.isUnauthorizedError)(t)},isForbiddenError:function(t){return(0,n.isForbiddenError)(t)},isInvalidError:function(t){return(0,n.isInvalidError)(t)},isBadRequestError:function(t){return(0,n.isBadRequestError)(t)},isNotFoundError:function(t){return(0,n.isNotFoundError)(t)},isAbortError:function(t){return(0,n.isAbortError)(t)},isConflictError:function(t){return(0,n.isConflictError)(t)},isServerError:function(t){return(0,n.isServerError)(t)},isSuccess:function(t){return(0,n.isSuccess)(t)},parseErrorResponse:function(t){try{return JSON.parse(t)}catch(e){return t}},normalizeErrorResponse:function(t,e,n){return m(n.errors)?n.errors.map(function(e){if(u(e)){var n=A({},e)
;return n.status=""+e.status,n}return{status:""+t,title:e}}):m(n)?n.map(function(e){return u(e)?{status:""+t,title:e.title||"The backend responded with an error",detail:e}:{status:""+t,title:""+e}}):Q(n)?[{status:""+t,title:n}]:[{status:""+t,title:n.title||"The backend responded with an error",detail:n}]}})}),define("ember-ajax/mixins/ajax-support",["exports","ember"],function(t,e){"use strict";var n=e.default.Mixin,i=e.default.inject.service,r=e.default.computed.alias;t.default=n.create({ajaxService:i("ajax"),host:r("ajaxService.host"),namespace:r("ajaxService.namespace"),headers:r("ajaxService.headers"),ajax:function(t,e){var n=(arguments.length<=2||void 0===arguments[2]||arguments[2],this.ajaxOptions.apply(this,arguments));return this.get("ajaxService").request(t,n)}})}),define("ember-ajax/raw",["exports","ember-ajax/ajax-request"],function(t,e){"use strict";function n(){var t=new e.default;return t.raw.apply(t,arguments)}t.default=n}),define("ember-ajax/request",["exports","ember-ajax/ajax-request"],function(t,e){"use strict";function n(){var t=new e.default;return t.request.apply(t,arguments)}t.default=n}),define("ember-ajax/services/ajax",["exports","ember","ember-ajax/mixins/ajax-request"],function(t,e,n){"use strict";var i=e.default.Service;t.default=i.extend(n.default)}),define("ember-ajax/utils/ajax",["exports","ember","ember-ajax/utils/is-fastboot"],function(t,e,n){"use strict";var i=e.default.$;t.default=n.default?najax:i.ajax}),define("ember-ajax/utils/get-header",["exports","ember"],function(t,e){"use strict";function n(t,e){if(!r(t)&&!r(e)){return t[i(Object.keys(t)).find(function(t){return t.toLowerCase()===e.toLowerCase()})]}}t.default=n;var i=e.default.A,r=e.default.isNone}),define("ember-ajax/utils/is-fastboot",["exports"],function(t){"use strict";var e="undefined"!=typeof FastBoot;t.default=e}),define("ember-ajax/utils/parse-response-headers",["exports"],function(t){"use strict";function e(t){return Array.isArray(t)?t:Array.from(t)}function n(t){var n={};return t?(t.split(i).forEach(function(t){var i=t.split(":"),r=e(i),s=r[0],o=r.slice(1);s=s.trim(),(o=o.join(":").trim())&&(n[s]=o)}),n):n}t.default=n;var i="\r\n"}),define("ember-ajax/utils/url-helpers",["exports","ember-ajax/utils/is-fastboot"],function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){var n=void 0;o||e.default?n=a.parse(t):(a.href=t,n=a);var i={};return i.href=n.href,i.protocol=n.protocol,i.hostname=n.hostname,i.port=n.port,i.pathname=n.pathname,i.search=n.search,i.hash=n.hash,i}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=/^(http|https)/,o="object"==typeof module&&module.exports,a=function(){return e.default?URL:o?require("url"):document.createElement("a")}(),l=function(){function t(e){n(this,t),this.url=e}return r(t,[{key:"sameHost",value:function(t){var e=this;return["protocol","hostname","port"].reduce(function(n,i){return n&&e[i]===t[i]},!0)}},{key:"url",get:function(){return this._url},set:function(t){this._url=t;var e=i(t);for(var n in e)({}).hasOwnProperty.call(e,n)&&(this[n]=e[n]);return this._url}},{key:"isComplete",get:function(){return this.url.match(s)}}]),t}();t.RequestURL=l}),define("ember-cli-app-version/initializer-factory",["exports"],function(t){"use strict";function e(t,e){var r=!1;return function(){if(!r&&t&&e){var s=n(t);i.register(s,e),r=!0}}}t.default=e;var n=Ember.String.classify,i=Ember.libraries}),define("ember-cli-app-version/utils/regexp",["exports"],function(t){"use strict";var e=/\d[.]\d[.]\d/;t.versionRegExp=e;var n=/[a-z\d]{8}/;t.shaRegExp=n}),define("ember-load-initializers/index",["exports","ember"],function(t,e){"use strict";t.default=function(t,n){var i=new RegExp("^"+n+"/((?:instance-)?initializers)/");(Object.keys||e.default.keys)(requirejs._eak_seen).map(function(t){return{moduleName:t,matches:i.exec(t)}}).filter(function(t){return t.matches&&2===t.matches.length}).forEach(function(n){var i=n.moduleName,r=require(i,null,null,!0);if(!r)throw new Error(i+" must export an initializer.");var s=e.default.String.camelize(n.matches[1].substring(0,n.matches[1].length-1)),o=r.default;if(!o.name){var a=i.match(/[^\/]+\/?$/)[0];o.name=a}t[s]&&t[s](o)})}}),define("ember-resolver/container-debug-adapter",["exports","ember","ember-resolver/utils/module-registry"],function(t,e,n){"use strict";function i(t,e,n){var i=e.match(new RegExp("^/?"+n+"/(.+)/"+t+"$"));if(i)return i[1]}var r=e.default.ContainerDebugAdapter,s=null;void 0!==r&&(s=r.extend({_moduleRegistry:null,init:function(){this._super.apply(this,arguments),this._moduleRegistry||(this._moduleRegistry=new n.default)},canCatalogEntriesByType:function(){return!0},catalogEntriesByType:function(t){for(var n=this._moduleRegistry.moduleNames(),r=e.default.A(),s=this.namespace.modulePrefix,o=0,a=n.length;o<a;o++){var l=n[o];if(-1!==l.indexOf(t)){var c=i(t,l,this.namespace.podModulePrefix||s);c||(c=l.split(t+"s/").pop()),r.addObject(c)}}return r}})),t.default=s}),define("ember-resolver/index",["exports","ember-resolver/resolver"],function(t,e){"use strict";Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.default}})}),define("ember-resolver/resolver",["exports","ember","ember-resolver/utils/module-registry","ember-resolver/utils/class-factory","ember-resolver/utils/make-dictionary"],function(t,e,n,i,r){"use strict";function s(t){if(!0===t.parsedName)return t;var e,n,i,r=t.split("@");if("helper:@content-helper"!==t&&2===r.length){var s=r[0].split(":");if(2===s.length)e=s[1],n=s[0],i=r[1];else{var o=r[1].split(":");e=r[0],n=o[0],i=o[1]}}else r=t.split(":"),n=r[0],i=r[1];var a=i,l=u(this,"namespace"),g=l;return{parsedName:!0,fullName:t,prefix:e||this.prefix({type:n}),type:n,fullNameWithoutType:a,name:i,root:g,resolveMethodName:"resolve"+c(n)}}function o(t){e.default.assert("`modulePrefix` must be defined",this.namespace.modulePrefix);var n=this.findModuleName(t);if(n){var r=this._extractDefaultExport(n,t);if(void 0===r)throw new Error(" Expected to find: '"+t.fullName+"' within '"+n+"' but got 'undefined'. Did you forget to `export default` within '"+n+"'?");return this.shouldWrapInClassFactory(r,t)&&(r=(0,i.default)(r)),r}return this._super(t)}var a=e.default.String,l=a.underscore,c=a.classify,g=a.dasherize,u=e.default.get,Q=e.default.DefaultResolver,B=Q.extend({resolveOther:o,parseName:s,resolveTemplate:o,pluralizedTypes:null,moduleRegistry:null,makeToString:function(t,e){return this.namespace.modulePrefix+"@"+e+":"},shouldWrapInClassFactory:function(){return!1},init:function(){this._super(),this.moduleBasedResolver=!0,this._moduleRegistry||(this._moduleRegistry=new n.default),this._normalizeCache=(0,r.default)(),this.pluralizedTypes=this.pluralizedTypes||(0,r.default)(),this.pluralizedTypes.config||(this.pluralizedTypes.config="config"),this._deprecatedPodModulePrefix=!1},normalize:function(t){return this._normalizeCache[t]||(this._normalizeCache[t]=this._normalize(t))},_normalize:function(t){var e=t.split(":");return e.length>1?"helper"===e[0]?e[0]+":"+e[1].replace(/_/g,"-"):e[0]+":"+g(e[1].replace(/\./g,"/")):t},pluralize:function(t){return this.pluralizedTypes[t]||(this.pluralizedTypes[t]=t+"s")},podBasedLookupWithPrefix:function(t,e){var n=e.fullNameWithoutType;return"template"===e.type&&(n=n.replace(/^components\//,"")),t+"/"+n+"/"+e.type},podBasedModuleName:function(t){var e=this.namespace.podModulePrefix||this.namespace.modulePrefix;return this.podBasedLookupWithPrefix(e,t)},podBasedComponentsInSubdir:function(t){var e=this.namespace.podModulePrefix||this.namespace.modulePrefix;if(e+="/components","component"===t.type||t.fullNameWithoutType.match(/^components/))return this.podBasedLookupWithPrefix(e,t)},resolveEngine:function(t){var e=t.fullNameWithoutType,n=e+"/engine";if(this._moduleRegistry.has(n))return this._extractDefaultExport(n)},resolveRouteMap:function(t){var n=t.fullNameWithoutType,i=n+"/routes";if(this._moduleRegistry.has(i)){var r=this._extractDefaultExport(i);return e.default.assert("The route map for "+n+" should be wrapped by 'buildRoutes' before exporting.",r.isRouteMap),r}},mainModuleName:function(t){var e=t.prefix+"/"+t.type;if("main"===t.fullNameWithoutType)return e},defaultModuleName:function(t){return t.prefix+"/"+this.pluralize(t.type)+"/"+t.fullNameWithoutType},prefix:function(t){var e=this.namespace.modulePrefix;return this.namespace[t.type+"Prefix"]&&(e=this.namespace[t.type+"Prefix"]),e},moduleNameLookupPatterns:e.default.computed(function(){return[this.podBasedModuleName,this.podBasedComponentsInSubdir,this.mainModuleName,this.defaultModuleName]}),findModuleName:function(t,e){for(var n,i=this.get("moduleNameLookupPatterns"),r=0,s=i.length;r<s;r++){var o=i[r],a=o.call(this,t);if(a&&(a=this.chooseModuleName(a,t)),a&&this._moduleRegistry.has(a)&&(n=a),e||this._logLookup(n,t,a),n)return n}},chooseModuleName:function(t,n){var i=this,r=l(t);if(t!==r&&this._moduleRegistry.has(t)&&this._moduleRegistry.has(r))throw new TypeError("Ambiguous module names: `"+t+"` and `"+r+"`");if(this._moduleRegistry.has(t))return t;if(this._moduleRegistry.has(r))return r;var s=t.replace(/\/-([^\/]*)$/,"/_$1");if(this._moduleRegistry.has(s))return e.default.deprecate('Modules should not contain underscores. Attempted to lookup "'+t+'" which was not found. Please rename "'+s+'" to "'+t+'" instead.',!1,{id:"ember-resolver.underscored-modules",until:"3.0.0"}),s;e.default.runInDebug(function(){"helper"!==n.type||!t.match(/[a-z]+[A-Z]+/)||(i._camelCaseHelperWarnedNames=i._camelCaseHelperWarnedNames||[],!(i._camelCaseHelperWarnedNames.indexOf(n.fullName)>-1)&&i._moduleRegistry.has(g(t))&&(i._camelCaseHelperWarnedNames.push(n.fullName),e.default.warn('Attempted to lookup "'+n.fullName+'" which was not found. In previous versions of ember-resolver, a bug would have caused the module at "'+g(t)+'" to be returned for this camel case helper name. This has been fixed. Use the dasherized name to resolve the module that would have been returned in previous versions.',!1,{id:"ember-resolver.camelcase-helper-names",until:"3.0.0"})))})},lookupDescription:function(t){var e=this.parseName(t);return this.findModuleName(e,!0)},_logLookup:function(t,n,i){if(e.default.ENV.LOG_MODULE_RESOLVER||n.root.LOG_RESOLVER){var r,s;r=t?"[✓]":"[ ]",s=n.fullName.length>60?".":new Array(60-n.fullName.length).join("."),i||(i=this.lookupDescription(n)),e.default.Logger.info(r,n.fullName,s,i)}},knownForType:function(t){for(var e=this._moduleRegistry.moduleNames(),n=(0,r.default)(),i=0,s=e.length;i<s;i++){var o=e[i],a=this.translateToContainerFullname(t,o);a&&(n[a]=!0)}return n},translateToContainerFullname:function(t,e){var n=this.prefix({type:t}),i=n+"/",r="/"+t,s=e.indexOf(i),o=e.indexOf(r);if(0===s&&o===e.length-r.length&&e.length>i.length+r.length)return t+":"+e.slice(s+i.length,o);var a=this.pluralize(t),l=n+"/"+a+"/";return 0===e.indexOf(l)&&e.length>l.length?t+":"+e.slice(l.length):void 0},_extractDefaultExport:function(t){var e=require(t,null,null,!0);return e&&e.default&&(e=e.default),e}});B.reopenClass({moduleBasedResolver:!0}),t.default=B}),define("ember-resolver/utils/class-factory",["exports"],function(t){"use strict";function e(t){return{create:function(e){return"function"==typeof t.extend?t.extend(e):t}}}t.default=e}),define("ember-resolver/utils/create",["exports","ember"],function(t,e){"use strict";var n=Object.create||e.default.create;if(!n||n(null).hasOwnProperty)throw new Error("This browser does not support Object.create(null), please polyfil with es5-sham: http://git.io/yBU2rg");t.default=n}),define("ember-resolver/utils/make-dictionary",["exports","ember-resolver/utils/create"],function(t,e){"use strict";function n(){var t=(0,e.default)(null);return t._dict=null,delete t._dict,t}t.default=n}),define("ember-resolver/utils/module-registry",["exports","ember"],function(t,e){"use strict";function n(t){this._entries=t||requirejs.entries}void 0===requirejs.entries&&(requirejs.entries=requirejs._eak_seen),n.prototype.moduleNames=function(){return(Object.keys||e.default.keys)(this._entries)},n.prototype.has=function(t){return t in this._entries},n.prototype.get=function(t){var e=arguments.length<=1||void 0===arguments[1]?"default":arguments[1],n=require(t);return n&&n[e]},t.default=n});